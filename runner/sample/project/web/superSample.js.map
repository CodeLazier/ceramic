{
"version":3,
"file":"superSample.js",
"sourceRoot":"file:///",
"sources":["/usr/local/lib/haxe/std/js/_std/EReg.hx","/usr/local/lib/haxe/std/js/_std/HxOverrides.hx","/usr/local/lib/haxe/std/Lambda.hx","/usr/local/lib/haxe/std/List.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/Luxe.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/Game.hx","/Users/jeremyfa/Developer/ceramic/plugins/luxe/runtime/src/Main.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Entity.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/macros/LazyMacro.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/macros/EventsMacro.hx","/Users/jeremyfa/Developer/ceramic/runner/sample/src/Project.hx","/usr/local/lib/haxe/std/js/_std/Reflect.hx","/usr/local/lib/haxe/std/js/_std/Std.hx","/usr/local/lib/haxe/std/StringBuf.hx","/usr/local/lib/haxe/std/StringTools.hx","/usr/local/lib/haxe/std/js/_std/Type.hx","/usr/local/lib/haxe/std/Xml.hx","/Users/jeremyfa/Developer/ceramic/plugins/luxe/runtime/src/backend/Audio.hx","/Users/jeremyfa/Developer/ceramic/plugins/luxe/runtime/src/backend/Backend.hx","/Users/jeremyfa/Developer/ceramic/plugins/luxe/runtime/src/backend/Draw.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/geometry/QuadGeometry.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/Transform.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/resource/Resource.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/Texture.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/Log.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/RenderTexture.hx","/Users/jeremyfa/Developer/ceramic/plugins/luxe/runtime/src/backend/Images.hx","/Users/jeremyfa/Developer/ceramic/plugins/luxe/runtime/src/backend/Info.hx","/Users/jeremyfa/Developer/ceramic/plugins/luxe/runtime/src/backend/Screen.hx","/Users/jeremyfa/Developer/ceramic/plugins/luxe/runtime/src/backend/Shaders.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/Shader.hx","/Users/jeremyfa/Developer/ceramic/plugins/luxe/runtime/src/backend/Texts.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/AlphaColor.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Color.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/App.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Asset.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/macros/ObservableMacro.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/macros/EntityMacro.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/AssetId.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/AssetPathInfo.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Assets.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/BitmapFont.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/BitmapFontCharacter.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/BitmapFontData.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/BitmapFontParser.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Collection.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/CollectionEntry.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Collections.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Component.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ConvertComponentMap.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ConvertFont.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ConvertFragmentData.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ConvertMap.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ConvertTexture.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Csv.hx","/Users/jeremyfa/.ceramic/haxelib/unifill/0,4,1/unifill/Utf16.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/CustomAssetKind.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/DatabaseAsset.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/DecomposedTransform.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Extensions.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FieldInfo.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FontAsset.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Transform.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Point.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Visual.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Fragment.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FragmentContext.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ImageAsset.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ImmutablePoint.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/InitSettings.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Key.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/KeyCode.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Logger.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Mesh.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Pixels.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Quad.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Texture.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/RenderTexture.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/RuntimeAssets.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ScanCode.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Screen.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Settings.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Shader.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ShaderAsset.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Shortcuts.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Sound.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/SoundAsset.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/SoundPlayer.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Text.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/TextAsset.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Timer.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/TouchInfo.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Touches.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Utils.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/internal/PlatformSpecific.hx","/usr/local/lib/haxe/std/haxe/CallStack.hx","/usr/local/lib/haxe/std/haxe/Log.hx","/usr/local/lib/haxe/std/haxe/Resource.hx","/usr/local/lib/haxe/std/haxe/Serializer.hx","/usr/local/lib/haxe/std/haxe/Unserializer.hx","/usr/local/lib/haxe/std/haxe/Utf8.hx","/usr/local/lib/haxe/std/js/_std/haxe/io/Bytes.hx","/usr/local/lib/haxe/std/haxe/crypto/Base64.hx","/usr/local/lib/haxe/std/haxe/crypto/BaseCode.hx","/usr/local/lib/haxe/std/haxe/crypto/Md5.hx","/usr/local/lib/haxe/std/haxe/ds/ArraySort.hx","/usr/local/lib/haxe/std/js/_std/haxe/ds/IntMap.hx","/usr/local/lib/haxe/std/js/_std/haxe/ds/ObjectMap.hx","/usr/local/lib/haxe/std/js/_std/haxe/ds/StringMap.hx","/usr/local/lib/haxe/std/haxe/io/FPHelper.hx","/usr/local/lib/haxe/std/haxe/io/Path.hx","/usr/local/lib/haxe/std/haxe/rtti/Rtti.hx","/usr/local/lib/haxe/std/haxe/rtti/XmlParser.hx","/usr/local/lib/haxe/std/haxe/xml/Fast.hx","/usr/local/lib/haxe/std/haxe/xml/Parser.hx","/usr/local/lib/haxe/std/haxe/xml/Printer.hx","/usr/local/lib/haxe/std/js/Boot.hx","/usr/local/lib/haxe/std/js/html/CanvasElement.hx","/usr/local/lib/haxe/std/js/html/compat/ArrayBuffer.hx","/usr/local/lib/haxe/std/js/html/compat/Float32Array.hx","/usr/local/lib/haxe/std/js/html/compat/Uint8Array.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/Audio.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/Emitter.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/Objects.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/Entity.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/Camera.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/macros/EntityRules.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/Component.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/Debug.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/Draw.hx","/Users/jeremyfa/Developer/snow-ceramic/snow/App.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/Engine.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/Events.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/IO.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/Input.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/Visual.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/Vector.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/NineSlice.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/Parcel.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/Physics.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/Resources.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/Scene.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/Screen.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/Sprite.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/Text.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/Timer.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/components/Components.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/debug/DebugView.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/debug/Inspector.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/Color.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/debug/ProfilerDebugView.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/debug/SceneDebugView.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/importers/bitmapfont/BitmapFontParser.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/macros/BuildVersion.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/structural/BalancedBST.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/structural/OrderedMap.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/tween/actuators/GenericActuator.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/tween/actuators/SimpleActuator.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/tween/easing/Quad.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/tween/Actuate.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/tween/MotionPath.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/tween/actuators/MethodActuator.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/tween/actuators/MotionPathActuator.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/tween/actuators/PropertyDetails.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/utils/GeometryUtils.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/utils/Maths.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/utils/Random.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/utils/Utils.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/utils/unifill/CodePoint.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/utils/unifill/CodePointIter.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/utils/unifill/InternalEncoding.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/utils/unifill/Utf16.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/utils/unifill/InternalEncodingIter.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/utils/unifill/Unicode.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/luxe/utils/unifill/Unifill.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/BatchState.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/Batcher.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/geometry/Geometry.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/BitmapFont.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/Camera.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/Matrix.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/Quaternion.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/Ray.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/Rectangle.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/RenderPath.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/RenderState.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/Renderer.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/geometry/RingGeometry.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/geometry/ArcGeometry.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/geometry/CircleGeometry.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/geometry/GeometryState.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/geometry/LineGeometry.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/geometry/QuadPackGeometry.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/geometry/RectangleGeometry.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/geometry/TextGeometry.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/geometry/TextureCoord.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/geometry/Vertex.hx","/Users/jeremyfa/.ceramic/haxelib/luxe/git/phoenix/utils/Rendering.hx","/Users/jeremyfa/Developer/snow-ceramic/snow/Snow.hx","/Users/jeremyfa/Developer/snow-ceramic/snow/api/Debug.hx","/Users/jeremyfa/Developer/snow-ceramic/snow/api/Emitter.hx","/Users/jeremyfa/Developer/snow-ceramic/snow/api/Promise.hx","/Users/jeremyfa/Developer/snow-ceramic/snow/api/Timer.hx","/Users/jeremyfa/Developer/snow-ceramic/snow/api/buffers/Float32Array.hx","/Users/jeremyfa/Developer/snow-ceramic/snow/api/buffers/Int32Array.hx","/Users/jeremyfa/Developer/snow-ceramic/snow/api/buffers/Uint8Array.hx","/Users/jeremyfa/Developer/snow-ceramic/snow/core/Audio.hx","/Users/jeremyfa/Developer/snow-ceramic/snow/core/web/Runtime.hx","/Users/jeremyfa/Developer/snow-ceramic/snow/core/web/assets/Assets.hx","/Users/jeremyfa/Developer/snow-ceramic/snow/core/web/io/IO.hx","/Users/jeremyfa/Developer/snow-ceramic/snow/modules/opengl/web/GL.hx","/Users/jeremyfa/Developer/snow-ceramic/snow/modules/webaudio/Audio.hx","/Users/jeremyfa/Developer/snow-ceramic/snow/types/Types.hx","/Users/jeremyfa/Developer/snow-ceramic/snow/systems/assets/Asset.hx","/Users/jeremyfa/Developer/snow-ceramic/snow/systems/assets/Assets.hx","/Users/jeremyfa/Developer/snow-ceramic/snow/systems/audio/Audio.hx","/Users/jeremyfa/Developer/snow-ceramic/snow/systems/audio/AudioInstance.hx","/Users/jeremyfa/Developer/snow-ceramic/snow/systems/audio/AudioSource.hx","/Users/jeremyfa/Developer/snow-ceramic/snow/systems/input/Input.hx","/Users/jeremyfa/Developer/snow-ceramic/snow/systems/input/Keycodes.hx","/Users/jeremyfa/Developer/snow-ceramic/snow/systems/io/IO.hx","/Users/jeremyfa/.ceramic/haxelib/unifill/0,4,1/unifill/CodePoint.hx","/Users/jeremyfa/.ceramic/haxelib/unifill/0,4,1/unifill/CodePointIter.hx","/Users/jeremyfa/.ceramic/haxelib/unifill/0,4,1/unifill/Exception.hx","/Users/jeremyfa/.ceramic/haxelib/unifill/0,4,1/unifill/InternalEncoding.hx","/Users/jeremyfa/.ceramic/haxelib/unifill/0,4,1/unifill/InternalEncodingIter.hx","/Users/jeremyfa/.ceramic/haxelib/unifill/0,4,1/unifill/Unicode.hx","/Users/jeremyfa/.ceramic/haxelib/unifill/0,4,1/unifill/Unifill.hx","/usr/local/lib/haxe/std/js/_std/Math.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/macros/AssetsMacro.hx","/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Fonts.hx","/Users/jeremyfa/Developer/snow-ceramic/snow/types/Config.hx"],
"sourcesContent":["/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n@:coreApi class EReg {\n\n\tvar r : HaxeRegExp;\n\n\tpublic inline function new( r : String, opt : String ) : Void {\n\t\tthis.r = new HaxeRegExp(r, opt.split(\"u\").join(\"\")); // 'u' (utf8) depends on page encoding\n\t}\n\n\tpublic function match( s : String ) : Bool {\n\t\tif( r.global ) r.lastIndex = 0;\n\t\tr.m = r.exec(s);\n\t\tr.s = s;\n\t\treturn (r.m != null);\n\t}\n\n\tpublic function matched( n : Int ) : String {\n\t\treturn if( r.m != null && n >= 0 && n < r.m.length ) r.m[n] else throw \"EReg::matched\";\n\t}\n\n\tpublic function matchedLeft() : String {\n\t\tif( r.m == null ) throw \"No string matched\";\n\t\treturn r.s.substr(0,r.m.index);\n\t}\n\n\tpublic function matchedRight() : String {\n\t\tif( r.m == null ) throw \"No string matched\";\n\t\tvar sz = r.m.index+r.m[0].length;\n\t\treturn r.s.substr(sz,r.s.length-sz);\n\t}\n\n\tpublic function matchedPos() : { pos : Int, len : Int } {\n\t\tif( r.m == null ) throw \"No string matched\";\n\t\treturn { pos : r.m.index, len : r.m[0].length };\n\t}\n\n\tpublic function matchSub( s : String, pos : Int, len : Int = -1):Bool {\n\t\treturn if (r.global) {\n\t\t\tr.lastIndex = pos;\n\t\t\tr.m = r.exec(len < 0 ? s : s.substr(0, pos + len));\n\t\t\tvar b = r.m != null;\n\t\t\tif (b) {\n\t\t\t\tr.s = s;\n\t\t\t}\n\t\t\tb;\n\t\t} else {\n\t\t\t// TODO: check some ^/$ related corner cases\n\t\t\tvar b = match( len < 0 ? s.substr(pos) : s.substr(pos,len) );\n\t\t\tif (b) {\n\t\t\t\tr.s = s;\n\t\t\t\tr.m.index += pos;\n\t\t\t}\n\t\t\tb;\n\t\t}\n\t}\n\n\tpublic function split( s : String ) : Array<String> {\n\t\t// we can't use directly s.split because it's ignoring the 'g' flag\n\t\tvar d = \"#__delim__#\";\n\t\treturn untyped s.replace(r,d).split(d);\n\t}\n\n\tpublic inline function replace( s : String, by : String ) : String {\n\t\treturn untyped s.replace(r,by);\n\t}\n\n\tpublic function map( s : String, f : EReg -> String ) : String {\n\t\tvar offset = 0;\n\t\tvar buf = new StringBuf();\n\t\tdo {\n\t\t\tif (offset >= s.length)\n\t\t\t\tbreak;\n\t\t\telse if (!matchSub(s, offset)) {\n\t\t\t\tbuf.add(s.substr(offset));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tvar p = matchedPos();\n\t\t\tbuf.add(s.substr(offset, p.pos - offset));\n\t\t\tbuf.add(f(this));\n\t\t\tif (p.len == 0) {\n\t\t\t\tbuf.add(s.substr(p.pos, 1));\n\t\t\t\toffset = p.pos + 1;\n\t\t\t}\n\t\t\telse\n\t\t\t\toffset = p.pos + p.len;\n\t\t} while (r.global);\n\t\tif (!r.global && offset > 0 && offset < s.length)\n\t\t\tbuf.add(s.substr(offset));\n\t\treturn buf.toString();\n\t}\n}\n\n@:native(\"RegExp\")\nprivate extern class HaxeRegExp extends js.RegExp {\n\tvar m:js.RegExp.RegExpMatch;\n\tvar s:String;\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n@:noDoc\nclass HxOverrides {\n\n\tstatic function dateStr( date :Date ) : String {\n\t\tvar m = date.getMonth() + 1;\n\t\tvar d = date.getDate();\n\t\tvar h = date.getHours();\n\t\tvar mi = date.getMinutes();\n\t\tvar s = date.getSeconds();\n\t\treturn date.getFullYear()\n\t\t\t+\"-\"+(if( m < 10 ) \"0\"+m else \"\"+m)\n\t\t\t+\"-\"+(if( d < 10 ) \"0\"+d else \"\"+d)\n\t\t\t+\" \"+(if( h < 10 ) \"0\"+h else \"\"+h)\n\t\t\t+\":\"+(if( mi < 10 ) \"0\"+mi else \"\"+mi)\n\t\t\t+\":\"+(if( s < 10 ) \"0\"+s else \"\"+s);\n\t}\n\n\tstatic function strDate( s : String ) : Date {\n\t\tswitch( s.length ) {\n\t\tcase 8: // hh:mm:ss\n\t\t\tvar k = s.split(\":\");\n\t\t\tvar d : Date = untyped __new__(Date);\n\t\t\tuntyped d[\"setTime\"](0);\n\t\t\tuntyped d[\"setUTCHours\"](k[0]);\n\t\t\tuntyped d[\"setUTCMinutes\"](k[1]);\n\t\t\tuntyped d[\"setUTCSeconds\"](k[2]);\n\t\t\treturn d;\n\t\tcase 10: // YYYY-MM-DD\n\t\t\tvar k = s.split(\"-\");\n\t\t\treturn new Date(cast k[0],cast untyped k[1] - 1,cast k[2],0,0,0);\n\t\tcase 19: // YYYY-MM-DD hh:mm:ss\n\t\t\tvar k = s.split(\" \");\n\t\t\tvar y = k[0].split(\"-\");\n\t\t\tvar t = k[1].split(\":\");\n\t\t\treturn new Date(cast y[0],cast untyped y[1] - 1,cast y[2],cast t[0],cast t[1],cast t[2]);\n\t\tdefault:\n\t\t\tthrow \"Invalid date format : \" + s;\n\t\t}\n\t}\n\n\tstatic function cca( s : String, index : Int ) : Null<Int> {\n\t\tvar x = (cast s).charCodeAt(index);\n\t\tif( x != x ) // fast isNaN\n\t\t\treturn js.Lib.undefined; // isNaN will still return true\n\t\treturn x;\n\t}\n\n\tstatic function substr( s : String, pos : Int, ?len : Int ) : String {\n\t\tif (len == null) {\n\t\t\tlen = s.length;\n\t\t} else if (len < 0) {\n\t\t\tif (pos == 0)\n\t\t\t\tlen = s.length + len;\n\t\t\telse\n\t\t\t\treturn \"\";\n\t\t}\n\n\t\t#if (js_es < 5)\n\t\tif (pos < 0) {\n\t\t\tpos = s.length + pos;\n\t\t\tif (pos < 0)\n\t\t\t\tpos = 0;\n\t\t}\n\t\t#end\n\n\t\treturn (untyped s).substr(pos, len);\n\t}\n\n\tstatic function indexOf<T>( a : Array<T>, obj : T, i : Int) {\n\t\tvar len = a.length;\n\t\tif (i < 0) {\n\t\t\ti += len;\n\t\t\tif (i < 0) i = 0;\n\t\t}\n\t\twhile (i < len)\n\t\t{\n\t\t\tif (untyped __js__(\"a[i] === obj\"))\n\t\t\t\treturn i;\n\t\t\ti++;\n\t\t}\n\t\treturn -1;\n\t}\n\n\tstatic function lastIndexOf<T>( a : Array<T>, obj : T, i : Int) {\n\t\tvar len = a.length;\n\t\tif (i >= len)\n\t\t\ti = len - 1;\n\t\telse if (i < 0)\n\t\t\ti += len;\n\t\twhile (i >= 0)\n\t\t{\n\t\t\tif (untyped __js__(\"a[i] === obj\"))\n\t\t\t\treturn i;\n\t\t\ti--;\n\t\t}\n\t\treturn -1;\n\t}\n\n\tstatic function remove<T>( a : Array<T>, obj : T ) {\n\t\tvar i = a.indexOf(obj);\n\t\tif( i == -1 ) return false;\n\t\ta.splice(i,1);\n\t\treturn true;\n\t}\n\n\tstatic function iter<T>( a : Array<T> ) : Iterator<T> untyped {\n\t\treturn {\n\t\t\tcur : 0,\n\t\t\tarr : a,\n\t\t\thasNext : function() {\n\t\t\t\treturn __this__.cur < __this__.arr.length;\n\t\t\t},\n\t\t\tnext : function() {\n\t\t\t\treturn __this__.arr[__this__.cur++];\n\t\t\t}\n\t\t};\n\t}\n\n\tstatic function __init__() untyped {\n#if (js_es < 5)\n\t\t__feature__('HxOverrides.indexOf', if( Array.prototype.indexOf ) __js__(\"HxOverrides\").indexOf = function(a,o,i) return Array.prototype.indexOf.call(a, o, i));\n\t\t__feature__('HxOverrides.lastIndexOf', if( Array.prototype.lastIndexOf ) __js__(\"HxOverrides\").lastIndexOf = function(a,o,i) return Array.prototype.lastIndexOf.call(a, o, i));\n#end\n\t}\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n\tThe `Lambda` class is a collection of methods to support functional\n\tprogramming. It is ideally used with `using Lambda` and then acts as an\n\textension to Iterable types.\n\n\tOn static platforms, working with the Iterable structure might be slower\n\tthan performing the operations directly on known types, such as Array and\n\tList.\n\n\tIf the first argument to any of the methods is null, the result is\n\tunspecified.\n\n\t@see https://haxe.org/manual/std-Lambda.html\n**/\nclass Lambda {\n\n\t/**\n\t\tCreates an Array from Iterable `it`.\n\n\t\tIf `it` is an Array, this function returns a copy of it.\n\t**/\n\tpublic static function array<A>( it : Iterable<A> ) : Array<A> {\n\t\tvar a = new Array<A>();\n\t\tfor(i in it)\n\t\t\ta.push(i);\n\t\treturn a;\n\t}\n\n\t/**\n\t\tCreates a List form Iterable `it`.\n\n\t\tIf `it` is a List, this function returns a copy of it.\n\t**/\n\tpublic static function list<A>( it : Iterable<A> ) : List<A> {\n\t\tvar l = new List<A>();\n\t\tfor(i in it)\n\t\t\tl.add(i);\n\t\treturn l;\n\t}\n\n\t/**\n\t\tCreates a new List by applying function `f` to all elements of `it`.\n\n\t\tThe order of elements is preserved.\n\n\t\tIf `f` is null, the result is unspecified.\n\t**/\n\tpublic static function map<A,B>( it : Iterable<A>, f : A -> B ) : List<B> {\n\t\tvar l = new List<B>();\n\t\tfor( x in it )\n\t\t\tl.add(f(x));\n\t\treturn l;\n\t}\n\n\t/**\n\t\tSimilar to map, but also passes the index of each element to `f`.\n\n\t\tThe order of elements is preserved.\n\n\t\tIf `f` is null, the result is unspecified.\n\t**/\n\tpublic static function mapi<A,B>( it : Iterable<A>, f : Int -> A -> B ) : List<B> {\n\t\tvar l = new List<B>();\n\t\tvar i = 0;\n\t\tfor( x in it )\n\t\t\tl.add(f(i++,x));\n\t\treturn l;\n\t}\n\n\t/**\n\t\tConcatenate a list of lists.\n\n\t\tThe order of elements is preserved.\n\t**/\n\tpublic static function flatten<A>( it : Iterable<Iterable<A>> ) : List<A> {\n\t\tvar l = new List<A>();\n\t\tfor (e in it)\n\t\t\tfor (x in e)\n\t\t\t\tl.add(x);\n\t\treturn l;\n\t}\n\n\t/**\n\t\tA composition of map and flatten.\n\n\t\tThe order of elements is preserved.\n\n\t\tIf `f` is null, the result is unspecified.\n\t**/\n\tpublic static function flatMap<A,B>( it : Iterable<A>, f: A -> Iterable<B> ) : List<B> {\n\t\treturn Lambda.flatten(Lambda.map(it, f));\n\t}\n\n\t/**\n\t\tTells if `it` contains `elt`.\n\n\t\tThis function returns true as soon as an element is found which is equal\n\t\tto `elt` according to the `==` operator.\n\n\t\tIf no such element is found, the result is false.\n\t**/\n\tpublic static function has<A>( it : Iterable<A>, elt : A ) : Bool {\n\t\tfor( x in it )\n\t\t\tif( x == elt )\n\t\t\t\treturn true;\n\t\treturn false;\n\t}\n\n\t/**\n\t\tTells if `it` contains an element for which `f` is true.\n\n\t\tThis function returns true as soon as an element is found for which a\n\t\tcall to `f` returns true.\n\n\t\tIf no such element is found, the result is false.\n\n\t\tIf `f` is null, the result is unspecified.\n\t**/\n\tpublic static function exists<A>( it : Iterable<A>, f : A -> Bool ) {\n\t\tfor( x in it )\n\t\t\tif( f(x) )\n\t\t\t\treturn true;\n\t\treturn false;\n\t}\n\n\t/**\n\t\tTells if `f` is true for all elements of `it`.\n\n\t\tThis function returns false as soon as an element is found for which a\n\t\tcall to `f` returns false.\n\n\t\tIf no such element is found, the result is true.\n\n\t\tIn particular, this function always returns true if `it` is empty.\n\n\t\tIf `f` is null, the result is unspecified.\n\t**/\n\tpublic static function foreach<A>( it : Iterable<A>, f : A -> Bool ) {\n\t\tfor( x in it )\n\t\t\tif( !f(x) )\n\t\t\t\treturn false;\n\t\treturn true;\n\t}\n\n\t/**\n\t\tCalls `f` on all elements of `it`, in order.\n\n\t\tIf `f` is null, the result is unspecified.\n\t**/\n\tpublic static function iter<A>( it : Iterable<A>, f : A -> Void ) {\n\t\tfor( x in it )\n\t\t\tf(x);\n\t}\n\n\t/**\n\t\tReturns a List containing those elements of `it` for which `f` returned\n\t\ttrue.\n\n\t\tIf `it` is empty, the result is the empty List even if `f` is null.\n\n\t\tOtherwise if `f` is null, the result is unspecified.\n\t**/\n\tpublic static function filter<A>( it : Iterable<A>, f : A -> Bool ) {\n\t\tvar l = new List<A>();\n\t\tfor( x in it )\n\t\t\tif( f(x) )\n\t\t\t\tl.add(x);\n\t\treturn l;\n\t}\n\n\t/**\n\t\tFunctional fold on Iterable `it`, using function `f` with start argument\n\t\t`first`.\n\n\t\tIf `it` has no elements, the result is `first`.\n\n\t\tOtherwise the first element of `it` is passed to `f` alongside `first`.\n\t\tThe result of that call is then passed to `f` with the next element of\n\t\t`it`, and so on until `it` has no more elements.\n\n\t\tIf `it` or `f` are null, the result is unspecified.\n\t**/\n\tpublic static function fold<A,B>( it : Iterable<A>, f : A -> B -> B, first : B ) : B {\n\t\tfor( x in it )\n\t\t\tfirst = f(x,first);\n\t\treturn first;\n\t}\n\n\t/**\n\t\tReturns the number of elements in `it` for which `pred` is true, or the\n\t\ttotal number of elements in `it` if `pred` is null.\n\n\t\tThis function traverses all elements.\n\t**/\n\tpublic static function count<A>( it : Iterable<A>, ?pred : A -> Bool ) {\n\t\tvar n = 0;\n\t\tif( pred == null )\n\t\t\tfor( _ in it )\n\t\t\t\tn++;\n\t\telse\n\t\t\tfor( x in it )\n\t\t\t\tif( pred(x) )\n\t\t\t\t\tn++;\n\t\treturn n;\n\t}\n\n\t/**\n\t\tTells if Iterable `it` does not contain any element.\n\t**/\n\tpublic static function empty<T>( it : Iterable<T> ) : Bool {\n\t\treturn !it.iterator().hasNext();\n\t}\n\n\t/**\n\t\tReturns the index of the first element `v` within Iterable `it`.\n\n\t\tThis function uses operator `==` to check for equality.\n\n\t\tIf `v` does not exist in `it`, the result is -1.\n\t**/\n\tpublic static function indexOf<T>( it : Iterable<T>, v : T ) : Int {\n\t\tvar i = 0;\n\t\tfor( v2 in it ) {\n\t\t\tif( v == v2 )\n\t\t\t\treturn i;\n\t\t\ti++;\n\t\t}\n\t\treturn -1;\n\t}\n\n\t/**\n\t\tReturns the first element of `it` for which `f` is true.\n\n\t\tThis function returns as soon as an element is found for which a call to\n\t\t`f` returns true.\n\n\t\tIf no such element is found, the result is null.\n\n\t\tIf `f` is null, the result is unspecified.\n\t**/\n\tpublic static function find<T>( it : Iterable<T>, f : T -> Bool ) : Null<T> {\n\t\tfor( v in it ) {\n\t\t\tif(f(v)) return v;\n\t\t}\n\t\treturn null;\n\t}\n\n\t/**\n\t\tReturns a new List containing all elements of Iterable `a` followed by\n\t\tall elements of Iterable `b`.\n\n\t\tIf `a` or `b` are null, the result is unspecified.\n\t**/\n\tpublic static function concat<T>( a : Iterable<T>, b : Iterable<T> ) : List<T> {\n\t\tvar l = new List();\n\t\tfor( x in a )\n\t\t\tl.add(x);\n\t\tfor( x in b )\n\t\t\tl.add(x);\n\t\treturn l;\n\t}\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n\tA linked-list of elements. The list is composed of element container objects\n\tthat are chained together. It is optimized so that adding or removing an\n\telement does not imply copying the whole list content every time.\n\n\t@see https://haxe.org/manual/std-List.html\n**/\nclass List<T> {\n\n\tprivate var h : ListNode<T>;\n\tprivate var q : ListNode<T>;\n\n\t/**\n\t\tThe length of `this` List.\n\t**/\n\tpublic var length(default,null) : Int;\n\n\t/**\n\t\tCreates a new empty list.\n\t**/\n\tpublic function new() {\n\t\tlength = 0;\n\t}\n\n\t/**\n\t\tAdds element `item` at the end of `this` List.\n\n\t\t`this.length` increases by 1.\n\t**/\n\tpublic function add( item : T ) {\n\t\tvar x = ListNode.create(item, null);\n\t\tif( h == null )\n\t\t\th = x;\n\t\telse\n\t\t\tq.next = x;\n\t\tq = x;\n\t\tlength++;\n\t}\n\n\t/**\n\t\tAdds element `item` at the beginning of `this` List.\n\n\t\t`this.length` increases by 1.\n\t**/\n\tpublic function push( item : T ) {\n\t\tvar x = ListNode.create(item, h);\n\t\th = x;\n\t\tif( q == null )\n\t\t\tq = x;\n\t\tlength++;\n\t}\n\n\t/**\n\t\tReturns the first element of `this` List, or null if no elements exist.\n\n\t\tThis function does not modify `this` List.\n\t**/\n\tpublic function first() : Null<T> {\n\t\treturn if( h == null ) null else h.item;\n\t}\n\n\t/**\n\t\tReturns the last element of `this` List, or null if no elements exist.\n\n\t\tThis function does not modify `this` List.\n\t**/\n\tpublic function last() : Null<T> {\n\t\treturn if( q == null ) null else q.item;\n\t}\n\n\n\t/**\n\t\tReturns the first element of `this` List, or null if no elements exist.\n\n\t\tThe element is removed from `this` List.\n\t**/\n\tpublic function pop() : Null<T> {\n\t\tif( h == null )\n\t\t\treturn null;\n\t\tvar x = h.item;\n\t\th = h.next;\n\t\tif( h == null )\n\t\t\tq = null;\n\t\tlength--;\n\t\treturn x;\n\t}\n\n\t/**\n\t\tTells if `this` List is empty.\n\t**/\n\tpublic function isEmpty() : Bool {\n\t\treturn (h == null);\n\t}\n\n\t/**\n\t\tEmpties `this` List.\n\n\t\tThis function does not traverse the elements, but simply sets the\n\t\tinternal references to null and `this.length` to 0.\n\t**/\n\tpublic function clear() : Void {\n\t\th = null;\n\t\tq = null;\n\t\tlength = 0;\n\t}\n\n\t/**\n\t\tRemoves the first occurrence of `v` in `this` List.\n\n\t\tIf `v` is found by checking standard equality, it is removed from `this`\n\t\tList and the function returns true.\n\n\t\tOtherwise, false is returned.\n\t**/\n\tpublic function remove( v : T ) : Bool {\n\t\tvar prev:ListNode<T> = null;\n\t\tvar l = h;\n\t\twhile( l != null ) {\n\t\t\tif( l.item == v ) {\n\t\t\t\tif( prev == null )\n\t\t\t\t\th = l.next;\n\t\t\t\telse\n\t\t\t\t\tprev.next = l.next;\n\t\t\t\tif( q == l )\n\t\t\t\t\tq = prev;\n\t\t\t\tlength--;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tprev = l;\n\t\t\tl = l.next;\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t\tReturns an iterator on the elements of the list.\n\t**/\n\tpublic inline function iterator() : ListIterator<T> {\n\t\treturn new ListIterator<T>(h);\n\t}\n\n\t/**\n\t\tReturns a string representation of `this` List.\n\n\t\tThe result is enclosed in { } with the individual elements being\n\t\tseparated by a comma.\n\t**/\n\tpublic function toString() {\n\t\tvar s = new StringBuf();\n\t\tvar first = true;\n\t\tvar l = h;\n\t\ts.add(\"{\");\n\t\twhile( l != null ) {\n\t\t\tif( first )\n\t\t\t\tfirst = false;\n\t\t\telse\n\t\t\t\ts.add(\", \");\n\t\t\ts.add(Std.string(l.item));\n\t\t\tl = l.next;\n\t\t}\n\t\ts.add(\"}\");\n\t\treturn s.toString();\n\t}\n\n\t/**\n\t\tReturns a string representation of `this` List, with `sep` separating\n\t\teach element.\n\t**/\n\tpublic function join(sep : String) {\n\t\tvar s = new StringBuf();\n\t\tvar first = true;\n\t\tvar l = h;\n\t\twhile( l != null ) {\n\t\t\tif( first )\n\t\t\t\tfirst = false;\n\t\t\telse\n\t\t\t\ts.add(sep);\n\t\t\ts.add(l.item);\n\t\t\tl = l.next;\n\t\t}\n\t\treturn s.toString();\n\t}\n\n\t/**\n\t\tReturns a list filtered with `f`. The returned list will contain all\n\t\telements for which `f(x) == true`.\n\t**/\n\tpublic function filter( f : T -> Bool ) {\n\t\tvar l2 = new List();\n\t\tvar l = h;\n\t\twhile( l != null ) {\n\t\t\tvar v = l.item;\n\t\t\tl = l.next;\n\t\t\tif( f(v) )\n\t\t\t\tl2.add(v);\n\t\t}\n\t\treturn l2;\n\t}\n\n\t/**\n\t\tReturns a new list where all elements have been converted by the\n\t\tfunction `f`.\n\t**/\n\tpublic function map<X>(f : T -> X) : List<X> {\n\t\tvar b = new List();\n\t\tvar l = h;\n\t\twhile( l != null ) {\n\t\t\tvar v = l.item;\n\t\t\tl = l.next;\n\t\t\tb.add(f(v));\n\t\t}\n\t\treturn b;\n\t}\n\n}\n\n#if neko\nprivate extern class ListNode<T> extends neko.NativeArray<Dynamic> {\n\tvar item(get,set):T;\n\tvar next(get,set):ListNode<T>;\n\tprivate inline function get_item():T return this[0];\n\tprivate inline function set_item(v:T):T return this[0] = v;\n\tprivate inline function get_next():ListNode<T> return this[1];\n\tprivate inline function set_next(v:ListNode<T>):ListNode<T> return this[1] = v;\n\tinline static function create<T>(item:T, next:ListNode<T>):ListNode<T> {\n\t\treturn untyped __dollar__array(item, next);\n\t}\n}\n#else\nprivate class ListNode<T> {\n\tpublic var item:T;\n\tpublic var next:ListNode<T>;\n\tpublic function new(item:T, next:ListNode<T>) {\n\t\tthis.item = item;\n\t\tthis.next = next;\n\t}\n\t@:extern public inline static function create<T>(item:T, next:ListNode<T>):ListNode<T> {\n\t\treturn new ListNode(item, next);\n\t}\n}\n#end\n\nprivate class ListIterator<T> {\n\tvar head:ListNode<T>;\n\n\tpublic inline function new(head:ListNode<T>) {\n\t\tthis.head = head;\n\t}\n\n\tpublic inline function hasNext():Bool {\n\t\treturn head != null;\n\t}\n\n\tpublic inline function next():T {\n\t\tvar val = head.item;\n\t\thead = head.next;\n\t\treturn val;\n\t}\n}\n","package ;\n\nimport phoenix.BitmapFont;\nimport phoenix.geometry.Geometry;\nimport phoenix.Texture;\nimport phoenix.Shader;\nimport phoenix.Batcher;\n\nimport luxe.resource.Resource;\n\nimport luxe.Rectangle;\nimport luxe.Vector;\nimport luxe.Screen;\nimport snow.Snow;\n\n@:keep\nclass Luxe {\n\n        /** Direct access to the core engine */\n    public static var core      : luxe.Engine;\n        /** Access to the core debug features */\n    public static var debug     : luxe.Debug;\n        /** Access to the io features */\n    public static var io        : luxe.IO;\n        /** Access to the drawing features */\n    public static var draw      : luxe.Draw;\n        /** Access to the audio features */\n    public static var audio     : luxe.Audio;\n        /** Access to the timing features */\n    public static var timer     : luxe.Timer;\n        /** Access to the global event system */\n    public static var events    : luxe.Events;\n        /** Access to the input features */\n    public static var input     : luxe.Input;\n        /** Access to the default luxe scene */\n    public static var scene     : luxe.Scene;\n        /** Access to the different utilities */\n    public static var utils     : luxe.utils.Utils;\n        /** Access to the physics bindings, if any */\n    public static var physics   : luxe.Physics;\n        /** Access to the default camera */\n    public static var camera    : luxe.Camera;\n        /** Access to the default resource manager  */\n    public static var resources : luxe.Resources;\n        /** Access to the rendering system */\n    public static var renderer  : phoenix.Renderer;\n\n        /** Direct access to the underlying snow app API, note that `core:luxe.Engine` is a snow app in itself. */\n    public static var snow (get, never) : snow.Snow;\n        /** The current time in seconds, highest precision from the platform. */\n    public static var time (get, never) : Float;\n        /** Access to information about the game window (sizes, cursor etc) */\n    public static var screen (get, never) : Screen;\n        /** The version of the engine  */\n    public static var version (get, never) : String;\n        /** The version + build meta information, generated at compile time from a macro (luxe.macros.BuildVersion) */\n    public static var build (get,never) : String;\n\n\n//Update frame information\n\n        /** the time the last frame took to run, `read only` */\n    public static var dt (get,never) : Float;\n        /** the start time of this frame, `read only` */\n    public static var frame_start (get,never) : Float;\n        /** the start time of the last frame, `read only` */\n    public static var frame_start_prev (get,never) : Float;\n       /** the maximum frame time, `read/write` */\n    public static var frame_max_delta (get,set) : Float;\n        /** if this is non zero, updates will be forced to this rate. `read/write` */\n    public static var update_rate (get,set) : Float;\n\n//Tick information\n\n        /** The time at the start of this tick */\n    public static var tick_start (get, never) : Float;\n        /** The time at the start of the previous tick */\n    public static var tick_start_prev (get, never) : Float;\n        /** The amount of time the last tick took */\n    public static var tick_delta (get, never) : Float;\n\n//Simulated (i.e timescaled) time\n\n        /** the scale of time, `read/write` */\n    public static var timescale (get,set) : Float;\n        /** the current simulation time, `read only` */\n    public static var sim_time (get,never) : Float;\n        /** the simulated time the last frame took to run, relative to scale, `read only` */\n    public static var sim_delta (get,never) : Float;\n        /** if this is non zero this will be passed in as delta time, `read/write` */\n    public static var fixed_delta (get,set) : Float;\n\n//Fixed time step options\n\n        /** set to try, to use a \"fix your timestep approach\", `read/write` */\n    public static var fixed_timestep (get,set) : Bool;\n        /** the alpha time for a render between frame updates, `read only` */\n    public static var fixed_alpha (get,never) : Float;\n        /** fixed simulation update rate, `read/write` */\n    public static var fixed_frame_time (get,set) : Float;\n\n        /** listen for core events */\n    public static function on<T>(event:luxe.Ev, handler:T->Void ) : Void {\n        core.emitter.on(event, handler);\n    }\n\n        /** stop listening for core events */\n    public static function off<T>(event:luxe.Ev, handler:T->Void ) : Bool {\n        return core.emitter.off(event, handler);\n    }\n\n        /** Call a function at the start of the next frame */\n    public static inline function next( func: Void->Void ) : Void {\n\n        Snow.next(func);\n\n    } //next\n\n        /** shutdown the engine and quit */\n    public static inline function shutdown() : Void {\n\n        core.shutdown();\n\n    } //shutdown\n\n        /** show/hide the debug console programmatically */\n    public static inline function showConsole(_show:Bool) : Void {\n\n        core.debug.visible = _show;\n\n    } //showConsole\n\n//Internal\n\n    static inline function get_snow()                       return core.app;\n    static inline function get_screen()                     return core.screen;\n    static inline function get_time()                       return core.app.time;\n    static inline function get_version()                    return core.version;\n    static inline function get_build()                      return core.build;\n\n    static inline function get_dt()                         return core.frame_delta;\n    static inline function get_frame_start()                return core.frame_start;\n    static inline function get_frame_start_prev()           return core.frame_start_prev;\n    static inline function get_frame_max_delta()            return core.frame_max_delta;\n    static inline function get_update_rate()                return core.update_rate;\n    static inline function get_tick_start()                 return core.tick_start;\n    static inline function get_tick_start_prev()            return core.tick_start_prev;\n    static inline function get_tick_delta()                 return core.tick_delta;\n    static inline function get_timescale()                  return core.timescale;\n    static inline function get_sim_time()                   return core.sim_time;\n    static inline function get_sim_delta()                  return core.sim_delta;\n    static inline function get_fixed_delta()                return core.fixed_delta;\n    static inline function get_fixed_timestep()             return core.fixed_timestep;\n    static inline function get_fixed_alpha()                return core.fixed_alpha;\n    static inline function get_fixed_frame_time()           return core.fixed_frame_time;\n\n    static inline function set_timescale(_val:Float)        return core.timescale = _val;\n    static inline function set_fixed_delta(_val:Float)      return core.fixed_delta = _val;\n    static inline function set_update_rate(_val:Float)      return core.update_rate = _val;\n    static inline function set_fixed_timestep(_val:Bool)    return core.fixed_timestep = _val;\n    static inline function set_frame_max_delta(_val:Float)  return core.frame_max_delta = _val;\n    static inline function set_fixed_frame_time(_val:Float) return core.fixed_frame_time = _val;\n\n} //Luxe\n","package luxe;\n\nimport luxe.Engine;\nimport luxe.Input;\nimport luxe.Screen;\nimport luxe.GameConfig;\n\n@:keep\n@:keepSub\nclass Game {\n\n    public var app : Engine;\n\n        //main entry point\n    #if !luxe_no_main\n        static function main() {\n\n            new luxe.types.user.Game();\n\n        } //main\n    #end\n\n    public function new() {\n\n        app = new luxe.Engine(this);\n        app.run();\n\n    } //new\n\n        /** Called by luxe to request config changes, override this to change the defaults.\n            This happens before ready, so the values are available when ready is called.\n            This also means that nothing is ready yet in the engine. */\n    public function config(_config:GameConfig) : GameConfig  { return _config; }\n        /** Your entry point. Called for you when you can initialize your application */\n    public function ready() {}\n        /** Your update loop. Called every frame for you. The dt value depends on the timing configuration (see the {App Guide}) */\n    public function update(dt:Float) {}\n\n       /** Your exit point. Called for you when you should shut down your application */\n   public function ondestroy() {}\n\n       /** Called when the application is about to render */\n   public function onprerender() {}\n       /** Called when the application is rendering */\n   public function onrender() {}\n       /** Called when the application is done rendering */\n   public function onpostrender() {}\n\n       /** Called when a named input down event occurs */\n   public function oninputdown(event:InputEvent) {}\n       /** Called when a named input up event occurs */\n   public function oninputup(event:InputEvent) {}\n\n       /** Called for you when a mouse button is pressed */\n   public function onmousedown(event:MouseEvent) {}\n       /** Called for you when a mouse button is released */\n   public function onmouseup(event:MouseEvent) {}\n       /** Called for you when the mouse wheel moves */\n   public function onmousewheel(event:MouseEvent) {}\n       /** Called for you when the mouse moves */\n   public function onmousemove(event:MouseEvent) {}\n\n       /** Called for you when a key is pressed down */\n   public function onkeydown(event:KeyEvent) {}\n       /** Called for you when a key is released */\n   public function onkeyup(event:KeyEvent) {}\n       /** Called for you when text input is happening. Use this for textfields, as it handles the complexity of unicode etc. */\n   public function ontextinput(event:TextEvent) {}\n\n       /** Called for you when a touch is first pressed, use the `touch_id` to track which */\n   public function ontouchdown(event:TouchEvent) {}\n       /** Called for you when a touch is released, use the `touch_id` to track which */\n   public function ontouchup(event:TouchEvent) {}\n       /** Called for you when a touch is moved, use the `touch_id` to track which */\n   public function ontouchmove(event:TouchEvent) {}\n\n       /** Called for you when a connected gamepad axis moves, use `gamepad` to determine gamepad id */\n   public function ongamepadaxis(event:GamepadEvent) {}\n       /** Called for you when a connected gamepad button is pressed, use `gamepad` to determine gamepad id */\n   public function ongamepaddown(event:GamepadEvent) {}\n       /** Called for you when a connected gamepad button is released, use `gamepad` to determine gamepad id */\n   public function ongamepadup(event:GamepadEvent) {}\n       /** Called for you when a gamepad is connected or disconnected, use `gamepad` to determine gamepad id */\n   public function ongamepaddevice(event:GamepadEvent) {}\n\n       /** Called for you when a window is moved, with the data containing the new x/y position */\n   public function onwindowmoved(event:WindowEvent) {}\n       /** Called for you when a window is resized by the user, with the data containing the new x/y size */\n   public function onwindowresized(event:WindowEvent) {}\n       /** Called for you when a window is resized by the system or code or the user, with the data containing the new x/y size */\n   public function onwindowsized(event:WindowEvent) {}\n       /** Called for you when a window is minimized. */\n   public function onwindowminimized(event:WindowEvent) {}\n       /** Called for you when a window is restored. */\n   public function onwindowrestored(event:WindowEvent) {}\n\n        /** very low level event handler from snow core. Often handled by the subsystems and by luxe, so check there first! */\n    @:noCompletion public function onevent(event:snow.types.Types.SystemEvent) {}\n\n} //Game\n","package;\n\n#if web\n\nimport js.Browser.navigator;\nimport js.Browser.window;\nimport js.Browser.document;\n\n#end\n\n#if completionnnn\n\nclass Main {\n\n    public static var project:Project = null;\n\n    public static function main():Void {\n\n        project = @:privateAccess new Project(ceramic.App.init());\n\n    } //main\n\n} //Main\n\n#else\n\nimport luxe.Input;\n\nclass Main extends luxe.Game {\n\n    public static var project:Project = null;\n\n    static var electronRunner:Dynamic = null;\n\n    static var lastDevicePixelRatio:Float = -1;\n    static var lastWidth:Float = -1;\n    static var lastHeight:Float = -1;\n\n    static var touches:Map<Int,Int> = new Map();\n    static var touchIndexes:Map<Int,Int> = new Map();\n\n    static var mouseDownButtons:Map<Int,Bool> = new Map();\n    static var mouseX:Float = 0;\n    static var mouseY:Float = 0;\n\n    static var activeControllers:Map<Int,Bool> = new Map();\n    static var removedControllers:Map<Int,Bool> = new Map();\n\n    static var instance:Main;\n\n    override function config(config:luxe.GameConfig) {\n\n        instance = this;\n        project = @:privateAccess new Project(ceramic.App.init());\n        var app = @:privateAccess ceramic.App.app;\n\n        // Configure luxe\n        config.render.antialiasing = app.settings.antialiasing ? 4 : 0;\n        config.window.borderless = false;\n        if (app.settings.targetWidth > 0) config.window.width = cast app.settings.targetWidth;\n        if (app.settings.targetHeight > 0) config.window.height = cast app.settings.targetHeight;\n        config.window.resizable = app.settings.resizable;\n        config.window.title = cast app.settings.title;\n\n#if web\n        if (app.settings.backend.webParent != null) {\n            config.runtime.window_parent = app.settings.backend.webParent;\n        } else {\n            config.runtime.window_parent = document.getElementById('ceramic-app');\n        }\n        config.runtime.browser_window_mousemove = true;\n        config.runtime.browser_window_mouseup = true;\n        if (app.settings.backend.allowDefaultKeys) {\n            config.runtime.prevent_default_keys = [];\n        }\n\n#if !editor\n        var containerElId:String = app.settings.backend.webParent != null ? app.settings.backend.webParent.id : 'ceramic-app';\n        if (app.settings.resizable) {\n\n            var containerWidth:Int = 0;\n            var containerHeight:Int = 0;\n            \n            app.onUpdate(null, function(delta) {\n                var containerEl = document.getElementById(containerElId);\n                if (containerEl != null) {\n                    var width:Int = containerEl.offsetWidth;\n                    var height:Int = containerEl.offsetHeight;\n\n                    if (width != containerWidth || height != containerHeight) {\n                        containerWidth = width;\n                        containerHeight = height;\n\n                        var appEl:js.html.CanvasElement = cast document.getElementById('app');\n                        appEl.style.margin = '0 0 0 0';\n                        appEl.style.width = containerWidth + 'px';\n                        appEl.style.height = containerHeight + 'px';\n                        appEl.width = Math.round(containerWidth * window.devicePixelRatio);\n                        appEl.height = Math.round(containerHeight * window.devicePixelRatio);\n                    }\n                }\n            });\n\n        }\n#end\n\n        var userAgent = navigator.userAgent.toLowerCase();\n        if (userAgent.indexOf(' electron/') > -1) {\n            try {\n                var electronApp:Dynamic = untyped __js__(\"require('electron').remote.require('./app.js');\");\n                if (electronApp.isCeramicRunner) {\n                    electronRunner = electronApp;\n                }\n            } catch (e:Dynamic) {}\n        }\n        if (electronRunner != null) {\n\n            // Configure electron window\n            electronRunner.ceramicSettings({\n                title: app.settings.title,\n                resizable: app.settings.resizable,\n                targetWidth: app.settings.targetWidth,\n                targetHeight: app.settings.targetHeight\n            });\n\n            // Override console.log\n            untyped console.log = electronRunner.consoleLog;\n        }\n#end\n\n        return config;\n\n    } //config\n\n    override function ready():Void {\n\n        // Keep screen size and density value to trigger\n        // resize events that might be skipped by the engine\n        lastDevicePixelRatio = Luxe.screen.device_pixel_ratio;\n        lastWidth = Luxe.screen.width;\n        lastHeight = Luxe.screen.height;\n\n        // Background color\n        Luxe.renderer.clear_color.rgb(ceramic.App.app.settings.background);\n\n        // Camera size\n        Luxe.camera.size = new luxe.Vector(Luxe.screen.width * Luxe.screen.device_pixel_ratio, Luxe.screen.height * Luxe.screen.device_pixel_ratio);\n\n        // Emit ready event\n        ceramic.App.app.backend.emitReady();\n\n#if web\n        if (electronRunner != null) {\n            electronRunner.ceramicReady();\n        }\n#end\n\n    } //ready\n\n    override function update(delta:Float):Void {\n\n        // We may need to trigger resize explicitly as luxe/snow\n        // doesn't seem to always detect it automatically.\n        triggerResizeIfNeeded();\n\n        // Update\n        ceramic.App.app.backend.emitUpdate(delta);\n\n    } //update\n\n    override function onwindowresized(event:luxe.Screen.WindowEvent) {\n\n        triggerResizeIfNeeded();\n\n    } //onwindowresized\n\n// Only handle mouse on desktop & web, for now\n#if (mac || windows || linux || web)\n\n    override function onmousedown(event:MouseEvent) {\n\n        if (mouseDownButtons.exists(event.button)) {\n            onmouseup(event);\n        }\n\n        mouseX = event.x;\n        mouseY = event.y;\n\n        mouseDownButtons.set(event.button, true);\n        ceramic.App.app.backend.screen.emitMouseDown(\n            event.button,\n            event.x,\n            event.y\n        );\n\n    } //onmousedown\n\n    override function onmouseup(event:MouseEvent) {\n\n        if (!mouseDownButtons.exists(event.button)) {\n            return;\n        }\n\n        mouseX = event.x;\n        mouseY = event.y;\n\n        mouseDownButtons.remove(event.button);\n        ceramic.App.app.backend.screen.emitMouseUp(\n            event.button,\n            event.x,\n            event.y\n        );\n\n    } //onmouseup\n\n    override function onmousewheel(event:MouseEvent) {\n\n#if (linc_sdl && cpp)\n        var runtime:snow.modules.sdl.Runtime = cast Luxe.snow.runtime;\n        var direction:Int = runtime.current_ev.wheel.direction;\n        var sdlWheelMul = 5; // Try to have consistent behavior between web and cpp platforms\n        if (direction == 1) {\n            ceramic.App.app.backend.screen.emitMouseWheel(\n                event.x * -1 * sdlWheelMul,\n                event.y * -1 * sdlWheelMul\n            );\n        }\n        else {\n            ceramic.App.app.backend.screen.emitMouseWheel(\n                event.x * -1 * sdlWheelMul,\n                event.y * -1 * sdlWheelMul\n            );\n        }\n        return;\n#end\n\n        ceramic.App.app.backend.screen.emitMouseWheel(\n            event.x,\n            event.y\n        );\n\n    } //onmousewheel\n\n    override function onmousemove(event:MouseEvent) {\n\n        mouseX = event.x;\n        mouseY = event.y;\n\n        ceramic.App.app.backend.screen.emitMouseMove(\n            event.x,\n            event.y\n        );\n\n    } //onmousemove\n\n#end\n\n    override function onkeydown(event:KeyEvent) {\n\n        ceramic.App.app.backend.emitKeyDown({\n            keyCode: event.keycode,\n            scanCode: event.scancode\n        });\n\n    } //onkeydown\n\n    override function onkeyup(event:KeyEvent) {\n\n        ceramic.App.app.backend.emitKeyUp({\n            keyCode: event.keycode,\n            scanCode: event.scancode\n        });\n\n    } //onkeyup\n\n// Don't handle touch on desktop, for now\n#if !(mac || windows || linux)\n\n    override function ontouchdown(event:TouchEvent) {\n\n        var index = 0;\n        while (touchIndexes.exists(index)) {\n            index++;\n        }\n        touches.set(event.touch_id, index);\n        touchIndexes.set(index, event.touch_id);\n\n        ceramic.App.app.backend.screen.emitTouchDown(\n            index,\n            event.x * lastWidth,\n            event.y * lastHeight\n        );\n\n    } //ontouchdown\n\n    override function ontouchup(event:TouchEvent) {\n\n        if (!touches.exists(event.touch_id)) {\n            ontouchdown(event);\n        }\n        var index = touches.get(event.touch_id);\n\n        ceramic.App.app.backend.screen.emitTouchUp(\n            index,\n            event.x * lastWidth,\n            event.y * lastHeight\n        );\n\n        touches.remove(event.touch_id);\n        touchIndexes.remove(index);\n\n    } //ontouchup\n\n    override function ontouchmove(event:TouchEvent) {\n\n        if (!touches.exists(event.touch_id)) {\n            ontouchdown(event);\n        }\n        var index = touches.get(event.touch_id);\n\n        ceramic.App.app.backend.screen.emitTouchMove(\n            index,\n            event.x * lastWidth,\n            event.y * lastHeight\n        );\n\n    } //ontouchmove\n\n#end\n\n    override public function ongamepadaxis(event:GamepadEvent) {\n\n        var id = event.gamepad;\n        if (!activeControllers.exists(id) && !removedControllers.exists(id)) {\n            activeControllers.set(id, true);\n            var name = #if (linc_sdl && cpp) sdl.SDL.gameControllerNameForIndex(id) #else null #end;\n            ceramic.App.app.backend.emitControllerEnable(id, name);\n        }\n\n        ceramic.App.app.backend.emitControllerAxis(id, event.axis, event.value);\n\n    } //ongamepadaxis\n\n    override public function ongamepaddown(event:GamepadEvent) {\n\n        var id = event.gamepad;\n        if (!activeControllers.exists(id) && !removedControllers.exists(id)) {\n            activeControllers.set(id, true);\n            var name = #if (linc_sdl && cpp) sdl.SDL.gameControllerNameForIndex(id) #else null #end;\n            ceramic.App.app.backend.emitControllerEnable(id, name);\n        }\n\n        ceramic.App.app.backend.emitControllerDown(id, event.button);\n\n    } //ongamepaddown\n\n    override public function ongamepadup(event:GamepadEvent) {\n\n        var id = event.gamepad;\n        if (!activeControllers.exists(id) && !removedControllers.exists(id)) {\n            activeControllers.set(id, true);\n            var name = #if (linc_sdl && cpp) sdl.SDL.gameControllerNameForIndex(id) #else null #end;\n            ceramic.App.app.backend.emitControllerEnable(id, name);\n        }\n\n        ceramic.App.app.backend.emitControllerUp(id, event.button);\n\n    } //ongamepadup\n\n    override public function ongamepaddevice(event:GamepadEvent) {\n\n        var id = event.gamepad;\n        if (event.type == GamepadEventType.device_removed) {\n            if (activeControllers.exists(id)) {\n                ceramic.App.app.backend.emitControllerDisable(id);\n                activeControllers.remove(id);\n                removedControllers.set(id, true);\n                ceramic.App.app.onceUpdate(null, function(_) {\n                    removedControllers.remove(id);\n                });\n            }\n        }\n        else if (event.type == GamepadEventType.device_added) {\n            if (!activeControllers.exists(id)) {\n                activeControllers.set(id, true);\n                removedControllers.remove(id);\n                var name = #if (linc_sdl && cpp) sdl.SDL.gameControllerNameForIndex(id) #else null #end;\n                ceramic.App.app.backend.emitControllerEnable(id, name);\n            }\n        }\n\n    } //ongamepaddevice\n\n/// Internal\n\n    function triggerResizeIfNeeded():Void {\n\n        // Ensure screen data has changed since last time we emit event\n        if (   Luxe.screen.device_pixel_ratio == lastDevicePixelRatio\n            && Luxe.screen.width == lastWidth\n            && Luxe.screen.height == lastHeight) return;\n\n        // Update values for next compare\n        lastDevicePixelRatio = Luxe.screen.device_pixel_ratio;\n        lastWidth = Luxe.screen.width;\n        lastHeight = Luxe.screen.height;\n\n        // Emit resize\n        ceramic.App.app.backend.screen.emitResize();\n\n        // Update camera size\n        Luxe.camera.size = new luxe.Vector(Luxe.screen.width * Luxe.screen.device_pixel_ratio, Luxe.screen.height * Luxe.screen.device_pixel_ratio);\n\n    }\n\n}\n\n#end\n","package ceramic;\n\nusing ceramic.Extensions;\n\n@editable\n#if !macro\n@:autoBuild(ceramic.macros.EntityMacro.build())\n#end\n@:rtti\nclass Entity implements Events implements Lazy {\n\n/// Properties\n\n    @lazy public var data:Dynamic<Dynamic> = {};\n\n    public var id:String = null;\n\n    public var destroyed:Bool = false;\n\n/// Events\n\n    @event function destroy();\n\n/// Lifecycle\n\n    public function destroy():Void {\n\n        if (destroyed) return;\n        destroyed = true;\n\n        emitDestroy();\n\n        // Destroy each linked component\n        if (components != null) {\n            for (name in components.keys()) {\n                removeComponent(name);\n            }\n        }\n\n    } //destroy\n\n/// Print\n\n    public function className():String {\n\n        var className = Type.getClassName(Type.getClass(this));\n        var dotIndex = className.lastIndexOf('.');\n        if (dotIndex != -1) className = className.substr(dotIndex + 1);\n        return className;\n\n    } //className\n\n    function toString():String {\n\n        var className = className();\n\n        if (id != null) {\n            return '$className($id)';\n        } else {\n            return '$className';\n        }\n\n    } //toString\n\n/// Components\n\n    /** Public components mapping. Does not contain components\n        created separatelywith `component()` or macro-based components. */\n    @editable\n    public var components(default,set):ImmutableMap<String,Component> = null;\n    function set_components(components:ImmutableMap<String,Component>):ImmutableMap<String,Component> {\n        if (this.components == components) return components;\n\n        // Remove older components\n        if (this.components != null) {\n            for (name in this.components.keys()) {\n                if (components == null || !components.exists(name)) {\n                    removeComponent(name);\n                }\n            }\n        }\n\n        // Add new components\n        if (components != null) {\n            for (name in components.keys()) {\n                var newComponent = components.get(name);\n                if (this.components != null) {\n                    var existing = this.components.get(name);\n                    if (existing != null) {\n                        if (existing != newComponent) {\n                            removeComponent(name);\n                            component(name, newComponent);\n                        }\n                    } else {\n                        component(name, newComponent);\n                    }\n                } else {\n                    component(name, newComponent);\n                }\n            }\n        }\n\n        // Update mapping\n        this.components = components;\n\n        return components;\n    }\n\n    /** Internal components representation. */\n    var _components:Map<String,Component> = null;\n\n    public function component(name:String, ?component:Component):Component {\n\n        if (component != null) {\n            if (_components == null) {\n                _components = new Map();\n            }\n            else {\n                var existing = _components.get(name);\n                if (existing != null) {\n                    existing.destroy();\n                }\n            }\n            _components.set(name, component);\n            component.setProperty('entity', this);\n            component.onceDestroy(this, function() {\n                if (component.getProperty('entity') == this) {\n                    component.setProperty('entity', null);\n                }\n            });\n            @:privateAccess component.init();\n            return component;\n\n        } else {\n            if (_components == null) return null;\n            return _components.get(name);\n        }\n\n    } //component\n\n    public function hasComponent(name:String):Bool {\n\n        return component(name) != null;\n\n    } //hasComponent\n\n    public function removeComponent(name:String):Void {\n\n        var existing = _components.get(name);\n        if (existing != null) {\n            _components.remove(name);\n            existing.destroy();\n        }\n\n    } //removeComponent\n\n#if editor\n\n    /** If set to true, that means this entity is managed by editor. */\n    public var edited:Bool = false;\n\n#end\n\n} //Entity\n","package ceramic.macros;\n\nimport haxe.macro.Context;\nimport haxe.macro.Expr;\n\nclass LazyMacro {\n\n    macro static public function build():Array<Field> {\n        var fields = Context.getBuildFields();\n\n        var newFields:Array<Field> = [];\n\n        for (field in fields) {\n\n            if (hasLazyMeta(field)) {\n                \n                switch(field.kind) {\n                    case FieldType.FVar(type, expr):\n\n                        if (newFields == null) newFields = [];\n\n                        var fieldName = field.name;\n                        var capitalName = field.name.substr(0,1).toUpperCase() + field.name.substr(1);\n                        var lazyFieldName = 'lazy' + capitalName;\n                        var isStatic = field.access.indexOf(AStatic) != -1;\n                        var lazyFieldNameExpr = { expr: EConst(CIdent(lazyFieldName)), pos: field.pos };\n                        var fieldNameExpr = { expr: EConst(CIdent(fieldName)), pos: field.pos };\n\n                        if (expr != null) {\n                            // Compute type from expr\n                            switch (expr.expr) {\n                                case ENew(t,p):\n                                    if (type == null) {\n                                        type = TPath(t);\n                                    }\n                                default:\n                                    if (type == null) {\n                                        throw new Error(\"Cannot resolve lazy variable type\", field.pos);\n                                    }\n                            }\n                        }\n                        else {\n                            throw new Error(\"Lazy variable expression is required\", field.pos);\n                        }\n\n                        // Create lazy flag (true=should lazy load, false=already lazy loaded)\n                        var lazyField = {\n                            pos: field.pos,\n                            name: lazyFieldName,\n                            kind: FVar((macro :Bool), (macro true)),\n                            access: field.access,\n                            doc: field.doc,\n                            meta: [{\n                                name: ':noCompletion',\n                                params: [],\n                                pos: field.pos\n                            }]\n                        };\n                        newFields.push(lazyField);\n\n                        // Create prop from var\n                        var propField = {\n                            pos: field.pos,\n                            name: field.name,\n                            kind: FProp('get', 'set', type),\n                            access: field.access,\n                            doc: field.doc,\n                            meta: [{\n                                name: ':isVar',\n                                params: [],\n                                pos: field.pos\n                            }]\n                        };\n                        newFields.push(propField);\n\n                        var getField = {\n                            pos: field.pos,\n                            name: 'get_' + field.name,\n                            kind: FFun({\n                                args: [],\n                                ret: type,\n                                expr: macro {\n                                    if ($e{lazyFieldNameExpr}) {\n                                        $e{lazyFieldNameExpr} = false;\n                                        $e{fieldNameExpr} = $expr;\n                                    }\n                                    return $e{fieldNameExpr};\n                                }\n                            }),\n                            access: isStatic ? [APrivate, AStatic] : [APrivate],\n                            doc: '',\n                            meta: []\n                        }\n                        newFields.push(getField);\n\n                        var setField = {\n                            pos: field.pos,\n                            name: 'set_' + field.name,\n                            kind: FFun({\n                                args: [\n                                    {name: field.name + '_', type: type}\n                                ],\n                                ret: type,\n                                expr: macro {\n                                    return $e{fieldNameExpr} = $i{fieldName + '_'};\n                                }\n                            }),\n                            access: isStatic ? [APrivate, AInline, AStatic] : [APrivate, AInline],\n                            doc: '',\n                            meta: []\n                        }\n                        newFields.push(setField);\n\n                    default:\n                        throw new Error(\"Invalid lazy variable\", field.pos);\n                }\n            }\n            else {\n                newFields.push(field);\n            }\n\n        }\n\n        return newFields;\n\n    } //build\n\n    static function hasLazyMeta(field:Field):Bool {\n\n        if (field.meta == null || field.meta.length == 0) return false;\n\n        for (meta in field.meta) {\n            if (meta.name == 'lazy') {\n                return true;\n            }\n        }\n\n        return false;\n\n    } //hasComponentMeta\n\n}","package ceramic.macros;\n\nimport haxe.macro.Context;\nimport haxe.macro.Expr;\n\nusing StringTools;\n\nclass EventsMacro {\n\n    macro static public function build():Array<Field> {\n        var fields = Context.getBuildFields();\n\n        // Gather all emit{EventName}\n        var allEmits:Map<String,Bool> = new Map();\n\n        // Check class fields\n        var fieldsByName = new Map<String,Bool>();\n        for (field in fields) {\n            fieldsByName.set(field.name, true);\n        }\n\n        // Also check parent fields\n        var parentHold = Context.getLocalClass().get().superClass;\n        var parent = parentHold != null ? parentHold.t : null;\n        while (parent != null) {\n\n            for (field in parent.get().fields.get()) {\n                fieldsByName.set(field.name, true);\n\n                if (field.name.startsWith('emit')) {\n                    allEmits.set(field.name.substring(4), true);\n                }\n                else if (field.meta.has('event')) {\n                    allEmits.set(field.name.charAt(0).toUpperCase() + field.name.substring(1), true);\n                }\n            }\n\n            parentHold = parent.get().superClass;\n            parent = parentHold != null ? parentHold.t : null;\n        }\n\n        var newFields = [];\n\n        for (field in fields) {\n            if (hasEventMeta(field)) {\n                createEventFields(field, newFields, fieldsByName);\n            }\n            else {\n                // Keep field\n                newFields.push(field);\n            }\n        }\n\n        for (field in newFields) {\n            if (field.name.startsWith('emit')) {\n                allEmits.set(field.name.substring(4), true);\n            }\n        }\n\n        // Check that {will|did}Emit{EventName} match an existing event\n        for (field in newFields) {\n            if (field.name.startsWith('willEmit')) {\n                if (!allEmits.exists(field.name.substring(8))) {\n                    throw new Error(\"No event with name `\" + field.name.charAt(8).toLowerCase() + field.name.substring(9) + \"` will ever be emitted by this class\", field.pos);\n                }\n            }\n            else if (field.name.startsWith('didEmit')) {\n                if (!allEmits.exists(field.name.substring(7))) {\n                    throw new Error(\"No event with name `\" + field.name.charAt(7).toLowerCase() + field.name.substring(8) + \"` will ever be emitted by this class\", field.pos);\n                }\n            }\n        }\n\n        return newFields;\n\n    } //build\n\n    @:allow(ceramic.macros.ObservableMacro)\n    static function createEventFields(field:Field, newFields:Array<Field>, fieldsByName:Map<String,Bool>):Void {\n\n        switch (field.kind) {\n\n            case FieldType.FFun(fn):\n\n                if (field.access.indexOf(AStatic) != -1) {\n                    throw new Error(\"Event cannot be static\", field.pos);\n                }\n\n                var hasPrivateModifier = false;\n                if (field.access.indexOf(APrivate) != -1) {\n                    hasPrivateModifier = true;\n                }\n\n                var hasPublicModifier = false;\n                if (field.access.indexOf(APublic) != -1) {\n                    hasPublicModifier = true;\n                }\n\n                var handlerName = 'handle' + [for (arg in fn.args) arg.name.substr(0,1).toUpperCase() + arg.name.substr(1)].join('');\n                var handlerType = TFunction([for (arg in fn.args) arg.type], macro :Void);\n                var handlerCallArgs = [for (arg in fn.args) macro $i{arg.name}];\n                var capitalName = field.name.substr(0,1).toUpperCase() + field.name.substr(1);\n                var onName = 'on' + capitalName;\n                var onceName = 'once' + capitalName;\n                var offName = 'off' + capitalName;\n                var emitName = 'emit' + capitalName;\n                var listensName = 'listens' + capitalName;\n                var cbOnArray = '__cbOn' + capitalName;\n                var cbOnceArray = '__cbOnce' + capitalName;\n                var cbOnOwnerUnbindArray = '__cbOnOwnerUnbind' + capitalName;\n                var cbOnceOwnerUnbindArray = '__cbOnceOwnerUnbind' + capitalName;\n                var fnWillEmit = 'willEmit' + capitalName;\n                var fnDidEmit = 'didEmit' + capitalName;\n                var doc = field.doc;\n                var origDoc = field.doc;\n                if (doc == null || doc == '') {\n                    doc = field.name + ' event';\n                }\n\n                // Create __cbOn{Name}\n                var cbOnField = {\n                    pos: field.pos,\n                    name: cbOnArray,\n                    kind: FVar(TPath({\n                        name: 'Array',\n                        pack: [],\n                        params: [\n                            TPType(\n                                handlerType\n                            )\n                        ]\n                    })),\n                    access: [APrivate],\n                    doc: doc,\n                    meta: [{\n                        name: ':noCompletion',\n                        params: [],\n                        pos: field.pos\n                    }]\n                };\n                newFields.push(cbOnField);\n\n                // Create __cbOnce{Name}\n                var cbOnceField = {\n                    pos: field.pos,\n                    name: cbOnceArray,\n                    kind: FVar(TPath({\n                        name: 'Array',\n                        pack: [],\n                        params: [\n                            TPType(\n                                handlerType\n                            )\n                        ]\n                    })),\n                    access: [APrivate],\n                    doc: doc,\n                    meta: [{\n                        name: ':noCompletion',\n                        params: [],\n                        pos: field.pos\n                    }]\n                };\n                newFields.push(cbOnceField);\n\n                // Create __cbOnOwnerUnbind{Name}\n                var cbOnOwnerUnbindField = {\n                    pos: field.pos,\n                    name: cbOnOwnerUnbindArray,\n                    kind: FVar(TPath({\n                        name: 'Array',\n                        pack: [],\n                        params: [\n                            TPType(\n                                macro :Void->Void\n                            )\n                        ]\n                    })),\n                    access: [APrivate],\n                    doc: doc,\n                    meta: [{\n                        name: ':noCompletion',\n                        params: [],\n                        pos: field.pos\n                    }]\n                };\n                newFields.push(cbOnOwnerUnbindField);\n\n                // Create __cbOnceOwnerUnbind{Name}\n                var cbOnceOwnerUnbindField = {\n                    pos: field.pos,\n                    name: cbOnceOwnerUnbindArray,\n                    kind: FVar(TPath({\n                        name: 'Array',\n                        pack: [],\n                        params: [\n                            TPType(\n                                macro :Void->Void\n                            )\n                        ]\n                    })),\n                    access: [APrivate],\n                    doc: doc,\n                    meta: [{\n                        name: ':noCompletion',\n                        params: [],\n                        pos: field.pos\n                    }]\n                };\n                newFields.push(cbOnceOwnerUnbindField);\n\n                // Create emit{Name}()\n                //\n                var willEmit = macro null;\n                if (fieldsByName.exists(fnWillEmit)) {\n                    willEmit = macro this.$fnWillEmit($a{handlerCallArgs});\n                }\n\n                var didEmit = macro null;\n                if (fieldsByName.exists(fnDidEmit)) {\n                    didEmit = macro this.$fnDidEmit($a{handlerCallArgs});\n                }\n\n                var emitField = {\n                    pos: field.pos,\n                    name: emitName,\n                    kind: FFun({\n                        args: fn.args,\n                        ret: macro :Void,\n                        expr: macro {\n                            $willEmit;\n                            var len = 0;\n                            if (this.$cbOnArray != null) len += this.$cbOnArray.length;\n                            if (this.$cbOnceArray != null) len += this.$cbOnceArray.length;\n                            if (len > 0) {\n                                // TODO avoid allocation here while still keeping this safe?\n                                // Some recycling of Vector objects could probably be done here\n                                var callbacks = new haxe.ds.Vector<$handlerType>(len);\n                                var i = 0;\n                                if (this.$cbOnArray != null) {\n                                    for (item in this.$cbOnArray) {\n                                        callbacks.set(i, item);\n                                        i++;\n                                    }\n                                }\n                                if (this.$cbOnceArray != null) {\n                                    for (item in this.$cbOnceArray) {\n                                        callbacks.set(i, item);\n                                        i++;\n                                    }\n                                    this.$cbOnceArray = null;\n                                }\n                                for (i in 0...len) {\n                                    callbacks.get(i)($a{handlerCallArgs});\n                                }\n                                callbacks = null;\n                            }\n                            $didEmit;\n                        }\n                    }),\n                    access: [hasPublicModifier ? APublic : APrivate],\n                    doc: doc,\n                    meta: hasPrivateModifier ? [{\n                        name: ':noCompletion',\n                        params: [],\n                        pos: field.pos\n                    }] : []\n                };\n                newFields.push(emitField);\n\n                // Create on{Name}()\n                var onField = {\n                    pos: field.pos,\n                    name: onName,\n                    kind: FFun({\n                        args: [\n                            {\n                                name: 'owner',\n                                type: macro :ceramic.Entity,\n                                opt: true\n                            },\n                            {\n                                name: handlerName,\n                                type: handlerType\n                            }\n                        ],\n                        ret: macro :Void,\n                        expr: macro {\n                            // Map owner to handler\n                            if (owner != null) {\n                                if (owner.destroyed) {\n                                    return;\n                                }\n                                var destroyCb = function() {\n                                    this.$offName($i{handlerName});\n                                };\n                                owner.onceDestroy(null, destroyCb);\n                                if (this.$cbOnOwnerUnbindArray == null) {\n                                    this.$cbOnOwnerUnbindArray = [];\n                                }\n                                this.$cbOnOwnerUnbindArray.push(function() {\n                                    owner.offDestroy(destroyCb);\n                                });\n                            } else {\n                                if (this.$cbOnOwnerUnbindArray == null) {\n                                    this.$cbOnOwnerUnbindArray = [];\n                                }\n                                this.$cbOnOwnerUnbindArray.push(null);\n                            }\n\n                            // Add handler\n                            if (this.$cbOnArray == null) {\n                                this.$cbOnArray = [];\n                            }\n                            this.$cbOnArray.push($i{handlerName});\n                        }\n                    }),\n                    access: [hasPrivateModifier ? APrivate : APublic],\n                    doc: doc,\n                    meta: []\n                };\n                newFields.push(onField);\n\n                // Create once{Name}()\n                var onceField = {\n                    pos: field.pos,\n                    name: onceName,\n                    kind: FFun({\n                        args: [\n                            {\n                                name: 'owner',\n                                type: macro :ceramic.Entity,\n                                opt: true\n                            },\n                            {\n                                name: handlerName,\n                                type: handlerType\n                            }\n                        ],\n                        ret: macro :Void,\n                        expr: macro {\n                            // Map owner to handler\n                            if (owner != null) {\n                                if (owner.destroyed) {\n                                    return;\n                                }\n                                var destroyCb = function() {\n                                    this.$offName($i{handlerName});\n                                };\n                                owner.onceDestroy(null, destroyCb);\n                                if (this.$cbOnceOwnerUnbindArray == null) {\n                                    this.$cbOnceOwnerUnbindArray = [];\n                                }\n                                this.$cbOnceOwnerUnbindArray.push(function() {\n                                    owner.offDestroy(destroyCb);\n                                });\n                            } else {\n                                if (this.$cbOnceOwnerUnbindArray == null) {\n                                    this.$cbOnceOwnerUnbindArray = [];\n                                }\n                                this.$cbOnceOwnerUnbindArray.push(null);\n                            }\n\n                            // Add handler\n                            if (this.$cbOnceArray == null) {\n                                this.$cbOnceArray = [];\n                            }\n                            this.$cbOnceArray.push($i{handlerName});\n                        }\n                    }),\n                    access: [hasPrivateModifier ? APrivate : APublic],\n                    doc: doc,\n                    meta: []\n                };\n                newFields.push(onceField);\n\n                // Create off{Name}()\n                var offField = {\n                    pos: field.pos,\n                    name: offName,\n                    kind: FFun({\n                        args: [\n                            {\n                                name: handlerName,\n                                type: handlerType,\n                                opt: true\n                            }\n                        ],\n                        ret: macro :Void,\n                        expr: macro {\n                            if ($i{handlerName} != null) {\n                                var index:Int;\n                                var unbind:Void->Void;\n                                if (this.$cbOnArray != null) {\n                                    index = this.$cbOnArray.indexOf($i{handlerName});\n                                    if (index != -1) {\n                                        this.$cbOnArray.splice(index, 1);\n                                        unbind = this.$cbOnOwnerUnbindArray[index];\n                                        if (unbind != null) unbind();\n                                        this.$cbOnOwnerUnbindArray.splice(index, 1);\n                                    }\n                                }\n                                if (this.$cbOnceArray != null) {\n                                    index = this.$cbOnceArray.indexOf($i{handlerName});\n                                    if (index != -1) {\n                                        this.$cbOnceArray.splice(index, 1);\n                                        unbind = this.$cbOnceOwnerUnbindArray[index];\n                                        if (unbind != null) unbind();\n                                        this.$cbOnceOwnerUnbindArray.splice(index, 1);\n                                    }\n                                }\n                            } else {\n                                for (unbind in this.$cbOnOwnerUnbindArray) {\n                                    if (unbind != null) unbind();\n                                }\n                                this.$cbOnOwnerUnbindArray = null;\n                                for (unbind in this.$cbOnceOwnerUnbindArray) {\n                                    if (unbind != null) unbind();\n                                }\n                                this.$cbOnceOwnerUnbindArray = null;\n                                this.$cbOnArray = null;\n                                this.$cbOnceArray = null;\n                            }\n                        }\n                    }),\n                    access: [hasPrivateModifier ? APrivate : APublic],\n                    doc: doc,\n                    meta: []\n                };\n                newFields.push(offField);\n\n                // Create listens{Name}()\n                var listensField = {\n                    pos: field.pos,\n                    name: listensName,\n                    kind: FFun({\n                        args: [],\n                        ret: macro :Bool,\n                        expr: macro {\n                            return (this.$cbOnArray != null && this.$cbOnArray.length > 0)\n                                || (this.$cbOnceArray != null && this.$cbOnceArray.length > 0);\n                        }\n                    }),\n                    access: [hasPrivateModifier ? APrivate : APublic, AInline],\n                    doc: origDoc != doc ? 'Does it listen to ' + doc : doc,\n                    meta: []\n                };\n                newFields.push(listensField);\n\n            default:\n                throw new Error(\"Invalid event syntax\", field.pos);\n        }\n\n    } //createEventFields\n\n    static function hasEventMeta(field:Field):Bool {\n\n        if (field.meta == null || field.meta.length == 0) return false;\n\n        for (meta in field.meta) {\n            if (meta.name == 'event') {\n                return true;\n            }\n        }\n\n        return false;\n\n    } //hasEventMeta\n\n    static function isEmpty(expr:Expr) {\n\n        if (expr == null) return true;\n\n        return switch (expr.expr) {\n            case ExprDef.EBlock(exprs): exprs.length == 0;\n            default: false;\n        }\n\n    } //isEmpty\n\n}\n","package;\n\nimport ceramic.Entity;\nimport ceramic.Color;\nimport ceramic.Quad;\nimport ceramic.InitSettings;\nimport ceramic.Shortcuts.*;\n\nclass Project extends Entity {\n\n    function new(settings:InitSettings) {\n\n        settings.antialiasing = true;\n        settings.background = Color.GRAY;\n        settings.targetWidth = 320;\n        settings.targetHeight = 568;\n        settings.scaling = FILL;\n        settings.resizable = true;\n\n        app.onceReady(ready);\n\n    } //new\n\n    function ready() {\n\n        // Hello World?\n        //\n\n        var quad1 = new Quad();\n        quad1.color = Color.RED;\n        quad1.depth = 2;\n        quad1.size(50, 50);\n        quad1.anchor(0.5, 0.5);\n        quad1.pos(screen.width * 0.5, screen.height * 0.5);\n        quad1.rotation = 30;\n        quad1.scale(2.0, 0.5);\n\n        var quad2 = new Quad();\n        quad2.depth = 1;\n        quad2.color = Color.YELLOW;\n        quad2.size(50, 50);\n        quad2.anchor(0.5, 0.5);\n        quad2.pos(screen.width * 0.5, screen.height * 0.5 + 20);\n        quad2.rotation = 30;\n        quad2.scale(2.0, 0.5);\n\n        app.onUpdate(this, function(delta) {\n\n            quad1.rotation = (quad1.rotation + delta * 100) % 360;\n            quad2.rotation = (quad2.rotation + delta * 100) % 360;\n\n        });\n\n    } //ready\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n@:coreApi class Reflect {\n\n\t@:pure\n\tpublic inline static function hasField( o : Dynamic, field : String ) : Bool {\n\t\treturn untyped __js__('Object').prototype.hasOwnProperty.call(o, field);\n\t}\n\n\tpublic static function field( o : Dynamic, field : String ) : Dynamic {\n\t\ttry return untyped o[field] catch( e : Dynamic ) return null;\n\t}\n\n\tpublic inline static function setField( o : Dynamic, field : String, value : Dynamic ) : Void untyped {\n\t\to[field] = value;\n\t}\n\n\tpublic static function getProperty( o : Dynamic, field : String ) : Dynamic untyped {\n\t\tvar tmp;\n\t\treturn if( o == null ) __define_feature__(\"Reflect.getProperty\",null) else if( o.__properties__ && (tmp=o.__properties__[\"get_\"+field]) ) o[tmp]() else o[field];\n\t}\n\n\tpublic static function setProperty( o : Dynamic, field : String, value : Dynamic ) : Void untyped {\n\t\tvar tmp;\n\t\tif( o.__properties__ && (tmp=o.__properties__[\"set_\"+field]) ) o[tmp](value) else o[field] = __define_feature__(\"Reflect.setProperty\",value);\n\t}\n\n\tpublic inline static function callMethod( o : Dynamic, func : haxe.Constraints.Function, args : Array<Dynamic> ) : Dynamic untyped {\n\t\treturn func.apply(o,args);\n\t}\n\n\tpublic static function fields( o : Dynamic ) : Array<String> {\n\t\tvar a = [];\n\t\tif (o != null) untyped {\n\t\t\tvar hasOwnProperty = __js__('Object').prototype.hasOwnProperty;\n\t\t\t__js__(\"for( var f in o ) {\");\n\t\t\tif( f != \"__id__\" && f != \"hx__closures__\" && hasOwnProperty.call(o, f) ) a.push(f);\n\t\t\t__js__(\"}\");\n\t\t}\n\t\treturn a;\n\t}\n\n\tpublic static function isFunction( f : Dynamic ) : Bool untyped {\n\t\treturn __js__(\"typeof(f)\") == \"function\" && !(js.Boot.isClass(f) || js.Boot.isEnum(f));\n\t}\n\n\tpublic static function compare<T>( a : T, b : T ) : Int {\n\t\treturn ( a == b ) ? 0 : (((cast a) > (cast b)) ? 1 : -1);\n\t}\n\n\tpublic static function compareMethods( f1 : Dynamic, f2 : Dynamic ) : Bool {\n\t\tif( f1 == f2 )\n\t\t\treturn true;\n\t\tif( !isFunction(f1) || !isFunction(f2) )\n\t\t\treturn false;\n\t\treturn f1.scope == f2.scope && f1.method == f2.method && f1.method != null;\n\t}\n\n\tpublic static function isObject( v : Dynamic ) : Bool untyped {\n\t\tif( v == null )\n\t\t\treturn false;\n\t\tvar t = __js__(\"typeof(v)\");\n\t\treturn (t == \"string\" || (t == \"object\" && v.__enum__ == null)) || (t == \"function\" && (js.Boot.isClass(v) || js.Boot.isEnum(v)) != null);\n\t}\n\n\tpublic static function isEnumValue( v : Dynamic ) : Bool {\n\t\treturn v != null && v.__enum__ != null;\n\t}\n\n\tpublic static function deleteField( o : Dynamic, field : String ) : Bool untyped {\n\t\tif( !hasField(o,field) ) return false;\n\t\t__js__(\"delete\")(o[field]);\n\t\treturn true;\n\t}\n\n\tpublic static function copy<T>( o : T ) : T {\n\t\tvar o2 : Dynamic = {};\n\t\tfor( f in Reflect.fields(o) )\n\t\t\tReflect.setField(o2,f,Reflect.field(o,f));\n\t\treturn o2;\n\t}\n\n\t@:overload(function( f : Array<Dynamic> -> Void ) : Dynamic {})\n\tpublic static function makeVarArgs( f : Array<Dynamic> -> Dynamic ) : Dynamic {\n\t\treturn function() {\n\t\t\tvar a = untyped Array.prototype.slice.call(__js__(\"arguments\"));\n\t\t\treturn f(a);\n\t\t};\n\t}\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\nimport js.Boot;\n\n@:keepInit\n@:coreApi class Std {\n\n\tpublic static inline function is( v : Dynamic, t : Dynamic ) : Bool {\n\t\treturn untyped js.Boot.__instanceof(v,t);\n\t}\n\n\tpublic static inline function instance<T:{},S:T>( value : T, c : Class<S> ) : S {\n\t\treturn untyped __instanceof__(value, c) ? cast value : null;\n\t}\n\n\t@:pure\n\tpublic static function string( s : Dynamic ) : String {\n\t\treturn untyped js.Boot.__string_rec(s,\"\");\n\t}\n\n\tpublic static inline function int( x : Float ) : Int {\n\t\treturn (cast x) | 0;\n\t}\n\n\t@:pure\n\tpublic static function parseInt( x : String ) : Null<Int> {\n\t\tvar v = untyped __js__(\"parseInt\")(x, 10);\n\t\t// parse again if hexadecimal\n\t\tif( v == 0 && (x.charCodeAt(1) == 'x'.code || x.charCodeAt(1) == 'X'.code) )\n\t\t\tv = untyped __js__(\"parseInt\")(x);\n\t\tif( untyped __js__(\"isNaN\")(v) )\n\t\t\treturn null;\n\t\treturn cast v;\n\t}\n\n\tpublic static inline function parseFloat( x : String ) : Float {\n\t\treturn untyped __js__(\"parseFloat\")(x);\n\t}\n\n\tpublic static function random( x : Int ) : Int {\n\t\treturn x <= 0 ? 0 : Math.floor(Math.random()*x);\n\t}\n\n\tstatic function __init__() : Void untyped {\n\t\t__feature__(\"js.Boot.getClass\",String.prototype.__class__ = __feature__(\"Type.resolveClass\",$hxClasses[\"String\"] = String,String));\n\t\t__feature__(\"js.Boot.isClass\",String.__name__ = __feature__(\"Type.getClassName\",[\"String\"],true));\n\t\t__feature__(\"Type.resolveClass\",$hxClasses[\"Array\"] = Array);\n\t\t__feature__(\"js.Boot.isClass\",Array.__name__ = __feature__(\"Type.getClassName\",[\"Array\"],true));\n\t\t__feature__(\"Date.*\", {\n\t\t\t__feature__(\"js.Boot.getClass\",__js__('Date').prototype.__class__ = __feature__(\"Type.resolveClass\",$hxClasses[\"Date\"] = __js__('Date'),__js__('Date')));\n\t\t\t__feature__(\"js.Boot.isClass\",__js__('Date').__name__ = [\"Date\"]);\n\t\t});\n\t\t__feature__(\"Int.*\",{\n\t\t\tvar Int = __feature__(\"Type.resolveClass\", $hxClasses[\"Int\"] = { __name__ : [\"Int\"] }, { __name__ : [\"Int\"] });\n\t\t});\n\t\t__feature__(\"Dynamic.*\",{\n\t\t\tvar Dynamic = __feature__(\"Type.resolveClass\", $hxClasses[\"Dynamic\"] = { __name__ : [\"Dynamic\"] }, { __name__ : [\"Dynamic\"] });\n\t\t});\n\t\t__feature__(\"Float.*\",{\n\t\t\tvar Float = __feature__(\"Type.resolveClass\", $hxClasses[\"Float\"] = __js__(\"Number\"), __js__(\"Number\"));\n\t\t\tFloat.__name__ = [\"Float\"];\n\t\t});\n\t\t__feature__(\"Bool.*\",{\n\t\t\tvar Bool = __feature__(\"Type.resolveEnum\",$hxClasses[\"Bool\"] = __js__(\"Boolean\"), __js__(\"Boolean\"));\n\t\t\tBool.__ename__ = [\"Bool\"];\n\t\t});\n\t\t__feature__(\"Class.*\",{\n\t\t\tvar Class = __feature__(\"Type.resolveClass\", $hxClasses[\"Class\"] = { __name__ : [\"Class\"] }, { __name__ : [\"Class\"] });\n\t\t});\n\t\t__feature__(\"Enum.*\",{\n\t\t\tvar Enum = {};\n\t\t});\n\t\t__feature__(\"Void.*\",{\n\t\t\tvar Void = __feature__(\"Type.resolveEnum\", $hxClasses[\"Void\"] = { __ename__ : [\"Void\"] }, { __ename__ : [\"Void\"] });\n\t\t});\n\n#if (js_es < 5)\n\t\t__feature__(\"Array.map\",\n\t\t\tif( Array.prototype.map == null )\n\t\t\t\tArray.prototype.map = function(f) {\n\t\t\t\t\tvar a = [];\n\t\t\t\t\tfor( i in 0...__this__.length )\n\t\t\t\t\t\ta[i] = f(__this__[i]);\n\t\t\t\t\treturn a;\n\t\t\t\t}\n\t\t);\n\t\t__feature__(\"Array.filter\",\n\t\t\tif( Array.prototype.filter == null )\n\t\t\t\tArray.prototype.filter = function(f) {\n\t\t\t\t\tvar a = [];\n\t\t\t\t\tfor( i in 0...__this__.length ) {\n\t\t\t\t\t\tvar e = __this__[i];\n\t\t\t\t\t\tif( f(e) ) a.push(e);\n\t\t\t\t\t}\n\t\t\t\t\treturn a;\n\t\t\t\t}\n\t\t);\n#end\n\t}\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n/**\n\tA String buffer is an efficient way to build a big string by appending small\n\telements together.\n\n\tIts cross-platform implementation uses String concatenation internally, but\n\tStringBuf may be optimized for different targets.\n\n\tUnlike String, an instance of StringBuf is not immutable in the sense that\n\tit can be passed as argument to functions which modify it by appending more\n\tvalues. However, the internal buffer cannot be modified.\n**/\nclass StringBuf {\n\n\tvar b:String;\n\n\t/**\n\t\tThe length of `this` StringBuf in characters.\n\t**/\n\tpublic var length(get,never) : Int;\n\n\t/**\n\t\tCreates a new StringBuf instance.\n\n\t\tThis may involve initialization of the internal buffer.\n\t**/\n\tpublic inline function new() {\n\t\tb = \"\";\n\t}\n\n\tinline function get_length() : Int {\n\t\treturn b.length;\n\t}\n\n\t/**\n\t\tAppends the representation of `x` to `this` StringBuf.\n\n\t\tThe exact representation of `x` may vary per platform. To get more\n\t\tconsistent behavior, this function should be called with\n\t\tStd.string(x).\n\n\t\tIf `x` is null, the String \"null\" is appended.\n\t**/\n\tpublic inline function add<T>( x : T ) : Void {\n\t\tb += x;\n\t}\n\n\t/**\n\t\tAppends the character identified by `c` to `this` StringBuf.\n\n\t\tIf `c` is negative or has another invalid value, the result is\n\t\tunspecified.\n\t**/\n\tpublic inline function addChar( c : Int ) : Void {\n\t\tb += String.fromCharCode(c);\n\t}\n\n\t/**\n\t\tAppends a substring of `s` to `this` StringBuf.\n\n\t\tThis function expects `pos` and `len` to describe a valid substring of\n\t\t`s`, or else the result is unspecified. To get more robust behavior,\n\t\t`this.add(s.substr(pos,len))` can be used instead.\n\n\t\tIf `s` or `pos` are null, the result is unspecified.\n\n\t\tIf `len` is omitted or null, the substring ranges from `pos` to the end\n\t\tof `s`.\n\t**/\n\tpublic inline function addSub( s : String, pos : Int, ?len : Int) : Void {\n\t\tb += (len == null ? s.substr(pos) : s.substr(pos, len));\n\t}\n\n\t/**\n\t\tReturns the content of `this` StringBuf as String.\n\n\t\tThe buffer is not emptied by this operation.\n\t**/\n\tpublic inline function toString() : String {\n\t\treturn b;\n\t}\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n/**\n\tThis class provides advanced methods on Strings. It is ideally used with\n\t`using StringTools` and then acts as an [extension](https://haxe.org/manual/lf-static-extension.html)\n\tto the `String` class.\n\n\tIf the first argument to any of the methods is null, the result is\n\tunspecified.\n**/\n#if cpp\nusing cpp.NativeString;\n#end\nclass StringTools {\n\t/**\n\t\tEncode an URL by using the standard format.\n\t**/\n\t#if (!java && !cpp && !lua) inline #end public static function urlEncode( s : String ) : String {\n\t\t#if flash\n\t\t\treturn untyped __global__[\"encodeURIComponent\"](s);\n\t\t#elseif neko\n\t\t\treturn untyped new String(_urlEncode(s.__s));\n\t\t#elseif js\n\t\t\treturn untyped encodeURIComponent(s);\n\t\t#elseif cpp\n\t\t\treturn untyped s.__URLEncode();\n\t\t#elseif java\n\t\t\treturn postProcessUrlEncode(java.net.URLEncoder.encode(s, \"UTF-8\"));\n\t\t#elseif cs\n\t\t\treturn untyped cs.system.Uri.EscapeDataString(s);\n\t\t#elseif python\n\t\t\treturn python.lib.urllib.Parse.quote(s, \"\");\n\t\t#elseif hl\n\t\t\tvar len = 0;\n\t\t\tvar b = @:privateAccess s.bytes.urlEncode(len);\n\t\t\treturn @:privateAccess String.__alloc__(b,len);\n\t\t#elseif lua\n\t\t\ts = lua.NativeStringTools.gsub(s, \"\\n\", \"\\r\\n\");\n\t\t\ts = lua.NativeStringTools.gsub(s, \"([^%w %-%_%.%~])\", function (c) {\n\t\t\t\treturn lua.NativeStringTools.format(\"%%%02X\", lua.NativeStringTools.byte(c) + '');\n\t\t\t});\n\t\t\ts = lua.NativeStringTools.gsub(s, \" \", \"+\");\n\t\t\treturn s;\n\t\t#else\n\t\t\treturn null;\n\t\t#end\n\t}\n\n#if java\n\tprivate static function postProcessUrlEncode( s : String ) : String {\n\t\tvar ret = new StringBuf();\n\t\tvar i = 0,\n\t\t    len = s.length;\n\t\twhile (i < len) {\n\t\t\tswitch(_charAt(s, i++)) {\n\t\t\tcase '+'.code:\n\t\t\t\tret.add('%20');\n\t\t\tcase '%'.code if (i <= len - 2):\n\t\t\t\tvar c1 = _charAt(s, i++),\n\t\t\t\t    c2 = _charAt(s, i++);\n\t\t\t\tswitch[c1, c2] {\n\t\t\t\tcase ['2'.code, '1'.code]:\n\t\t\t\t\tret.addChar('!'.code);\n\t\t\t\tcase ['2'.code, '7'.code]:\n\t\t\t\t\tret.addChar('\\''.code);\n\t\t\t\tcase ['2'.code, '8'.code]:\n\t\t\t\t\tret.addChar('('.code);\n\t\t\t\tcase ['2'.code, '9'.code]:\n\t\t\t\t\tret.addChar(')'.code);\n\t\t\t\tcase ['7'.code, 'E'.code] | ['7'.code, 'e'.code]:\n\t\t\t\t\tret.addChar('~'.code);\n\t\t\t\tcase _:\n\t\t\t\t\tret.addChar('%'.code);\n\t\t\t\t\tret.addChar(cast c1);\n\t\t\t\t\tret.addChar(cast c2);\n\t\t\t\t}\n\t\t\tcase chr:\n\t\t\t\tret.addChar(cast chr);\n\t\t\t}\n\t\t}\n\t\treturn ret.toString();\n\t}\n#end\n\n\t/**\n\t\tDecode an URL using the standard format.\n\t**/\n\t#if (!java && !cpp && !lua) inline #end public static function urlDecode( s : String ) : String {\n\t\t#if flash\n\t\t\treturn untyped __global__[\"decodeURIComponent\"](s.split(\"+\").join(\" \"));\n\t\t#elseif neko\n\t\t\treturn untyped new String(_urlDecode(s.__s));\n\t\t#elseif js\n\t\t\treturn untyped decodeURIComponent(s.split(\"+\").join(\" \"));\n\t\t#elseif cpp\n\t\t\treturn untyped s.__URLDecode();\n\t\t#elseif java\n\t\t\ttry\n\t\t\t\treturn untyped __java__(\"java.net.URLDecoder.decode(s, \\\"UTF-8\\\")\")\n\t\t\tcatch (e:Dynamic) throw e;\n\t\t#elseif cs\n\t\t\treturn untyped cs.system.Uri.UnescapeDataString(s);\n\t\t#elseif python\n\t\t\treturn python.lib.urllib.Parse.unquote(s);\n\t\t#elseif hl\n\t\t\tvar len = 0;\n\t\t\tvar b = @:privateAccess s.bytes.urlDecode(len);\n\t\t\treturn @:privateAccess String.__alloc__(b,len);\n\t\t#elseif lua\n\t\t\ts = lua.NativeStringTools.gsub (s, \"+\", \" \");\n\t\t\ts = lua.NativeStringTools.gsub (s, \"%%(%x%x)\",\n\t\t\t\tfunction(h) {return lua.NativeStringTools.char(lua.Lua.tonumber(h,16));});\n\t\t\ts = lua.NativeStringTools.gsub (s, \"\\r\\n\", \"\\n\");\n\t\t\treturn s;\n\t\t#else\n\t\t\treturn null;\n\t\t#end\n\t}\n\n\t/**\n\t\tEscapes HTML special characters of the string `s`.\n\n\t\tThe following replacements are made:\n\n\t\t- `&` becomes `&amp`;\n\t\t- `<` becomes `&lt`;\n\t\t- `>` becomes `&gt`;\n\n\t\tIf `quotes` is true, the following characters are also replaced:\n\n\t\t- `\"` becomes `&quot`;\n\t\t- `'` becomes `&#039`;\n\t**/\n\tpublic static function htmlEscape( s : String, ?quotes : Bool ) : String {\n\t\ts = s.split(\"&\").join(\"&amp;\").split(\"<\").join(\"&lt;\").split(\">\").join(\"&gt;\");\n\t\treturn quotes ? s.split('\"').join(\"&quot;\").split(\"'\").join(\"&#039;\") : s;\n\t}\n\n\t/**\n\t\tUnescapes HTML special characters of the string `s`.\n\n\t\tThis is the inverse operation to htmlEscape, i.e. the following always\n\t\tholds: `htmlUnescape(htmlEscape(s)) == s`\n\n\t\tThe replacements follow:\n\n\t\t- `&amp;` becomes `&`\n\t\t- `&lt;` becomes `<`\n\t\t- `&gt;` becomes `>`\n\t\t- `&quot;` becomes `\"`\n\t\t- `&#039;` becomes `'`\n\t**/\n\tpublic static function htmlUnescape( s : String ) : String {\n\t\treturn s.split(\"&gt;\").join(\">\").split(\"&lt;\").join(\"<\").split(\"&quot;\").join('\"').split(\"&#039;\").join(\"'\").split(\"&amp;\").join(\"&\");\n\t}\n\n\t/**\n\t\tTells if the string `s` starts with the string `start`.\n\n\t\tIf `start` is `null`, the result is unspecified.\n\n\t\tIf `start` is the empty String `\"\"`, the result is true.\n\t**/\n\tpublic static #if (cs || java) inline #end function startsWith( s : String, start : String ) : Bool {\n\t\t#if java\n\t\treturn untyped s.startsWith(start);\n\t\t#elseif cs\n\t\treturn untyped s.StartsWith(start);\n\t\t#elseif cpp\n\t\tif (s.length<start.length)\n\t\t\treturn false;\n\t\tvar p0 = s.c_str();\n\t\tvar p1 = start.c_str();\n\t\tfor(i in 0...start.length)\n\t\t\tif ( p0.at(i) != p1.at(i) )\n\t\t\t\treturn false;\n\t\treturn true;\n\t\t#elseif hl\n\t\treturn @:privateAccess (s.length >= start.length && s.bytes.compare(0,start.bytes,0,start.length<<1) == 0);\n\t\t#else\n\t\treturn( s.length >= start.length && s.substr(0, start.length) == start );\n\t\t#end\n\t}\n\n\t/**\n\t\tTells if the string `s` ends with the string `end`.\n\n\t\tIf `end` is `null`, the result is unspecified.\n\n\t\tIf `end` is the empty String `\"\"`, the result is true.\n\t**/\n\tpublic static #if (cs || java) inline #end function endsWith( s : String, end : String ) : Bool {\n\t\t#if java\n\t\treturn untyped s.endsWith(end);\n\t\t#elseif cs\n\t\treturn untyped s.EndsWith(end);\n\t\t#elseif cpp\n\t\tif (s.length<end.length)\n\t\t\treturn false;\n\t\tvar p0 = s.c_str().add( s.length-end.length );\n\t\tvar p1 = end.c_str();\n\t\tfor(i in 0...end.length)\n\t\t\tif ( p0.at(i) != p1.at(i) )\n\t\t\t\treturn false;\n\t\treturn true;\n\t\t#elseif hl\n\t\tvar elen = end.length;\n\t\tvar slen = s.length;\n\t\treturn @:privateAccess (slen >= elen && s.bytes.compare((slen - elen) << 1, end.bytes, 0, elen << 1) == 0);\n\t\t#else\n\t\tvar elen = end.length;\n\t\tvar slen = s.length;\n\t\treturn( slen >= elen && s.substr(slen - elen, elen) == end );\n\t\t#end\n\t}\n\n\t/**\n\t\tTells if the character in the string `s` at position `pos` is a space.\n\n\t\tA character is considered to be a space character if its character code\n\t\tis 9,10,11,12,13 or 32.\n\n\t\tIf `s` is the empty String `\"\"`, or if pos is not a valid position within\n\t\t`s`, the result is false.\n\t**/\n\tpublic static function isSpace( s : String, pos : Int ) : Bool {\n\t\t#if (python || lua)\n\t\tif (s.length == 0 || pos < 0 || pos >= s.length) return false;\n\t\t#end\n\t\tvar c = s.charCodeAt( pos );\n\t\treturn (c > 8 && c < 14) || c == 32;\n\t}\n\n\t/**\n\t\tRemoves leading space characters of `s`.\n\n\t\tThis function internally calls `isSpace()` to decide which characters to\n\t\tremove.\n\n\t\tIf `s` is the empty String `\"\"` or consists only of space characters, the\n\t\tresult is the empty String `\"\"`.\n\t**/\n\tpublic #if cs inline #end static function ltrim( s : String ) : String {\n\t\t#if cs\n\t\treturn untyped s.TrimStart();\n\t\t#else\n\t\tvar l = s.length;\n\t\tvar r = 0;\n\t\twhile( r < l && isSpace(s,r) ){\n\t\t\tr++;\n\t\t}\n\t\tif( r > 0 )\n\t\t\treturn s.substr(r, l-r);\n\t\telse\n\t\t\treturn s;\n\t\t#end\n\t}\n\n\t/**\n\t\tRemoves trailing space characters of `s`.\n\n\t\tThis function internally calls `isSpace()` to decide which characters to\n\t\tremove.\n\n\t\tIf `s` is the empty String `\"\"` or consists only of space characters, the\n\t\tresult is the empty String `\"\"`.\n\t**/\n\tpublic #if cs inline #end static function rtrim( s : String ) : String {\n\t\t#if cs\n\t\treturn untyped s.TrimEnd();\n\t\t#else\n\t\tvar l = s.length;\n\t\tvar r = 0;\n\t\twhile( r < l && isSpace(s,l-r-1) ){\n\t\t\tr++;\n\t\t}\n\t\tif( r > 0 ){\n\t\t\treturn s.substr(0, l-r);\n\t\t}else{\n\t\t\treturn s;\n\t\t}\n\t\t#end\n\t}\n\n\t/**\n\t\tRemoves leading and trailing space characters of `s`.\n\n\t\tThis is a convenience function for `ltrim(rtrim(s))`.\n\t**/\n\tpublic #if (cs || java) inline #end static function trim( s : String ) : String {\n\t\t#if cs\n\t\treturn untyped s.Trim();\n\t\t#elseif java\n\t\treturn untyped s.trim();\n\t\t#else\n\t\treturn ltrim(rtrim(s));\n\t\t#end\n\t}\n\n\t/**\n\t\tConcatenates `c` to `s` until `s.length` is at least `l`.\n\n\t\tIf `c` is the empty String `\"\"` or if `l` does not exceed `s.length`,\n\t\t`s` is returned unchanged.\n\n\t\tIf `c.length` is 1, the resulting String length is exactly `l`.\n\n\t\tOtherwise the length may exceed `l`.\n\n\t\tIf `c` is null, the result is unspecified.\n\t**/\n\tpublic static function lpad( s : String, c : String, l : Int ) : String {\n\t\tif (c.length <= 0)\n\t\t\treturn s;\n\n\t\twhile (s.length < l) {\n\t\t\ts = c + s;\n\t\t}\n\t\treturn s;\n\t}\n\n\t/**\n\t\tAppends `c` to `s` until `s.length` is at least `l`.\n\n\t\tIf `c` is the empty String `\"\"` or if `l` does not exceed `s.length`,\n\t\t`s` is returned unchanged.\n\n\t\tIf `c.length` is 1, the resulting String length is exactly `l`.\n\n\t\tOtherwise the length may exceed `l`.\n\n\t\tIf `c` is null, the result is unspecified.\n\t**/\n\tpublic static function rpad( s : String, c : String, l : Int ) : String {\n\t\tif (c.length <= 0)\n\t\t\treturn s;\n\n\t\twhile (s.length < l) {\n\t\t\ts = s + c;\n\t\t}\n\t\treturn s;\n\t}\n\n\t/**\n\t\tReplace all occurrences of the String `sub` in the String `s` by the\n\t\tString `by`.\n\n\t\tIf `sub` is the empty String `\"\"`, `by` is inserted after each character\n\t\tof `s`. If `by` is also the empty String `\"\"`, `s` remains unchanged.\n\n\t\tThis is a convenience function for `s.split(sub).join(by)`.\n\n\t\tIf `sub` or `by` are null, the result is unspecified.\n\t**/\n\tpublic static function replace( s : String, sub : String, by : String ) : String {\n\t\t#if java\n\t\tif (sub.length == 0)\n\t\t\treturn s.split(sub).join(by);\n\t\telse\n\t\t\treturn untyped s.replace(sub, by);\n\t\t#elseif cs\n\t\tif (sub.length == 0)\n\t\t\treturn s.split(sub).join(by);\n\t\telse\n\t\t\treturn untyped s.Replace(sub, by);\n\t\t#else\n\t\treturn s.split(sub).join(by);\n\t\t#end\n\t}\n\n\t/**\n\t\tEncodes `n` into a hexadecimal representation.\n\n\t\tIf `digits` is specified, the resulting String is padded with \"0\" until\n\t\tits `length` equals `digits`.\n\t**/\n\tpublic static function hex( n : Int, ?digits : Int ) {\n\t\t#if flash\n\t\t\tvar n : UInt = n;\n\t\t\tvar s : String = untyped n.toString(16);\n\t\t\ts = s.toUpperCase();\n\t\t#else\n\t\t\tvar s = \"\";\n\t\t\tvar hexChars = \"0123456789ABCDEF\";\n\t\t\tdo {\n\t\t\t\ts = hexChars.charAt(n&15) + s;\n\t\t\t\tn >>>= 4;\n\t\t\t} while( n > 0 );\n\t\t#end\n\t\t#if python\n\t\tif (digits != null && s.length < digits) {\n\t\t\tvar diff = digits - s.length;\n\t\t\tfor (_ in 0...diff) {\n\t\t\t\ts = \"0\" + s;\n\t\t\t}\n\t\t}\n\t\t#else\n\t\tif( digits != null )\n\t\t\twhile( s.length < digits )\n\t\t\t\ts = \"0\"+s;\n\t\t#end\n\t\treturn s;\n\t}\n\n\t/**\n\t\tReturns the character code at position `index` of String `s`, or an\n\t\tend-of-file indicator at if `position` equals `s.length`.\n\n\t\tThis method is faster than `String.charCodeAt()` on some platforms, but\n\t\tthe result is unspecified if `index` is negative or greater than\n\t\t`s.length`.\n\n\t\tEnd of file status can be checked by calling `StringTools.isEof()` with\n\t\tthe returned value as argument.\n\n\t\tThis operation is not guaranteed to work if `s` contains the `\\0`\n\t\tcharacter.\n\t**/\n\tpublic static inline function fastCodeAt( s : String, index : Int ) : Int {\n\t\t#if neko\n\t\treturn untyped __dollar__sget(s.__s, index);\n\t\t#elseif cpp\n\t\treturn untyped s.cca(index);\n\t\t#elseif flash\n\t\treturn untyped s.cca(index);\n\t\t#elseif java\n\t\treturn ( index < s.length ) ? cast(_charAt(s, index), Int) : -1;\n\t\t#elseif cs\n\t\treturn ( cast(index, UInt) < s.length ) ? cast(s[index], Int) : -1;\n\t\t#elseif js\n\t\treturn (untyped s).charCodeAt(index);\n\t\t#elseif python\n\t\treturn if (index >= s.length) -1 else python.internal.UBuiltins.ord(python.Syntax.arrayAccess(s, index));\n\t\t#elseif hl\n\t\treturn @:privateAccess s.bytes.getUI16(index << 1);\n\t\t#elseif lua\n\t\treturn lua.NativeStringTools.byte(s,index+1);\n\t\t#else\n\t\treturn untyped s.cca(index);\n\t\t#end\n\t}\n\n\t/*\n\t\tTells if `c` represents the end-of-file (EOF) character.\n\t*/\n\t@:noUsing public static inline function isEof( c : Int ) : Bool {\n\t\t#if (flash || cpp || hl)\n\t\treturn c == 0;\n\t\t#elseif js\n\t\treturn c != c; // fast NaN\n\t\t#elseif (neko || lua)\n\t\treturn c == null;\n\t\t#elseif cs\n\t\treturn c == -1;\n\t\t#elseif java\n\t\treturn c == -1;\n\t\t#elseif python\n\t\treturn c == -1;\n\t\t#else\n\t\treturn false;\n\t\t#end\n\t}\n\n\t/**\n\t\tReturns a String that can be used as a single command line argument\n\t\ton Unix.\n\t\tThe input will be quoted, or escaped if necessary.\n\t*/\n\tpublic static function quoteUnixArg(argument:String):String {\n\t\t// Based on cpython's shlex.quote().\n\t\t// https://hg.python.org/cpython/file/a3f076d4f54f/Lib/shlex.py#l278\n\n\t\tif (argument == \"\")\n\t\t\treturn \"''\";\n\n\t\tif (!~/[^a-zA-Z0-9_@%+=:,.\\/-]/.match(argument))\n\t\t\treturn argument;\n\n\t\t// use single quotes, and put single quotes into double quotes\n\t\t// the string $'b is then quoted as '$'\"'\"'b'\n\t\treturn \"'\" + replace(argument, \"'\", \"'\\\"'\\\"'\") + \"'\";\n\t}\n\n\t/**\n\t\tCharacter codes of the characters that will be escaped by `quoteWinArg(_, true)`.\n\t*/\n\tpublic static var winMetaCharacters = [\" \".code, \"(\".code, \")\".code, \"%\".code, \"!\".code, \"^\".code, \"\\\"\".code, \"<\".code, \">\".code, \"&\".code, \"|\".code, \"\\n\".code, \"\\r\".code, \",\".code, \";\".code];\n\n\t/**\n\t\tReturns a String that can be used as a single command line argument\n\t\ton Windows.\n\t\tThe input will be quoted, or escaped if necessary, such that the output\n\t\twill be parsed as a single argument using the rule specified in\n\t\thttp://msdn.microsoft.com/en-us/library/ms880421\n\n\t\tExamples:\n\t\t```\n\t\tquoteWinArg(\"abc\") == \"abc\";\n\t\tquoteWinArg(\"ab c\") == '\"ab c\"';\n\t\t```\n\t*/\n\tpublic static function quoteWinArg(argument:String, escapeMetaCharacters:Bool):String {\n\t\t// If there is no space, tab, back-slash, or double-quotes, and it is not an empty string.\n\t\tif (!~/^[^ \\t\\\\\"]+$/.match(argument)) {\n\n\t\t\t// Based on cpython's subprocess.list2cmdline().\n\t\t\t// https://hg.python.org/cpython/file/50741316dd3a/Lib/subprocess.py#l620\n\n\t\t\tvar result = new StringBuf();\n\t\t\tvar needquote = argument.indexOf(\" \") != -1 || argument.indexOf(\"\\t\") != -1 || argument == \"\";\n\n\t\t\tif (needquote)\n\t\t\t\tresult.add('\"');\n\n\t\t\tvar bs_buf = new StringBuf();\n\t\t\tfor (i in 0...argument.length) {\n\t\t\t\tswitch (argument.charCodeAt(i)) {\n\t\t\t\t\tcase \"\\\\\".code:\n\t\t\t\t\t\t// Don't know if we need to double yet.\n\t\t\t\t\t\tbs_buf.add(\"\\\\\");\n\t\t\t\t\tcase '\"'.code:\n\t\t\t\t\t\t// Double backslashes.\n\t\t\t\t\t\tvar bs = bs_buf.toString();\n\t\t\t\t\t\tresult.add(bs);\n\t\t\t\t\t\tresult.add(bs);\n\t\t\t\t\t\tbs_buf = new StringBuf();\n\t\t\t\t\t\tresult.add('\\\\\"');\n\t\t\t\t\tcase c:\n\t\t\t\t\t\t// Normal char\n\t\t\t\t\t\tif (bs_buf.length > 0) {\n\t\t\t\t\t\t\tresult.add(bs_buf.toString());\n\t\t\t\t\t\t\tbs_buf = new StringBuf();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult.addChar(c);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add remaining backslashes, if any.\n\t\t\tresult.add(bs_buf.toString());\n\n\t\t\tif (needquote) {\n\t\t\t\tresult.add(bs_buf.toString());\n\t\t\t\tresult.add('\"');\n\t\t\t}\n\n\t\t\targument = result.toString();\n\t\t}\n\n\t\tif (escapeMetaCharacters) {\n\t\t\tvar result = new StringBuf();\n\t\t\tfor (i in 0...argument.length) {\n\t\t\t\tvar c = argument.charCodeAt(i);\n\t\t\t\tif (winMetaCharacters.indexOf(c) >= 0) {\n\t\t\t\t\tresult.addChar(\"^\".code);\n\t\t\t\t}\n\t\t\t\tresult.addChar(c);\n\t\t\t}\n\t\t\treturn result.toString();\n\t\t} else {\n\t\t\treturn argument;\n\t\t}\n\t}\n\n\t#if java\n\tprivate static inline function _charAt(str:String, idx:Int):java.StdTypes.Char16 return untyped str._charAt(idx);\n\t#end\n\n\t#if neko\n\tprivate static var _urlEncode = neko.Lib.load(\"std\",\"url_encode\",1);\n\tprivate static var _urlDecode = neko.Lib.load(\"std\",\"url_decode\",1);\n\t#end\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\nenum ValueType {\n\tTNull;\n\tTInt;\n\tTFloat;\n\tTBool;\n\tTObject;\n\tTFunction;\n\tTClass( c : Class<Dynamic> );\n\tTEnum( e : Enum<Dynamic> );\n\tTUnknown;\n}\n\n@:coreApi class Type {\n\n\tpublic static inline function getClass<T>( o : T ) : Class<T> {\n\t\treturn if (o == null) null else @:privateAccess js.Boot.getClass(o);\n\t}\n\n\tpublic static function getEnum( o : EnumValue ) : Enum<Dynamic> untyped {\n\t\tif( o == null )\n\t\t\treturn null;\n\t\treturn o.__enum__;\n\t}\n\n\tpublic static function getSuperClass( c : Class<Dynamic> ) : Class<Dynamic> untyped {\n\t\treturn c.__super__;\n\t}\n\n\n\tpublic static function getClassName( c : Class<Dynamic> ) : String {\n\t\tvar a : Array<String> = untyped c.__name__;\n\t\tif (a == null)\n\t\t\treturn null;\n\t\treturn a.join(\".\");\n\t}\n\n\tpublic static function getEnumName( e : Enum<Dynamic> ) : String {\n\t\tvar a : Array<String> = untyped e.__ename__;\n\t\treturn a.join(\".\");\n\t}\n\n\tpublic static function resolveClass( name : String ) : Class<Dynamic> untyped {\n\t\tvar cl : Class<Dynamic> = $hxClasses[name];\n\t\t// ensure that this is a class\n\t\tif( cl == null || !js.Boot.isClass(cl) )\n\t\t\treturn null;\n\t\treturn cl;\n\t}\n\n\tpublic static function resolveEnum( name : String ) : Enum<Dynamic> untyped {\n\t\tvar e : Dynamic = $hxClasses[name];\n\t\t// ensure that this is an enum\n\t\tif( e == null || !js.Boot.isEnum(e) )\n\t\t\treturn null;\n\t\treturn e;\n\t}\n\n\tpublic static function createInstance<T>( cl : Class<T>, args : Array<Dynamic> ) : T untyped {\n\t\tswitch( args.length ) {\n\t\tcase 0:\n\t\t\treturn __new__(cl);\n\t\tcase 1:\n\t\t\treturn __new__(cl,args[0]);\n\t\tcase 2:\n\t\t\treturn __new__(cl,args[0],args[1]);\n\t\tcase 3:\n\t\t\treturn __new__(cl,args[0],args[1],args[2]);\n\t\tcase 4:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3]);\n\t\tcase 5:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4]);\n\t\tcase 6:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4],args[5]);\n\t\tcase 7:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4],args[5],args[6]);\n\t\tcase 8:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7]);\n\t\tcase 9:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8]);\n\t\tcase 10:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9]);\n\t\tcase 11:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10]);\n\t\tcase 12:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10],args[11]);\n\t\tcase 13:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10],args[11],args[12]);\n\t\tcase 14:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10],args[11],args[12],args[13]);\n\t\tdefault:\n\t\t\tthrow \"Too many arguments\";\n\t\t}\n\t}\n\n\tpublic static function createEmptyInstance<T>( cl : Class<T> ) : T untyped {\n\t\t__js__(\"function empty() {}; empty.prototype = cl.prototype\");\n\t\treturn __js__(\"new empty()\");\n\t}\n\n\tpublic static function createEnum<T>( e : Enum<T>, constr : String, ?params : Array<Dynamic> ) : T {\n\t\tvar f:Dynamic = Reflect.field(e,constr);\n\t\tif( f == null ) throw \"No such constructor \"+constr;\n\t\tif( Reflect.isFunction(f) ) {\n\t\t\tif( params == null ) throw \"Constructor \"+constr+\" need parameters\";\n\t\t\treturn Reflect.callMethod(e,f,params);\n\t\t}\n\t\tif( params != null && params.length != 0 )\n\t\t\tthrow \"Constructor \"+constr+\" does not need parameters\";\n\t\treturn f;\n\t}\n\n\tpublic static function createEnumIndex<T>( e : Enum<T>, index : Int, ?params : Array<Dynamic> ) : T {\n\t\tvar c : String = (untyped e.__constructs__)[index];\n\t\tif( c == null ) throw index+\" is not a valid enum constructor index\";\n\t\treturn createEnum(e,c,params);\n\t}\n\n\tpublic static function getInstanceFields( c : Class<Dynamic> ) : Array<String> {\n\t\tvar a = [];\n\t\tuntyped __js__(\"for(var i in c.prototype) a.push(i)\");\n\t\ta.remove(\"__class__\");\n\t\ta.remove(\"__properties__\");\n\t\treturn a;\n\t}\n\n\tpublic static function getClassFields( c : Class<Dynamic> ) : Array<String> {\n\t\tvar a = Reflect.fields(c);\n\t\ta.remove(\"__name__\");\n\t\ta.remove(\"__interfaces__\");\n\t\ta.remove(\"__properties__\");\n\t\ta.remove(\"__super__\");\n\t\ta.remove(\"__meta__\");\n\t\ta.remove(\"prototype\");\n\t\treturn a;\n\t}\n\n\tpublic static inline function getEnumConstructs( e : Enum<Dynamic> ) : Array<String> {\n\t\treturn ((cast e).__constructs__ : Array<String>).copy();\n\t}\n\n\tpublic static function typeof( v : Dynamic ) : ValueType untyped {\n\t\tswitch( __js__(\"typeof\")(v) ) {\n\t\tcase \"boolean\": return TBool;\n\t\tcase \"string\": return TClass(String);\n\t\tcase \"number\":\n\t\t\t// this should handle all cases : NaN, +/-Inf and Floats outside range\n\t\t\tif( Math.ceil(v) == v%2147483648.0 )\n\t\t\t\treturn TInt;\n\t\t\treturn TFloat;\n\t\tcase \"object\":\n\t\t\tif( v == null )\n\t\t\t\treturn TNull;\n\t\t\tvar e = v.__enum__;\n\t\t\tif( e != null )\n\t\t\t\treturn TEnum(e);\n\t\t\tvar c = js.Boot.getClass(v);\n\t\t\tif( c != null )\n\t\t\t\treturn TClass(c);\n\t\t\treturn TObject;\n\t\tcase \"function\":\n\t\t\tif( js.Boot.isClass(v) || js.Boot.isEnum(v) )\n\t\t\t\treturn TObject;\n\t\t\treturn TFunction;\n\t\tcase \"undefined\":\n\t\t\treturn TNull;\n\t\tdefault:\n\t\t\treturn TUnknown;\n\t\t}\n\t}\n\n\tpublic static function enumEq<T>( a : T, b : T ) : Bool untyped {\n\t\tif( a == b )\n\t\t\treturn true;\n\t\ttry {\n\t\t\tif( a[0] != b[0] )\n\t\t\t\treturn false;\n\t\t\tfor( i in 2...a.length )\n\t\t\t\tif( !enumEq(a[i],b[i]) )\n\t\t\t\t\treturn false;\n\t\t\tvar e = a.__enum__;\n\t\t\tif( e != b.__enum__ || e == null )\n\t\t\t\treturn false;\n\t\t} catch( e : Dynamic ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tpublic inline static function enumConstructor( e : EnumValue ) : String {\n\t\treturn untyped e[0];\n\t}\n\n\tpublic inline static function enumParameters( e : EnumValue ) : Array<Dynamic> {\n\t\treturn untyped e.slice(2);\n\t}\n\n\tpublic inline static function enumIndex( e : EnumValue ) : Int {\n\t\treturn untyped e[1];\n\t}\n\n\tpublic inline static function allEnums<T>( e : Enum<T> ) : Array<T> {\n\t\treturn untyped __define_feature__(\"Type.allEnums\", e.__empty_constructs__);\n\t}\n\n}\n\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n\tXml node types.\n\n\t@see https://haxe.org/manual/std-Xml.html\n**/\n@:enum abstract XmlType(Int) {\n\t/**\n\t\tRepresents an XML element type.\n\t**/\n\tvar Element = 0;\n\t/**\n\t\tRepresents XML parsed character data type.\n\t**/\n\tvar PCData = 1;\n\t/**\n\t\tRepresents XML character data type.\n\t**/\n\tvar CData = 2;\n\t/**\n\t\tRepresents an XML comment type.\n\t**/\n\tvar Comment = 3;\n\t/**\n\t\tRepresents an XML doctype element type.\n\t**/\n\tvar DocType = 4;\n\t/**\n\t \tRepresents an XML processing instruction type.\n\t**/\n\tvar ProcessingInstruction = 5;\n\t/**\n\t\tRepresents an XML document type.\n\t**/\n\tvar Document = 6;\n}\n\n/**\n\tCross-platform Xml API.\n\n\t@see https://haxe.org/manual/std-Xml.html\n**/\nclass Xml {\n\t/**\n\t\tXML element type.\n\t**/\n\tstatic public var Element(default,never) = XmlType.Element;\n\t/**\n\t\tXML parsed character data type.\n\t**/\n\tstatic public var PCData(default,never) = XmlType.PCData;\n\t/**\n\t\tXML character data type.\n\t**/\n\tstatic public var CData(default,never) = XmlType.CData;\n\t/**\n\t\tXML comment type.\n\t**/\n\tstatic public var Comment(default,never) = XmlType.Comment;\n\t/**\n\t\tXML doctype element type.\n\t**/\n\tstatic public var DocType(default,never) = XmlType.DocType;\n\t/**\n\t \tXML processing instruction type.\n\t**/\n\tstatic public var ProcessingInstruction(default,never) = XmlType.ProcessingInstruction;\n\t/**\n\t\tXML document type.\n\t**/\n\tstatic public var Document(default,never) = XmlType.Document;\n\n\t/**\n\t\tParses the String into an Xml document.\n\t**/\n\tstatic public function parse( str : String ) : Xml {\n\t\treturn haxe.xml.Parser.parse(str);\n\t}\n\n\t/**\n\t\tReturns the type of the Xml Node. This should be used before\n\t\taccessing other functions since some might raise an exception\n\t\tif the node type is not correct.\n\t**/\n\tpublic var nodeType(default, null) : XmlType;\n\n\t/**\n\t\tReturns the node name of an Element.\n\t**/\n\t@:isVar public var nodeName(get, set) : String;\n\n\t/**\n\t\tReturns the node value. Only works if the Xml node is not an Element or a Document.\n\t**/\n\t@:isVar public var nodeValue(get, set) : String;\n\n\t/**\n\t\tReturns the parent object in the Xml hierarchy.\n\t\tThe parent can be `null`, an Element or a Document.\n\t**/\n\tpublic var parent(default, null) : Xml;\n\n\tvar children:Array<Xml>;\n\tvar attributeMap:Map<String, String>;\n\n\t#if !cppia inline #end function get_nodeName() {\n\t\tif (nodeType != Element) {\n\t\t\tthrow 'Bad node type, expected Element but found $nodeType';\n\t\t}\n\t\treturn nodeName;\n\t}\n\n\t#if !cppia inline #end function set_nodeName(v) {\n\t\tif (nodeType != Element) {\n\t\t\tthrow 'Bad node type, expected Element but found $nodeType';\n\t\t}\n\t\treturn this.nodeName = v;\n\t}\n\n\t#if !cppia inline #end function get_nodeValue() {\n\t\tif (nodeType == Document || nodeType == Element) {\n\t\t\tthrow 'Bad node type, unexpected $nodeType';\n\t\t}\n\t\treturn nodeValue;\n\t}\n\n\t#if !cppia inline #end function set_nodeValue(v) {\n\t\tif (nodeType == Document || nodeType == Element) {\n\t\t\tthrow 'Bad node type, unexpected $nodeType';\n\t\t}\n\t\treturn this.nodeValue = v;\n\t}\n\n\t/**\n\t\tCreates a node of the given type.\n\t**/\n\tstatic public function createElement( name : String ) : Xml {\n\t\tvar xml = new Xml(Element);\n\t\txml.nodeName = name;\n\t\treturn xml;\n\t}\n\n\t/**\n\t\tCreates a node of the given type.\n\t**/\n\tstatic public function createPCData( data : String ) : Xml {\n\t\tvar xml = new Xml(PCData);\n\t\txml.nodeValue = data;\n\t\treturn xml;\n\t}\n\n\t/**\n\t\tCreates a node of the given type.\n\t**/\n\tstatic public function createCData( data : String ) : Xml {\n\t\tvar xml = new Xml(CData);\n\t\txml.nodeValue = data;\n\t\treturn xml;\n\t}\n\n\t/**\n\t\tCreates a node of the given type.\n\t**/\n\tstatic public function createComment( data : String ) : Xml {\n\t\tvar xml = new Xml(Comment);\n\t\txml.nodeValue = data;\n\t\treturn xml;\n\t}\n\n\t/**\n\t\tCreates a node of the given type.\n\t**/\n\tstatic public function createDocType( data : String ) : Xml {\n\t\tvar xml = new Xml(DocType);\n\t\txml.nodeValue = data;\n\t\treturn xml;\n\t}\n\n\t/**\n\t\tCreates a node of the given type.\n\t**/\n\tstatic public function createProcessingInstruction( data : String ) : Xml {\n\t\tvar xml = new Xml(ProcessingInstruction);\n\t\txml.nodeValue = data;\n\t\treturn xml;\n\t}\n\n\t/**\n\t\tCreates a node of the given type.\n\t**/\n\tstatic public function createDocument() : Xml {\n\t\treturn new Xml(Document);\n\t}\n\n\t/**\n\t\tGet the given attribute of an Element node. Returns `null` if not found.\n\t\tAttributes are case-sensitive.\n\t**/\n\tpublic function get( att : String ) : String {\n\t\tif (nodeType != Element) {\n\t\t\tthrow 'Bad node type, expected Element but found $nodeType';\n\t\t}\n\t\treturn attributeMap[att];\n\t}\n\n\t/**\n\t\tSet the given attribute value for an Element node.\n\t\tAttributes are case-sensitive.\n\t**/\n\tpublic function set( att : String, value : String ) : Void {\n\t\tif (nodeType != Element) {\n\t\t\tthrow 'Bad node type, expected Element but found $nodeType';\n\t\t}\n\t\tattributeMap.set(att, value);\n\t}\n\n\t/**\n\t\tRemoves an attribute for an Element node.\n\t\tAttributes are case-sensitive.\n\t**/\n\tpublic function remove( att : String ) : Void {\n\t\tif (nodeType != Element) {\n\t\t\tthrow 'Bad node type, expected Element but found $nodeType';\n\t\t}\n\t\tattributeMap.remove(att);\n\t}\n\n\t/**\n\t\tTells if the Element node has a given attribute.\n\t\tAttributes are case-sensitive.\n\t**/\n\tpublic function exists( att : String ) : Bool {\n\t\tif (nodeType != Element) {\n\t\t\tthrow 'Bad node type, expected Element but found $nodeType';\n\t\t}\n\t\treturn attributeMap.exists(att);\n\t}\n\n\t/**\n\t\tReturns an `Iterator` on all the attribute names.\n\t**/\n\tpublic function attributes() : Iterator<String> {\n\t\tif (nodeType != Element) {\n\t\t\tthrow 'Bad node type, expected Element but found $nodeType';\n\t\t}\n\t\treturn attributeMap.keys();\n\t}\n\n\t/**\n\t\tReturns an iterator of all child nodes.\n\t\tOnly works if the current node is an Element or a Document.\n\t**/\n\tpublic #if !cppia inline #end function iterator() : Iterator<Xml> {\n\t\tensureElementType();\n\t\treturn children.iterator();\n\t}\n\n\t/**\n\t\tReturns an iterator of all child nodes which are Elements.\n\t\tOnly works if the current node is an Element or a Document.\n\t**/\n\tpublic function elements() : Iterator<Xml> {\n\t\tensureElementType();\n\t\tvar ret = [for (child in children) if (child.nodeType == Element) child];\n\t\treturn ret.iterator();\n\t}\n\n\t/**\n\t\tReturns an iterator of all child nodes which are Elements with the given nodeName.\n\t\tOnly works if the current node is an Element or a Document.\n\t**/\n\tpublic function elementsNamed( name : String ) : Iterator<Xml> {\n\t\tensureElementType();\n\t\tvar ret = [for (child in children) if (child.nodeType == Element && child.nodeName == name) child];\n\t\treturn ret.iterator();\n\t}\n\n\t/**\n\t\tReturns the first child node.\n\t**/\n\tpublic #if !cppia inline #end function firstChild() : Xml {\n\t\tensureElementType();\n\t\treturn children[0];\n\t}\n\n\t/**\n\t\tReturns the first child node which is an Element.\n\t**/\n\tpublic function firstElement() : Xml {\n\t\tensureElementType();\n\t\tfor (child in children) {\n\t\t\tif (child.nodeType == Element) {\n\t\t\t\treturn child;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\t/**\n\t\tAdds a child node to the Document or Element.\n\t\tA child node can only be inside one given parent node, which is indicated by the `parent` property.\n\t\tIf the child is already inside this Document or Element, it will be moved to the last position among the Document or Element's children.\n\t\tIf the child node was previously inside a different node, it will be moved to this Document or Element.\n\t**/\n\tpublic function addChild( x : Xml ) : Void {\n\t\tensureElementType();\n\t\tif (x.parent != null) {\n\t\t\tx.parent.removeChild(x);\n\t\t}\n\t\tchildren.push(x);\n\t\tx.parent = this;\n\t}\n\n\t/**\n\t\tRemoves a child from the Document or Element.\n\t\tReturns true if the child was successfuly removed.\n\t**/\n\tpublic function removeChild( x : Xml ) : Bool {\n\t\tensureElementType();\n\t\tif (children.remove(x)) {\n\t\t\tx.parent = null;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t\tInserts a child at the given position among the other childs.\n\t\tA child node can only be inside one given parent node, which is indicated by the [parent] property.\n\t\tIf the child is already inside this Document or Element, it will be moved to the new position among the Document or Element's children.\n\t\tIf the child node was previously inside a different node, it will be moved to this Document or Element.\n\t**/\n\tpublic function insertChild( x : Xml, pos : Int ) : Void {\n\t\tensureElementType();\n\t\tif (x.parent != null) {\n\t\t\tx.parent.children.remove(x);\n\t\t}\n\t\tchildren.insert(pos, x);\n\t\tx.parent = this;\n\t}\n\n\t/**\n\t\tReturns a String representation of the Xml node.\n\t**/\n\tpublic #if !cppia inline #end function toString() : String {\n\t\treturn haxe.xml.Printer.print(this);\n\t}\n\n\tfunction new(nodeType:XmlType) {\n\t\tthis.nodeType = nodeType;\n\t\tchildren = [];\n\t\tattributeMap = new Map();\n\t}\n\n\tinline function ensureElementType() {\n\t\tif (nodeType != Document && nodeType != Element) {\n\t\t\tthrow 'Bad node type, expected Element or Document but found $nodeType';\n\t\t}\n\t}\n}\n","package backend;\n\nimport haxe.io.Path;\n\nusing StringTools;\n\nclass Audio #if !completion implements spec.Audio #end {\n\n/// Internal\n\n    var loopingStreams:Map<AudioHandle,Bool> = new Map();\n    var loopHandles:Map<AudioHandle,AudioHandle> = new Map();\n\n/// Lifecycle\n\n    public function new() {}\n\n/// Public API\n\n    public function load(path:String, ?options:LoadAudioOptions, done:AudioResource->Void):Void {\n\n        path = Path.isAbsolute(path) || path.startsWith('http://') || path.startsWith('https://') ?\n            path\n        :\n            Path.join([ceramic.App.app.settings.assetsPath, path]);\n\n        Luxe.resources.load_audio(path, {\n            is_stream: options != null ? options.stream : false\n        })\n        .then(function(audio:AudioResource) {\n            done(audio);\n        },\n        function(_) {\n            done(null);\n        });\n\n    } //load\n\n    inline public function destroy(audio:AudioResource):Void {\n\n        (audio:luxe.resource.Resource.AudioResource).destroy(true);\n\n    } //unload\n\n    public function play(audio:AudioResource, volume:Float = 0.5, pan:Float = 0, pitch:Float = 1, position:Float = 0, loop:Bool = false):AudioHandle {\n\n        if (!Luxe.audio.active) return -1;\n\n        var audioResource:luxe.resource.Resource.AudioResource = audio;\n        var isStream = audioResource.source.data.is_stream;\n\n        // These options are ignored on streamed sounds\n        // at the moment\n        if (isStream) {\n            position = 0;\n            pitch = 1;\n            pan = 0;\n        }\n\n        var handle:AudioHandle = null;\n        if (loop) {\n\n            /*if (true) {\n\n                // At the moment, looping a stream doesn't seem reliable in luxe/snow/openal.\n                // When looping a stream, let's manage ourselve the loop by\n                // checking the position and playing again from start.\n\n                var duration = audioResource.source.duration();\n                handle = Luxe.audio.play(audioResource.source, volume, false);\n                var firstHandle = handle;\n                loopingStreams.set(handle, true);\n                var pos:Float = 0;\n\n                var onUpdate = null;\n                onUpdate = function(delta) {\n\n                    if (!Luxe.audio.active) return;\n\n                    if (loopingStreams.exists(handle)) {\n\n                        var playing = loopingStreams.get(handle);\n                        if (playing) {\n\n                            var instance = Luxe.audio.instance_of(handle);\n                            if (instance != null) {\n                                pos = Luxe.audio.position_of(handle);\n                                if (pos < duration) volume = Luxe.audio.volume_of(handle);\n\n                                if (pos >= duration - 1.0/60) {\n                                    // End of loop, start from 0 again\n                                    loopingStreams.remove(handle);\n                                    Luxe.audio.stop(handle);\n                                    handle = Luxe.audio.play(audioResource.source, volume, false);\n                                    loopingStreams.set(handle, true);\n                                    loopHandles.set(firstHandle, handle);\n                                }\n                            }\n                            else {\n                                // Sound instance was destroyed when looping (it can happen), restore it\n                                // Not perfect: the stream is resumed from the beginning regardless\n                                // of where it was stopped.\n                                loopingStreams.remove(handle);\n                                handle = Luxe.audio.play(audioResource.source, volume, false);\n                                loopingStreams.set(handle, true);\n                                loopHandles.set(firstHandle, handle);\n                            }\n                        }\n\n                    } else {\n                        ceramic.App.app.offUpdate(onUpdate);\n                    }\n\n                };\n                ceramic.App.app.onUpdate(onUpdate);\n\n            } else {*/\n                handle = Luxe.audio.loop(audioResource.source, volume, false);\n            //}\n\n        } else {\n            handle = Luxe.audio.play(audioResource.source, volume, false);\n        }\n\n        if (pan != 0) Luxe.audio.pan(handle, pan);\n        if (pitch != 1) Luxe.audio.pitch(handle, pitch);\n        if (position != 0) Luxe.audio.position(handle, position);\n\n        return handle;\n\n    } //play\n\n    public function pause(handle:AudioHandle):Void {\n                    \n        if (!Luxe.audio.active) return;\n        \n        if (loopHandles.exists(handle)) {\n            handle = loopHandles.get(handle);\n        }\n\n        if (loopingStreams.exists(handle)) {\n            loopingStreams.set(handle, false);\n        }\n\n        Luxe.audio.pause(handle);\n\n    } //pause\n\n    public function resume(handle:AudioHandle):Void {\n                    \n        if (!Luxe.audio.active) return;\n        \n        if (loopHandles.exists(handle)) {\n            handle = loopHandles.get(handle);\n        }\n\n        if (loopingStreams.exists(handle)) {\n            loopingStreams.set(handle, true);\n        }\n\n        Luxe.audio.unpause(handle);\n\n    } //resume\n\n    public function stop(handle:AudioHandle):Void {\n                    \n        if (!Luxe.audio.active) return;\n        \n        if (loopHandles.exists(handle)) {\n            var prevHandle = handle;\n            handle = loopHandles.get(handle);\n            loopHandles.remove(prevHandle);\n        }\n\n        loopingStreams.remove(handle);\n\n        Luxe.audio.stop(handle);\n\n    } //stop\n\n    public function getVolume(handle:AudioHandle):Float {\n                    \n        if (!Luxe.audio.active) return 0;\n        \n        if (loopHandles.exists(handle)) {\n            handle = loopHandles.get(handle);\n        }\n\n        return Luxe.audio.volume_of(handle);\n\n    } //getVolume\n\n    public function setVolume(handle:AudioHandle, volume:Float):Void {\n                    \n        if (!Luxe.audio.active) return;\n        \n        if (loopHandles.exists(handle)) {\n            handle = loopHandles.get(handle);\n        }\n\n        Luxe.audio.volume(handle, volume);\n\n    } //setVolume\n\n    public function getPan(handle:AudioHandle):Float {\n                    \n        if (!Luxe.audio.active) return 0;\n        \n        if (loopHandles.exists(handle)) {\n            handle = loopHandles.get(handle);\n        }\n\n        return Luxe.audio.pan_of(handle);\n\n    } //getPan\n\n    public function setPan(handle:AudioHandle, pan:Float):Void {\n                    \n        if (!Luxe.audio.active) return;\n        \n        if (loopHandles.exists(handle)) {\n            handle = loopHandles.get(handle);\n        }\n\n        Luxe.audio.pan(handle, pan);\n\n    } //setPan\n\n    public function getPitch(handle:AudioHandle):Float {\n                    \n        if (!Luxe.audio.active) return 1;\n        \n        if (loopHandles.exists(handle)) {\n            handle = loopHandles.get(handle);\n        }\n\n        return Luxe.audio.pitch_of(handle);\n\n    } //getPitch\n\n    public function setPitch(handle:AudioHandle, pitch:Float):Void {\n                    \n        if (!Luxe.audio.active) return;\n        \n        if (loopHandles.exists(handle)) {\n            handle = loopHandles.get(handle);\n        }\n\n        Luxe.audio.pitch(handle, pitch);\n\n    } //setPitch\n\n    public function getPosition(handle:AudioHandle):Float {\n                    \n        if (!Luxe.audio.active) return 0;\n        \n        if (loopHandles.exists(handle)) {\n            handle = loopHandles.get(handle);\n        }\n\n        return Luxe.audio.position_of(handle);\n\n    } //getPosition\n\n    public function setPosition(handle:AudioHandle, position:Float):Void {\n                    \n        if (!Luxe.audio.active) return;\n        \n        if (loopHandles.exists(handle)) {\n            handle = loopHandles.get(handle);\n        }\n\n        Luxe.audio.position(handle, position);\n\n    } //setPosition\n\n} //Audio","package backend;\n\n#if mac\nimport backend.NativeMac;\n#end\n\n@:allow(Main)\n@:allow(backend.Textures)\nclass Backend implements ceramic.Events #if !completion implements spec.Backend #end {\n\n/// Public API\n\n    public var info(default,null) = new backend.Info();\n\n    public var audio(default,null) = new backend.Audio();\n\n    public var draw(default,null) = new backend.Draw();\n\n    public var texts(default,null) = new backend.Texts();\n\n    public var images(default,null) = new backend.Images();\n\n    public var shaders(default,null) = new backend.Shaders();\n\n    public var screen(default,null) = new backend.Screen();\n\n    public function new() {}\n\n    public function init(app:ceramic.App) {\n\n#if mac\n        NativeMac.setAppleMomentumScrollSupported(false);\n#end\n\n    } //init\n\n/// Events\n\n    @event function ready();\n\n    @event function update(delta:Float);\n\n    @event function keyDown(key:ceramic.Key);\n    @event function keyUp(key:ceramic.Key);\n\n    @event function controllerAxis(controllerId:Int, axisId:Int, value:Float);\n    @event function controllerDown(controllerId:Int, buttonId:Int);\n    @event function controllerUp(controllerId:Int, buttonId:Int);\n    @event function controllerEnable(controllerId:Int, name:String);\n    @event function controllerDisable(controllerId:Int);\n\n/// Internal update logic\n\n    inline function willEmitUpdate(delta:Float) {\n\n        draw.begin();\n\n    } //willEmitUpdate\n\n    inline function didEmitUpdate(delta:Float) {\n\n        draw.end();\n\n    } //didEmitUpdate\n\n} //Backend\n","package backend;\n\n#if ceramic_batch_buffers\n\nimport backend.impl.CeramicBatcher;\n\n#end\n\nimport ceramic.RotateFrame;\nimport backend.Images.BatchedRenderTexture;\n\nusing ceramic.Extensions;\n\n@:allow(backend.Backend)\nclass Draw #if (!completion && !ceramic_batch_buffers) implements spec.Draw #end {\n\n#if ceramic_batch_buffers\n\n    var batcher:CeramicBatcher = null;\n\n/// Internal\n\n    #if !debug inline #end function begin():Void {\n\n        // Init batcher if needed\n        if (batcher == null) {\n\n            batcher = new CeramicBatcher(Luxe.renderer, 'ceramic_batcher', 16384);\n            batcher.layer = 2;\n\n            Luxe.renderer.add_batch(batcher);\n\n        }\n\n    } //begin\n\n    #if !debug inline #end function end():Void {\n\n        //\n\n    } //begin\n\n/// Public API\n\n    public function new() {}\n\n    inline public function getItem(visual:ceramic.Visual):VisualItem {\n\n        // The backend decides how each visual should be drawn.\n        // Instead of checking instance type at each draw iteration,\n        // The backend provides/computes a VisualItem object when\n        // a visual is instanciated that it can later re-use\n        // at each draw iteration to read/store per visual data.\n\n        if (Std.is(visual, ceramic.Quad)) {\n            return QUAD;\n        }\n        else if (Std.is(visual, ceramic.Mesh)) {\n            return MESH;\n        }\n        else {\n            return NONE;\n        }\n\n    } //getItem\n\n    public function draw(visuals:Array<ceramic.Visual>):Void {\n\n        batcher.ceramicVisuals = visuals;\n\n    } //draw\n\n#else\n\n/// Internal\n\n    var quadPool:Array<phoenix.geometry.QuadGeometry> = [];\n    var batchedQuadPoolLength:Int = 0;\n    var quadPoolLength:Int = 0;\n    var prevQuadPoolIndex:Int = 0;\n    var quadPoolIndex:Int = 0;\n\n    var meshPool:Array<phoenix.geometry.Geometry> = [];\n    var batchedMeshPoolLength:Int = 0;\n    var meshPoolLength:Int = 0;\n    var prevMeshPoolIndex:Int = 0;\n    var meshPoolIndex:Int = 0;\n\n    var vertexPool:Array<phoenix.geometry.Vertex> = [];\n    var vertexPoolLength:Int = 0;\n    var vertexPoolIndex:Int = 0;\n\n    #if !debug inline #end function begin():Void {\n\n        prevQuadPoolIndex = quadPoolIndex;\n        quadPoolIndex = 0;\n\n        prevMeshPoolIndex = meshPoolIndex;\n        meshPoolIndex = 0;\n\n        vertexPoolIndex = 0;\n\n    } //begin\n\n    #if !debug inline #end function end():Void {\n\n        // Remove unused geometries (if needed)\n        //\n        var i = quadPoolIndex;\n        batchedQuadPoolLength = quadPoolIndex;\n        while (i < quadPoolLength) {\n\n            var geom = quadPool.unsafeGet(i);\n            i++;\n\n            if (geom.batchers.length > 0) {\n                geom.batchers.unsafeGet(0).remove(geom);\n            }\n\n        }\n\n        // Remove unused meshes (if needed)\n        //\n        var i = meshPoolIndex;\n        batchedMeshPoolLength = meshPoolIndex;\n        while (i < meshPoolLength) {\n\n            var geom = meshPool.unsafeGet(i);\n            i++;\n\n            if (geom.batchers.length > 0) {\n                geom.batchers.unsafeGet(0).remove(geom);\n            }\n\n        }\n\n    } //end\n\n/// Public API\n\n    public function new() {}\n\n    inline public function getItem(visual:ceramic.Visual):VisualItem {\n\n        // The backend decides how each visual should be drawn.\n        // Instead of checking instance type at each draw iteration,\n        // The backend provides/computes a VisualItem object when\n        // a visual is instanciated that it can later re-use\n        // at each draw iteration to read/store per visual data.\n\n        if (Std.is(visual, ceramic.Quad)) {\n            return QUAD;\n        }\n        else if (Std.is(visual, ceramic.Mesh)) {\n            return MESH;\n        }\n        else {\n            return NONE;\n        }\n\n    } //getItem\n\n    public function draw(visuals:Array<ceramic.Visual>):Void {\n\n        if (!Luxe.core.auto_render) return;\n\n        var quad:ceramic.Quad;\n        var quadGeom:phoenix.geometry.QuadGeometry;\n        var rect = new luxe.Rectangle();\n        var clippingVisual:ceramic.Visual;\n        var clipRect:phoenix.Rectangle;\n        var divideNativeDensity = 1.0 / ceramic.App.app.screen.nativeDensity;\n        var isClipping:Bool = false;\n        var clipX:Float = 0;\n        var clipY:Float = 0;\n        var clipW:Float = 0;\n        var clipH:Float = 0;\n        var clipX2:Float = 0;\n        var clipY2:Float = 0;\n        var clipW2:Float = 0;\n        var clipH2:Float = 0;\n        var intersectLeft:Float = 0;\n        var intersectRight:Float = 0;\n        var intersectTop:Float = 0;\n        var intersectBottom:Float = 0;\n\n        var mesh:ceramic.Mesh;\n        var color:ceramic.AlphaColor = 0xFFFFFFFF;\n        var vertex:phoenix.geometry.Vertex;\n\n        var r:Float;\n        var g:Float;\n        var b:Float;\n        var a:Float;\n\n        var x:Float;\n        var y:Float;\n        var uvx:Float;\n        var uvy:Float;\n\n        var w:Float;\n        var h:Float;\n\n        var len:Int;\n        var i:Int;\n        var j:Int;\n\n        var depth:Float = 1;\n\n        var m:phoenix.Matrix;\n\n        var v:Array<phoenix.geometry.Vertex>;\n\n        var meshGeom:phoenix.geometry.Geometry;\n\n        // Draw visuals\n        for (visual in visuals) {\n\n            if (!visual.computedVisible) {\n                continue;\n            }\n\n            switch (visual.backendItem) {\n                \n                case QUAD:\n                    quad = cast visual;\n\n                    if (quad.transparent) {\n                        // Skip drawing\n                        continue;\n                    }\n\n                    // Update geometry values\n                    //\n                    if (quad.rotateFrame == RotateFrame.ROTATE_90) {\n                        w = quad.height;\n                        h = quad.width;\n                    } else {\n                        w = quad.width;\n                        h = quad.height;\n                    }\n\n                    // Update clipping and check if this should even be drawn\n                    //\n                    isClipping = false;\n                    if (quad.computedClipToBounds) {\n                        clippingVisual = quad.parent;\n                        while (true) {\n                            if (clippingVisual == null) break;\n                            if (clippingVisual.clipToBounds) {\n                                if (!isClipping) {\n                                    // Simple clipping\n                                    isClipping = true;\n                                    clipX = clippingVisual.tx;\n                                    clipY = clippingVisual.ty;\n                                    clipW = clippingVisual.width * clippingVisual.a;\n                                    clipH = clippingVisual.height * clippingVisual.d;\n                                }\n                                else {\n                                    // Nested clipping\n                                    clipX2 = clippingVisual.tx;\n                                    clipY2 = clippingVisual.ty;\n                                    clipW2 = clippingVisual.width * clippingVisual.a;\n                                    clipH2 = clippingVisual.height * clippingVisual.d;\n                                    intersectLeft = Math.max(clipX, clipX2);\n                                    intersectRight = Math.min(clipX + clipW, clipX2 + clipW2);\n                                    intersectTop = Math.max(clipY, clipY2);\n                                    intersectBottom = Math.min(clipY + clipH, clipY2 + clipH2);\n                                    if (intersectLeft <= intersectRight || intersectTop < intersectBottom) {\n                                        clipX = intersectLeft;\n                                        clipY = intersectTop;\n                                        clipW = intersectRight - intersectLeft;\n                                        clipH = intersectBottom - intersectTop;\n                                    } else {\n                                        clipX = 0;\n                                        clipY = 0;\n                                        clipW = 0;\n                                        clipH = 0;\n                                        break;\n                                    }\n                                }\n                            }\n                            else if (!clippingVisual.computedClipToBounds) break;\n                            clippingVisual = clippingVisual.parent;\n                        }\n                    }\n\n                    if (isClipping && (clipW == 0 || clipH == 0)) {\n                        // Skip drawing of out of bounds clipped quad\n                        continue;\n                    }\n\n                    // Get or create quad geometry\n                    //\n                    if (quadPoolIndex < quadPoolLength) {\n\n                        quadGeom = quadPool.unsafeGet(quadPoolIndex);\n\n                        // Assign custom shader (if any)\n                        if (quad.shader != null) {\n                            if (quadGeom.shader != quad.shader.backendItem) {\n                                quadGeom.shader = quad.shader.backendItem;\n                            }\n                        } else if (quadGeom.shader != null) {\n                            quadGeom.shader = null;\n                        }\n\n                        // Add to correct batcher\n                        if (quadPoolIndex >= batchedQuadPoolLength) {\n                            if (quad.computedRenderTarget != null) {\n                                var renderTexture:BatchedRenderTexture = cast quad.computedRenderTarget.backendItem;\n                                renderTexture.targetBatcher.add(quadGeom, true);\n                            }\n                            else {\n                                Luxe.renderer.batcher.add(quadGeom, true);\n                            }\n                        }\n                        // Or if already added, change the batcher if needed\n                        else if (quad.computedRenderTarget != null) {\n                            var renderTexture:BatchedRenderTexture = cast quad.computedRenderTarget.backendItem;\n                            var prevBatcher = quadGeom.batchers.unsafeGet(0);\n                            if (prevBatcher != renderTexture.targetBatcher) {\n                                prevBatcher.remove(quadGeom);\n                                renderTexture.targetBatcher.add(quadGeom, true);\n                            }\n                        }\n                        else {\n                            var prevBatcher = quadGeom.batchers.unsafeGet(0);\n                            if (prevBatcher != Luxe.renderer.batcher) {\n                                prevBatcher.remove(quadGeom);\n                                Luxe.renderer.batcher.add(quadGeom, true);\n                            }\n                        }\n\n                    }\n                    else {\n\n                        quadGeom = new phoenix.geometry.QuadGeometry({});\n                        quadPool.push(quadGeom);\n                        quadPoolLength++;\n\n                        // Assign custom shader (if any)\n                        if (quad.shader != null) {\n                            quadGeom.shader = quad.shader.backendItem;\n                        }\n\n                        // Add to correct batcher\n                        if (quad.computedRenderTarget != null) {\n                            var renderTexture:BatchedRenderTexture = cast quad.computedRenderTarget.backendItem;\n                            renderTexture.targetBatcher.add(quadGeom, true);\n                        }\n                        else {\n                            Luxe.renderer.batcher.add(quadGeom, true);\n                        }\n\n                    }\n                    quadPoolIndex++;\n                    \n                    v = quadGeom.vertices;\n\n                    //tl\n                    v.unsafeGet(0).pos.set_xy(0.0, 0.0);\n                    //tr\n                    v.unsafeGet(1).pos.set_xy(w  , 0.0);\n                    //br\n                    v.unsafeGet(2).pos.set_xy(w  , h  );\n                    //bl\n                    v.unsafeGet(3).pos.set_xy(0.0, h  );\n                    //tl\n                    v.unsafeGet(4).pos.set_xy(0.0, 0.0);\n                    //br\n                    v.unsafeGet(5).pos.set_xy(w  , h  );\n                    \n\n                    // Update color\n                    //\n                    r = quad.color.redFloat;\n                    g = quad.color.greenFloat;\n                    b = quad.color.blueFloat;\n                    a = quad.computedAlpha;\n\n                    // Multiply alpha because we render premultiplied\n                    r *= a;\n                    g *= a;\n                    b *= a;\n\n                    quadGeom.color.r = r;\n                    quadGeom.color.g = g;\n                    quadGeom.color.b = b;\n                    quadGeom.color.a = a;\n\n                    quadGeom.depth = depth;\n                    depth += 0.01;\n\n                    // Update blending\n                    //\n                    if (quad.blending == ceramic.Blending.ADD) {\n                        quadGeom.blend_src_alpha = phoenix.Batcher.BlendMode.one;\n                        quadGeom.blend_src_rgb = phoenix.Batcher.BlendMode.one;\n                        quadGeom.blend_dest_alpha = phoenix.Batcher.BlendMode.one;\n                        quadGeom.blend_dest_rgb = phoenix.Batcher.BlendMode.one;\n                    }\n                    else {\n                        quadGeom.blend_src_alpha = phoenix.Batcher.BlendMode.one;\n                        quadGeom.blend_src_rgb = phoenix.Batcher.BlendMode.one;\n                        quadGeom.blend_dest_alpha = phoenix.Batcher.BlendMode.one_minus_src_alpha;\n                        quadGeom.blend_dest_rgb = phoenix.Batcher.BlendMode.one_minus_src_alpha;\n                    }\n\n                    // Update texture\n                    //\n                    if (quad.texture != null) {\n                        quadGeom.texture = quad.texture.backendItem;\n                        if (quad.rotateFrame == RotateFrame.ROTATE_90) {\n                            rect.set(\n                                quad.frameX * quad.texture.density,\n                                quad.frameY * quad.texture.density,\n                                quad.frameHeight * quad.texture.density,\n                                quad.frameWidth * quad.texture.density\n                            );\n                        } else {\n                            rect.set(\n                                quad.frameX * quad.texture.density,\n                                quad.frameY * quad.texture.density,\n                                quad.frameWidth * quad.texture.density,\n                                quad.frameHeight * quad.texture.density\n                            );\n                        }\n                        quadGeom.uv(rect);\n                    }\n                    else {\n                        quadGeom.texture = null;\n                    }\n\n                    // Update transform\n                    //\n                    quadGeom.transform.dirty = false;\n                    quadGeom.transform.manual_update = true;\n                    m = quadGeom.transform.world.matrix;\n\n                    m.M11 = quad.a; //el[0]\n                    m.M12 = quad.c; //el[4]\n                    m.M14 = quad.tx; //el[12]\n                    m.M21 = quad.b; //el[1]\n                    m.M22 = quad.d; //el[5]\n                    m.M24 = quad.ty; //el[13]\n\n                    // Update geometry clipping\n                    if (isClipping) {\n                        clipRect = quadGeom.clip_rect;\n                        if (clipRect == null) {\n                            clipRect = new phoenix.Rectangle(\n                                clipX * divideNativeDensity,\n                                clipY * divideNativeDensity,\n                                clipW * divideNativeDensity,\n                                clipH * divideNativeDensity\n                            );\n                        }\n                        else {\n                            clipRect.set(\n                                clipX * divideNativeDensity,\n                                clipY * divideNativeDensity,\n                                clipW * divideNativeDensity,\n                                clipH * divideNativeDensity\n                            );\n                        }\n                        quadGeom.clip_rect = clipRect;\n                    }\n                    else {\n                        quadGeom.clip = false;\n                    }\n                \n                case MESH:\n                    mesh = cast visual;\n\n                    // Update clipping and check if this should even be drawn\n                    //\n                    isClipping = false;\n                    if (mesh.computedClipToBounds) {\n                        clippingVisual = mesh.parent;\n                        while (true) {\n                            if (clippingVisual == null) break;\n                            if (clippingVisual.clipToBounds) {\n                                if (!isClipping) {\n                                    // Simple clipping\n                                    isClipping = true;\n                                    clipX = clippingVisual.tx;\n                                    clipY = clippingVisual.ty;\n                                    clipW = clippingVisual.width * clippingVisual.a;\n                                    clipH = clippingVisual.height * clippingVisual.d;\n                                }\n                                else {\n                                    // Nested clipping\n                                    clipX2 = clippingVisual.tx;\n                                    clipY2 = clippingVisual.ty;\n                                    clipW2 = clippingVisual.width * clippingVisual.a;\n                                    clipH2 = clippingVisual.height * clippingVisual.d;\n                                    intersectLeft = Math.max(clipX, clipX2);\n                                    intersectRight = Math.min(clipX + clipW, clipX2 + clipW2);\n                                    intersectTop = Math.max(clipY, clipY2);\n                                    intersectBottom = Math.min(clipY + clipH, clipY2 + clipH2);\n                                    if (intersectLeft <= intersectRight || intersectTop < intersectBottom) {\n                                        clipX = intersectLeft;\n                                        clipY = intersectTop;\n                                        clipW = intersectRight - intersectLeft;\n                                        clipH = intersectBottom - intersectTop;\n                                    } else {\n                                        clipX = 0;\n                                        clipY = 0;\n                                        clipW = 0;\n                                        clipH = 0;\n                                        break;\n                                    }\n                                }\n                            }\n                            else if (!clippingVisual.computedClipToBounds) break;\n                            clippingVisual = clippingVisual.parent;\n                        }\n                    }\n\n                    if (isClipping && (clipW == 0 || clipH == 0)) {\n                        // Skip drawing of out of bounds clipped mesh\n                        continue;\n                    }\n\n                    // Get or create mesh geometry\n                    //\n                    if (meshPoolIndex < meshPoolLength) {\n\n                        meshGeom = meshPool.unsafeGet(meshPoolIndex);\n                        \n                        // Add to correct batcher\n                        if (meshPoolIndex >= batchedMeshPoolLength) {\n                            if (mesh.computedRenderTarget != null) {\n                                var renderTexture:BatchedRenderTexture = cast mesh.computedRenderTarget.backendItem;\n                                renderTexture.targetBatcher.add(meshGeom, true);\n                            }\n                            else {\n                                Luxe.renderer.batcher.add(meshGeom, true);\n                            }\n                        }\n                        // Or if already added, change the batcher if needed\n                        else if (mesh.computedRenderTarget != null) {\n                            var renderTexture:BatchedRenderTexture = cast mesh.computedRenderTarget.backendItem;\n                            var prevBatcher = meshGeom.batchers.unsafeGet(0);\n                            if (prevBatcher != renderTexture.targetBatcher) {\n                                prevBatcher.remove(meshGeom);\n                                renderTexture.targetBatcher.add(meshGeom, true);\n                            }\n                        }\n                        else {\n                            var prevBatcher = meshGeom.batchers.unsafeGet(0);\n                            if (prevBatcher != Luxe.renderer.batcher) {\n                                prevBatcher.remove(meshGeom);\n                                Luxe.renderer.batcher.add(meshGeom, true);\n                            }\n                        }\n\n                    }\n                    else {\n\n                        meshGeom = new phoenix.geometry.Geometry({\n                            primitive_type: phoenix.Batcher.PrimitiveType.triangles\n                        });\n                        meshPool.push(meshGeom);\n                        meshPoolLength++;\n\n                        // Add to correct batcher\n                        if (mesh.computedRenderTarget != null) {\n                            var renderTexture:BatchedRenderTexture = cast mesh.computedRenderTarget.backendItem;\n                            renderTexture.targetBatcher.add(meshGeom, true);\n                        }\n                        else {\n                            Luxe.renderer.batcher.add(meshGeom, true);\n                        }\n\n                    }\n                    meshPoolIndex++;\n\n                    meshGeom.depth = depth;\n                    depth += 0.01;\n\n                    // Update blending\n                    //\n                    if (mesh.blending == ceramic.Blending.ADD) {\n                        meshGeom.blend_src_alpha = phoenix.Batcher.BlendMode.one;\n                        meshGeom.blend_src_rgb = phoenix.Batcher.BlendMode.one;\n                        meshGeom.blend_dest_alpha = phoenix.Batcher.BlendMode.one;\n                        meshGeom.blend_dest_rgb = phoenix.Batcher.BlendMode.one;\n                    }\n                    else {\n                        meshGeom.blend_src_alpha = phoenix.Batcher.BlendMode.one;\n                        meshGeom.blend_src_rgb = phoenix.Batcher.BlendMode.one;\n                        meshGeom.blend_dest_alpha = phoenix.Batcher.BlendMode.one_minus_src_alpha;\n                        meshGeom.blend_dest_rgb = phoenix.Batcher.BlendMode.one_minus_src_alpha;\n                    }\n\n                    var indices = mesh.indices;\n                    var vertices = mesh.vertices;\n                    var colors = mesh.colors;\n                    var texture = mesh.texture;\n                    var uvs = mesh.uvs;\n                    var uvFactorX:Float = 1;\n                    var uvFactorY:Float = 1;\n                    var geomLen = meshGeom.vertices.length;\n                    var geomVertices = meshGeom.vertices;\n\n                    // Set texture\n                    if (texture != null) {\n                        meshGeom.texture = texture.backendItem;\n\n                        // Ensure uv takes in account real texture size\n                        uvFactorX = meshGeom.texture.width / meshGeom.texture.width_actual;\n                        uvFactorY = meshGeom.texture.height / meshGeom.texture.height_actual;\n                    }\n\n                    len = indices.length;\n                    i = 0;\n\n                    // Update vertices array size if needed\n                    if (geomLen > len) {\n                        geomVertices.splice(len, geomLen - len);\n                    } else if (geomLen < len) {\n                        for (n in geomLen...len) {\n                            geomVertices[n] = null;\n                        }\n                    }\n\n                    var singleColor = mesh.colorMapping == MESH;\n                    var indicesColor = mesh.colorMapping == INDICES;\n                    if (singleColor) {\n                        color = colors.unsafeGet(0);\n                    }\n\n                    while (i < len) {\n\n                        j = indices.unsafeGet(i);\n                        x = vertices.unsafeGet(j * 2);\n                        y = vertices.unsafeGet(j * 2 + 1);\n                        if (!singleColor) {\n                            color = indicesColor ? colors.unsafeGet(j) : colors.unsafeGet(i);\n                        }\n\n                        // Update color\n                        r = color.redFloat;\n                        g = color.greenFloat;\n                        b = color.blueFloat;\n                        a = mesh.computedAlpha * color.alphaFloat;\n\n                        // Multiply alpha because we render premultiplied\n                        r *= a;\n                        g *= a;\n                        b *= a;\n\n                        // Get or create vertex\n                        //\n                        if (vertexPoolIndex < vertexPoolLength) {\n\n                            vertex = vertexPool.unsafeGet(vertexPoolIndex);\n\n                        }\n                        else {\n\n                            vertex = new phoenix.geometry.Vertex(new phoenix.Vector(0,0,0));\n                            vertexPool.push(vertex);\n                            vertexPoolLength++;\n\n                        }\n                        vertexPoolIndex++;\n\n                        vertex.pos.set_xy(x, y);\n                        vertex.color.set(r, g, b, a);\n                        \n                        if (texture != null) {\n                            uvx = uvs.unsafeGet(j * 2) * uvFactorX;\n                            uvy = uvs.unsafeGet(j * 2 + 1) * uvFactorY;\n                        } else {\n                            uvx = 0;\n                            uvy = 0;\n                        }\n                        \n                        vertex.uv.uv0.set_uv(uvx, uvy);\n\n                        // Add vertex\n                        geomVertices.unsafeSet(i, vertex);\n\n                        i++;\n                    }\n\n                    // Update transform\n                    //\n                    meshGeom.transform.dirty = false;\n                    meshGeom.transform.manual_update = true;\n                    m = meshGeom.transform.world.matrix;\n\n                    m.M11 = mesh.a;\n                    m.M12 = mesh.c;\n                    m.M14 = mesh.tx;\n                    m.M21 = mesh.b;\n                    m.M22 = mesh.d;\n                    m.M24 = mesh.ty;\n\n                    // Update geometry clipping\n                    if (isClipping) {\n                        clipRect = meshGeom.clip_rect;\n                        if (clipRect == null) {\n                            clipRect = new phoenix.Rectangle(\n                                clipX * divideNativeDensity,\n                                clipY * divideNativeDensity,\n                                clipW * divideNativeDensity,\n                                clipH * divideNativeDensity\n                            );\n                        }\n                        else {\n                            clipRect.set(\n                                clipX * divideNativeDensity,\n                                clipY * divideNativeDensity,\n                                clipW * divideNativeDensity,\n                                clipH * divideNativeDensity\n                            );\n                        }\n                        meshGeom.clip_rect = clipRect;\n                    }\n                    else {\n                        meshGeom.clip = false;\n                    }\n\n                default:\n            }\n\n        }\n\n    }\n\n#end\n\n} //Draw\n","package phoenix.geometry;\n\nimport phoenix.Vector;\nimport phoenix.geometry.Geometry;\nimport phoenix.geometry.TextureCoord;\nimport phoenix.Batcher;\nimport phoenix.Vector;\nimport luxe.Log.*;\n\nimport luxe.options.GeometryOptions.QuadGeometryOptions;\n\nclass QuadGeometry extends Geometry {\n\n    @:isVar public var flipx(default, set) : Bool = false;\n    @:isVar public var flipy(default, set) : Bool = false;\n        //Has to be a multiple of 90\n    @:isVar public var uv_angle(default, set) : Int = 0;\n\n    var _uv_x:Float = 0;\n    var _uv_y:Float = 0;\n    var _uv_w:Float = 1;\n    var _uv_h:Float = 1;\n\n    public function new(_options : QuadGeometryOptions) {\n\n        _options.primitive_type = PrimitiveType.triangles;\n\n        super(_options);\n\n            //Do these before set, so they can be applied\n        if(_options.flipx != null) flipx = _options.flipx;\n        if(_options.flipy != null) flipy = _options.flipy;\n\n        var _x : Float = _options.x;\n        var _y : Float = _options.y;\n        var _w : Float = _options.w;\n        var _h : Float = _options.h;\n\n        if(_options.rect != null) {\n            _x = _options.rect.x;\n            _y = _options.rect.y;\n            _w = _options.rect.w;\n            _h = _options.rect.h;\n        }\n\n            //First triangle\n            //tl\n        add(new Vertex( new Vector(  0,  0 ), color ));\n            //tr\n        add(new Vertex( new Vector( _w,  0 ), color ));\n            //br\n        add(new Vertex( new Vector( _w, _h ), color ));\n\n           //Second triangle\n            //bl\n        add(new Vertex( new Vector(  0, _h ), color ));\n            //tl\n        add(new Vertex( new Vector(  0,  0 ), color ));\n            //br\n        add(new Vertex( new Vector( _w, _h ), color ));\n\n        transform.pos = transform.pos.set_xy(_x, _y);\n\n        if(_options.uv != null) {\n            uv(_options.uv);\n        } else {\n            uv_space( 0, 0, 1, 1 );\n        }\n\n    } //new\n\n    public inline function uv( _rect:luxe.Rectangle ) {\n\n        assertnull(texture, \"QuadGeometry; Calling UV on a geometry with null texture.\");\n\n        var tlx = _rect.x/texture.width_actual;\n        var tly = _rect.y/texture.height_actual;\n        var szx = _rect.w/texture.width_actual;\n        var szy = _rect.h/texture.height_actual;\n\n        uv_space( tlx, tly, szx, szy );\n\n    } //uv\n\n    public inline function uv_space( _rect_x:Float,_rect_y:Float,_rect_w:Float,_rect_h:Float ) {\n\n        if(vertices.length == 0) return;\n\n        //the uv width and height\n        var sz_x = _rect_w;\n        var sz_y = _rect_h;\n\n            //tl\n        var tl_x = _rect_x;\n        var tl_y = _rect_y;\n\n            //Keep for later, before changing the values for flipping\n        _uv_x = tl_x;\n        _uv_y = tl_y;\n        _uv_w = sz_x;\n        _uv_h = sz_y;\n\n            //tr\n        var tr_x = tl_x + sz_x;\n        var tr_y = tl_y;\n            //br\n        var br_x = tl_x + sz_x;\n        var br_y = tl_y + sz_y;\n            //bl\n        var bl_x = tl_x;\n        var bl_y = tl_y + sz_y;\n\n        var tmp_x = 0.0;\n        var tmp_y = 0.0;\n\n            //rotates uvs 90 degrees counter-clockwise, i.e. the rotates the texture 90 degrees clockwise\n        inline function rotate_uvs() {\n            tmp_x = tl_x;\n            tl_x = bl_x;\n            bl_x = br_x;\n            br_x = tr_x;\n            tr_x = tmp_x;\n\n            tmp_y = tl_y;\n            tl_y = bl_y;\n            bl_y = br_y;\n            br_y = tr_y;\n            tr_y = tmp_y;\n        }\n\n            var rotations:Int = Std.int(uv_angle / 90);\n            rotations = rotations - 4 * Math.floor(rotations / 4);\n\n            for(r in 0...rotations) {\n                rotate_uvs();\n            }\n                //flipped y swaps tl and tr with bl and br\n            if(flipy) {\n                    //swap tl and bl\n                tmp_y = bl_y;\n                    bl_y = tl_y;\n                    tl_y = tmp_y;\n\n                tmp_x = bl_x;\n                    bl_x = tl_x;\n                    tl_x = tmp_x;\n\n                    //swap tr and br\n                tmp_y = br_y;\n                    br_y = tr_y;\n                    tr_y = tmp_y;\n\n                tmp_x = br_x;\n                    br_x = tr_x;\n                    tr_x = tmp_x;\n            } //flipy\n\n                //flipped x swaps tl and bl with tr and br\n            if(flipx) {\n                    //swap tl and tr\n                tmp_x = tr_x;\n                    tr_x = tl_x;\n                    tl_x = tmp_x;\n\n                tmp_y = tr_y;\n                    tr_y = tl_y;\n                    tl_y = tmp_y;\n\n                    //swap bl and br\n                tmp_x = br_x;\n                    br_x = bl_x;\n                    bl_x = tmp_x;\n\n                tmp_y = br_y;\n                    br_y = bl_y;\n                    bl_y = tmp_y;\n            } //flipx\n\n        vertices[0].uv.uv0.set_uv( tl_x , tl_y );\n        vertices[1].uv.uv0.set_uv( tr_x , tr_y );\n        vertices[2].uv.uv0.set_uv( br_x , br_y );\n\n        vertices[3].uv.uv0.set_uv( bl_x , bl_y );\n        vertices[4].uv.uv0.set_uv( tl_x , tl_y );\n        vertices[5].uv.uv0.set_uv( br_x , br_y );\n\n            //if it's locked, it needs to be refreshed to the gpu\n        dirty = true;\n\n    } //set uv in uv space directly\n\n    public function resize_xy( _x:Float, _y:Float ) {\n\n        if(vertices.length == 0) return;\n\n        vertices[0].pos.set_xy( 0,      0    );\n        vertices[1].pos.set_xy( 0+_x,   0    );\n        vertices[2].pos.set_xy( 0+_x,   0+_y );\n\n        vertices[3].pos.set_xy( 0,      0+_y );\n        vertices[4].pos.set_xy( 0,      0    );\n        vertices[5].pos.set_xy( 0+_x,   0+_y );\n\n    } //resize_xy\n\n    public inline function resize( quad:luxe.Vector ) {\n\n        resize_xy(quad.x, quad.y);\n\n    } //resize\n\n    public inline function set(quad:luxe.Rectangle) {\n\n        set_xywh(quad.x, quad.y, quad.w, quad.h);\n\n    } //set\n\n    public function set_xywh( _x:Float, _y:Float, _w:Float, _h:Float ) {\n\n        if(vertices.length == 0) return;\n\n            //tl\n        vertices[0].pos.set_xy(  0,  0 );\n            //tr\n        vertices[1].pos.set_xy( _w,  0 );\n            //br\n        vertices[2].pos.set_xy( _w, _h );\n\n            //bl\n        vertices[3].pos.set_xy(  0, _h );\n            //tl\n        vertices[4].pos.set_xy(  0,  0 );\n            //br\n        vertices[5].pos.set_xy( _w, _h );\n\n        transform.pos = transform.pos.set_xy(_x, _y);\n\n    } //set\n\n    function set_flipx(_val:Bool) {\n\n            //set before calling uv_space\n        flipx = _val;\n\n        uv_space(_uv_x, _uv_y, _uv_w, _uv_h);\n\n        return flipx;\n\n    } //set_flipx\n\n    function set_flipy(_val:Bool) {\n\n            //set before calling uv_space\n        flipy = _val;\n\n        uv_space(_uv_x, _uv_y, _uv_w, _uv_h);\n\n        return flipy;\n\n    } //set_flipy\n\n    function set_uv_angle(_val:Int) {\n        assert(_val % 90 == 0, 'uv_angle has to be a multiple of 90');\n        uv_angle = _val;\n        uv_space(_uv_x, _uv_y, _uv_w, _uv_h);\n        return uv_angle;\n    }\n\n}\n","package phoenix;\n\nimport luxe.Objects;\n\nimport phoenix.Vector;\nimport phoenix.Quaternion;\nimport phoenix.Matrix;\nimport snow.api.buffers.Float32Array;\n\n\nclass Transform extends ID {\n\n    //access\n    @:isVar public var parent (get,set) : Transform;\n    @:isVar public var local (get,set) : Spatial;\n    @:isVar public var world (get,set) : Spatial;\n    @:isVar public var origin (get,set) : Vector;\n        //true if the transform needs refreshing,\n        //starts true since there are no values\n    @:isVar public var dirty (default,set) : Bool = true;\n        //set this to true if you want to manage the transforms matrix\n        //externally, this just prevents clean from ever being called automatically.\n        //This means the dirty flag and such are self maintained.\n    public var manual_update : Bool = false;\n\n        //alias to local.pos, local.rotation, local.scale\n    public var pos                  (get,set) : Vector;\n    public var rotation             (get,set) : Quaternion;\n    public var scale                (get,set) : Vector;\n\n    var _origin_undo_matrix : Matrix;\n    var _pos_matrix : Matrix;\n    var _rotation_matrix : Matrix;\n    var _setup : Bool = true;\n    var _cleaning : Bool = false;\n\n        //List of handler functions\n    var _clean_handlers : Array< Transform->Void >;\n    var _dirty_handlers : Array< Transform->Void >;\n    var _pos_handlers : Array< Vector->Void >;\n    var _rotation_handlers : Array< Quaternion->Void >;\n    var _scale_handlers : Array< Vector->Void >;\n    var _origin_handlers : Array< Vector->Void >;\n    var _parent_handlers : Array< Transform->Void >;\n\n    public inline function new() {\n\n        super('transform');\n\n        local = new Spatial();\n        world = new Spatial();\n\n        _origin_undo_matrix = new Matrix();\n        _pos_matrix = new Matrix();\n        _rotation_matrix = new Matrix();\n\n        origin = new Vector();\n\n            //Whenever the local transform changes we need to know\n        local.pos_changed = on_local_pos_change;\n        local.rotation_changed = on_local_rotation_change;\n        local.scale_changed = on_local_scale_change;\n\n        _setup = false;\n\n    } //new\n\n\n    var _destroying = false;\n\n    public function destroy() {\n\n        _destroying = true;\n\n            //no longer listening\n        if(parent != null) {\n            parent.unlisten(on_parent_cleaned);\n        }\n\n            //destroy resources and memory\n        _clean_handlers = null;\n        _dirty_handlers = null;\n        _pos_handlers = null;\n        _rotation_handlers = null;\n        _scale_handlers = null;\n        _origin_handlers = null;\n        _parent_handlers = null;\n\n            //clean up\n        local.destroy();\n        world.destroy();\n\n        local = null;\n        world = null;\n        origin = null;\n        _origin_undo_matrix = null;\n        _pos_matrix = null;\n        _rotation_matrix = null;\n\n    } //destroy\n\n    inline function set_dirty( _dirty:Bool ) : Bool {\n\n        dirty = _dirty;\n\n        if(  dirty &&\n            !_setup &&\n            _dirty_handlers != null &&\n            _dirty_handlers.length > 0\n        ) {\n            propagate_dirty();\n        }\n\n        return dirty;\n\n    } //set_dirty\n\n        //when the local transforms change we become dirty\n    inline function on_local_pos_change( v:Vector ) {\n\n        dirty = true;\n\n        if(_pos_handlers != null &&\n           _pos_handlers.length > 0) {\n                propagate_pos( v );\n        }\n\n    } //local pos changed\n\n    inline function on_local_rotation_change( r:Quaternion ) {\n\n        dirty = true;\n\n        if(_rotation_handlers != null &&\n           _rotation_handlers.length > 0) {\n                propagate_rotation( r );\n        }\n\n    } //local rotation changed\n\n    inline function on_local_scale_change( s:Vector ) {\n\n        dirty = true;\n\n        if(_scale_handlers != null &&\n           _scale_handlers.length > 0) {\n                propagate_scale( s );\n        }\n\n    } //local scale changed\n\n    inline function on_parent_cleaned( p:Transform ) {\n\n        dirty = true;\n\n    } //on_parent_cleaned\n\n    inline function get_local() : Spatial {\n\n        return local;\n\n    } //get_local\n\n    inline function set_local( l:Spatial ) : Spatial {\n\n        if(l != null) {\n\n            dirty = true;\n\n            l.pos_changed = on_local_pos_change;\n            l.rotation_changed = on_local_rotation_change;\n            l.scale_changed = on_local_scale_change;\n\n        }\n\n        return local = l;\n\n    } //set_local\n\n        //whenever the world transform is requested, make sure it's up to date\n    inline function get_world() : Spatial {\n\n        if( !_destroying ) {\n            clean_check();\n        }\n\n        return world;\n\n    } //get_world\n\n    @:noCompletion public inline function clean_check() {\n\n            //make sure the parent is updated\n        if(parent != null && parent.dirty) {\n            parent.clean_check();\n        } //parent != null\n\n        if(dirty && !_cleaning && !manual_update) {\n            clean();\n        } //dirty\n\n    }//clean_check\n\n    @:noCompletion public function clean() {\n\n        if(!dirty) {\n            return;\n        }\n\n            //flag to avoid loops\n        _cleaning = true;\n\n            //update local matrices\n        _pos_matrix.makeTranslation( local.pos.x, local.pos.y, local.pos.z );\n        _rotation_matrix.makeRotationFromQuaternion( local.rotation );\n        _origin_undo_matrix.makeTranslation( -origin.x, -origin.y, -origin.z );\n\n                //translate to origin\n        local.matrix.makeTranslation( origin.x, origin.y, origin.z );\n\n                //rotation relative to origin\n            local.matrix.multiply(_rotation_matrix);\n                //scale up relative to origin\n            local.matrix.scale(local.scale);\n                //apply position\n            local.matrix.setPosition( local.pos );\n\n            //undo origin translation\n        local.matrix.multiply(_origin_undo_matrix);\n\n            //update world matrix\n        if(parent != null) {\n            world.matrix = world.matrix.multiplyMatrices( parent.world.matrix, local.matrix );\n        } else {\n            world.matrix.copy(local.matrix);\n        }\n\n            //update world spatial,\n            //saying false allows it to decide\n            //if this code happens or not\n        world.decompose(false);\n\n            //clear flags\n        dirty = false;\n        _cleaning = false;\n\n        if( _clean_handlers != null &&\n            _clean_handlers.length > 0) {\n                propagate_clean();\n        }\n\n    } //clean\n\n    inline function toString() {\n        return 'Transform ($id)';\n    } //toString\n\n    inline function get_origin() : Vector {\n\n        return origin;\n\n    } //get_origin\n\n    inline function set_origin(o:Vector) : Vector {\n\n        dirty = true;\n\n        origin = o;\n\n        if(_origin_handlers != null &&\n           _origin_handlers.length > 0) {\n            propagate_origin( origin );\n        }\n\n        return origin;\n\n    } //set_origin\n\n    inline function set_world(w:Spatial) : Spatial {\n\n        if(w == null) {\n            return world = w;\n        }\n\n        dirty = true;\n\n        return world = w;\n\n    } //set_world\n\n    inline function get_parent() : Transform {\n\n        return parent;\n\n    } //get_parent\n\n    inline function set_parent( _p:Transform ) {\n\n        dirty = true;\n\n            //clear existing listener\n        if(parent != null) {\n            parent.unlisten(on_parent_cleaned);\n        }\n\n        parent = _p;\n\n        if(_parent_handlers != null &&\n           _parent_handlers.length > 0) {\n                propagate_parent( parent );\n        }\n\n        if(parent != null) {\n            //we need to know when the parent transform is changed, this makes us dirty,\n            //and since each full clean can clear the dirty flag, we use this to make sure it's always synced\n            parent.listen(on_parent_cleaned);\n        }\n\n        return parent;\n\n    } //set_parent\n\n    inline function get_pos() {\n        return local.pos;\n    } //get_pos\n\n    inline function get_rotation() {\n        return local.rotation;\n    } //get_rotation\n\n    inline function get_scale() {\n        return local.scale;\n    } //get_scale\n\n\n    inline function set_pos(value:Vector) {\n        return local.pos = value;\n    } //set_pos\n\n    inline function set_rotation(value:Quaternion) {\n        return local.rotation = value;\n    } //set_rotation\n\n    inline function set_scale(value:Vector) {\n        return local.scale = value;\n    } //set_scale\n\n\n    inline function propagate_clean() {\n        for(_handler in _clean_handlers) {\n            if(_handler != null) {\n                _handler(this);\n            }\n        }\n    } //propagate clean\n\n    inline function propagate_dirty() {\n        for(_handler in _dirty_handlers) {\n            if(_handler != null) {\n                _handler(this);\n            }\n        }\n    } //propagate dirty\n\n    inline function propagate_pos( _pos:Vector ) {\n        for(_handler in _pos_handlers) {\n            if(_handler != null) {\n                _handler(_pos);\n            }\n        }\n    } //propagate pos\n\n    inline function propagate_rotation( _rotation:Quaternion ) {\n        for(_handler in _rotation_handlers) {\n            if(_handler != null) {\n                _handler(_rotation);\n            }\n        }\n    } //propagate rotation\n\n    inline function propagate_scale( _scale:Vector ) {\n        for(_handler in _scale_handlers) {\n            if(_handler != null) {\n                _handler(_scale);\n            }\n        }\n    } //propagate scale\n\n    inline function propagate_origin( _origin:Vector ) {\n        for(_handler in _origin_handlers) {\n            if(_handler != null) {\n                _handler(_origin);\n            }\n        }\n    } //propagate origin\n\n    inline function propagate_parent( _parent:Transform ) {\n        for(_handler in _parent_handlers) {\n            if(_handler != null) {\n                _handler(_parent);\n            }\n        }\n    } //propagate parent\n\n    public inline function listen( _handler : Transform->Void ) {\n\n        if(_clean_handlers == null) {\n            _clean_handlers = [];\n        }\n\n        _clean_handlers.push( _handler );\n\n    } //listen\n\n    public inline function unlisten( _handler : Transform->Void ) {\n\n        if(_clean_handlers == null) {\n            return false;\n        }\n\n        return _clean_handlers.remove( _handler );\n\n    } //unlisten\n\n    public inline function listen_dirty( _handler : Transform->Void ) {\n\n        if(_dirty_handlers == null) {\n            _dirty_handlers = [];\n        }\n\n        _dirty_handlers.push( _handler );\n\n    } //listen_dirty\n\n    public inline function unlisten_dirty( _handler : Transform->Void ) {\n\n        if(_dirty_handlers == null) {\n            return false;\n        }\n\n        return _dirty_handlers.remove( _handler );\n\n    } //unlisten_dirty\n\n    public inline function listen_pos( _handler : Vector->Void ) {\n\n        if(_pos_handlers == null) {\n            _pos_handlers = [];\n        }\n\n        _pos_handlers.push( _handler );\n\n    } //listen_pos\n\n    public inline function unlisten_pos( _handler : Vector->Void ) {\n\n        if(_pos_handlers == null) {\n            return false;\n        }\n\n        return _pos_handlers.remove( _handler );\n\n    } //unlisten_pos\n\n    public inline function listen_scale( _handler : Vector->Void ) {\n\n        if(_scale_handlers == null) {\n            _scale_handlers = [];\n        }\n\n        _scale_handlers.push( _handler );\n\n    } //listen_scale\n\n    public inline function unlisten_scale( _handler : Vector->Void ) {\n\n        if(_scale_handlers == null) {\n            return false;\n        }\n\n        return _scale_handlers.remove( _handler );\n\n    } //unlisten_scale\n\n    public inline function listen_rotation( _handler : Quaternion->Void ) {\n\n        if(_rotation_handlers == null) {\n            _rotation_handlers = [];\n        }\n\n        _rotation_handlers.push( _handler );\n\n    } //listen_rotation\n\n    public inline function unlisten_rotation( _handler : Quaternion->Void ) {\n\n        if(_rotation_handlers == null) {\n            return false;\n        }\n\n        return _rotation_handlers.remove( _handler );\n\n    } //unlisten_rotation\n\n    public inline function listen_origin( _handler : Vector->Void ) {\n\n        if(_origin_handlers == null) {\n            _origin_handlers = [];\n        }\n\n        _origin_handlers.push( _handler );\n\n    } //listen_origin\n\n    public inline function unlisten_origin( _handler : Vector->Void ) {\n\n        if(_origin_handlers == null) {\n            return false;\n        }\n\n        return _origin_handlers.remove( _handler );\n\n    } //unlisten_origin\n\n    public inline function listen_parent( _handler : Transform->Void ) {\n\n        if(_parent_handlers == null) {\n            _parent_handlers = [];\n        }\n\n        _parent_handlers.push( _handler );\n\n    } //listen_parent\n\n    public inline function unlisten_parent( _handler : Transform->Void ) {\n\n        if(_parent_handlers == null) {\n            return false;\n        }\n\n        return _parent_handlers.remove( _handler );\n\n    } //unlisten_parent\n\n} //Transform\n\nclass Spatial {\n\n    @:isVar public var pos                  (default,set) : Vector;\n    @:isVar public var rotation             (default,set) : Quaternion;\n    @:isVar public var scale                (default,set) : Vector;\n\n    @:isVar public var matrix               (get,    set) : Matrix;\n\n    public var floats : Float32Array;\n    public var ignore_listeners : Bool = false;\n    public var auto_decompose : Bool = false;\n\n    @:noCompletion public var pos_changed : Vector -> Void;\n    @:noCompletion public var rotation_changed : Quaternion -> Void;\n    @:noCompletion public var scale_changed : Vector -> Void;\n\n    var _setup : Bool = true;\n\n    public inline function new() {\n\n        matrix = new Matrix();\n        floats = matrix.float32array();\n\n        pos = new Vector();\n        rotation = new Quaternion();\n        scale = new Vector(1,1,1);\n\n        _setup = false;\n\n    } //new\n\n    public inline function destroy() {\n\n        matrix = null;\n        floats = null;\n        pos = null;\n        rotation = null;\n        scale = null;\n\n    } //destroy\n\n        //assigns the local values (pos/rotation/scale) according to the matrix\n        //when called manually, will make sure it happens using force.\n        //if force is false, auto_decompose will apply\n    public inline function decompose( _force:Bool = true ) {\n\n        if( auto_decompose || _force ) {\n\n            var _transform = matrix.decompose();\n\n            pos = _transform.pos;\n            rotation = _transform.rotation;\n            scale = _transform.scale;\n\n        } //auto_decompose\n\n        return this;\n\n    } //decompose\n\n    inline function get_matrix() : Matrix {\n\n        return matrix;\n\n    } //get_matrix\n\n    inline function set_matrix(_m:Matrix) {\n\n        matrix = _m;\n\n            //when updating, update the float32array\n        if( _m != null ) {\n            floats = matrix.float32array();\n        }\n\n        return matrix;\n\n    } //set_matrix\n\n    inline function propagate_pos( _p:Vector ) {\n        if(pos_changed != null && !ignore_listeners) {\n            pos_changed(_p);\n        }\n    } //propagate pos\n\n    inline function propagate_rotation( _r:Quaternion ) {\n        if(rotation_changed != null && !ignore_listeners) {\n            rotation_changed(_r);\n        }\n    } //propagate rotation\n\n    inline function propagate_scale( _s:Vector ) {\n        if(scale_changed != null && !ignore_listeners) {\n            scale_changed(_s);\n        }\n    } //propagate scale\n\n    inline function set_pos( _p:Vector ) {\n\n        pos = _p;\n\n        if( _p != null ) {\n\n            Vector.Listen( pos, _pos_change );\n\n            propagate_pos(pos);\n\n        } //\n\n        return pos;\n\n    } //set_pos\n\n    inline function set_rotation( _r:Quaternion ) {\n\n        rotation = _r;\n\n        if( _r != null ) {\n\n            Quaternion.Listen( rotation, _rotation_change );\n\n            propagate_rotation(rotation);\n\n        } //\n\n        return rotation;\n\n    } //set_rotation\n\n    inline function set_scale( _s:Vector ) {\n\n        scale = _s;\n\n        if( _s != null ) {\n\n            Vector.Listen( scale, _scale_change );\n\n            propagate_scale(scale);\n\n        } //\n\n        return scale;\n\n    } //set_scale\n\n //Sub component change listeners\n\n        //An internal callback for when x y or z on a transform changes\n    inline function _pos_change(_v:Float) { this.set_pos(pos); }\n        //An internal callback for when x y or z on a transform changes\n    inline function _scale_change(_v:Float) { this.set_scale(scale); }\n        //An internal callback for when x y or z on a transform changes\n    inline function _rotation_change(_v:Float) { this.set_rotation(rotation); }\n\n} //Spatial\n","package luxe.resource;\n\nimport luxe.Log.*;\nimport luxe.options.ResourceOptions;\nimport luxe.Resources;\n\nimport snow.api.Promise;\nimport snow.systems.assets.Asset;\nimport snow.systems.audio.AudioSource;\n\nclass Resource {\n\n    /**     The unique resource ID.\n            If the resource is loaded from disk, this matches the asset id.\n            If not from disk, the id can be anything but must be unique to this resource. */\n    public var id: String;\n        /** The resource system that contains this Resource. */\n    public var system: Resources;\n        /** The resource type ID. Defaults use ResourceType ids but is typed Int for user id's. */\n    public var resource_type: Int;\n        /** The state this resource is currently in. */\n    public var state (default, set): ResourceState;\n\n        /** The reference count of this resource. Each time a\n            `load_*` call is made on the resource system, it increments\n            the count specific to that resource. When a resource calls\n            `destroy()` it decreases by one. When the ref count is 0, and the\n            resource is destroyed, it's properly destroyed.\n            This works via setter, so changing it with ref++ and ref-- is ok. */\n    public var ref (default, set): Int = 0;\n\n    public function new( _options:ResourceOptions ) {\n\n        assertnull(_options);\n        assertnull(_options.id);\n\n        def(_options.system, Luxe.resources);\n        def(_options.resource_type, ResourceType.unknown);\n\n        id = _options.id;\n        system = _options.system;\n        resource_type = _options.resource_type;\n        state = ResourceState.unknown;\n        ref = 1;\n\n    } //new\n\n        /** Destroys the resource, unlisting it, cleaning up it's resource usage.\n            Once destroyed, it is no longer valid and should not be used in any way.\n            To clean up without destroying the resource, use invalidate().\n            To force destroying and ignore the ref counting, pass true for `force` flag. */\n    public function destroy( ?_force:Bool=false ) : Void {\n\n        assert(state != ResourceState.destroyed);\n\n        if(!_force) {\n            assert(ref > 0);\n            ref--;\n            assert(ref >= 0);\n        }\n\n        _debug('destroy / $id  / ref $ref');\n\n        if(ref == 0 || _force) {\n\n            clear();\n            state = destroyed;\n            system.remove(this);\n            system.emit(destroyed, this);\n\n        } //no refs || force\n\n    } //destroy\n\n        /** Invalidates and frees up any resource usage held.\n            The resource instance remains valid for use, and remains listed in the resource cache. */\n    public function invalidate() : Void {\n\n        assert(state != ResourceState.destroyed);\n\n        clear();\n        state = invalidated;\n        system.emit(invalidated, this);\n\n    }\n\n        /** Returns a promise for the reloaded resource.\n            Returns null from the base `Resource` type, implemented in subclasses. */\n    public function reload() : Promise {\n        return null;\n    }\n\n        /** Returns the estimated memory use by this resource, in bytes.\n            You can use Luxe.utils.bytes_to_string to display this value easily.\n            Some resources return 0, in the case of not being able to give an estimate. */\n    public function memory_use() : Float {\n        return 0;\n    } //memory_use\n\n //Internal\n\n    function set_ref( _ref:Int ) {\n\n        var pre = ref;\n        ref = _ref;\n\n        if(ref > pre) {\n            system.emit(ResourceEvent.reference, this);\n        } else if(ref < pre) {\n            system.emit(ResourceEvent.dereference, this);\n        }\n\n        return ref;\n\n    } //set_ref\n\n    function set_state( _state:ResourceState ) {\n\n        state = _state;\n\n        switch(state) {\n            case ResourceState.loading:\n                system.emit(ResourceEvent.loading, this);\n            case ResourceState.loaded:\n                system.emit(ResourceEvent.loaded, this);\n            case ResourceState.failed:\n                system.emit(ResourceEvent.failed, this);\n            case _:\n        }\n\n        return state;\n\n    } //set_state\n\n        /** Clean up any resource usage, freeing memory, removing references etc. */\n    function clear() : Void {\n\n    } //\n\n\n    function state_string() {\n        return switch(state) {\n            case ResourceState.listed:      'listed';\n            case ResourceState.loading:     'loading';\n            case ResourceState.loaded:      'loaded';\n            case ResourceState.failed:      'failed';\n            case ResourceState.invalidated: 'invalidated';\n            case ResourceState.destroyed:   'destroyed';\n            case _:                         'unknown';\n        }\n    }\n\n    function type_string() {\n        return switch(resource_type) {\n            case ResourceType.bytes:    'bytes';\n            case ResourceType.text:     'text';\n            case ResourceType.json:     'json';\n            case ResourceType.texture:  'texture';\n            case ResourceType.shader:   'shader';\n            case ResourceType.font:     'font';\n            case _: '$resource_type';\n        }\n    }\n\n    function toString() {\n        return 'Resource(`$id`, ${type_string()}, ${state_string()})';\n    }\n\n\n} //Resource\n\n\nclass BytesResource extends Resource {\n\n    public var asset:AssetBytes;\n\n    public function new( _options:BytesResourceOptions ) {\n\n        assertnull(_options);\n\n        _options.resource_type = ResourceType.bytes;\n\n        super( _options );\n\n        asset = _options.asset;\n\n    } //new\n\n    override function reload() : Promise {\n\n        assert(state != ResourceState.destroyed);\n\n        clear();\n\n        return new Promise(function(resolve, reject) {\n\n            state = ResourceState.loading;\n\n            var get = Luxe.snow.assets.bytes(id);\n\n            get.then(function(_asset:AssetBytes) {\n\n                asset = _asset;\n                state = ResourceState.loaded;\n                resolve(this);\n\n            });\n\n            get.error(function(_error) {\n\n                state = ResourceState.failed;\n                reject(_error);\n\n            });\n\n        }); //promise\n\n    } //reload\n\n    override function clear() {\n\n        if(asset != null) {\n            asset.destroy();\n            asset = null;\n        }\n\n    } //clear\n\n    override function memory_use() {\n\n        if(asset == null) return 0;\n\n        return asset.bytes.byteLength;\n\n    } //memory_use\n\n} //BytesResource\n\nclass TextResource extends Resource {\n\n    public var asset:AssetText;\n\n    public function new( _options:TextResourceOptions ) {\n\n        assertnull(_options);\n\n        _options.resource_type = ResourceType.text;\n\n        super( _options );\n\n        asset = _options.asset;\n\n    } //new\n\n    override function reload() : Promise {\n\n        assert(state != ResourceState.destroyed);\n\n        clear();\n\n        return new Promise(function(resolve, reject) {\n\n            state = ResourceState.loading;\n\n            var get = Luxe.snow.assets.text(id);\n\n            get.then(function(_asset:AssetText) {\n\n                asset = _asset;\n                state = ResourceState.loaded;\n                resolve(this);\n\n            });\n\n            get.error(function(_error) {\n\n                state = ResourceState.failed;\n                reject(_error);\n\n            });\n\n        }); //promise\n\n    } //reload\n\n    override function clear() {\n\n        if(asset != null) {\n            asset.destroy();\n            asset = null;\n        }\n\n    } //clear\n\n    override function memory_use() {\n\n        if(asset == null) return 0;\n\n        return asset.text.length;\n\n    } //memory_use\n\n} //TextResource\n\nclass JSONResource extends Resource {\n\n    public var asset:AssetJSON;\n\n    public function new( _options:JSONResourceOptions ) {\n\n        assertnull(_options);\n\n        _options.resource_type = ResourceType.json;\n\n        super( _options );\n\n        asset = _options.asset;\n\n    } //new\n\n    override function reload() : Promise {\n\n        assert(state != ResourceState.destroyed);\n\n        clear();\n\n        return new Promise(function(resolve, reject) {\n\n            state = ResourceState.loading;\n\n            var get = Luxe.snow.assets.json(id);\n\n            get.then(function(_asset:AssetJSON) {\n\n                asset = _asset;\n                state = ResourceState.loaded;\n                resolve(this);\n\n            });\n\n            get.error(function(_error) {\n\n                state = ResourceState.failed;\n                reject(_error);\n\n            });\n\n        }); //promise\n\n    } //reload\n\n    override function clear() {\n\n        if(asset != null) {\n            asset.destroy();\n            asset = null;\n        }\n\n    } //clear\n\n} //JSONResource\n\nclass AudioResource extends Resource {\n\n    public var asset:AssetAudio;\n    public var source:AudioSource;\n\n    var is_stream: Bool = false;\n\n    public function new(_options:AudioResourceOptions) {\n\n        assertnull(_options);\n\n        _options.resource_type = ResourceType.audio;\n\n        super( _options );\n\n        asset = _options.asset;\n        is_stream = def(_options.is_stream,false);\n\n        if(asset != null) {\n            source = new AudioSource(Luxe.snow, asset.audio);\n        }\n\n    } //new\n\n    override function reload() : Promise {\n\n        assert(state != ResourceState.destroyed);\n\n        clear();\n\n        return new Promise(function(resolve, reject) {\n\n            state = ResourceState.loading;\n\n            var get = Luxe.snow.assets.audio(id, is_stream);\n\n            get.then(function(_asset:AssetAudio) {\n\n                asset = _asset;\n                source = new AudioSource(Luxe.snow, asset.audio);\n                state = ResourceState.loaded;\n                resolve(this);\n\n            });\n\n            get.error(function(_error) {\n\n                state = ResourceState.failed;\n                reject(_error);\n\n            });\n\n        }); //promise\n\n    } //reload\n\n    override function clear() {\n\n        if(asset != null) {\n            asset.destroy();\n            asset = null;\n        }\n\n        if(source != null) {\n            source.destroy();\n            source = null;\n        }\n\n    } //clear\n\n} //AudioResource\n","package phoenix;\n\nimport snow.api.Promise;\nimport snow.systems.assets.Asset;\nimport snow.modules.opengl.GL;\n\nimport snow.api.buffers.Uint8Array;\nimport snow.api.buffers.ArrayBufferView;\nimport snow.api.buffers.ArrayBuffer;\n\nimport phoenix.Color;\nimport phoenix.Vector;\n\nimport luxe.Resources;\nimport luxe.resource.Resource;\nimport luxe.options.ResourceOptions;\nimport snow.types.Types.Error;\n\nimport luxe.Log.*;\n\nclass Texture extends Resource {\n\n//Static flags\n\n    public static var default_filter: FilterType = FilterType.linear;\n    public static var default_clamp: ClampType = ClampType.edge;\n\n//Members\n\n        /** Which texture slot this texture would be assigned to when bound. */\n    public var slot : Int = 0;\n        /** Only used when submitting to the GPU, where supported. */\n    public var border : Int = 0;\n        /** The GPU texture ID */\n    public var texture : TextureID;\n        /** The GPU texture format, i.e `GL.RGBA` or similar. */\n    public var format : TextureFormat;\n        /** The GPU texture type, i.e `GL.TEXTURE_2D` or similar. */\n    public var type : TextureType;\n        /** The GPU data type, i.e `GL.UNSIGNED_BYTE` or similar. */\n    public var data_type : TextureDataType;\n        /** If true, the pixels buffer should store compressed image format data that the GPU understands. */\n    public var compressed : Bool = false;\n\n        /** The width of the actual texture, used for example when the texture may be padded to POT sizes. */\n    public var width_actual : Int = -1;\n        /** The height of the actual texture, used for example when the texture may be padded to POT sizes. */\n    public var height_actual : Int = -1;\n        /** The width of the texture */\n    public var width : Int = -1;\n        /** The height of the texture */\n    public var height : Int = -1;\n\n        /** Set the minification filter type */\n    @:isVar public var filter_min   (default,set) : FilterType;\n        /** Set the magnification filter type */\n    @:isVar public var filter_mag   (default,set) : FilterType;\n        /** Sets the S (horizontal) clamp type */\n    @:isVar public var clamp_s      (default,set) : ClampType;\n        /** Sets the T (vertical) clamp type */\n    @:isVar public var clamp_t      (default,set) : ClampType;\n\n        /** If true, only when (re)loading from an asset id,\n            the pixels will be premultiplied by their alpha before\n            submit is called.  */\n    var load_premultiply_alpha : Bool = false;\n\n    public function new( _options:TextureOptions ) {\n\n        assertnull(_options, 'Texture create requires non-null options');\n\n        def(_options.resource_type, ResourceType.texture);\n\n        super( _options );\n\n        //texture id must be first, followed by bind\n\n        def(_options.texture, create_texture_id());\n\n        texture = _options.texture;\n\n        bind();\n\n        apply_default_options(_options);\n\n            //pixels require width and height\n        if(_options.pixels != null) {\n            assertnull(_options.width, 'Texture create with pixels requires both width and height');\n            assertnull(_options.height, 'Texture create with pixels requires both width and height');\n        }\n\n        if(_options.width != null || _options.height != null) {\n\n                //width requires height and vice versa\n            assertnull(_options.height, 'Texture requires both width and height, only width was given in construct options');\n            assertnull(_options.width, 'Texture requires both width and height, only height was given in construct options');\n\n            width = width_actual = _options.width;\n            height = height_actual = _options.height;\n\n            if(_options.pixels != null) {\n                submit(_options.pixels);\n            }\n\n        } //width/height not null\n\n\n    } //new\n\n        /** Returns the estimated memory usage of this Texture, in bytes. */\n    override public function memory_use() {\n\n            //:todo: not force 4 bpp\n        return (width_actual * height_actual * 4);\n\n    } //memory_use\n\n\n        /** Fetch the pixels from the texture id, storing them in the provided array buffer view.\n            Returns image pixels in RGBA format, as unsigned byte (0-255) values only.\n            This means that the view must be `w * h * 4` in length, minimum.\n            By default, x and y are 0, 0, and the texture `width` and `height`\n            are used (not width_actual/height_actual) */\n    public function fetch( _into:Uint8Array, ?_x:Int = 0, ?_y:Int = 0, ?_w:Int, ?_h:Int ) : Uint8Array {\n\n        assertnull(_into, 'Texture fetch requires a valid buffer to store the pixels.');\n\n        def(_x, 0);\n        def(_y, 0);\n        def(_w, width);\n        def(_h, height);\n\n        var _required = _w * _h * 4;\n\n        assert( _into.length >= _required, 'Texture fetch requires at least $_required (w * h * 4) bytes for the pixels, you have ${_into.length}!' );\n\n            //GL ES/WebGL spec doesn't include `glGetTexImage`,\n            //but we can read the pixels from a temporary frame buffer (render texture) instead\n            //This way works on all targets the same.\n\n        var fb = GL.createFramebuffer();\n\n        GL.bindFramebuffer(GL.FRAMEBUFFER, fb);\n        GL.framebufferTexture2D(GL.FRAMEBUFFER, GL.COLOR_ATTACHMENT0, GL.TEXTURE_2D, texture, 0);\n\n        assert(GL.checkFramebufferStatus(GL.FRAMEBUFFER) == GL.FRAMEBUFFER_COMPLETE);\n\n            GL.readPixels(_x, _y, _w, _h, GL.RGBA, GL.UNSIGNED_BYTE, _into);\n\n        GL.bindFramebuffer(GL.FRAMEBUFFER, null);\n        GL.deleteFramebuffer(fb);\n        fb = null;\n\n        return _into;\n\n    } //fetch\n\n        /** Submit a pixels array to the texture id. Must match the type and format accordingly. */\n    public function submit( _pixels:ArrayBufferView, ?_target:TextureSubmitTarget, ?_level:Int = 0) {\n\n        assert(_level >= 0, 'Texture submit level cannot be negative');\n\n        var _max = max_size();\n\n        assert(width_actual <= _max, 'Texture actual width bigger than maximum hardware size (width:$width_actual, max:$_max)');\n        assert(height_actual <= _max, 'Texture actual height bigger than maximum hardware size (height:$height_actual, max:$_max)');\n\n        bind();\n\n        def(_target, TextureSubmitTarget.tex_2D);\n\n        switch(type) {\n            case TextureType.tex_2D:\n\n                if(compressed) {\n                    GL.compressedTexImage2D(_target, _level, format, width_actual, height_actual, border, _pixels);\n                } else {\n                    GL.texImage2D(_target, _level, format, width_actual, height_actual, border, format, data_type, _pixels);\n                }\n\n            case _:\n\n                _debug('Texture submit skipped for type `$type`');\n        \n        } //type\n\n    } //submit\n\n        /** Generates mipmaps for this texture. */\n    public function generate_mipmaps() {\n\n        bind();\n        GL.generateMipmap(type);\n\n    } //generate_mipmaps\n\n        /** Bind this texture to the it's active texture slot,\n            and it's texture id to the texture type. Calling this\n            repeatedly is fine, as the state is tracked by\n            the RenderState. */\n    public function bind() {\n\n        Luxe.renderer.state.activeTexture( GL.TEXTURE0+slot );\n        Luxe.renderer.state.bindTexture( type, texture );\n\n    } //bind\n\n//Resource overrides\n\n        /** Reloads this texture from it's id - only a valid call if the id is a image asset resource. */\n    override public function reload() : Promise {\n\n        assert(state != ResourceState.destroyed, 'Resource cannot reload when already destroyed');\n\n        clear();\n\n        return new Promise(function(resolve, reject) {\n\n            state = ResourceState.loading;\n\n            var get = Luxe.snow.assets.image(id);\n\n            get.then(function(_asset:AssetImage) {\n\n                texture = create_texture_id();\n\n                from_asset(_asset);\n\n                state = ResourceState.loaded;\n                resolve(this);\n\n            }); //then\n\n            get.error(function(_error) {\n\n                state = ResourceState.failed;\n                reject(_error);\n\n            });\n\n        }); //promise\n\n    } //reload\n\n    function from_asset(_asset:AssetImage, _clear_asset:Bool=true) {\n\n        dump_asset_info( _asset );\n\n        width = _asset.image.width;\n        height = _asset.image.height;\n        width_actual = _asset.image.width_actual;\n        height_actual = _asset.image.height_actual;\n\n        if(load_premultiply_alpha) {\n            Luxe.utils.premultiply_alpha(_asset.image.pixels);\n        }\n\n        submit( _asset.image.pixels );\n\n        if(_clear_asset) {\n            _asset.image.pixels = null;\n            _asset = null;\n        }\n\n        apply_props();\n\n    } //from_asset\n\n    override function clear() {\n\n        if(texture != null) {\n            GL.deleteTexture(texture);\n        }\n\n    } //clear\n\n//Internal\n\n        //:todo:refactor:gl:\n    function create_texture_id() {\n\n        return GL.createTexture();\n\n    } //create_texture_id\n\n    inline function apply_props() {\n\n        apply_filter(filter_min, FilterSlot.min_filter);\n        apply_filter(filter_mag, FilterSlot.mag_filter);\n        apply_clamp(clamp_s, ClampSlot.wrap_s);\n        apply_clamp(clamp_t, ClampSlot.wrap_t);\n\n    } //apply_props\n\n    function apply_default_options( _options:TextureOptions ) {\n\n        //texture properties\n\n            load_premultiply_alpha = def(_options.load_premultiply_alpha, false);\n            compressed = def(_options.compressed, false);\n            format = def(_options.format, GL.RGBA);\n            type = def(_options.type, GL.TEXTURE_2D);\n            data_type = def(_options.data_type, GL.UNSIGNED_BYTE);\n\n        //properties\n\n            //filter\n                filter_min = def(_options.filter_min, default_filter);\n                filter_mag = def(_options.filter_mag, default_filter);\n\n            //clamp\n                clamp_s = def(_options.clamp_s, default_clamp);\n                clamp_t = def(_options.clamp_t, default_clamp);\n\n    } //apply_default_options\n\n\n        /** Return the maximum size of a texture from the hardware */\n    public static function max_size() : Int return GL.getParameter(GL.MAX_TEXTURE_SIZE);\n\n        //:todo: not be a weird static function\n    static inline function dump_asset_info(_asset:AssetImage) {\n\n        _debug('Texture Asset id: '         + _asset.image.id);\n        _debug('\\t image.bpp: '             + _asset.image.bpp);\n        _debug('\\t image.bpp_source: '      + _asset.image.bpp_source);\n        _debug('\\t image.pixels.length: '   + _asset.image.pixels.length);\n        _debug('\\t image.height: '          + _asset.image.height);\n        _debug('\\t image.height_actual: '   + _asset.image.height_actual);\n        _debug('\\t image.width: '           + _asset.image.width);\n        _debug('\\t image.width_actual: '    + _asset.image.width_actual);\n\n    } //dump_asset_info\n\n//Properties\n\n    function set_clamp_s( _clamp:ClampType ) {\n\n        bind();\n\n        apply_clamp(_clamp, ClampSlot.wrap_s);\n\n        return clamp_s = _clamp;\n\n    } //set_clamp_s\n\n    function set_clamp_t( _clamp:ClampType ) {\n\n        bind();\n\n        apply_clamp(_clamp, ClampSlot.wrap_t);\n\n        return clamp_t = _clamp;\n\n    } //set_clamp_t\n\n    function set_filter_min( _filter : FilterType ) {\n\n        bind();\n\n        apply_filter(_filter, FilterSlot.min_filter);\n\n        return filter_min = _filter;\n\n    } //set_filter_min\n\n    function set_filter_mag( _filter : FilterType ) {\n\n        bind();\n\n        apply_filter(_filter, FilterSlot.mag_filter);\n\n        return filter_mag = _filter;\n\n    } //set_filter_mag\n\n//Internal helpers, :todo:refactor:gl:\n\n    inline function apply_clamp( _clamp:ClampType, _type:ClampSlot ) {\n\n        GL.texParameteri(type, _type, _clamp);\n\n    } //apply_clamp\n\n    inline function apply_filter( _filter:FilterType, _type:FilterSlot ) {\n\n        GL.texParameteri(type, _type, _filter);\n\n    } //apply_filter\n\n    override function toString() {\n\n        var _type = type_name(type);\n        var _filter_min = filter_name(filter_min);\n        var _filter_mag = filter_name(filter_mag);\n        var _clamp_s = clamp_name(clamp_s);\n        var _clamp_t = clamp_name(clamp_t);\n\n        var _filter = 'filter(min: $_filter_min, mag:$_filter_mag)';\n        var _clamp = 'clamp(s: $_clamp_t, t: $_clamp_t)';\n        var _width = 'size(size: ${width}x${height}, actual: ${width_actual}x${height_actual})';\n\n        return 'Texture(id: $id, tex: $texture, type:$_type, $_width $_filter $_clamp )';\n\n    } //toString\n\n    static function type_name(_type:TextureType) {\n        return switch(_type) {\n            case TextureType.tex_2D: 'tex_2D';\n            case TextureType.tex_cube: 'tex_cube';\n        }\n    }\n\n    static function filter_name(_filter:FilterType) {\n        return switch(_filter) {\n            case FilterType.linear:              'linear';\n            case FilterType.nearest:             'nearest';\n            case FilterType.mip_linear_linear:   'mip_linear_linear';\n            case FilterType.mip_linear_nearest:  'mip_linear_nearest';\n            case FilterType.mip_nearest_linear:  'mip_nearest_linear';\n            case FilterType.mip_nearest_nearest: 'mip_nearest_nearest';\n        }\n    } //filter_name\n\n    static function clamp_name(_clamp:ClampType) {\n        return switch(_clamp) {\n            case ClampType.edge:    'edge';\n            case ClampType.repeat:  'repeat';\n            case ClampType.mirror:  'mirror';\n        }\n    } //clamp_name\n\n} //Texture\n\n\n//General Texture specific types,\n//initial abstraction out GL specifics\n\n\n    typedef TextureID = GLTexture;\n    typedef TextureFormat = Int;\n    typedef TextureDataType = Int;\n\n    @:enum abstract TextureType(Int) from Int to Int {\n\n        var tex_2D = GL.TEXTURE_2D;\n        var tex_cube = GL.TEXTURE_CUBE_MAP;\n        //:future: var tex_3D = 0x806F; //GL.TEXTURE_3D;\n\n    } //TextureType\n\n    @:enum abstract TextureSubmitTarget(Int) from Int to Int {\n\n        var tex_2D          = GL.TEXTURE_2D;\n\n        var cube_plus_x     = GL.TEXTURE_CUBE_MAP_POSITIVE_X;\n        var cube_plus_y     = GL.TEXTURE_CUBE_MAP_POSITIVE_Y;\n        var cube_plus_z     = GL.TEXTURE_CUBE_MAP_POSITIVE_Z;\n\n        var cube_minus_x    = GL.TEXTURE_CUBE_MAP_NEGATIVE_X;\n        var cube_minus_y    = GL.TEXTURE_CUBE_MAP_NEGATIVE_Y;\n        var cube_minus_z    = GL.TEXTURE_CUBE_MAP_NEGATIVE_Z;\n\n    } //TextureSubmitTarget\n\n    @:enum abstract FilterType(Int) from Int to Int {\n\n        var nearest = GL.NEAREST;\n        var linear = GL.LINEAR;\n        var mip_nearest_nearest = GL.NEAREST_MIPMAP_NEAREST;\n        var mip_linear_nearest = GL.LINEAR_MIPMAP_NEAREST;\n        var mip_nearest_linear = GL.NEAREST_MIPMAP_LINEAR;\n        var mip_linear_linear = GL.LINEAR_MIPMAP_LINEAR;\n\n    } //FilterType\n\n    @:enum abstract ClampType(Int) from Int to Int {\n\n        var edge = GL.CLAMP_TO_EDGE;\n        var repeat = GL.REPEAT;\n        var mirror = GL.MIRRORED_REPEAT;\n\n    } //ClampType\n\n\n//Private Texture types\n\n    @:enum private abstract ClampSlot(Int) from Int to Int {\n        var wrap_s = GL.TEXTURE_WRAP_S;\n        var wrap_t = GL.TEXTURE_WRAP_T;\n        //:future: var wrap_r = GL.TEXTURE_WRAP_R;\n    }\n\n    @:enum private abstract FilterSlot(Int) from Int to Int {\n        var min_filter = GL.TEXTURE_MIN_FILTER;\n        var mag_filter = GL.TEXTURE_MAG_FILTER;\n    }\n","package luxe;\n\nimport haxe.io.Path;\nimport haxe.macro.Context;\nimport haxe.macro.Expr;\n\nprivate enum LogError {\n    RequireString(detail:String);\n}\n\nclass Log {\n\n        //default to `log`\n    static var _level : Int = 1;\n    static var _filter : Array<String>;\n    static var _exclude : Array<String>;\n    static var _log_width : Int = 16;\n\n    macro public static function get_level() : haxe.macro.Expr {\n        return macro $v{ ${luxe.Log._level} };\n    }\n    macro public static function get_filter() : haxe.macro.Expr {\n        return macro $v{ ${luxe.Log._filter} };\n    }\n    macro public static function get_exclude() : haxe.macro.Expr {\n        return macro $v{ ${luxe.Log._exclude} };\n    }\n\n    macro static function level( __level:Int ) : haxe.macro.Expr {\n\n        _level = __level;\n\n        return macro null;\n\n    } //level\n\n    macro static function filter( __filter:String ) : haxe.macro.Expr {\n\n        _filter = __filter.split(',');\n\n        var _index = 0;\n        for(_f in _filter) {\n            _filter[_index] = StringTools.trim(_f);\n            _index++;\n        }\n\n        return macro null;\n\n    } //filter\n\n    macro static function exclude( __exclude:String ) : haxe.macro.Expr {\n\n        _exclude = __exclude.split(',');\n\n        var _index = 0;\n        for(_e in _exclude) {\n            _exclude[_index] = StringTools.trim(_e);\n            _index++;\n        }\n\n        return macro null;\n\n    } //exclude\n\n    macro static function width( _width:Int ) : haxe.macro.Expr {\n\n        _log_width = _width;\n\n        return macro null;\n\n    } //width\n\n        //This macro uses the defined log level value to reject code that\n        //shouldn't even exist at runtime , like low level debug information\n        //and logging by injecting or not injecting code\n    macro public static function log( value:Dynamic ) : Expr {\n\n        var _file = Path.withoutDirectory(Context.getPosInfos(Context.currentPos()).file);\n        var _context = Path.withoutExtension(_file).toLowerCase();\n        var _spaces = _get_spacing(_file);\n\n        for(meta in Context.getLocalClass().get().meta.get()) {\n            if(meta.name == ':log_as') {\n                var _str = switch(meta.params[0].expr) {\n                    case EConst(CString(str)): _context = str;\n                    default: throw LogError.RequireString('log_as meta requires a string constant like \"name\"');\n                }\n            }\n        } //for each meta\n\n        var _log = (_level > 0);\n\n            if(_filter != null && (_filter.indexOf(_context) == -1)) {\n                _log = false;\n            }\n\n            if(_exclude != null && (_exclude.indexOf(_context) != -1)) {\n                _log = false;\n            }\n\n        if(_log) {\n            return macro @:pos(Context.currentPos()) trace('${_spaces}i / $_context / ' + $value);\n        }\n\n        return macro null;\n\n    } //log\n\n    macro public static function _debug( value:Dynamic ) : Expr {\n\n        var _file = Path.withoutDirectory(Context.getPosInfos(Context.currentPos()).file);\n        var _context = Path.withoutExtension(_file).toLowerCase();\n        var _spaces = _get_spacing(_file);\n\n        for(meta in Context.getLocalClass().get().meta.get()) {\n            if(meta.name == ':log_as') {\n                var _str = switch(meta.params[0].expr) {\n                    case EConst(CString(str)): _context = str;\n                    default: throw LogError.RequireString('log_as meta requires a string constant like \"name\"');\n                }\n            }\n        } //for each meta\n\n        var _log = (_level > 1);\n\n            if(_filter != null && (_filter.indexOf(_context) == -1)) {\n                _log = false;\n            }\n\n            if(_exclude != null && (_exclude.indexOf(_context) != -1)) {\n                _log = false;\n            }\n\n        if(_log) {\n            return macro @:pos(Context.currentPos()) trace('${_spaces}d / $_context / ' + $value);\n        }\n\n        return macro null;\n\n    } //_debug\n\n    macro public static function _verbose( value:Dynamic ) : Expr {\n\n        var _file = Path.withoutDirectory(Context.getPosInfos(Context.currentPos()).file);\n        var _context = Path.withoutExtension(_file).toLowerCase();\n        var _spaces = _get_spacing(_file);\n\n        for(meta in Context.getLocalClass().get().meta.get()) {\n            if(meta.name == ':log_as') {\n                var _str = switch(meta.params[0].expr) {\n                    case EConst(CString(str)): _context = str;\n                    default: throw LogError.RequireString('log_as meta requires a string constant like \"name\"');\n                }\n            }\n        } //for each meta\n\n        var _log = (_level > 2);\n\n            if(_filter != null && (_filter.indexOf(_context) == -1)) {\n                _log = false;\n            }\n\n            if(_exclude != null && (_exclude.indexOf(_context) != -1)) {\n                _log = false;\n            }\n\n        if(_log) {\n            return macro @:pos(Context.currentPos()) trace('${_spaces}v / $_context / ' + $value);\n        }\n\n        return macro null;\n\n    } //_verbose\n\n    macro public static function _verboser( value:Dynamic ) : Expr {\n\n        var _file = Path.withoutDirectory(Context.getPosInfos(Context.currentPos()).file);\n        var _context = Path.withoutExtension(_file).toLowerCase();\n        var _spaces = _get_spacing(_file);\n\n        for(meta in Context.getLocalClass().get().meta.get()) {\n            if(meta.name == ':log_as') {\n                var _str = switch(meta.params[0].expr) {\n                    case EConst(CString(str)): _context = str;\n                    default: throw LogError.RequireString('log_as meta requires a string constant like \"name\"');\n                }\n            }\n        } //for each meta\n\n        var _log = (_level > 3);\n\n            if(_filter != null && (_filter.indexOf(_context) == -1)) {\n                _log = false;\n            }\n\n            if(_exclude != null && (_exclude.indexOf(_context) != -1)) {\n                _log = false;\n            }\n\n        if(_log) {\n            return macro @:pos(Context.currentPos()) trace('${_spaces}V / $_context / ' + $value);\n        }\n\n        return macro null;\n\n    } //_verboser\n\n    macro public static function assert(expr:Expr, ?reason:ExprOf<String>) {\n        #if !luxe_no_assertions\n            var _str = haxe.macro.ExprTools.toString(expr);\n\n            reason = switch(reason) {\n                case macro null: macro '';\n                case _: macro ' ( ' + $reason + ' )';\n            }\n\n            return macro @:pos(Context.currentPos()) {\n                if(!$expr) throw luxe.Log.DebugError.assertion( '$_str' + $reason);\n            }\n        #end\n        return macro null;\n    } //assert\n\n    macro public static function assertnull(value:Expr, ?reason:ExprOf<String>) {\n        #if !luxe_no_assertions\n            var _str = haxe.macro.ExprTools.toString(value);\n\n            reason = switch(reason) {\n                case macro null: macro '';\n                case _: macro ' ( ' + $reason + ' )';\n            }\n            return macro @:pos(Context.currentPos()) {\n                if($value == null) throw luxe.Log.DebugError.null_assertion('$_str was null' + $reason);\n            }\n        #end\n        return macro null;\n    } //assert\n\n    macro public static function def(value:Expr, def:Expr):Expr {\n        return macro @:pos(Context.currentPos()) {\n            if($value == null) $value = $def;\n            $value;\n        }\n    }\n\n\n//Internal Helpers\n\n\n    static function _get_spacing(_file:String ) {\n\n        var _spaces = '';\n\n            //the magic number here is File.hx[:1234] for the trace listener log spacing\n        var _trace_length = _file.length + 4;\n        var _diff : Int = _log_width - _trace_length;\n        if(_diff > 0) {\n            for(i in 0 ... _diff) {\n                _spaces += ' ';\n            }\n        }\n\n        return _spaces;\n\n    } //_get_spacing\n\n} // Debug\n\nenum DebugError {\n    assertion(expr:String);\n    null_assertion(expr:String);\n}","package phoenix;\n\nimport snow.modules.opengl.GL;\nimport phoenix.Batcher;\nimport phoenix.Texture;\nimport phoenix.Renderer.RenderTarget;\n\nimport luxe.Log.*;\nimport luxe.options.ResourceOptions;\nimport luxe.resource.Resource;\nimport luxe.Resources;\n\n\n    //A render texture just extends texture so it can be assigned to meshes etc\nclass RenderTexture extends Texture implements RenderTarget {\n\n        //These are for RenderTarget interface\n    public var framebuffer : GLFramebuffer;\n    public var renderbuffer : GLRenderbuffer;\n        //You generally don't want this to be anything other than 0.\n    public var viewport_scale : Float = 1;\n\n    public function new( _options:RenderTextureOptions ) {\n\n        _options.resource_type = ResourceType.render_texture;\n\n        super( _options );\n\n        def(_options.width, Std.int(Luxe.screen.w));\n        def(_options.height, Std.int(Luxe.screen.h));\n\n            //Width and height of this texture item\n        width = width_actual = _options.width;\n        height = height_actual = _options.height;\n\n            //super creates the texture id\n            //and binds the texture id for us\n\n            //Create the actual texture storage in gpu memory\n        if(_options.texture != null) {\n            submit(null);\n        }\n            //these must be set to be texture complete\n        apply_props();\n\n            //Create the framebuffer\n        framebuffer = GL.createFramebuffer();\n            //Bind it\n        bindBuffer();\n\n            //create the renderbuffer\n        renderbuffer = GL.createRenderbuffer();\n            //Bind it so we can attach stuff\n        bindRenderBuffer();\n\n            //Create storage for the depth buffer :todo: optionize\n        #if (web || mobile || tvos)\n        GL.renderbufferStorage(GL.RENDERBUFFER, GL.DEPTH_COMPONENT16, width, height);\n        #else\n        GL.renderbufferStorage(GL.RENDERBUFFER, GL.DEPTH_COMPONENT, width, height);\n        #end\n            //Attach the framebuffer texture to the buffer\n        GL.framebufferTexture2D( GL.FRAMEBUFFER, GL.COLOR_ATTACHMENT0, GL.TEXTURE_2D, texture, 0 );\n            //Attach the depth buffer to the render buffer\n        GL.framebufferRenderbuffer( GL.FRAMEBUFFER, GL.DEPTH_ATTACHMENT, GL.RENDERBUFFER, renderbuffer);\n\n\n        var status = GL.checkFramebufferStatus( GL.FRAMEBUFFER );\n\n        switch (status) {\n\n            case GL.FRAMEBUFFER_COMPLETE:\n\n            case GL.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:\n                throw(\"Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_ATTACHMENT\");\n\n            case GL.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:\n                throw(\"Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT\");\n\n            case GL.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:\n                throw(\"Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_DIMENSIONS\");\n\n            case GL.FRAMEBUFFER_UNSUPPORTED:\n                throw(\"Incomplete framebuffer: FRAMEBUFFER_UNSUPPORTED\");\n\n            default:\n                throw(\"Incomplete framebuffer: \" + status);\n        }\n\n            //no lingering\n        unbindBuffer();\n        unbindRenderBuffer();\n\n            //add to the resource system\n        system.add(this);\n\n    } //new\n\n    override function clear() {\n\n        super.clear();\n\n        if(framebuffer != null) {\n            GL.deleteFramebuffer(framebuffer);\n        }\n\n        if(renderbuffer != null) {\n            GL.deleteRenderbuffer(renderbuffer);\n        }\n\n    } //clear\n\n    @:noCompletion public function bindBuffer() {\n\n        Luxe.renderer.state.bindFramebuffer(framebuffer);\n\n    } //bind\n\n    @:noCompletion public function unbindBuffer( ?_other:GLFramebuffer=null ) {\n\n        Luxe.renderer.state.bindFramebuffer( _other );\n\n    } //unbind\n\n    @:noCompletion public function bindRenderBuffer() {\n\n        Luxe.renderer.state.bindRenderbuffer( renderbuffer );\n\n    } //bind\n\n    @:noCompletion public function unbindRenderBuffer( ?_other:GLRenderbuffer=null ) {\n\n        Luxe.renderer.state.bindRenderbuffer( _other );\n\n    } //unbind\n\n\n} //RenderTexture","package backend;\n\nimport snow.systems.assets.Asset;\nimport luxe.Resources;\nimport luxe.options.ResourceOptions;\nimport haxe.io.Path;\n\nusing StringTools;\n\nclass BatchedRenderTexture extends phoenix.RenderTexture {\n\n    public var targetBatcher:phoenix.Batcher = null;\n\n    public var batcherClearColor = new phoenix.Color(1.0, 1.0, 1.0, 1.0);\n\n    public function new(_options:RenderTextureOptions) {\n\n        super(_options);\n\n        targetBatcher = Luxe.renderer.create_batcher({\n            name: 'batcher:' + _options.id\n        });\n        targetBatcher.on(prerender, targetBatcherBefore);\n        targetBatcher.on(postrender, targetBatcherAfter);\n        targetBatcher.view.transform.scale.y = -1;\n        targetBatcher.view.viewport = new luxe.Rectangle(0, 0, _options.width, _options.height);\n\n    } //new\n\n    override function destroy(?_force:Bool=false) {\n\n        targetBatcher.destroy();\n        targetBatcher = null;\n\n        super.destroy(_force);\n\n    } //destroy\n\n/// Batcher stuff\n\n    function targetBatcherBefore(_) {\n\n        Luxe.renderer.target = this;\n        Luxe.renderer.clear(new phoenix.Color().rgb(0xff4b03));\n\n    } //targetBatcherBefore\n\n    function targetBatcherAfter(_) {\n\n        Luxe.renderer.target = null;\n\n    } //targetBatcherAfter\n\n} //BatchedRenderTexture\n\nclass Images #if !completion implements spec.Images #end {\n\n    public function new() {}\n\n    public function load(path:String, ?options:backend.LoadImageOptions, done:Image->Void):Void {\n\n        // Create empty texture\n        path = Path.isAbsolute(path) || path.startsWith('http://') || path.startsWith('https://') ?\n            path\n        :\n            Path.join([ceramic.App.app.settings.assetsPath, path]);\n        \n        // Is texture already loaded?\n        if (loadedTextures.exists(path)) {\n            loadedTexturesRetainCount.set(path, loadedTexturesRetainCount.get(path) + 1);\n            var existing = Luxe.resources.texture(path);\n            if (existing.state == ResourceState.loaded) {\n                done(existing);\n            } else {\n                done(null);\n            }\n            return;\n        }\n\n        // Is texture currently loading?\n        if (loadingTextureCallbacks.exists(path)) {\n            // Yes, just bind it\n            loadingTextureCallbacks.get(path).push(function(texture:Image) {\n                if (texture != null) {\n                    var retain = loadedTexturesRetainCount.exists(path) ? loadedTexturesRetainCount.get(path) : 0;\n                    loadedTexturesRetainCount.set(path, retain + 1);\n                }\n                done(texture);\n            });\n            return;\n        }\n\n        // No texture yet, load one\n        var texture:phoenix.Texture = new phoenix.Texture({\n            id: path,\n            system: Luxe.resources,\n            filter_min: null,\n            filter_mag: null,\n            clamp_s: null,\n            clamp_t: null,\n            load_premultiply_alpha: options != null && options.premultiplyAlpha ? true : false\n        });\n\n        // Keep it in luxe cache\n        Luxe.resources.add(texture);\n\n        // Create callbacks list with first entry\n        loadingTextureCallbacks.set(path, [function(texture:Image) {\n            if (texture != null) {\n                var retain = loadedTexturesRetainCount.exists(path) ? loadedTexturesRetainCount.get(path) : 0;\n                loadedTexturesRetainCount.set(path, retain + 1);\n            }\n            done(texture);\n        }]);\n\n        // Load\n        function doLoad() {\n            // Load from asset using Luxe's internal API\n            texture.state = ResourceState.loading;\n            var get = Luxe.snow.assets.image(path);\n            get.then(function(asset:AssetImage) {\n                texture.state = ResourceState.loaded;\n\n                function doCreate() {\n                    @:privateAccess texture.texture = texture.create_texture_id();\n                    @:privateAccess texture.from_asset(asset);\n\n                    loadedTextures.set(path, texture);\n                    var callbacks = loadingTextureCallbacks.get(path);\n                    loadingTextureCallbacks.remove(path);\n                    for (callback in callbacks) {\n                        callback(texture);\n                    }\n                }\n/*#if cpp\n                ceramic.internal.Worker.execInPrimary(doCreate);\n#else*/\n                doCreate();\n//#end\n            });\n            get.error(function(_) {\n\n                function doFail() {\n                    texture.state = ResourceState.failed;\n                    texture.destroy(true);\n                    \n                    var callbacks = loadingTextureCallbacks.get(path);\n                    loadingTextureCallbacks.remove(path);\n                    for (callback in callbacks) {\n                        callback(null);\n                    }\n                }\n/*#if cpp\n                ceramic.internal.Worker.execInPrimary(doFail);\n#else*/\n                doFail();\n//#end\n            });\n        }\n\n/*#if cpp\n        ceramic.App.app.backend.worker.enqueue(doLoad);\n#else*/\n        doLoad();\n//#end\n\n    } //load\n\n    var nextRenderIndex:Int = 0;\n\n    public function createImage(width:Int, height:Int):Image {\n\n        return null;\n\n    } //createImage\n\n    inline public function createRenderTarget(width:Int, height:Int):Image {\n\n        var id = 'render:' + (nextRenderIndex++);\n\n        var renderTexture = new BatchedRenderTexture({\n            id: id,\n            width: width,\n            height: height\n        });\n\n        loadedTexturesRetainCount.set(id, 1);\n\n        return renderTexture;\n\n    } //createRenderTarget\n\n    public function destroyImage(texture:Image):Void {\n\n        var id = (texture:phoenix.Texture).id;\n        if (loadedTexturesRetainCount.get(id) > 1) {\n            loadedTexturesRetainCount.set(id, loadedTexturesRetainCount.get(id) - 1);\n        }\n        else {\n            loadedTextures.remove(id);\n            loadedTexturesRetainCount.remove(id);\n            (texture:phoenix.Texture).destroy(true);\n        }\n\n    } //destroy\n\n    inline public function getImageWidth(texture:Image):Int {\n\n        return (texture:phoenix.Texture).width;\n\n    } //getWidth\n\n    inline public function getImageHeight(texture:Image):Int {\n\n        return (texture:phoenix.Texture).height;\n\n    } //getHeight\n\n    inline public function getImagePixels(texture:Image):Null<UInt8Array> {\n\n        return null;\n\n    } //getImagePixels\n\n/// Internal\n\n    var loadingTextureCallbacks:Map<String,Array<Image->Void>> = new Map();\n\n    var loadedTextures:Map<String,phoenix.Texture> = new Map();\n\n    var loadedTexturesRetainCount:Map<String,Int> = new Map();\n\n} //Textures","package backend;\n\nclass Info #if !completion implements spec.Info #end {\n\n    public function new() {}\n\n/// Assets\n\n    inline public function imageExtensions():Array<String> {\n        return ['png'];\n    }\n\n    inline public function textExtensions():Array<String> {\n        return ['txt', 'json', 'fnt'];\n    }\n\n    inline public function soundExtensions():Array<String> {\n        return ['ogg', 'wav'];\n    }\n\n    inline public function shaderExtensions():Array<String> {\n        return ['glsl', 'frag', 'vert'];\n    }\n\n} //Info\n","package backend;\n\n@:allow(Main)\nclass Screen implements ceramic.Events #if !completion implements spec.Screen #end {\n\n    public function new() {}\n\n/// Events\n\n    @event function resize();\n\n    @event function mouseDown(buttonId:Int, x:Float, y:Float);\n    @event function mouseUp(buttonId:Int, x:Float, y:Float);\n    @event function mouseWheel(x:Float, y:Float);\n    @event function mouseMove(x:Float, y:Float);\n\n    @event function touchDown(touchIndex:Int, x:Float, y:Float);\n    @event function touchUp(touchIndex:Int, x:Float, y:Float);\n    @event function touchMove(touchIndex:Int, x:Float, y:Float);\n\n/// Public API\n\n    inline public function getWidth():Int {\n\n        return Luxe.screen.w;\n\n    } //getPixelWidth\n\n    inline public function getHeight():Int {\n\n        return Luxe.screen.h;\n\n    } //getPixelHeight\n\n    inline public function getDensity():Float {\n\n#if completion\n        return 1;\n#else\n        return @:privateAccess Main.lastDevicePixelRatio;\n#end\n\n    } //getPixelHeight\n\n    public function setBackground(background:Int):Void {\n\n        Luxe.renderer.clear_color.rgb(background);\n\n    } //setBackground\n\n} //Screen\n","package backend;\n\nimport luxe.Resources;\nimport haxe.io.Path;\n\nusing StringTools;\n\nclass Shaders #if !completion implements spec.Shaders #end {\n\n    public function new() {}\n\n    public function load(path:String, options:LoadShaderOptions, done:Shader->Void):Void {\n\n        path = Path.isAbsolute(path) || path.startsWith('http://') || path.startsWith('https://') ?\n            path\n        :\n            Path.join([ceramic.App.app.settings.assetsPath, path]);\n\n        var dir = path;\n\n        var fragId = options.fragId != null ? options.fragId : 'default';\n        var vertId = options.vertId != null ? options.vertId : 'default';\n\n        path += '/[' + fragId + ',' + vertId + ']';\n\n        if (fragId != 'default') {\n            fragId = Path.join([dir, fragId]);\n        }\n\n        if (vertId != 'default') {\n            vertId = Path.join([dir, vertId]);\n        }\n\n        if (loadedShaders.exists(path)) {\n            loadedShadersRetainCount.set(path, loadedShadersRetainCount.get(path) + 1);\n            var existing = Luxe.resources.shader(path);\n            if (existing.state == ResourceState.loaded) {\n                done(existing);\n            } else {\n                done(null);\n            }\n            return;\n        }\n\n        Luxe.resources.load_shader(path, {\n            frag_id: fragId,\n            vert_id: vertId,\n            no_default_uniforms: options.noDefaultUniforms\n        })\n        .then(function(res:phoenix.Shader) {\n            done(res);\n        },\n        function(_) {\n            done(null);\n        });\n\n    } //load\n\n    inline public function destroy(shader:Shader):Void {\n\n        var id = (shader:phoenix.Shader).id;\n        if (loadedShadersRetainCount.get(id) > 1) {\n            loadedShadersRetainCount.set(id, loadedShadersRetainCount.get(id) - 1);\n        }\n        else {\n            loadedShaders.remove(id);\n            loadedShadersRetainCount.remove(id);\n            (shader:phoenix.Shader).destroy(true);\n        }\n\n    } //destroy\n\n/// Public API\n\n    inline public function setInt(shader:Shader, name:String, value:Int):Void {\n        \n        (shader:phoenix.Shader).set_int(name, value);\n\n    } //setInt\n\n    inline public function setFloat(shader:Shader, name:String, value:Float):Void {\n        \n        (shader:phoenix.Shader).set_float(name, value);\n\n    } //setFloat\n\n    inline public function setColor(shader:Shader, name:String, r:Float, g:Float, b:Float, a:Float):Void {\n        \n        (shader:phoenix.Shader).set_color(name, new phoenix.Color(r, g, b, a));\n\n    } //setColor\n\n    inline public function setVec2(shader:Shader, name:String, x:Float, y:Float):Void {\n        \n        (shader:phoenix.Shader).set_vector2(name, new phoenix.Vector(x, y));\n\n    } //setVec2\n\n    inline public function setVec3(shader:Shader, name:String, x:Float, y:Float, z:Float):Void {\n        \n        (shader:phoenix.Shader).set_vector3(name, new phoenix.Vector(x, y, z));\n\n    } //setVec3\n\n    inline public function setVec4(shader:Shader, name:String, x:Float, y:Float, z:Float, w:Float):Void {\n        \n        (shader:phoenix.Shader).set_vector4(name, new phoenix.Vector(x, y, z, w));\n\n    } //setVec4\n\n    inline public function setTexture(shader:Shader, name:String, texture:Image):Void {\n        \n        (shader:phoenix.Shader).set_texture(name, texture);\n\n    } //setTexture\n\n    /*\n    TODO\n    inline public function setMatrix4(shader:Shader, name:String, matrix4:ceramic.Matrix3D):Void {\n        \n        (shader:phoenix.Shader).set_matrix4(name, matrix4)\n\n    } //setMatrix4\n    */\n\n/// Internal\n\n    var loadedShaders:Map<String,phoenix.Shader> = new Map();\n\n    var loadedShadersRetainCount:Map<String,Int> = new Map();\n\n} //Textures","package phoenix;\n\nimport luxe.options.ResourceOptions;\nimport luxe.resource.Resource;\nimport luxe.Resources;\n\nimport luxe.Log.*;\n\nimport phoenix.Vector;\nimport phoenix.Texture;\nimport phoenix.Matrix;\nimport phoenix.Batcher;\n\nimport snow.api.Promise;\nimport snow.api.buffers.Float32Array;\nimport snow.modules.opengl.GL;\nimport snow.types.Types.Error;\nimport snow.systems.assets.Asset;\n\n\n@:allow(phoenix.Shader)\n@:allow(phoenix.geometry.Geometry)\nclass Uniforms {\n\n    var ints        : Map<String, Uniform<Int>>;\n    var floats      : Map<String, Uniform<Float>>;\n    var vector2s    : Map<String, Uniform<Vector>>;\n    var vector2arrs : Map<String, Uniform<Float32Array>>;\n    var vector3s    : Map<String, Uniform<Vector>>;\n    var vector3arrs : Map<String, Uniform<Float32Array>>;\n    var vector4s    : Map<String, Uniform<Vector>>;\n    var vector4arrs : Map<String, Uniform<Float32Array>>;\n    var matrix4s    : Map<String, Uniform<Matrix>>;\n    var matrix4arrs : Map<String, Uniform<Float32Array>>;\n    var colors      : Map<String, Uniform<Color>>;\n    var textures    : Map<String, Uniform<Texture>>;\n\n    var dirty_ints          : Array<Uniform<Int>>;\n    var dirty_floats        : Array<Uniform<Float>>;\n    var dirty_vector2s      : Array<Uniform<Vector>>;\n    var dirty_vector2arrs   : Array<Uniform<Float32Array>>;\n    var dirty_vector3s      : Array<Uniform<Vector>>;\n    var dirty_vector3arrs   : Array<Uniform<Float32Array>>;\n    var dirty_vector4s      : Array<Uniform<Vector>>;\n    var dirty_vector4arrs   : Array<Uniform<Float32Array>>;\n    var dirty_matrix4s      : Array<Uniform<Matrix>>;\n    var dirty_matrix4arrs   : Array<Uniform<Float32Array>>;\n    var dirty_colors        : Array<Uniform<Color>>;\n    var dirty_textures      : Array<Uniform<Texture>>;\n\n    public function new() {\n        clear();\n    } //new\n\n    function destroy() {\n        ints = null;\n        floats = null;\n        vector2s = null;\n        vector2arrs = null;\n        vector3s = null;\n        vector3arrs = null;\n        vector4s = null;\n        vector4arrs = null;\n        matrix4s = null;\n        matrix4arrs = null;\n        colors = null;\n        textures = null;\n        dirty_ints = null;\n        dirty_floats = null;\n        dirty_vector2s = null;\n        dirty_vector2arrs = null;\n        dirty_vector3s = null;\n        dirty_vector3arrs = null;\n        dirty_vector4s = null;\n        dirty_vector4arrs = null;\n        dirty_matrix4s = null;\n        dirty_matrix4arrs = null;\n        dirty_colors = null;\n        dirty_textures = null;\n    }\n\n    function clear() {\n\n        destroy();\n\n        ints        = new Map();\n        floats      = new Map();\n        vector2s    = new Map();\n        vector2arrs = new Map();\n        vector3s    = new Map();\n        vector3arrs = new Map();\n        vector4s    = new Map();\n        vector4arrs = new Map();\n        matrix4s    = new Map();\n        matrix4arrs = new Map();\n        colors      = new Map();\n        textures    = new Map();\n\n        dirty_ints          = [];\n        dirty_floats        = [];\n        dirty_vector2s      = [];\n        dirty_vector2arrs   = [];\n        dirty_vector3s      = [];\n        dirty_vector3arrs   = [];\n        dirty_vector4s      = [];\n        dirty_vector4arrs   = [];\n        dirty_matrix4s      = [];\n        dirty_matrix4arrs   = [];\n        dirty_colors        = [];\n        dirty_textures      = [];\n\n    } //clear\n\n    public inline function set_int( _name:String, _value:Int, _location:Location ) : Void {\n\n        var _int = ints.get(_name);\n\n        if(_int != null) {\n            _int.value = _value;\n        } else {\n            _int = new Uniform<Int>(_name, _value, _location);\n            ints.set(_name, _int);\n        }\n\n        dirty_ints.push(_int);\n\n    } //set_int\n\n    public inline function set_float( _name:String, _value:Float, _location:Location ) : Void {\n\n        var _float = floats.get(_name);\n\n        if(_float != null) {\n            _float.value = _value;\n        } else {\n            _float = new Uniform<Float>(_name, _value, _location);\n            floats.set(_name, _float);\n        }\n\n        dirty_floats.push(_float);\n\n    } //set_float\n\n    public inline function set_vector2( _name:String, _value:Vector, _location:Location ) : Void {\n\n        var _vector2 = vector2s.get(_name);\n\n        if(_vector2 != null) {\n            _vector2.value = _value;\n        } else {\n            _vector2 = new Uniform<Vector>(_name, _value, _location);\n            vector2s.set(_name, _vector2);\n        }\n\n        dirty_vector2s.push(_vector2);\n\n    } //set_vector2\n\n    public inline function set_vector2_arr( _name:String, _value:Float32Array, _location:Location ) : Void {\n\n        var _vector2 = vector2arrs.get(_name);\n\n        if(_vector2 != null) {\n            _vector2.value = _value;\n        } else {\n            _vector2 = new Uniform<Float32Array>(_name, _value, _location);\n            vector2arrs.set(_name, _vector2);\n        }\n\n        dirty_vector2arrs.push(_vector2);\n\n    } //set_vector2_arr\n\n    public inline function set_vector3( _name:String, _value:Vector, _location:Location ) : Void {\n\n        var _vector3 = vector3s.get(_name);\n\n        if(_vector3 != null) {\n            _vector3.value = _value;\n        } else {\n            _vector3 = new Uniform<Vector>(_name, _value, _location);\n            vector3s.set(_name, _vector3);\n        }\n\n        dirty_vector3s.push(_vector3);\n\n    } //set_vector3\n\n    public inline function set_vector3_arr( _name:String, _value:Float32Array, _location:Location ) : Void {\n\n        var _vector3 = vector3arrs.get(_name);\n\n        if(_vector3 != null) {\n            _vector3.value = _value;\n        } else {\n            _vector3 = new Uniform<Float32Array>(_name, _value, _location);\n            vector3arrs.set(_name, _vector3);\n        }\n\n        dirty_vector3arrs.push(_vector3);\n\n    } //set_vector3_arr\n\n    public inline function set_vector4( _name:String, _value:Vector, _location:Location ) : Void {\n\n        var _vector4 = vector4s.get(_name);\n\n        if(_vector4 != null) {\n            _vector4.value = _value;\n        } else {\n            _vector4 = new Uniform<Vector>(_name, _value, _location);\n            vector4s.set(_name, _vector4);\n        }\n\n        dirty_vector4s.push(_vector4);\n\n    } //set_vector4\n\n    public inline function set_vector4_arr( _name:String, _value:Float32Array, _location:Location ) : Void {\n\n        var _vector4 = vector4arrs.get(_name);\n\n        if(_vector4 != null) {\n            _vector4.value = _value;\n        } else {\n            _vector4 = new Uniform<Float32Array>(_name, _value, _location);\n            vector4arrs.set(_name, _vector4);\n        }\n\n        dirty_vector4arrs.push(_vector4);\n\n    } //set_vector4_arr\n\n    public inline function set_matrix4( _name:String, _value:Matrix, _location:Location ) : Void {\n\n        var _matrix4 = matrix4s.get(_name);\n\n        if(_matrix4 != null) {\n            _matrix4.value = _value;\n        } else {\n            _matrix4 = new Uniform<Matrix>(_name, _value, _location);\n            matrix4s.set(_name, _matrix4);\n        }\n\n        dirty_matrix4s.push(_matrix4);\n\n    } //set_matrix4\n\n    public inline function set_matrix4_arr( _name:String, _value:Float32Array, _location:Location ) : Void {\n\n        var _matrix4 = matrix4arrs.get(_name);\n\n        if(_matrix4 != null) {\n            _matrix4.value = _value;\n        } else {\n            _matrix4 = new Uniform<Float32Array>(_name, _value, _location);\n            matrix4arrs.set(_name, _matrix4);\n        }\n\n        dirty_matrix4arrs.push(_matrix4);\n\n    } //set_matrix4_arr\n\n    public inline function set_color( _name:String, _value:Color, _location:Location ) : Void {\n\n        var _color = colors.get(_name);\n\n        if(_color != null) {\n            _color.value = _value;\n        } else {\n            _color = new Uniform<Color>(_name, _value, _location);\n            colors.set(_name, _color);\n        }\n\n        dirty_colors.push(_color);\n\n    } //set_color\n\n    public inline function set_texture( _name:String, _value:Texture, _location:Location ) : Void {\n\n        var _texture = textures.get(_name);\n\n        if(_texture != null) {\n            _texture.value = _value;\n        } else {\n            _texture = new Uniform<Texture>(_name, _value, _location);\n            textures.set(_name, _texture);\n        }\n\n        dirty_textures.push(_texture);\n\n    } //set_texture\n\n    //inline\n    public function apply() {\n\n        while(dirty_ints.length > 0) {\n            var uf = dirty_ints.pop();\n            GL.uniform1i(uf.location, uf.value);\n        }\n\n        while(dirty_floats.length > 0) {\n            var uf = dirty_floats.pop();\n            GL.uniform1f(uf.location, uf.value);\n        }\n\n        while(dirty_vector2s.length > 0) {\n            var uf = dirty_vector2s.pop();\n            GL.uniform2f(uf.location, uf.value.x, uf.value.y);\n        }\n\n        while(dirty_vector2arrs.length > 0) {\n            var uf = dirty_vector2arrs.pop();\n            GL.uniform2fv(uf.location, uf.value);\n        }\n\n        while(dirty_vector3s.length > 0) {\n            var uf = dirty_vector3s.pop();\n            GL.uniform3f(uf.location, uf.value.x, uf.value.y, uf.value.z);\n        }\n\n        while(dirty_vector3arrs.length > 0) {\n            var uf = dirty_vector3arrs.pop();\n            GL.uniform3fv(uf.location, uf.value);\n        }\n\n        while(dirty_vector4s.length > 0) {\n            var uf = dirty_vector4s.pop();\n            GL.uniform4f(uf.location, uf.value.x, uf.value.y, uf.value.z, uf.value.w);\n        }\n\n        while(dirty_vector4arrs.length > 0) {\n            var uf = dirty_vector4arrs.pop();\n            GL.uniform4fv(uf.location, uf.value);\n        }\n\n        while(dirty_colors.length > 0) {\n            var uf = dirty_colors.pop();\n            GL.uniform4f(uf.location, uf.value.r, uf.value.g, uf.value.b, uf.value.a);\n        }\n\n        while(dirty_textures.length > 0) {\n            var uf = dirty_textures.pop();\n            GL.uniform1i(uf.location, uf.value.slot); uf.value.bind();\n        }\n\n        while(dirty_matrix4s.length > 0) {\n            var uf = dirty_matrix4s.pop();\n            GL.uniformMatrix4fv(uf.location, false, uf.value.float32array());\n        }\n\n        while(dirty_matrix4arrs.length > 0) {\n            var uf = dirty_matrix4arrs.pop();\n            GL.uniformMatrix4fv(uf.location, false, uf.value);\n        }\n\n    } //apply\n\n} //Uniforms\n\nclass Shader extends Resource {\n\n    public var log : String = '';\n\n    public var vert_source : String;\n    public var frag_source : String;\n    public var vert_id : String = '';\n    public var frag_id : String = '';\n\n    public var vert_shader : GLShader;\n    public var frag_shader : GLShader;\n    public var program : GLProgram;\n    public var shader : GLShader;\n\n    public var no_default_uniforms : Bool = false;\n    public var proj_attribute : Location;\n    public var view_attribute : Location;\n\n    public var uniforms:Uniforms;\n\n    public function new( _options:ShaderOptions ) {\n\n        assertnull(_options);\n\n        _options.resource_type = ResourceType.shader;\n\n        super( _options );\n\n        frag_id = _options.frag_id;\n        vert_id = _options.vert_id;\n        no_default_uniforms = def(_options.no_default_uniforms, false);\n\n        uniforms = new Uniforms();\n\n    } //new\n\n    public inline function activate() {\n\n        use();\n\n        uniforms.apply();\n\n            //I dont remember what this was doing here exactly\n        Luxe.renderer.state.activeTexture(GL.TEXTURE0);\n\n    } //activate\n\n    public function use() {\n\n        if(program != null) {\n            Luxe.renderer.state.useProgram( program );\n        }\n\n    } //use\n\n    public inline function deactivate() {\n\n        Luxe.renderer.state.useProgram( null );\n\n    } //deactivate\n\n        /** Create a new shader based on the source of this shader. */\n    public function clone( _id:String ) {\n\n        var _clone = new Shader({\n            id: _id,\n            frag_id: frag_id,\n            vert_id: vert_id\n        });\n\n        _clone.from_string( vert_source, frag_source );\n\n        return _clone;\n\n    } //clone\n\n    public inline function set_int( _name:String, _value:Int ) : Void {\n        uniforms.set_int(_name, _value, location(_name));\n    } //set_int\n\n    public inline function set_float( _name:String, _value:Float ) : Void {\n        uniforms.set_float(_name, _value, location(_name));\n    } //set_float\n\n    public inline function set_vector2( _name:String, _value:Vector ) : Void {\n        uniforms.set_vector2(_name, _value, location(_name));\n    } //set_vector2\n\n    public inline function set_vector2_arr( _name:String, _value:Float32Array ) : Void {\n        uniforms.set_vector2_arr(_name, _value, location(_name));\n    } //set_vector2_arr\n\n    public inline function set_vector3( _name:String, _value:Vector ) : Void {\n        uniforms.set_vector3(_name, _value, location(_name));\n    } //set_vector3\n\n    public inline function set_vector3_arr( _name:String, _value:Float32Array ) : Void {\n        uniforms.set_vector3_arr(_name, _value, location(_name));\n    } //set_vector3_arr\n\n    public inline function set_vector4( _name:String, _value:Vector ) : Void {\n        uniforms.set_vector4(_name, _value, location(_name));\n    } //set_vector4\n\n    public inline function set_vector4_arr( _name:String, _value:Float32Array ) : Void {\n        uniforms.set_vector4_arr(_name, _value, location(_name));\n    } //set_vector4_arr\n\n    public inline function set_matrix4( _name:String, _value:Matrix ) : Void {\n        uniforms.set_matrix4(_name, _value, location(_name));\n    } //set_matrix4\n\n    public inline function set_matrix4_arr( _name:String, _value:Float32Array ) : Void {\n        uniforms.set_matrix4_arr(_name, _value, location(_name));\n    } //set_matrix4_arr\n\n    public inline function set_color( _name:String, _value:Color ) : Void {\n        uniforms.set_color(_name, _value, location(_name));\n    } //set_color\n\n    public inline function set_texture( _name:String, _value:Texture ) : Void {\n        uniforms.set_texture(_name, _value, location(_name));\n    } //set_texture\n\n\n    public function compile( _type : Int, _source:String ) : GLShader {\n\n        var _shader = GL.createShader( _type );\n\n            GL.shaderSource( _shader,  _source);\n            GL.compileShader(_shader);\n\n        var _compile_log = GL.getShaderInfoLog(_shader);\n        var _log = '';\n\n        if(_compile_log.length > 0) {\n\n            var _is_frag = (_type == GL.FRAGMENT_SHADER);\n            var _type_name = (_is_frag) ? 'frag' : 'vert';\n            var _type_id = (_is_frag) ? frag_id : vert_id;\n\n            _log += '\\n\\t// start -- ($_type_name / $_type_id) compile log --\\n';\n            _log +=  format_log(_compile_log);\n            _log += '\\n\\t// end --\\n';\n\n        } //_log.length\n\n        if(GL.getShaderParameter(_shader, GL.COMPILE_STATUS) == 0) {\n\n            add_log('\\tFailed to compile shader `$id`:\\n');\n            add_log( _log.length == 0 ? format_log(GL.getShaderInfoLog(_shader)) : _log );\n\n            GL.deleteShader(_shader);\n            _shader = null;\n\n            return null;\n\n        } //compile_status\n\n        return _shader;\n    }\n\n    public function link() : Bool {\n\n        program = GL.createProgram();\n\n        GL.attachShader(program, vert_shader);\n        GL.attachShader(program, frag_shader);\n\n            //Now we want to ensure that our locations are static\n        GL.bindAttribLocation( program, Batcher.vert_attribute,    'vertexPosition');\n        GL.bindAttribLocation( program, Batcher.tcoord_attribute,  'vertexTCoord');\n        GL.bindAttribLocation( program, Batcher.color_attribute,   'vertexColor');\n        GL.bindAttribLocation( program, Batcher.normal_attribute,  'vertexNormal');\n\n        GL.linkProgram(program);\n\n        if( GL.getProgramParameter(program, GL.LINK_STATUS) == 0) {\n            add_log(\"\\tFailed to link shader program:\");\n            add_log( format_log(GL.getProgramInfoLog(program)) );\n            GL.deleteProgram(program);\n            program = null;\n            return false;\n        }\n\n            //first bind it\n        use();\n\n            //:todo: this is being refactored for the new\n            //way more flexible shaders and rendering :}\n\n                //Matrices\n            if(!no_default_uniforms) {\n\n                proj_attribute = location('projectionMatrix');\n                view_attribute = location('modelViewMatrix');\n\n                var _tex0_attribute = location( 'tex0' );\n                var _tex1_attribute = location( 'tex1' );\n                var _tex2_attribute = location( 'tex2' );\n                var _tex3_attribute = location( 'tex3' );\n                var _tex4_attribute = location( 'tex4' );\n                var _tex5_attribute = location( 'tex5' );\n                var _tex6_attribute = location( 'tex6' );\n                var _tex7_attribute = location( 'tex7' );\n\n                if(_tex0_attribute != null) GL.uniform1i( _tex0_attribute, 0 );\n                if(_tex1_attribute != null) GL.uniform1i( _tex1_attribute, 1 );\n                if(_tex2_attribute != null) GL.uniform1i( _tex2_attribute, 2 );\n                if(_tex3_attribute != null) GL.uniform1i( _tex3_attribute, 3 );\n                if(_tex4_attribute != null) GL.uniform1i( _tex4_attribute, 4 );\n                if(_tex5_attribute != null) GL.uniform1i( _tex5_attribute, 5 );\n                if(_tex6_attribute != null) GL.uniform1i( _tex6_attribute, 6 );\n                if(_tex7_attribute != null) GL.uniform1i( _tex7_attribute, 7 );\n\n            }\n\n        return true;\n\n    } //link\n\n    public inline function location( _name : String ) : Location {\n        return GL.getUniformLocation( program, _name );\n    }\n\n//Resource\n\n    override function clear() {\n\n        if( vert_shader != null ) GL.deleteShader( vert_shader );\n        if( frag_shader != null ) GL.deleteShader( frag_shader );\n        if( program != null )     GL.deleteProgram( program );\n\n        vert_source = null;\n        frag_source = null;\n\n        uniforms.clear();\n\n    } //clear\n\n    override public function reload() {\n\n        assert(state != ResourceState.destroyed);\n\n        clear();\n\n        return new Promise(function(resolve, reject) {\n\n            state = ResourceState.loading;\n\n            switch(frag_id) {\n                case 'default':  frag_source = Luxe.renderer.shaders.plain.source.frag;\n                case 'textured': frag_source = Luxe.renderer.shaders.textured.source.frag;\n            }\n\n            switch(vert_id) {\n                case 'default': vert_source = Luxe.renderer.shaders.plain.source.vert;\n            }\n\n            function _onfail(_err:Dynamic) {\n                state = ResourceState.failed;\n                reject(_err);\n            }\n\n                //one for the default shaders, already resolved\n            var _wait = [ Promise.resolve() ];\n\n            if(frag_source == null) {\n\n                var _frag = Luxe.snow.assets.text(frag_id);\n\n                _frag.then(function(_asset:AssetText) {\n                    frag_source = _asset.text;\n                });\n\n                _wait.push(_frag);\n\n            } //frag_source == null\n\n            if(vert_source == null) {\n\n                var _vert = Luxe.snow.assets.text(vert_id);\n\n                _vert.then(function(_asset:AssetText) {\n                    vert_source = _asset.text;\n                });\n\n                _wait.push(_vert);\n\n            } //vert_source\n\n            Promise.all(_wait).then(function(){\n\n                #if luxe_no_shader_prefix\n                        //:todo:hxsw: this must go\n                    var prefixes = #if luxe_web \"precision mediump float;\\n\" #else '' #end;\n                    frag_source = prefixes + frag_source;\n                #end //luxe_no_shader_prefix\n\n                if(from_string(vert_source, frag_source)) {\n                    state = ResourceState.loaded;\n                    resolve(this);\n                } else {\n                    _onfail(Error.error('`$id` failed to create :\\n\\n$log'));\n                }\n\n            }).error(function(err) {\n                _onfail(Error.error('`$id` failed to create :\\n\\t\\t$err\\n'));\n            });\n\n        }); //promise\n\n    } //reload\n\n        /** Loads shaders from a string, compiles, and links them */\n    public function from_string( _vert_source:String, _fragment_source:String ) {\n\n        inline function dump_log() {\n            if(log.length > 0) {\n                luxe.Log.log(log);\n            }\n        }\n\n        clear();\n\n        frag_source = _fragment_source;\n        vert_source = _vert_source;\n\n            //compile the sources\n        vert_shader = compile( GL.VERTEX_SHADER, vert_source );\n        frag_shader = compile( GL.FRAGMENT_SHADER, frag_source );\n\n        if( vert_shader == null || frag_shader == null ) {\n            dump_log();\n            return false;\n        }\n\n            //Link shader\n        if(!link()) {\n            dump_log();\n            return false;\n        }\n\n        return true;\n\n    } //\n\n    inline function add_log( _log:String ) {\n        log += _log;\n    }\n\n    override function toString() {\n        return 'Shader($id) vert:$vert_id / frag: $frag_id';\n    }\n\n//Internal\n\n    inline function format_log(_log:String) {\n        var _items = _log.split('\\n');\n        _items = _items.filter(function(s) { return StringTools.trim(s) != ''; });\n        _items = _items.map(function(s) { return '\\t\\t' + StringTools.trim(s); });\n        return _items.join('\\n');\n    }\n\n} //Shader\n\n@:generic\nprivate class Uniform<T> {\n\n    public var name : String;\n    public var value : T;\n    public var location : Location;\n\n    inline public function new(_name:String, _value:T, _location:Location) {\n        name = _name;\n        value = _value;\n        location = _location;\n    }\n\n} //Uniform\n\nprivate typedef Location = GLUniformLocation;\n\n\n","package backend;\n\nimport haxe.io.Path;\n\nusing StringTools;\n\nclass Texts #if !completion implements spec.Texts #end {\n\n    public function new() {}\n\n    public function load(path:String, ?options:LoadTextOptions, done:String->Void):Void {\n\n        path = Path.isAbsolute(path) || path.startsWith('http://') || path.startsWith('https://') ?\n            path\n        :\n            Path.join([ceramic.App.app.settings.assetsPath, path]);\n\n        // Is text currently loading?B\n        if (loadingTextCallbacks.exists(path)) {\n            // Yes, just bind it\n            loadingTextCallbacks.get(path).push(function(text:String) {\n                done(text);\n            });\n            return;\n        }\n        else {\n            // Add loading callbacks array\n            loadingTextCallbacks.set(path, []);\n        }\n\n        Luxe.resources.load_text(path)\n        .then(function(res:luxe.resource.Resource.TextResource) {\n            \n            if (res.asset == null) {\n                res.destroy(true);\n\n                var callbacks = loadingTextCallbacks.get(path);\n                if (callbacks != null) {\n                    loadingTextCallbacks.remove(path);\n                    done(null);\n                    for (callback in callbacks) {\n                        callback(null);\n                    }\n                }\n                else {\n                    done(null);\n                }\n\n                return;\n            }\n\n            var text = res.asset.text;\n            try {\n                // May fail if text failed to load first\n                res.destroy(true);\n            } catch (e:Dynamic) {}\n\n            var callbacks = loadingTextCallbacks.get(path);\n            if (callbacks != null) {\n                loadingTextCallbacks.remove(path);\n                done(text);\n                for (callback in callbacks) {\n                    callback(text);\n                }\n            }\n            else {\n                done(text);\n            }\n        },\n        function(_) {\n            done(null);\n        });\n\n    } //load\n\n/// Internal\n\n    var loadingTextCallbacks:Map<String,Array<String->Void>> = new Map();\n\n} //Textures","package ceramic;\n\n/** RGBA Color stored as integer.\n    Can be decomposed to Color/Int (RGB) + Float (A) and\n    constructed from Color/Int (RGB) + Float (A). */\nabstract AlphaColor(Int) from Int from UInt to Int to UInt {\n\n    public var red(get, set):Int;\n    public var blue(get, set):Int;\n    public var green(get, set):Int;\n    public var alpha(get, set):Int;\n    \n    public var redFloat(get, set):Float;\n    public var blueFloat(get, set):Float;\n    public var greenFloat(get, set):Float;\n    public var alphaFloat(get, set):Float;\n\n    public var color(get, set):Color;\n\n    public inline function new(color:Color, alpha:Int = 255) {\n        var value:AlphaColor = Std.int(color) + 0xFF000000;\n        value.alpha = alpha;\n        this = value;\n    }\n\n    inline function get_color():Color {\n        return Color.fromRGB(red, green, blue);\n    }\n    inline function set_color(color:Color):Color {\n        red = color.red;\n        green = color.green;\n        blue = color.blue;\n        return color;\n    }\n    \n    private inline function get_red():Int\n    {\n        return (this >> 16) & 0xff;\n    }\n    \n    private inline function get_green():Int\n    {\n        return (this >> 8) & 0xff;\n    }\n    \n    private inline function get_blue():Int\n    {\n        return this & 0xff;\n    }\n    \n    private inline function get_alpha():Int\n    {\n        return (this >> 24) & 0xff;\n    }\n    \n    private inline function get_redFloat():Float\n    {\n        return red / 255;\n    }\n    \n    private inline function get_greenFloat():Float\n    {\n        return green / 255;\n    }\n    \n    private inline function get_blueFloat():Float\n    {\n        return blue / 255;\n    }\n    \n    private inline function get_alphaFloat():Float\n    {\n        return alpha / 255;\n    }\n    \n    private inline function set_red(Value:Int):Int\n    {\n        this &= 0xff00ffff;\n        this |= boundChannel(Value) << 16;\n        return Value;\n    }\n    \n    private inline function set_green(Value:Int):Int\n    {\n        this &= 0xffff00ff;\n        this |= boundChannel(Value) << 8;\n        return Value;\n    }\n    \n    private inline function set_blue(Value:Int):Int\n    {\n        this &= 0xffffff00;\n        this |= boundChannel(Value);\n        return Value;\n    }\n    \n    private inline function set_alpha(Value:Int):Int\n    {\n        this &= 0x00ffffff;\n        this |= boundChannel(Value) << 24;\n        return Value;\n    }\n    \n    private inline function set_redFloat(Value:Float):Float\n    {\n        red = Math.round(Value * 255);\n        return Value;\n    }\n    \n    private inline function set_greenFloat(Value:Float):Float\n    {\n        green = Math.round(Value * 255);\n        return Value;\n    }\n    \n    private inline function set_blueFloat(Value:Float):Float\n    {\n        blue = Math.round(Value * 255);\n        return Value;\n    }\n    \n    private inline function set_alphaFloat(Value:Float):Float\n    {\n        alpha = Math.round(Value * 255);\n        return Value;\n    }\n\n    private inline function boundChannel(value:Int):Int\n    {\n        return value > 0xff ? 0xff : value < 0 ? 0 : value;\n    }\n\n} //AlphaColor\n","package ceramic;\n\n// Substantial portion taken from: https://github.com/HaxeFlixel/flixel/blob/master/flixel/util/Color.hx\n\n/**\n * Class representing a color, based on Int. Provides a variety of methods for creating and converting colors.\n *\n * Colors can be written as Ints. This means you can pass a hex value such as\n * 0x123456 to a function expecting a Color, and it will automatically become a Color \"object\".\n * Similarly, Colors may be treated as Ints.\n *\n * Note that when using properties of a Color other than RGB, the values are ultimately stored as\n * RGB values, so repeatedly manipulating HSB/HSL/CMYK values may result in a gradual loss of precision.\n *\n * @author Joe Williamson (JoeCreates)\n * @author Edited by Jeremy Faivre for Ceramic engine (jeremyfa)\n */\nabstract Color(Int) from Int from UInt to Int to UInt\n{\n    public static inline var WHITE:Color =       0xFFFFFF;\n    public static inline var GRAY:Color =        0x808080;\n    public static inline var BLACK:Color =       0x000000;\n\n    public static inline var GREEN:Color =       0x008000;\n    public static inline var LIME:Color =        0x00FF00;\n    public static inline var YELLOW:Color =      0xFFFF00;\n    public static inline var ORANGE:Color =      0xFFA500;\n    public static inline var RED:Color =         0xFF0000;\n    public static inline var PURPLE:Color =      0x800080;\n    public static inline var BLUE:Color =        0x0000FF;\n    public static inline var BROWN:Color =       0x8B4513;\n    public static inline var PINK:Color =        0xFFC0CB;\n    public static inline var MAGENTA:Color =     0xFF00FF;\n    public static inline var CYAN:Color =        0x00FFFF;\n\n    public static var colorLookup(default, null):Map<String, Int> = new Map<String, Int>();\n\n    public var red(get, set):Int;\n    public var blue(get, set):Int;\n    public var green(get, set):Int;\n\n    public var redFloat(get, set):Float;\n    public var blueFloat(get, set):Float;\n    public var greenFloat(get, set):Float;\n\n    public var cyan(get, set):Float;\n    public var magenta(get, set):Float;\n    public var yellow(get, set):Float;\n    public var black(get, set):Float;\n\n    /**\n     * The hue of the color in degrees (from 0 to 359)\n     */\n    public var hue(get, set):Float;\n    /**\n     * The saturation of the color (from 0 to 1)\n     */\n    public var saturation(get, set):Float;\n    /**\n     * The brightness (aka value) of the color (from 0 to 1)\n     */\n    public var brightness(get, set):Float;\n    /**\n     * The lightness of the color (from 0 to 1)\n     */\n    public var lightness(get, set):Float;\n\n    private static var RE_COLOR = ~/^(0x|#)(([A-F0-9]{2}){3})$/i;\n\n    /**\n     * Create a color from the least significant four bytes of an Int\n     *\n     * @param    value And Int with bytes in the format 0xRRGGBB\n     * @return    The color as a Color\n     */\n    public static inline function fromInt(value:Int):Color\n    {\n        return new Color(value);\n    }\n\n    /**\n     * Generate a color from integer RGB values (0 to 255)\n     *\n     * @param red    The red value of the color from 0 to 255\n     * @param green    The green value of the color from 0 to 255\n     * @param blue    The green value of the color from 0 to 255\n     * @return The color as a Color\n     */\n    public static inline function fromRGB(red:Int, green:Int, blue:Int):Color\n    {\n        var color = new Color();\n        return color.setRGB(red, green, blue);\n    }\n\n    /**\n     * Generate a color from float RGB values (0 to 1)\n     *\n     * @param red    The red value of the color from 0 to 1\n     * @param green    The green value of the color from 0 to 1\n     * @param blue    The green value of the color from 0 to 1\n     * @return The color as a Color\n     */\n    public static inline function fromRGBFloat(red:Float, green:Float, blue:Float):Color\n    {\n        var color = new Color();\n        return color.setRGBFloat(red, green, blue);\n    }\n\n    /**\n     * Generate a color from CMYK values (0 to 1)\n     *\n     * @param cyan        The cyan value of the color from 0 to 1\n     * @param magenta    The magenta value of the color from 0 to 1\n     * @param yellow    The yellow value of the color from 0 to 1\n     * @param black        The black value of the color from 0 to 1\n     * @return The color as a Color\n     */\n    public static inline function fromCMYK(cyan:Float, magenta:Float, yellow:Float, black:Float):Color\n    {\n        var color = new Color();\n        return color.setCMYK(cyan, magenta, yellow, black);\n    }\n\n    /**\n     * Generate a color from HSB (aka HSV) components.\n     *\n     * @param    hue            A number between 0 and 360, indicating position on a color strip or wheel.\n     * @param    saturation    A number between 0 and 1, indicating how colorful or gray the color should be.  0 is gray, 1 is vibrant.\n     * @param    brightness    (aka value) A number between 0 and 1, indicating how bright the color should be.  0 is black, 1 is full bright.\n     * @return    The color as a Color\n     */\n    public static function fromHSB(hue:Float, saturation:Float, brightness:Float):Color\n    {\n        var color = new Color();\n        return color.setHSB(hue, saturation, brightness);\n    }\n\n    /**\n     * Generate a color from HSL components.\n     *\n     * @param    hue            A number between 0 and 360, indicating position on a color strip or wheel.\n     * @param    saturation    A number between 0 and 1, indicating how colorful or gray the color should be.  0 is gray, 1 is vibrant.\n     * @param    lightness    A number between 0 and 1, indicating the lightness of the color\n     * @return    The color as a Color\n     */\n    public static inline function fromHSL(hue:Float, saturation:Float, lightness:Float):Color\n    {\n        var color = new Color();\n        return color.setHSL(hue, saturation, lightness);\n    }\n\n    /**\n     * Parses a `String` and returns a `Color` or `null` if the `String` couldn't be parsed.\n     *\n     * Examples (input -> output in hex):\n     *\n     * - `0x00FF00`    -> `0x00FF00`\n     * - `#0000FF`     -> `0x0000FF`\n     * - `GRAY`        -> `0x808080`\n     * - `blue`        -> `0x0000FF`\n     *\n     * @param    str     The string to be parsed\n     * @return    A `Color` or `null` if the `String` couldn't be parsed\n     */\n    public static function fromString(str:String):Null<Color>\n    {\n        var result:Null<Color> = null;\n        str = StringTools.trim(str);\n\n        if (RE_COLOR.match(str))\n        {\n            var hexColor:String = \"0x\" + RE_COLOR.matched(2);\n            result = new Color(Std.parseInt(hexColor));\n        }\n        else\n        {\n            str = str.toUpperCase();\n            for (key in colorLookup.keys())\n            {\n                if (key.toUpperCase() == str)\n                {\n                    result = new Color(colorLookup.get(key));\n                    break;\n                }\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Get HSB color wheel values in an array which will be 360 elements in size\n     *\n     * @return    HSB color wheel as Array of Colors\n     */\n    public static function getHSBColorWheel():Array<Color>\n    {\n        return [for (c in 0...360) fromHSB(c, 1.0, 1.0)];\n    }\n\n    /**\n     * Get an interpolated color based on two different colors.\n     *\n     * @param     color1 The first color\n     * @param     color2 The second color\n     * @param     factor value from 0 to 1 representing how much to shift color1 toward color2\n     * @return    The interpolated color\n     */\n    public static inline function interpolate(color1:Color, color2:Color, factor:Float = 0.5):Color\n    {\n        var r:Int = Std.int((color2.red - color1.red) * factor + color1.red);\n        var g:Int = Std.int((color2.green - color1.green) * factor + color1.green);\n        var b:Int = Std.int((color2.blue - color1.blue) * factor + color1.blue);\n\n        return fromRGB(r, g, b);\n    }\n\n    /**\n     * Create a gradient from one color to another\n     *\n     * @param color1 The color to shift from\n     * @param color2 The color to shift to\n     * @param steps How many colors the gradient should have\n     * @param ease An optional easing function, such as those provided in FlxEase\n     * @return An array of colors of length steps, shifting from color1 to color2\n     */\n    public static function gradient(color1:Color, color2:Color, steps:Int, ?ease:Float->Float):Array<Color>\n    {\n        var output = new Array<Color>();\n\n        if (ease == null)\n        {\n            ease = function(t:Float):Float\n            {\n                return t;\n            }\n        }\n\n        for (step in 0...steps)\n        {\n            output[step] = interpolate(color1, color2, ease(step / (steps - 1)));\n        }\n\n        return output;\n    }\n\n    /**\n     * Multiply the RGB channels of two Colors\n     */\n    @:op(A * B)\n    public static inline function multiply(lhs:Color, rhs:Color):Color\n    {\n        return Color.fromRGBFloat(lhs.redFloat * rhs.redFloat, lhs.greenFloat * rhs.greenFloat, lhs.blueFloat * rhs.blueFloat);\n    }\n\n    /**\n     * Add the RGB channels of two Colors\n     */\n    @:op(A + B)\n    public static inline function add(lhs:Color, rhs:Color):Color\n    {\n        return Color.fromRGB(lhs.red + rhs.red, lhs.green + rhs.green, lhs.blue + rhs.blue);\n    }\n\n    /**\n     * Subtract the RGB channels of one Color from another\n     */\n    @:op(A - B)\n    public static inline function subtract(lhs:Color, rhs:Color):Color\n    {\n        return Color.fromRGB(lhs.red - rhs.red, lhs.green - rhs.green, lhs.blue - rhs.blue);\n    }\n\n    /**\n     * Return a String representation of the color in the format\n     *\n     * @param prefix Whether to include \"0x\" prefix at start of string\n     * @return    A string of length 10 in the format 0xAARRGGBB\n     */\n    public inline function toHexString(prefix:Bool = true):String\n    {\n        return (prefix ? \"0x\" : \"\") +\n            StringTools.hex(red, 2) + StringTools.hex(green, 2) + StringTools.hex(blue, 2);\n    }\n\n    /**\n     * Return a String representation of the color in the format #RRGGBB\n     *\n     * @return    A string of length 7 in the format #RRGGBB\n     */\n    public inline function toWebString():String\n    {\n        return \"#\" + toHexString(false);\n    }\n\n    /**\n     * Get a string of color information about this color\n     *\n     * @return A string containing information about this color\n     */\n    public function getColorInfo():String\n    {\n        // Hex format\n        var result:String = toHexString() + \"\\n\";\n        // RGB format\n        result += \"Red: \" + red + \" green: \" + green + \" blue: \" + blue + \"\\n\";\n        // HSB/HSL info\n        result += \"Hue: \" + roundDecimal(hue, 2) + \" saturation: \" + roundDecimal(saturation, 2) +\n            \" brightness: \" + roundDecimal(brightness, 2) + \" lightness: \" + roundDecimal(lightness, 2);\n\n        return result;\n    }\n\n    /**\n     * Get a darkened version of this color\n     *\n     * @param    factor value from 0 to 1 of how much to progress toward black.\n     * @return     A darkened version of this color\n     */\n    public function getDarkened(factor:Float = 0.2):Color\n    {\n        factor = bound(factor, 0, 1);\n        var output:Color = this;\n        output.lightness = output.lightness * (1 - factor);\n        return output;\n    }\n\n    /**\n     * Get a lightened version of this color\n     *\n     * @param    factor value from 0 to 1 of how much to progress toward white.\n     * @return     A lightened version of this color\n     */\n    public inline function getLightened(factor:Float = 0.2):Color\n    {\n        factor = bound(factor, 0, 1);\n        var output:Color = this;\n        output.lightness = output.lightness + (1 - lightness) * factor;\n        return output;\n    }\n\n    /**\n     * Get the inversion of this color\n     *\n     * @return The inversion of this color\n     */\n    public inline function getInverted():Color\n    {\n        var output:Color = Color.WHITE - this;\n        return output;\n    }\n\n    /**\n     * Set RGB values as integers (0 to 255)\n     *\n     * @param red    The red value of the color from 0 to 255\n     * @param green    The green value of the color from 0 to 255\n     * @param blue    The green value of the color from 0 to 255\n     * @return This color\n     */\n    public inline function setRGB(red:Int, green:Int, blue:Int):Color\n    {\n        set_red(red);\n        set_green(green);\n        set_blue(blue);\n        return this;\n    }\n\n    /**\n     * Set RGB values as floats (0 to 1)\n     *\n     * @param red    The red value of the color from 0 to 1\n     * @param green    The green value of the color from 0 to 1\n     * @param blue    The green value of the color from 0 to 1\n     * @return This color\n     */\n    public inline function setRGBFloat(red:Float, green:Float, blue:Float):Color\n    {\n        redFloat = red;\n        greenFloat = green;\n        blueFloat = blue;\n        return this;\n    }\n\n    /**\n     * Set CMYK values as floats (0 to 1)\n     *\n     * @param cyan        The cyan value of the color from 0 to 1\n     * @param magenta    The magenta value of the color from 0 to 1\n     * @param yellow    The yellow value of the color from 0 to 1\n     * @param black        The black value of the color from 0 to 1\n     * @return This color\n     */\n    public inline function setCMYK(cyan:Float, magenta:Float, yellow:Float, black:Float):Color\n    {\n        redFloat = (1 - cyan) * (1 - black);\n        greenFloat = (1 - magenta) * (1 - black);\n        blueFloat = (1 - yellow) * (1 - black);\n        return this;\n    }\n\n    /**\n     * Set HSB (aka HSV) components\n     *\n     * @param    hue            A number between 0 and 360, indicating position on a color strip or wheel.\n     * @param    saturation    A number between 0 and 1, indicating how colorful or gray the color should be.  0 is gray, 1 is vibrant.\n     * @param    brightness    (aka value) A number between 0 and 1, indicating how bright the color should be.  0 is black, 1 is full bright.\n     * @return    This color\n     */\n    public inline function setHSB(hue:Float, saturation:Float, brightness:Float):Color\n    {\n        var chroma = brightness * saturation;\n        var match = brightness - chroma;\n        return setHSChromaMatch(hue, saturation, chroma, match);\n    }\n\n    /**\n     * Set HSL components.\n     *\n     * @param    hue            A number between 0 and 360, indicating position on a color strip or wheel.\n     * @param    saturation    A number between 0 and 1, indicating how colorful or gray the color should be.  0 is gray, 1 is vibrant.\n     * @param    lightness    A number between 0 and 1, indicating the lightness of the color\n     * @return    This color\n     */\n    public inline function setHSL(hue:Float, saturation:Float, lightness:Float):Color\n    {\n        var chroma = (1 - Math.abs(2 * lightness - 1)) * saturation;\n        var match = lightness - chroma / 2;\n        return setHSChromaMatch(hue, saturation, chroma, match);\n    }\n\n    /**\n     * Private utility function to perform common operations between setHSB and setHSL\n     */\n    private inline function setHSChromaMatch(hue:Float, saturation:Float, chroma:Float, match:Float):Color\n    {\n        hue %= 360;\n        var hueD = hue / 60;\n        var mid = chroma * (1 - Math.abs(hueD % 2 - 1)) + match;\n        chroma += match;\n\n        switch (Std.int(hueD))\n        {\n            case 0: setRGBFloat(chroma, mid, match);\n            case 1: setRGBFloat(mid, chroma, match);\n            case 2: setRGBFloat(match, chroma, mid);\n            case 3: setRGBFloat(match, mid, chroma);\n            case 4: setRGBFloat(mid, match, chroma);\n            case 5: setRGBFloat(chroma, match, mid);\n        }\n\n        return this;\n    }\n\n    public function new(value:Int = 0)\n    {\n        this = value;\n    }\n\n    private inline function get_red():Int\n    {\n        return (this >> 16) & 0xff;\n    }\n\n    private inline function get_green():Int\n    {\n        return (this >> 8) & 0xff;\n    }\n\n    private inline function get_blue():Int\n    {\n        return this & 0xff;\n    }\n\n    private inline function get_redFloat():Float\n    {\n        return red / 255;\n    }\n\n    private inline function get_greenFloat():Float\n    {\n        return green / 255;\n    }\n\n    private inline function get_blueFloat():Float\n    {\n        return blue / 255;\n    }\n\n    private inline function set_red(value:Int):Int\n    {\n        this &= 0x00ffff;\n        this |= boundChannel(value) << 16;\n        return value;\n    }\n\n    private inline function set_green(value:Int):Int\n    {\n        this &= 0xff00ff;\n        this |= boundChannel(value) << 8;\n        return value;\n    }\n\n    private inline function set_blue(value:Int):Int\n    {\n        this &= 0xffff00;\n        this |= boundChannel(value);\n        return value;\n    }\n\n    private inline function set_redFloat(value:Float):Float\n    {\n        red = Math.round(value * 255);\n        return value;\n    }\n\n    private inline function set_greenFloat(value:Float):Float\n    {\n        green = Math.round(value * 255);\n        return value;\n    }\n\n    private inline function set_blueFloat(value:Float):Float\n    {\n        blue = Math.round(value * 255);\n        return value;\n    }\n\n    private inline function get_cyan():Float\n    {\n        return (1 - redFloat - black) / brightness;\n    }\n\n    private inline function get_magenta():Float\n    {\n        return (1 - greenFloat - black) / brightness;\n    }\n\n    private inline function get_yellow():Float\n    {\n        return (1 - blueFloat - black) / brightness;\n    }\n\n    private inline function get_black():Float\n    {\n        return 1 - brightness;\n    }\n\n    private inline function set_cyan(value:Float):Float\n    {\n        setCMYK(value, magenta, yellow, black);\n        return value;\n    }\n\n    private inline function set_magenta(value:Float):Float\n    {\n        setCMYK(cyan, value, yellow, black);\n        return value;\n    }\n\n    private inline function set_yellow(value:Float):Float\n    {\n        setCMYK(cyan, magenta, value, black);\n        return value;\n    }\n\n    private inline function set_black(value:Float):Float\n    {\n        setCMYK(cyan, magenta, yellow, value);\n        return value;\n    }\n\n    private function get_hue():Float\n    {\n        var hueRad = Math.atan2(Math.sqrt(3) * (greenFloat - blueFloat), 2 * redFloat - greenFloat - blueFloat);\n        var hue:Float = 0;\n        if (hueRad != 0)\n        {\n            hue = 180 / Math.PI * Math.atan2(Math.sqrt(3) * (greenFloat - blueFloat), 2 * redFloat - greenFloat - blueFloat);\n        }\n\n        return hue < 0 ? hue + 360 : hue;\n    }\n\n    private inline function get_brightness():Float\n    {\n        return maxColor();\n    }\n\n    private inline function get_saturation():Float\n    {\n        return (maxColor() - minColor()) / brightness;\n    }\n\n    private inline function get_lightness():Float\n    {\n        return (maxColor() + minColor()) / 2;\n    }\n\n    private inline function set_hue(value:Float):Float\n    {\n        setHSB(value, saturation, brightness);\n        return value;\n    }\n\n    private inline function set_saturation(value:Float):Float\n    {\n        setHSB(hue, value, brightness);\n        return value;\n    }\n\n    private inline function set_brightness(value:Float):Float\n    {\n        setHSB(hue, saturation, value);\n        return value;\n    }\n\n    private inline function set_lightness(value:Float):Float\n    {\n        setHSL(hue, saturation, value);\n        return value;\n    }\n\n    private inline function maxColor():Float\n    {\n        return Math.max(redFloat, Math.max(greenFloat, blueFloat));\n    }\n\n    private inline function minColor():Float\n    {\n        return Math.min(redFloat, Math.min(greenFloat, blueFloat));\n    }\n\n    private inline function boundChannel(value:Int):Int\n    {\n        return value > 0xff ? 0xff : value < 0 ? 0 : value;\n    }\n\n/// Math\n\n    private static function roundDecimal(value:Float, precision:Int):Float\n    {\n        var mult:Float = 1;\n        for (i in 0...precision)\n        {\n            mult *= 10;\n        }\n        return Math.round(value * mult) / mult;\n    }\n\n    private static inline function bound(value:Float, ?min:Float, ?max:Float):Float\n    {\n        var lowerBound:Float = (min != null && value < min) ? min : value;\n        return (max != null && lowerBound > max) ? max : lowerBound;\n    }\n}\n","package ceramic;\n\nimport ceramic.internal.PlatformSpecific;\n\nimport ceramic.Settings;\nimport ceramic.Assets;\nimport ceramic.Fragment;\nimport ceramic.Texture;\nimport ceramic.BitmapFont;\nimport ceramic.ConvertField;\nimport ceramic.Collections;\nimport ceramic.Shortcuts.*;\n\nimport backend.Backend;\n\n#if !macro\n@:build(ceramic.macros.AppMacro.build())\n#end\n@:allow(ceramic.Visual)\n@:allow(ceramic.Screen)\nclass App extends Entity {\n\n/// Shared instances\n\n    public static var app(get,null):App;\n    static inline function get_app():App { return app; }\n\n/// Events\n\n    /** Ready event is called when the app is ready and\n        the game logic can be started. */\n    @event function ready();\n\n    /** Update event is called as many times as there are frames per seconds.\n        It is in sync with screen FPS but used for everything that needs\n        to get updated depending on time (ceramic.Timer relies on it).\n        Use this event to update your contents before they get drawn again. */\n    @event function update(delta:Float);\n\n    @event function keyDown(key:Key);\n    @event function keyUp(key:Key);\n\n    @event function controllerAxis(controllerId:Int, axisId:Int, value:Float);\n    @event function controllerDown(controllerId:Int, buttonId:Int);\n    @event function controllerUp(controllerId:Int, buttonId:Int);\n    @event function controllerEnable(controllerId:Int, name:String);\n    @event function controllerDisable(controllerId:Int);\n\n/// Static pre-init code (used to add plugins)\n\n    static var preInitCallbacks:Array<Void->Void>;\n    static function oncePreInit(handle:Void->Void):Void {\n        if (preInitCallbacks == null) preInitCallbacks = [];\n        preInitCallbacks.push(handle);\n    }\n\n/// Properties\n\n    /** Backend instance */\n    public var backend(default,null):Backend;\n\n    /** Screen instance */\n    public var screen(default,null):Screen;\n\n    /** App settings */\n    public var settings(default,null):Settings;\n\n    /** Logger. Used by log() shortcut. */\n    public var logger(default,null):Logger = new Logger();\n\n    /** Visuals (ordered). */\n    public var visuals(default,null):Array<Visual> = [];\n\n    /** App level assets. Used to load default bitmap font. */\n    public var assets(default,null):Assets = new Assets();\n\n    /** App level collections. */\n    public var collections(default,null):Collections = new Collections();\n\n    /** Default font */\n    public var defaultFont(get,null):BitmapFont;\n    inline function get_defaultFont():BitmapFont {\n        return assets.font(Fonts.ARIAL_20);\n    }\n\n/// Field converters\n\n    public var converters:Map<String,ConvertField<Dynamic,Dynamic>> = new Map();\n\n    public var componentInitializers:Map<String,Array<Dynamic>->Component> = new Map();\n\n/// Internal\n\n    var hierarchyDirty:Bool = false;\n\n    /** List of functions that will be called and purged when update iteration begins.\n        Useful to run some specific code once exactly before update event is sent. */\n    var beginUpdateCallbacks:Array<Void->Void> = [];\n\n/// Public initializer\n\n    public static function init():InitSettings {\n\n        app = new App();\n        return new InitSettings(app.settings);\n        \n    } //init\n    \n/// Lifecycle\n\n    function new() {\n\n        settings = new Settings();\n        screen = new Screen();\n\n        backend = new Backend();\n        backend.onceReady(this, backendReady);\n        backend.init(this);\n\n    } //new\n\n    function backendReady():Void {\n\n        screen.backendReady();\n\n        // Run pre-init callbacks\n        if (preInitCallbacks != null) {\n            for (callback in [].concat(preInitCallbacks)) {\n                callback();\n            }\n            preInitCallbacks = null;\n        }\n\n        // Init field converters\n        initFieldConverters();\n\n        // Init component initializers\n        initComponentInitializers();\n\n        // Init collections\n        initCollections();\n\n        // Load default font\n        assets.add(Fonts.ARIAL_20);\n        assets.onceComplete(this, function(success) {\n\n            if (success) {\n                logger.success('Default assets loaded.');\n                assetsLoaded();\n            } else {\n                error('Failed to load default assets.');\n            }\n\n        });\n\n        assets.load();\n\n    } //backendReady\n\n    function initFieldConverters():Void {\n\n        converters.set('ceramic.Texture', new ConvertTexture());\n        converters.set('ceramic.BitmapFont', new ConvertFont());\n        converters.set('ceramic.FragmentData', new ConvertFragmentData());\n        converters.set('Map<String,String>', new ConvertMap<String>());\n        converters.set('Map<String,Bool>', new ConvertMap<Bool>());\n        converters.set('ImmutableMap<String,String>', new ConvertMap<String>());\n        converters.set('ceramic.ImmutableMap<String,Bool>', new ConvertMap<Bool>());\n        converters.set('ceramic.ImmutableMap<String,ceramic.Component>', new ConvertComponentMap());\n\n    } //initFieldConverters\n\n    function initComponentInitializers():Void {\n\n        // Nothing to do for now\n\n    } //initComponentInitializers\n\n    function initCollections():Void {\n\n        var addedAssets = new Map<String,Bool>();\n        var numAdded = 0;\n\n        // Compute databases to load\n        //\n        for (key in Reflect.fields(info.collections)) {\n            for (collectionName in Reflect.fields(Reflect.field(info.collections, key))) {\n                var collectionInfo:Dynamic = Reflect.field(Reflect.field(info.collections, key), collectionName);\n                if (!Std.is(collectionInfo, String)) {\n                    var dataName = collectionInfo.data;\n                    if (dataName != null) {\n                        if (!addedAssets.exists(dataName)) {\n                            addedAssets.set(dataName, true);\n                            assets.addDatabase(dataName);\n                            numAdded++;\n                        }\n                    }\n                }\n            }\n        }\n\n        if (numAdded > 0) {\n            \n            assets.onceComplete(this, function(success) {\n\n                // Fill collections with loaded data\n                //\n                for (key in Reflect.fields(info.collections)) {\n                    for (collectionName in Reflect.fields(Reflect.field(info.collections, key))) {\n                        var collectionInfo:Dynamic = Reflect.field(Reflect.field(info.collections, key), collectionName);\n                        if (!Std.is(collectionInfo, String)) {\n                            var dataName = collectionInfo.data;\n                            if (dataName != null) {\n                                \n                                var data = assets.database(dataName);\n                                var collection:Collection<CollectionEntry> = Reflect.field(collections, collectionName);\n                                var entryClass = Type.resolveClass(collectionInfo.type);\n\n                                for (item in data) {\n                                    var instance:CollectionEntry = Type.createInstance(entryClass, []);\n                                    instance.setRawData(item);\n                                    collection.push(instance);\n                                }\n\n                            }\n                        }\n                    }\n                }\n\n            });\n\n        }\n\n    } //initCollections\n\n    function assetsLoaded():Void {\n\n        // Platform specific code (which is not in backend code)\n        PlatformSpecific.postAppInit();\n\n        emitReady();\n\n        screen.resize();\n\n        backend.onUpdate(this, update);\n\n        // Forward key events\n        //\n        backend.onKeyDown(this, function(key) {\n            beginUpdateCallbacks.push(function() emitKeyDown(key));\n        });\n        backend.onKeyUp(this, function(key) {\n            beginUpdateCallbacks.push(function() emitKeyUp(key));\n        });\n\n        // Forward controller events\n        backend.onControllerEnable(this, function(controllerId, name) {\n            beginUpdateCallbacks.push(function() emitControllerEnable(controllerId, name));\n        });\n        backend.onControllerDisable(this, function(controllerId) {\n            beginUpdateCallbacks.push(function() emitControllerDisable(controllerId));\n        });\n        backend.onControllerDown(this, function(controllerId, buttonId) {\n            beginUpdateCallbacks.push(function() emitControllerDown(controllerId, buttonId));\n        });\n        backend.onControllerUp(this, function(controllerId, buttonId) {\n            beginUpdateCallbacks.push(function() emitControllerUp(controllerId, buttonId));\n        });\n        backend.onControllerAxis(this, function(controllerId, axisId, value) {\n            beginUpdateCallbacks.push(function() emitControllerAxis(controllerId, axisId, value));\n        });\n\n    } //assetsLoaded\n\n    function update(delta:Float):Void {\n\n        Timer.update(delta);\n\n        // Run 'begin update' callbacks, like touch/mouse/key events etc...\n        if (beginUpdateCallbacks.length > 0) {\n            var callbacks = beginUpdateCallbacks;\n            beginUpdateCallbacks = [];\n            for (callback in callbacks) {\n                callback();\n            }\n        }\n\n        // Then update\n        app.emitUpdate(delta);\n\n        // Notify if screen matrix has changed\n        if (screen.matrix.changed) {\n            screen.matrix.emitChange();\n        }\n\n        for (visual in visuals) {\n\n            // Compute touchable state\n            if (visual.touchableDirty) {\n                visual.computeTouchable();\n            }\n\n            // Compute displayed content\n            if (visual.contentDirty) {\n\n                // Compute content only if visual is currently visible\n                //\n                if (visual.visibilityDirty) {\n                    visual.computeVisibility();\n                }\n\n                if (visual.computedVisible) {\n\n                    if (visual.clipToBoundsDirty) {\n                        visual.computeClipToBounds();\n                    }\n\n                    visual.computeContent();\n                }\n            }\n\n        }\n\n        // Update hierarchy from depth\n        computeHierarchy();\n\n        // Dispatch visual transforms changes\n        for (visual in visuals) {\n\n            if (visual.transform != null && visual.transform.changed) {\n                visual.transform.emitChange();\n            }\n\n        }\n\n        // Update visuals render target, matrix and visibility\n        for (visual in visuals) {\n\n            if (visual.renderTargetDirty) {\n                visual.computeRenderTarget();\n            }\n\n            if (visual.matrixDirty) {\n                visual.computeMatrix();\n            }\n\n            if (visual.visibilityDirty) {\n                visual.computeVisibility();\n            }\n\n        }\n\n        // Draw\n        backend.draw.draw(visuals);\n\n    } //update\n\n    inline function computeHierarchy() {\n\n        if (hierarchyDirty) {\n\n            // Compute visuals depth\n            for (visual in visuals) {\n\n                if (visual.parent == null) {\n                    visual.computedDepth = visual.depth;\n\n                    if (visual.children != null) {\n                        visual.computeChildrenDepth();\n                    }\n                }\n            }\n\n            sortVisuals();\n\n            hierarchyDirty = false;\n        }\n\n    } //computeHierarchy\n\n    inline function sortVisuals() {\n\n        // Sort visuals by (computed) depth\n        haxe.ds.ArraySort.sort(visuals, function(a:Visual, b:Visual):Int {\n\n            if (a.computedDepth > b.computedDepth) return 1;\n            if (a.computedDepth < b.computedDepth) return -1;\n            // TODO handle meshes\n            var aQuad:Quad = a.quad;\n            var bQuad:Quad = b.quad;\n            if (aQuad != null && bQuad == null) return 1;\n            if (aQuad == null && bQuad != null) return -1;\n            if (aQuad != null && bQuad != null) {\n                if (aQuad.texture != null && bQuad.texture == null) return 1;\n                if (aQuad.texture == null && bQuad.texture != null) return -1;\n                if (aQuad.texture != null && bQuad.texture != null) {\n                    if (aQuad.texture.index > bQuad.texture.index) return 1;\n                    if (aQuad.texture.index < bQuad.texture.index) return -1;\n                }\n            }\n            return 0;\n\n        });\n\n    } //sortVisuals\n\n}\n","package ceramic;\n\nimport ceramic.Shortcuts.*;\n\nusing StringTools;\n\n@:allow(ceramic.Assets)\nclass Asset extends Entity implements Observable {\n\n/// Events\n\n    @event function complete(success:Bool);\n\n/// Properties\n\n    /** Asset kind */\n    public var kind(default,null):String;\n\n    /** Asset name */\n    public var name(default,set):String;\n\n    /** Asset path */\n    public var path(default,set):String;\n\n    /** Asset target density. Some assets depend on current screen density,\n        like bitmap fonts, textures. Default is 1.0 */\n    public var density(default,null):Float = 1.0;\n\n    /** Asset owner. The owner is a group of assets (Assets instance). When the owner gets\n        destroyed, every asset it owns get destroyed as well. */\n    public var owner(default,null):Assets;\n\n    /** Optional runtime assets, used to compute path. */\n    public var runtimeAssets(default,set):RuntimeAssets;\n\n    /** Asset options. Depends on asset kind and even backend in some cases. */\n    public var options(default,null):AssetOptions;\n\n    /** Sub assets-list. Defaults to null but some kind of assets (like bitmap fonts) instanciate it to load sub-assets it depends on. */\n    public var assets(default,null):Assets = null;\n\n    /** Manage asset retain count. Increase it by calling `retain()` and decrease it by calling `release()`.\n        This can be used when mutliple objects are using the same assets\n        without knowing in advance when they will be needed. */\n    public var refCount(default,null):Int = 0;\n\n    @observable public var status:AssetStatus = NONE;\n\n    var handleTexturesDensityChange(default,set):Bool = false;\n\n/// Lifecycle\n\n    public function new(kind:String, name:String, ?options:AssetOptions) {\n\n        this.kind = kind;\n        this.options = options != null ? options : {};\n        this.name = name;\n\n        computePath();\n\n    } //name\n\n    public function load():Void {\n\n        status = BROKEN;\n        error('This asset as no load implementation.');\n        emitComplete(false);\n\n    } //load\n\n    public function destroy():Void {\n\n        if (owner != null) {\n            owner.removeAsset(this);\n            owner = null;\n        }\n\n        if (assets != null) {\n            assets.destroy();\n            assets = null;\n        }\n\n    } //destroy\n\n    public function computePath(?extensions:Array<String>, ?dir:Bool, ?runtimeAssets:RuntimeAssets):Void {\n\n        // Runtime assets\n        if (runtimeAssets == null && this.runtimeAssets != null) {\n            runtimeAssets = this.runtimeAssets;\n        }\n\n        // Compute extensions list and dir flag\n        //\n        if (extensions == null) {\n            extensions = switch (kind) {\n                case 'image': app.backend.info.imageExtensions();\n                case 'text': app.backend.info.textExtensions();\n                case 'sound': app.backend.info.soundExtensions();\n                case 'shader': app.backend.info.shaderExtensions();\n                case 'font': ['fnt'];\n                case 'database': ['csv'];\n                default: null;\n            }\n        }\n        if (extensions == null || dir == null) {\n            if (Assets.customAssetKinds.exists(kind)) {\n                var kindInfo = Assets.customAssetKinds.get(kind);\n                if (extensions == null) extensions = kindInfo.extensions;\n                if (dir == null) dir = kindInfo.dir;\n            }\n        }\n        if (extensions == null) extensions = [];\n        if (dir == null) dir = false;\n\n        // Compute path\n        //\n        var targetDensity = screen.texturesDensity;\n        var path = null;\n        var bestPathInfo = null;\n\n        var byName:Map<String,Array<String>> = dir ?\n            runtimeAssets != null ?\n                runtimeAssets.getLists().allDirsByName\n            :\n                Assets.allDirsByName\n        :\n            runtimeAssets != null ?\n                runtimeAssets.getLists().allByName\n            :\n                Assets.allByName\n        ;\n\n        var name = this.name;\n\n        if (extensions.length > 0) {\n\n            // Remove extension in name, if any\n            for (ext in extensions) {\n                if (name.endsWith('.' + ext)) {\n                    name = name.substr(0, name.length - ext.length - 1);\n                    break;\n                }\n            }\n\n            if (byName.exists(name)) {\n\n                var list = byName.get(name);\n\n                for (ext in extensions) {\n\n                    var bestDensity = 1.0;\n                    var bestDensityDiff = 99999999999.0;\n\n                    for (item in list) {\n                        var pathInfo = Assets.decodePath(item);\n\n                        if (pathInfo.extension == ext) {\n                            var diff = Math.abs(targetDensity - pathInfo.density);\n                            if (diff < bestDensityDiff) {\n                                bestDensityDiff = diff;\n                                bestDensity = pathInfo.density;\n                                path = pathInfo.path;\n                                bestPathInfo = pathInfo;\n                            }\n                        }\n                    }\n                    if (path != null) {\n                        break;\n                    }\n                }\n            }\n        }\n\n        this.path = path; // sets density\n\n        // Set additional options\n        if (bestPathInfo != null && bestPathInfo.flags != null) {\n            for (flag in bestPathInfo.flags.keys()) {\n                if (!Reflect.hasField(options, flag)) {\n                    Reflect.setField(options, flag, bestPathInfo.flags.get(flag));\n                }\n            }\n        }\n\n    } //computePath\n\n    function set_path(path:String):String {\n\n        if (this.path == path) return path;\n\n        // Loaded data doesn't match path anymore\n        if (status == READY) status = NONE;\n\n        this.path = path;\n\n        if (path == null) {\n            density = 1.0;\n        } else {\n            density = Assets.decodePath(path).density;\n        }\n\n        return path;\n\n    } //set_path\n\n    function set_name(name:String):String {\n\n        if (this.name == name) return name;\n\n        this.name = name;\n        id = 'asset:$kind:$name';\n\n        return name;\n\n    } //set_name\n\n    function set_runtimeAssets(runtimeAssets:RuntimeAssets):RuntimeAssets {\n\n        if (this.runtimeAssets == runtimeAssets) return runtimeAssets;\n\n        this.runtimeAssets = runtimeAssets;\n        computePath();\n\n        return runtimeAssets;\n\n    } //set_runtimeAssets\n\n    function set_handleTexturesDensityChange(value:Bool):Bool {\n\n        if (handleTexturesDensityChange == value) return value;\n        handleTexturesDensityChange = value;\n\n        if (value) {\n            screen.onTexturesDensityChange(this, texturesDensityDidChange);\n        }\n        else {\n            screen.offTexturesDensityChange(texturesDensityDidChange);\n        }\n\n        return value;\n\n    } //set_handleTexturesDensityChange\n\n    function texturesDensityDidChange(newDensity:Float, prevDensity:Float):Void {\n\n        // Override\n\n    } //texturesDensityDidChange\n\n/// Print\n\n    function toString():String {\n\n        var className = className();\n\n        if (path != null && path.trim() != '') {\n            return '$className($name $path)';\n        } else {\n            return '$className($name)';\n        }\n\n    } //toString\n\n/// Complete event hook\n\n    inline function willEmitComplete(success:Bool) {\n\n        if (success && owner != null) {\n            owner.emitUpdate(this);\n        }\n\n    } //willEmitComplete\n\n/// Reference counting\n\n    public function retain():Void {\n\n        refCount++;\n\n    } //retain\n\n    public function release():Void {\n\n        if (refCount == 0) warning('Called release() on asset ' + this + ' when its refCount is already 0');\n        else refCount--;\n\n    } //release\n\n} //Asset\n","package ceramic.macros;\n\nimport haxe.macro.Context;\nimport haxe.macro.Expr;\n\nclass ObservableMacro {\n\n    macro static public function build():Array<Field> {\n        var fields = Context.getBuildFields();\n\n        // Check class fields\n        var fieldsByName = new Map<String,Bool>();\n        for (field in fields) {\n            fieldsByName.set(field.name, true);\n        }\n\n        // Also check parent fields\n        var parentHold = Context.getLocalClass().get().superClass;\n        var parent = parentHold != null ? parentHold.t : null;\n        while (parent != null) {\n\n            for (field in parent.get().fields.get()) {\n                fieldsByName.set(field.name, true);\n            }\n\n            parentHold = parent.get().superClass;\n            parent = parentHold != null ? parentHold.t : null;\n        }\n\n        var newFields:Array<Field> = [];\n\n        for (field in fields) {\n\n            if (hasObservableMeta(field)) {\n                \n                switch(field.kind) {\n                    case FieldType.FVar(type, expr):\n\n                        var fieldName = field.name;\n                        var capitalName = field.name.substr(0,1).toUpperCase() + field.name.substr(1);\n                        var unobservedFieldName = 'unobserved' + capitalName;\n                        var emitFieldNameChange = 'emit' + capitalName + 'Change';\n                        var fieldNameChange = fieldName + 'Change';\n\n                        if (expr != null) {\n                            // Compute type from expr\n                            switch (expr.expr) {\n                                case ENew(t,p):\n                                    if (type == null) {\n                                        type = TPath(t);\n                                    }\n                                default:\n                                    if (type == null) {\n                                        throw new Error(\"Cannot resolve observable field type\", field.pos);\n                                    }\n                            }\n                        } else if (type == null) {\n                            throw new Error(\"Observable field must define a type\", field.pos);\n                        }\n\n                        // Create prop from var\n                        var propField = {\n                            pos: field.pos,\n                            name: fieldName,\n                            kind: FProp('get', 'set', type),\n                            access: field.access,\n                            doc: field.doc,\n                            meta: []\n                        };\n                        newFields.push(propField);\n\n                        var getField = {\n                            pos: field.pos,\n                            name: 'get_' + field.name,\n                            kind: FFun({\n                                args: [],\n                                ret: type,\n                                expr: macro {\n                                    return this.$unobservedFieldName;\n                                }\n                            }),\n                            access: [APrivate],\n                            doc: '',\n                            meta: []\n                        }\n                        newFields.push(getField);\n\n                        var setField = {\n                            pos: field.pos,\n                            name: 'set_' + field.name,\n                            kind: FFun({\n                                args: [\n                                    {name: field.name, type: type}\n                                ],\n                                ret: type,\n                                expr: macro {\n                                    var prevValue = this.$unobservedFieldName;\n                                    if (prevValue == $i{fieldName}) {\n                                        return prevValue;\n                                    }\n                                    this.$unobservedFieldName = $i{fieldName};\n                                    this.$emitFieldNameChange($i{fieldName}, prevValue);\n                                    return $i{fieldName}\n                                }\n                            }),\n                            access: [APrivate, AInline],\n                            doc: '',\n                            meta: []\n                        }\n                        newFields.push(setField);\n\n                        // Rename original field from name to observedName\n                        field.name = unobservedFieldName;\n                        field.access = [].concat(field.access);\n                        field.access.remove(APublic);\n                        field.access.remove(APrivate);\n                        newFields.push(field);\n\n                        var eventField = {\n                            pos: field.pos,\n                            name: fieldNameChange,\n                            kind: FFun({\n                                args: [\n                                    {name: 'current', type: type},\n                                    {name: 'previous', type: type}\n                                ],\n                                ret: macro :Void,\n                                expr: null\n                            }),\n                            access: [],\n                            doc: 'Event when $fieldName field changes.',\n                            meta: []\n                        };\n\n                        // Add related events\n                        EventsMacro.createEventFields(eventField, newFields, fieldsByName);\n\n                    default:\n                        throw new Error(\"Invalid observed variable\", field.pos);\n                }\n            }\n            else {\n                newFields.push(field);\n            }\n\n        }\n\n        return newFields;\n\n    } //build\n\n    static function hasObservableMeta(field:Field):Bool {\n\n        if (field.meta == null || field.meta.length == 0) return false;\n\n        for (meta in field.meta) {\n            if (meta.name == 'observable') {\n                return true;\n            }\n        }\n\n        return false;\n\n    } //hasComponentMeta\n\n}","package ceramic.macros;\n\nimport haxe.macro.Context;\nimport haxe.macro.Expr;\n\nusing haxe.macro.ExprTools;\n\nclass EntityMacro {\n\n    static var processed = new Map<String,Bool>();\n\n    macro static public function build():Array<Field> {\n        var fields = Context.getBuildFields();\n        var classPath = Context.getLocalClass().toString();\n\n        var newFields:Array<Field> = [];\n\n        var constructor = null;\n        for (field in fields) {\n            if (field.name == 'new') {\n                constructor = field;\n                break;\n            }\n        }\n\n        var componentFields = [];\n\n        for (field in fields) {\n\n            if (hasComponentMeta(field)) {\n\n                switch(field.kind) {\n                    case FieldType.FVar(type, expr):\n\n                        if (field.access.indexOf(AStatic) != -1) {\n                            throw new Error(\"Component cannot be static\", field.pos);\n                        }\n                        if (field.access.indexOf(APrivate) != -1) {\n                            throw new Error(\"Component cannot be private\", field.pos);\n                        }\n\n                        var fieldName = field.name;\n\n                        if (expr != null) {\n                            // Compute type from expr\n                            switch (expr.expr) {\n                                case ENew(t,p):\n                                    if (type == null) {\n                                        type = TPath(t);\n                                    }\n                                    if (constructor == null) {\n                                        throw new Error(\"A constructor is required to initialize a component's default instance\", field.pos);\n                                    }\n                                    else {\n                                        // Add initialization code in constructor\n                                        switch (constructor.kind) {\n                                            case FFun(fn):\n                                                switch (fn.expr.expr) {\n                                                    case EBlock(exprs):\n\n                                                        exprs.push(macro {\n                                                            this.$fieldName = @:privateAccess ${expr};\n                                                        });\n\n                                                    default:\n                                                        throw new Error(\"Invalid constructor body\", field.pos);\n                                                }\n\n                                            default:\n                                                throw new Error(\"Invalid constructor\", field.pos);\n                                        }\n                                    }\n                                default:\n                                    throw new Error(\"Invalid component default value\", field.pos);\n                            }\n                        }\n\n                        // Create prop from var\n                        var propField = {\n                            pos: field.pos,\n                            name: field.name,\n                            kind: FProp('default', 'set', type),\n                            access: [APublic],\n                            doc: field.doc,\n                            meta: []\n                        };\n                        newFields.push(propField);\n                        componentFields.push(propField);\n\n                        var setField = {\n                            pos: field.pos,\n                            name: 'set_' + field.name,\n                            kind: FFun({\n                                args: [\n                                    {name: field.name, type: type}\n                                ],\n                                ret: type,\n                                expr: macro {\n                                    if (this.$fieldName == $i{fieldName}) return this.$fieldName;\n                                    if (this.$fieldName != null) {\n                                        @:privateAccess this.$fieldName.destroy();\n                                    }\n                                    this.$fieldName = $i{fieldName};\n                                    if (this.$fieldName != null) {\n                                        return component($v{fieldName}, this.$fieldName);\n                                    }\n                                    removeComponent($v{fieldName});\n                                }\n                            }),\n                            access: [APrivate],\n                            doc: '',\n                            meta: []\n                        }\n                        newFields.push(setField);\n\n                    default:\n                        throw new Error(\"Invalid component syntax\", field.pos);\n                }\n\n            }\n            else {\n                newFields.push(field);\n            }\n        }\n\n        for (field in newFields) {\n            if (field.name == 'destroy') {\n\n                if (field.access.indexOf(AOverride) == -1) {\n                    field.access.push(AOverride);\n                }\n\n                var isProcessed = processed.exists(classPath+'.destroy');\n                if (!isProcessed) {\n                    processed.set(classPath+'.destroy', true);\n                    switch(field.kind) {\n                        case FieldType.FFun(fn):\n                            var printer = new haxe.macro.Printer();\n                            var lines = printer.printExpr(fn.expr).split(\"\\n\");\n\n                            // Check there is no explicit super.destroy() call\n                            for (line in lines) {\n                                if (line.indexOf('super.destroy();') != -1) {\n                                    throw new Error(\"Explicit call to super.destroy() is not allowed. This is done automatically\", field.pos);\n                                }\n                            }\n\n                            switch (fn.expr.expr) {\n                                case EBlock(exprs):\n\n                                    // Add if destroyed check at the top\n                                    exprs.unshift(macro {\n                                        if (destroyed) return;\n                                        super.destroy();\n                                    });\n\n                                default:\n                            }\n\n                        default:\n                    }\n                }\n            }\n            else if (field.name == 'toString') {\n                \n                if (field.access.indexOf(AOverride) == -1) {\n                    field.access.push(AOverride);\n                }\n\n            }\n        }\n\n        return newFields;\n\n    } //build\n\n    static function hasComponentMeta(field:Field):Bool {\n\n        if (field.meta == null || field.meta.length == 0) return false;\n\n        for (meta in field.meta) {\n            if (meta.name == 'component') {\n                return true;\n            }\n        }\n\n        return false;\n\n    } //hasComponentMeta\n\n}","package ceramic;\n\n@:forward\nabstract AssetId<T:String>(T) from T to T {\n\n    inline public function new(value:T) {\n        this = value;\n    }\n\n} //AssetId\n","package ceramic;\n\nusing StringTools;\n\nclass AssetPathInfo {\n\n/// Properties\n\n    public var density:Float;\n\n    public var extension:String;\n\n    public var name:String;\n\n    public var path:String;\n\n    public var flags:Map<String,Dynamic>;\n\n/// Constructor\n\n    public function new(path:String) {\n\n        this.path = path;\n\n        var dotIndex = path.lastIndexOf('.');\n        extension = path.substr(dotIndex + 1).toLowerCase();\n\n        var truncatedName = path.substr(0, dotIndex);\n        var baseAtIndex = truncatedName.lastIndexOf('@');\n\n        density = 1;\n        if (baseAtIndex == -1) {\n            baseAtIndex = dotIndex;\n        }\n        else {\n            var afterAtParts = truncatedName.substr(baseAtIndex + 1);\n            for (afterAt in afterAtParts.split('+')) {\n                var isFlag = true;\n                if (afterAt.endsWith('x')) {\n                    var flt = Std.parseFloat(afterAt.substr(0, afterAt.length-1));\n                    if (!Math.isNaN(flt)) {\n                        density = flt;\n                        isFlag = false;\n                    }\n                }\n                if (isFlag) {\n                    if (flags == null) flags = new Map();\n                    var equalIndex = afterAt.indexOf('=');\n                    if (equalIndex == -1) {\n                        flags.set(afterAt, true);\n                    } else {\n                        var key = afterAt.substr(0, equalIndex);\n                        var val = afterAt.substr(equalIndex + 1);\n                        flags.set(key, val);\n                    }\n                }\n            }\n        }\n\n        name = path.substr(0, cast Math.min(baseAtIndex, dotIndex));\n\n    }\n\n    function toString():String {\n\n        return '' + {extension: extension, name: name, path: path, density: density};\n\n    } //toString\n\n} //AssetPathInfo\n","package ceramic;\n\nimport haxe.DynamicAccess;\nimport haxe.io.Path;\n\nusing StringTools;\n\n#if !macro\n@:build(ceramic.macros.AssetsMacro.buildLists())\n#end\n@:allow(ceramic.Asset)\nclass Assets extends Entity {\n\n/// Events\n\n    @event function complete(success:Bool);\n\n    @event function update(asset:Asset);\n\n/// Properties\n\n    var addedAssets:Array<Asset> = [];\n\n    var assetsByKindAndName:Map<String,Map<String,Asset>> = new Map();\n\n    /** If set, will be provided to each added asset in this `Assets` instance. */\n    public var runtimeAssets:RuntimeAssets = null;\n\n/// Internal\n\n    static var customAssetKinds:Map<String,CustomAssetKind> = new Map();\n\n/// Lifecycle\n\n    public function new() {\n\n    } //new\n\n    public function destroy() {\n\n        for (asset in [].concat(addedAssets)) {\n            asset.destroy();\n        }\n        addedAssets = null;\n        assetsByKindAndName = null;\n\n    } //destroy\n\n    /** Destroy assets that have their refCount at `0`. */\n    public function flush() {\n\n        for (asset in [].concat(addedAssets)) {\n            if (asset.refCount == 0) asset.destroy();\n        }\n\n    } //flush\n\n/// Add assets to load\n\n    public function add(id:AssetId<Dynamic>, ?options:AssetOptions):Void {\n\n        var value:String = Std.is(id, String) ? cast id : cast Reflect.field(id, '_id');\n        var colonIndex = value.indexOf(':');\n\n        if (colonIndex == -1) {\n            throw \"Assets: invalid asset id: \" + id;\n        }\n\n        var kind = value.substr(0, colonIndex);\n        var name = value.substr(colonIndex + 1);\n\n        switch (kind) {\n            case 'image': addImage(name, options);\n            case 'text': addText(name, options);\n            case 'sound': addSound(name, options);\n            case 'database': addDatabase(name, options);\n            case 'font': addFont(name, options);\n            case 'shader': addShader(name, options);\n            default:\n                if (customAssetKinds.exists(kind)) {\n                    customAssetKinds.get(kind).add(this, name, options);\n                } else {\n                    throw \"Assets: invalid asset kind for id: \" + id;\n                }\n        }\n\n    } //add\n\n    public function addImage(name:String, ?options:AssetOptions):Void {\n\n        if (name.startsWith('image:')) name = name.substr(6);\n        addAsset(new ImageAsset(name, options));\n\n    } //addImage\n\n    public function addFont(name:String, ?options:AssetOptions):Void {\n        \n        if (name.startsWith('font:')) name = name.substr(5);\n        addAsset(new FontAsset(name, options));\n\n    } //addFont\n\n    public function addText(name:String, ?options:AssetOptions):Void {\n        \n        if (name.startsWith('text:')) name = name.substr(5);\n        addAsset(new TextAsset(name, options));\n\n    } //addText\n\n    public function addSound(name:String, ?options:AssetOptions):Void {\n        \n        if (name.startsWith('sound:')) name = name.substr(6);\n        addAsset(new SoundAsset(name, options));\n\n    } //addSound\n\n    public function addDatabase(name:String, ?options:AssetOptions):Void {\n        \n        if (name.startsWith('database:')) name = name.substr(9);\n        addAsset(new DatabaseAsset(name, options));\n\n    } //addDatabase\n\n    public function addShader(name:String, ?options:AssetOptions):Void {\n        \n        if (name.startsWith('shader:')) name = name.substr(7);\n        addAsset(new ShaderAsset(name, options));\n\n    } //addShader\n\n    /** Add the given asset. If a previous asset was replaced, return it. */\n    public function addAsset(asset:Asset):Asset {\n\n        if (!assetsByKindAndName.exists(asset.kind)) assetsByKindAndName.set(asset.kind, new Map());\n        var byName = assetsByKindAndName.get(asset.kind);\n\n        var previousAsset = byName.get(asset.name);\n        if (previousAsset != null) {\n            if (previousAsset != asset) {\n                App.app.logger.log('Replace $previousAsset with $asset');\n                removeAsset(previousAsset);\n            } else {\n                App.app.logger.warning('Cannot add asset $asset because it is already added for name: ${asset.name}.');\n                return previousAsset;\n            }\n        }\n\n        byName.set(asset.name, asset);\n        if (asset.owner != null && asset.owner != this) {\n            asset.owner.removeAsset(asset);\n        }\n        addedAssets.push(asset);\n        asset.owner = this;\n        asset.runtimeAssets = this.runtimeAssets;\n\n        return previousAsset;\n\n    } //addAsset\n    \n    public function asset(idOrName:Either<AssetId<Dynamic>, String>, ?kind:String):Asset {\n\n        var value:String = Std.is(idOrName, String) ? cast idOrName : cast Reflect.field(idOrName, '_id');\n        var colonIndex = value.indexOf(':');\n\n        var name:String = value;\n\n        if (colonIndex != -1) {\n            name = value.substring(colonIndex + 1);\n            kind = value.substring(0, colonIndex);\n        }\n\n        if (kind == null) return null;\n        var byName = assetsByKindAndName.get(kind);\n        if (byName == null) return null;\n        return byName.get(name);\n\n    } //asset\n\n    public function removeAsset(asset:Asset):Void {\n\n        var byName = assetsByKindAndName.get(asset.kind);\n        var toRemove = byName.get(asset.name);\n\n        if (asset != toRemove) {\n            throw 'Cannot remove asset $asset if it was not added at the first place.';\n        }\n\n        addedAssets.remove(asset);\n        byName.remove(asset.name);\n        asset.owner = null;\n\n    } //removeAsset\n\n/// Load\n\n    public function load():Void {\n\n        var pending = 0;\n        var allSuccess = true;\n\n        // Prepare loading\n        for (asset in addedAssets) {\n\n            if (asset.status == NONE) {\n\n                asset.onceComplete(this, function(success) {\n\n                    if (!success) {\n                        allSuccess = false;\n                        App.app.logger.error('Failed to load asset ${asset.name} ($asset)');\n                    }\n\n                    pending--;\n                    if (pending == 0) {\n                        emitComplete(allSuccess);\n                    }\n\n                });\n                pending++;\n\n            }\n\n        }\n\n        // Load\n        if (pending > 0) {\n\n            for (asset in addedAssets) {\n\n                if (asset.status == NONE) {\n                    asset.load();\n                }\n\n            }\n\n        } else {\n\n            App.app.logger.warning('There was no asset to load.');\n            emitComplete(true);\n\n        }\n\n    } //load\n\n/// Ensure\n\n    /** Ensures and asset is loaded and return it on the callback.\n        This will check if the requested asset is currently being loaded,\n        already loaded or should be added and loaded. In all cases, it will try\n        its best to deliver the requested asset or `null` if something went wrong. */\n    public function ensure(id:AssetId<Dynamic>, ?options:AssetOptions, done:Asset->Void):Void {\n\n        // Asset already added?\n        var existing = this.asset(id);\n        var asset:Asset = null;\n\n        if (existing == null) {\n            // No? Add it and get it back\n            add(id, options);\n            asset = this.asset(id);\n        } else {\n            // Yes, use it\n            asset = existing;\n        }\n\n        if (asset == null) {\n            // Asset is null? It seems invalid then\n            done(null);\n            return;\n        }\n\n        // Depending on asset status, do the right thing\n        if (asset.status == READY) {\n            // Already available\n            done(asset);\n        }\n        else if (asset.status == LOADING || asset.status == NONE) {\n            // Wait until asset is loaded\n            asset.onceComplete(function(success) {\n                if (success) {\n                    done(asset);\n                }\n                else {\n                    done(null);\n                }\n            });\n\n            if (asset.status == NONE) {\n                // Start loading\n                this.load();\n            }\n        }\n        else {\n            // Broken?\n            done(null);\n        }\n\n    } //ensure\n\n    public function ensureImage(name:Either<String,AssetId<String>>, ?options:AssetOptions, done:ImageAsset->Void):Void {\n\n        if (!name.startsWith('image:')) name = 'image:' + name;\n        ensure(cast name, options, function(asset) {\n            done(Std.is(asset, ImageAsset) ? cast asset : null);\n        });\n\n    } //ensureImage\n\n    public function ensureFont(name:Either<String,AssetId<String>>, ?options:AssetOptions, done:FontAsset->Void):Void {\n\n        if (!name.startsWith('font:')) name = 'font:' + name;\n        ensure(cast name, options, function(asset) {\n            done(Std.is(asset, FontAsset) ? cast asset : null);\n        });\n\n    } //ensureFont\n\n    public function ensureText(name:Either<String,AssetId<String>>, ?options:AssetOptions, done:TextAsset->Void):Void {\n\n        if (!name.startsWith('text:')) name = 'text:' + name;\n        ensure(cast name, options, function(asset) {\n            done(Std.is(asset, TextAsset) ? cast asset : null);\n        });\n\n    } //ensureText\n\n    public function ensureSound(name:Either<String,AssetId<String>>, ?options:AssetOptions, done:SoundAsset->Void):Void {\n\n        if (!name.startsWith('sound:')) name = 'sound:' + name;\n        ensure(cast name, options, function(asset) {\n            done(Std.is(asset, SoundAsset) ? cast asset : null);\n        });\n\n    } //ensureSound\n\n    public function ensureDatabase(name:Either<String,AssetId<String>>, ?options:AssetOptions, done:DatabaseAsset->Void):Void {\n\n        if (!name.startsWith('database:')) name = 'database:' + name;\n        ensure(cast name, options, function(asset) {\n            done(Std.is(asset, DatabaseAsset) ? cast asset : null);\n        });\n\n    } //ensureDatabase\n\n    public function ensureShader(name:Either<String,AssetId<String>>, ?options:AssetOptions, done:ShaderAsset->Void):Void {\n\n        if (!name.startsWith('shader:')) name = 'shader:' + name;\n        ensure(cast name, options, function(asset) {\n            done(Std.is(asset, ShaderAsset) ? cast asset : null);\n        });\n\n    } //ensureShader\n\n/// Get\n\n    public function texture(name:Either<String,AssetId<String>>):Texture {\n\n        var realName:String = cast name;\n        if (realName.startsWith('image:')) realName = realName.substr(6);\n\n        if (!assetsByKindAndName.exists('image')) return null;\n        var asset:ImageAsset = cast assetsByKindAndName.get('image').get(realName);\n        if (asset == null) return null;\n\n        return asset.texture;\n\n    } //texture\n\n    public function font(name:Either<String,AssetId<String>>):BitmapFont {\n\n        var realName:String = cast name;\n        if (realName.startsWith('font:')) realName = realName.substr(5);\n        \n        if (!assetsByKindAndName.exists('font')) return null;\n        var asset:FontAsset = cast assetsByKindAndName.get('font').get(realName);\n        if (asset == null) return null;\n\n        return asset.font;\n\n    } //font\n\n    public function sound(name:Either<String,AssetId<String>>):Sound {\n\n        var realName:String = cast name;\n        if (realName.startsWith('sound:')) realName = realName.substr(6);\n        \n        if (!assetsByKindAndName.exists('sound')) return null;\n        var asset:SoundAsset = cast assetsByKindAndName.get('sound').get(realName);\n        if (asset == null) return null;\n\n        return asset.sound;\n\n    } //sound\n\n    public function text(name:Either<String,AssetId<String>>):String {\n\n        var realName:String = cast name;\n        if (realName.startsWith('text:')) realName = realName.substr(5);\n        \n        if (!assetsByKindAndName.exists('text')) return null;\n        var asset:TextAsset = cast assetsByKindAndName.get('text').get(realName);\n        if (asset == null) return null;\n\n        return asset.text;\n\n    } //text\n\n    public function shader(name:Either<String,AssetId<String>>):Shader {\n\n        var realName:String = cast name;\n        if (realName.startsWith('shader:')) realName = realName.substr(7);\n        \n        if (!assetsByKindAndName.exists('shader')) return null;\n        var asset:ShaderAsset = cast assetsByKindAndName.get('shader').get(realName);\n        if (asset == null) return null;\n\n        return asset.shader;\n\n    } //shader\n\n    public function database(name:Either<String,AssetId<String>>):Array<DynamicAccess<String>> {\n\n        var realName:String = cast name;\n        if (realName.startsWith('database:')) realName = realName.substr(9);\n        \n        if (!assetsByKindAndName.exists('database')) return null;\n        var asset:DatabaseAsset = cast assetsByKindAndName.get('database').get(realName);\n        if (asset == null) return null;\n\n        return asset.database;\n\n    } //database\n\n/// Iterator\n\n    public function iterator():Iterator<Asset> {\n\n        var list:Array<Asset> = [];\n\n        for (byName in assetsByKindAndName) {\n            for (asset in byName) {\n                list.push(asset);\n            }\n        }\n\n        return list.iterator();\n\n    } //iterator\n\n/// Static helpers\n\n    public static function decodePath(path:String):AssetPathInfo {\n\n        return new AssetPathInfo(path);\n\n    } //decodePath\n\n    public static function addAssetKind(kind:String, add:Assets->String->?AssetOptions->Void, extensions:Array<String>, dir:Bool, types:Array<String>):Void {\n\n        customAssetKinds.set(kind, {\n            kind: kind,\n            add: add,\n            extensions: extensions,\n            dir: dir,\n            types: types\n        });\n\n    } //addAssetKind\n\n} //Assets\n","package ceramic;\n\n// Substantial portion taken from luxe (https://github.com/underscorediscovery/luxe/blob/4c891772f54b4769c72515146bedde9206a7b986/phoenix/BitmapFont.hx)\n\nusing unifill.Unifill;\nusing ceramic.Extensions;\n\nclass BitmapFont extends Entity {\n\n    /** The map of font texture pages to their id. */\n    public var pages:Map<Int,Texture> = new Map();\n\n    /** The bitmap font fontData. */\n    private var fontData(default, set):BitmapFontData;\n    function set_fontData(fontData:BitmapFontData) {\n\n        this.fontData = fontData;\n\n        if (fontData != null) {\n            spaceChar = fontData.chars.get(32);\n        }\n\n        return fontData;\n\n    } //fontData\n\n    public var face(get,set):String;\n    inline function get_face():String { return fontData.face; }\n    inline function set_face(face:String):String { return fontData.face = face; }\n\n    public var pointSize(get,set):Float;\n    inline function get_pointSize():Float { return fontData.pointSize; }\n    inline function set_pointSize(pointSize:Float):Float { return fontData.pointSize = pointSize; }\n\n    public var baseSize(get,set):Float;\n    inline function get_baseSize():Float { return fontData.baseSize; }\n    inline function set_baseSize(baseSize:Float):Float { return fontData.baseSize = baseSize; }\n\n    public var chars(get,set):Map<Int,BitmapFontCharacter>;\n    inline function get_chars():Map<Int,BitmapFontCharacter> { return fontData.chars; }\n    inline function set_chars(chars:Map<Int,BitmapFontCharacter>):Map<Int,BitmapFontCharacter> { return fontData.chars = chars; }\n\n    public var charCount(get,set):Int;\n    inline function get_charCount():Int { return fontData.charCount; }\n    inline function set_charCount(charCount:Int):Int { return fontData.charCount = charCount; }\n\n    public var lineHeight(get,set):Float;\n    inline function get_lineHeight():Float { return fontData.lineHeight; }\n    inline function set_lineHeight(lineHeight:Float):Float { return fontData.lineHeight = lineHeight; }\n\n    public var kernings(get,set):Map<Int,Map<Int,Float>>;\n    inline function get_kernings():Map<Int,Map<Int,Float>> { return fontData.kernings; }\n    inline function set_kernings(kernings:Map<Int,Map<Int,Float>>):Map<Int,Map<Int,Float>> { return fontData.kernings = kernings; }\n\n    /** Cached reference of the ' '(32) character, for sizing on tabs/spaces */\n    public var spaceChar:BitmapFontCharacter;\n    \n    public var asset:Asset;\n\n/// Lifecycle\n\n    public function new(fontData:BitmapFontData, pages:Map<String,Texture>) {\n\n        this.fontData = fontData;\n\n        if (fontData == null) {\n            throw 'BitmapFont: fontData is null';\n        }\n        if (pages == null) {\n            throw 'BitmapFont: pages is null';\n        }\n\n        for (pageInfo in fontData.pages) {\n            var texture = pages.get(pageInfo.file);\n            if (texture == null) {\n                throw 'BitmapFont: missing texture for file ' + pageInfo.file;\n            }\n            this.pages.set(pageInfo.id, texture);\n        }\n\n    } //new\n\n    public function destroy() {\n\n        if (asset != null) asset.destroy();\n        \n        for (texture in pages) {\n            texture.destroy();\n        }\n        pages = null;\n\n    } //destroy\n\n/// Public API\n\n    /** Returns the kerning between two glyphs, or 0 if none.\n        A glyph int id is the value from 'c'.charCodeAt(0) */\n    public inline function kerning(first:Int, second:Int) {\n\n        var map = fontData.kernings.get(first);\n\n        if (map != null && map.exists(second)) {\n            return map.get(second);\n        }\n\n        return 0;\n\n    } //kerning\n\n} //BitmapFont\n","package ceramic;\n\n@:structInit\nclass BitmapFontCharacter {\n    public var id: Int;\n    public var x: Float;\n    public var y: Float;\n    public var width: Float;\n    public var height: Float;\n    public var xOffset: Float;\n    public var yOffset: Float;\n    public var xAdvance: Float;\n    public var page: Int;\n}\n","package ceramic;\n\n@:structInit\nclass BitmapFontData {\n    public var face: String;\n    public var pointSize: Float;\n    public var baseSize: Float;\n    public var chars: Map<Int, BitmapFontCharacter>;\n    public var charCount: Int;\n    public var pages: Array<{ id : Int, file : String }>;\n    public var lineHeight: Float;\n    public var kernings: Map< Int, Map<Int, Float> >;\n}\n","package ceramic;\n\n// Substantial portion taken from luxe (https://github.com/underscorediscovery/luxe/blob/4c891772f54b4769c72515146bedde9206a7b986/luxe/importers/bitmapfont/BitmapFontParser.hx)\n\nclass BitmapFontParser {\n\n/// Public API\n\n    public static function parse(rawFontData:String):BitmapFontData {\n\n        if (rawFontData.length == 0) {\n            throw \"BitmapFont: fontData is 0 length\";\n        }\n\n        var info : BitmapFontData = {\n            face : null,\n            chars : new Map(),\n            pointSize : 0, baseSize : 0,\n            charCount : 0, lineHeight : 0,\n            pages : [], kernings : new Map()\n        };\n\n        var lines : Array<String> = rawFontData.split(\"\\n\");\n\n        if (lines.length == 0) {\n            throw \"BitmapFont: invalid font data specified for parser.\";\n        }\n\n        var first = lines[0];\n        if (StringTools.ltrim(first).substr(0, 4) != 'info') {\n            throw \"BitmapFont: invalid font data specified for parser. Format should be plain ascii text .fnt file only currently.\";\n        }\n\n        for (line in lines) {\n            var tokens = line.split(\" \");\n            for (current in tokens) {\n                parseToken(current, tokens, info);\n            }\n            tokens = null;\n        }\n\n        lines = null;\n\n        return info;\n\n    } //parse\n\n/// Internal\n\n    static function parseToken(token:String, tokens:Array<String>, info:BitmapFontData) {\n\n        // Remove the first token\n        tokens.shift();\n        // Fetch the items from the line\n        var items = tokenizeLine(tokens);\n\n        switch (token) {\n\n            case 'info': {\n                info.face = unquote(items['face']);\n                info.pointSize = Std.parseFloat(items['size']);\n            }\n\n            case 'common': {\n                info.lineHeight = Std.parseFloat(items['lineHeight']);\n                info.baseSize = Std.parseFloat(items['base']);\n            }\n\n            case 'page': {\n                info.pages.push({\n                    id : Std.parseInt(items['id']),\n                    file : trim(unquote(items['file']))\n                });\n            }\n\n            case 'chars': {\n                info.charCount = Std.parseInt(items[\"count\"]);\n            }\n\n            case 'char': {\n\n                var char : BitmapFontCharacter = {\n                    id : Std.parseInt(items[\"id\"]),\n                    x : Std.parseFloat(items[\"x\"]),\n                    y : Std.parseFloat(items[\"y\"]),\n                    width : Std.parseFloat(items[\"width\"]),\n                    height : Std.parseFloat(items[\"height\"]),\n                    xOffset : Std.parseFloat(items[\"xoffset\"]),\n                    yOffset : Std.parseFloat(items[\"yoffset\"]),\n                    xAdvance : Std.parseFloat(items[\"xadvance\"]),\n                    page : Std.parseInt(items[\"page\"])\n                }\n\n                info.chars.set(char.id, char);\n\n            }\n\n            case 'kerning': {\n\n                var first = Std.parseInt(items[\"first\"]);\n                var second = Std.parseInt(items[\"second\"]);\n                var amount = Std.parseFloat(items[\"amount\"]);\n\n                var map = info.kernings.get(first);\n                if (map == null) {\n                    map = new Map();\n                    info.kernings.set(first, map);\n                }\n\n                map.set(second, amount);\n\n            }\n\n            default:\n        }\n\n        items = null;\n\n    } //parseToken\n\n    static function tokenizeLine( tokens:Array<String> ) {\n\n        var itemMap : Map<String, String> = new Map();\n\n        for (token in tokens) {\n            var items = token.split(\"=\");\n            itemMap.set( items[0], items[1] );\n            items = null;\n        }\n\n        return itemMap;\n\n    } //tokenizeLine\n\n    inline static function trim(s:String) { return StringTools.trim(s); }\n    inline static function unquote(s:String) {\n        if (s.indexOf('\"') != -1) {\n            s = StringTools.replace(s,'\"', '');\n        } return s;\n    } //unquote\n\n} //BitmapFontParser\n","package ceramic;\n\n@:forward\nabstract Collection<T:CollectionEntry>(Array<T>) from Array<T> to Array<T> {\n\n    public function new() {\n        this = [];\n    }\n\n} //Collection\n","package ceramic;\n\nimport haxe.DynamicAccess;\n\nusing ceramic.Extensions;\n\n@:rtti\n@:structInit\nclass CollectionEntry {\n\n    @editable\n    public var id:String;\n\n    @editable\n    public var name:String;\n\n    /** Constructor */\n    public function new(id:String, name:String) {\n\n        this.id = id;\n        this.name = name;\n\n    } //new\n\n    /** Set entry fields from given raw data.\n        Takes care of converting types when needed, and possible.\n        It's ok if raw field are strings, like when stored in CSV files.\n        Raw types can be converted to: `Bool`, `Int`, `Float`, `Color` (`Int`), `String` and `enum` types */\n    public function setRawData(data:Dynamic) {\n\n        var clazz = Type.getClass(this);\n        var classPath = Type.getClassName(clazz);\n        var types = FieldInfo.types(classPath);\n\n        for (key in types.keys()) {\n            var type = types.get(key);\n\n            if (Reflect.hasField(data, key)) {\n                var rawValue:Dynamic = Reflect.field(data, key);\n                var value:Dynamic = null;\n\n                switch (type) {\n\n                    case 'Bool':\n                        if (Std.is(rawValue, Bool)) {\n                            value = rawValue;\n                        }\n                        else {\n                            rawValue = ''+rawValue.toLowerCase().trim();\n                            if (rawValue != '' && rawValue != '0' && rawValue != 'false' && rawValue != 'no') {\n                                value = true;\n                            } else {\n                                value = false;\n                            }\n                        }\n\n                    case 'Int', 'ceramic.Color':\n                        if (Std.is(rawValue, Int) || Std.is(rawValue, Float)) {\n                            value = Std.int(rawValue);\n                        }\n                        else {\n                            value = Std.parseInt(''+rawValue);\n                            if (Math.isNaN(value)) value = 0;\n                        }\n\n                    case 'Float':\n                        if (Std.is(rawValue, Int) || Std.is(rawValue, Float)) {\n                            value = rawValue;\n                        }\n                        else {\n                            value = Std.parseFloat(''+rawValue);\n                            if (Math.isNaN(value)) value = 0.0;\n                        }\n\n                    case 'String':\n                        value = rawValue == null || rawValue == 'null' ? null : ''+rawValue;\n\n                    default:\n                        var rawValue = ''+rawValue.toLowerCase().trim();\n                        var resolvedEnum = Type.resolveEnum(type);\n                        if (resolvedEnum != null) {\n                            for (name in Type.getEnumConstructs(resolvedEnum)) {\n                                if (name.toLowerCase() == rawValue) {\n                                    value = Type.createEnum(resolvedEnum, name);\n                                    break;\n                                }\n                            }\n                        }\n                }\n\n                // Set field\n                Reflect.setField(this, key, value);\n            }\n        }\n\n    } //setRawData\n\n#if editor\n\n    public function getEditableData():{id:String, name:String, props:DynamicAccess<Dynamic>} {\n\n        var clazz = Type.getClass(this);\n        var classPath = Type.getClassName(clazz);\n        var info = FieldInfo.editableFieldInfo(classPath);\n\n        var result:DynamicAccess<Dynamic> = {};\n        var props:DynamicAccess<Dynamic> = {};\n\n        for (key in info.keys()) {\n            var field = info.get(key);\n\n            if (field.meta.exists('editable')) {\n                if (key == 'id' || key == 'name') {\n                    result.set(key, this.getProperty(key));\n                } else {\n                    props.set(key, this.getProperty(key));\n                }\n            }\n        }\n\n        result.set('props', props);\n\n        return cast result;\n\n    } //getEditableData\n\n#end\n\n} //CollectionEntry\n","package ceramic;\n\nimport haxe.DynamicAccess;\nimport haxe.rtti.Meta;\n\nusing ceramic.Extensions;\n\n@:build(ceramic.macros.CollectionsMacro.build())\nclass Collections {\n\n    public function new() {}\n\n} //Collections\n","package ceramic;\n\n#if !macro\n@:autoBuild(ceramic.macros.ComponentMacro.build())\n#end\nclass Component extends Entity {\n\n    /** If this component was created from an initializer,\n        its initializer name is provided to retrieve the\n        initializer from the component. */\n    public var initializerName(default,null):String = null;\n\n    public function new() {\n\n    } //new\n\n    function init():Void {\n\n    } //init\n\n} //Component\n","package ceramic;\n\nimport ceramic.Shortcuts.*;\n\nimport haxe.DynamicAccess;\n\nclass ConvertComponentMap implements ConvertField<DynamicAccess<String>,Map<String,Component>> {\n\n    public function new() {}\n\n    public function basicToField(assets:Assets, basic:DynamicAccess<String>, done:Map<String,Component>->Void):Void {\n\n        if (basic == null) {\n            done(null);\n            return;\n        }\n\n        var value = new Map<String,Component>();\n\n        for (name in basic.keys()) {\n            // TODO extract arguments from value instead of treating it as initializer name directly\n            var initializerName = basic.get(name);\n\n            if (app.componentInitializers.exists(initializerName)) {\n                var component = app.componentInitializers.get(initializerName)([]);\n                if (component != null) {\n                    @:privateAccess component.initializerName = initializerName;\n                    value.set(name, component);\n                }\n            }\n            #if debug\n            else {\n                warning('Missing component initializer: ' + initializerName);\n            }\n            #end\n        }\n\n        done(value);\n\n    } //basicToField\n\n    public function fieldToBasic(value:Map<String,Component>):DynamicAccess<String> {\n\n        if (value == null) return null;\n\n        var basic:DynamicAccess<String> = {};\n\n        for (name in value.keys()) {\n            var component = value.get(name);\n            if (component != null && component.initializerName != null) {\n                basic.set(name, component.initializerName);\n            }\n        }\n\n        return basic;\n\n    } //fieldToBasic\n\n} //ConvertComponentMap\n","package ceramic;\n\nimport ceramic.Shortcuts.*;\n\nclass ConvertFont implements ConvertField<String,BitmapFont> {\n\n    public function new() {}\n\n    public function basicToField(assets:Assets, basic:String, done:BitmapFont->Void):Void {\n\n        if (basic != null) {\n            if (basic == app.defaultFont.asset.name) {\n                done(app.defaultFont);\n            }\n            else {\n                assets.ensureFont(basic, null, function(asset:FontAsset) {\n                    done(asset != null ? asset.font : null);\n                });\n            }\n        }\n        else {\n            done(null);\n        }\n\n    } //basicToField\n\n    public function fieldToBasic(value:BitmapFont):String {\n\n        return (value == null || value.asset == null) ? null : value.asset.name;\n\n    } //fieldToBasic\n\n} //ConvertFont\n","package ceramic;\n\nclass ConvertFragmentData implements ConvertField<Dynamic,FragmentData> {\n\n    public function new() {}\n\n    public function basicToField(assets:Assets, basic:Dynamic, done:FragmentData->Void):Void {\n\n        done(basic);\n\n    } //basicToField\n\n    public function fieldToBasic(value:FragmentData):Dynamic {\n\n        return value;\n\n    } //fieldToBasic\n\n} //ConvertFragmentData\n","package ceramic;\n\nimport haxe.DynamicAccess;\n\nclass ConvertMap<T> implements ConvertField<DynamicAccess<T>,Map<String,T>> {\n\n    public function new() {}\n\n    public function basicToField(assets:Assets, basic:DynamicAccess<T>, done:Map<String,T>->Void):Void {\n\n        if (basic == null) {\n            done(null);\n            return;\n        }\n\n        var value = new Map<String,T>();\n\n        for (key in basic.keys()) {\n            value.set(key, basic.get(key));\n        }\n\n        done(value);\n\n    } //basicToField\n\n    public function fieldToBasic(value:Map<String,T>):DynamicAccess<T> {\n\n        if (value == null) return null;\n\n        var basic:DynamicAccess<T> = {};\n\n        for (key in value.keys()) {\n            basic.set(key, value.get(key));\n        }\n\n        return basic;\n\n    } //fieldToBasic\n\n} //ConvertMap\n","package ceramic;\n\nclass ConvertTexture implements ConvertField<String,Texture> {\n\n    public function new() {}\n\n    public function basicToField(assets:Assets, basic:String, done:Texture->Void):Void {\n\n        if (basic != null) {\n            assets.ensureImage(basic, null, function(asset:ImageAsset) {\n                done(asset != null ? asset.texture : null);\n            });\n        }\n        else {\n            done(null);\n        }\n\n    } //basicToField\n\n    public function fieldToBasic(value:Texture):String {\n\n        return (value == null || value.asset == null) ? null : value.asset.name;\n\n    } //fieldToBasic\n\n} //ConvertTexture\n","package ceramic;\n\nimport haxe.DynamicAccess;\n\n#if (ceramic && !macro)\nimport ceramic.Shortcuts.*;\n#end\n\nusing unifill.Unifill;\nusing StringTools;\n\n/** Utilities to parse CSV and related */\nclass Csv {\n\n    public static function parse(csv:String):Array<DynamicAccess<String>> {\n\n        // Cleanup\n        csv = csv.replace(\"\\r\", '').trim();\n\n        // Find separator and keys\n        //\n        var sep = '';\n        var i = 0;\n        var c = '';\n        var cc = '';\n        var len = csv.uLength();\n        var inString = false;\n        var val = '';\n        var keys = [];\n\n        while (i < len) {\n            c = csv.uCharAt(i);\n\n            if (inString) {\n                if (c == '\"') {\n                    cc = csv.uSubstr(i, 2);\n                    if (cc == '\"\"') {\n                        val += '\"';\n                        i += 2;\n                    } else {\n                        inString = false;\n                        i++;\n                    }\n                } else {\n                    val += c;\n                    i++;\n                }\n            }\n            else if (c == \"\\n\") {\n                i++;\n                break;\n            }\n            else if (val == '' && c == '\"') {\n                inString = true;\n                i++;\n            }\n            else if (sep == '') {\n                if (c == ',' || c == ';') {\n                    sep = ',';\n                    keys.push(val);\n                    val = '';\n                }\n                else {\n                    val += c;\n                }\n                i++;\n            }\n            else if (c == sep) {\n                keys.push(val);\n                val = '';\n                i++;\n            }\n            else {\n                val += c;\n                i++;\n            }\n        }\n\n        if (val != '') keys.push(val);\n\n        // Parse\n        //\n        inString = false;\n        val = '';\n        var entry:Dynamic = {};\n        var entryHasFields = false;\n        var result = [];\n        var keyIndex = 0;\n        var key = '';\n        var tooManyColumnsAt = -1;\n\n        while (i < len) {\n            c = csv.uCharAt(i);\n\n            if (inString) {\n                if (c == '\"') {\n                    cc = csv.uSubstr(i, 2);\n                    if (cc == '\"\"') {\n                        val += '\"';\n                        i += 2;\n                    } else {\n                        inString = false;\n                        i++;\n                    }\n                } else {\n                    val += c;\n                    i++;\n                }\n            }\n            else if (c == \"\\n\") {\n\n                key = keys[keyIndex++];\n                if (key != null) {\n                    Reflect.setField(entry, key, val);\n                    entryHasFields = true;\n                } else if (tooManyColumnsAt == -1) {\n                    tooManyColumnsAt = result.length;\n                }\n                val = '';\n\n                result.push(entry);\n                entryHasFields = false;\n                keyIndex = 0;\n                entry = {};\n                i++;\n            }\n            else if (val == '' && c == '\"') {\n                inString = true;\n                i++;\n            }\n            else if (c == sep) {\n                key = keys[keyIndex++];\n                if (key != null) {\n                    Reflect.setField(entry, key, val);\n                    entryHasFields = true;\n                } else if (tooManyColumnsAt == -1) {\n                    tooManyColumnsAt = result.length;\n                }\n                val = '';\n                i++;\n            }\n            else {\n                val += c;\n                i++;\n            }\n        }\n\n        key = keys[keyIndex++];\n        if (key != null) {\n            Reflect.setField(entry, key, val);\n            entryHasFields = true;\n        } else if (tooManyColumnsAt == -1) {\n            warning(entry);\n            tooManyColumnsAt = result.length;\n        }\n        val = '';\n\n        if (entryHasFields) {\n            result.push(entry);\n        }\n\n        if (tooManyColumnsAt >= 0) {\n            warning('Malformed CSV: too many columns at row #' + tooManyColumnsAt);\n        }\n\n        return result;\n\n    } //parse\n\n#if (!ceramic || macro)\n\n    static function warning(str:String):Void {\n\n#if sys\n        Sys.println(str);\n#elseif web\n        untyped console.log(str);\n#else\n        trace(str);\n#end\n\n    } //warning\n\n#end\n\n}\n","package unifill;\n\nabstract Utf16 (StringU16) {\n\n\t/**\n\t   Converts the code point `code` to a character as a Utf16 string.\n\t**/\n\tpublic static inline function fromCodePoint(codePoint : Int) : Utf16 {\n\t\tif (codePoint <= 0xFFFF) {\n\t\t\treturn new Utf16(StringU16.fromCodeUnit(codePoint));\n\t\t} else {\n\t\t\treturn new Utf16(StringU16.fromTwoCodeUnits(\n\t\t\t\tUnicode.encodeHighSurrogate(codePoint),\n\t\t\t\tUnicode.encodeLowSurrogate(codePoint)));\n\t\t}\n\t}\n\n\t/**\n\t   Converts `codePoints` to a Utf16 string.\n\t**/\n\tpublic static inline function fromCodePoints(codePoints : Iterable<Int>) : Utf16 {\n\t\tvar buf = new StringU16Buffer();\n\t\tfor (c in codePoints) {\n\t\t\tUtf16Impl.encode_code_point(function (x) buf.addUnit(x), c);\n\t\t}\n\t\treturn new Utf16(buf.getStringU16());\n\t}\n\n\tpublic static inline function fromString(s : String) : Utf16 {\n\t\treturn new Utf16(StringU16.fromString(s));\n\t}\n\n\tpublic static inline function fromArray(a : Array<Int>) : Utf16 {\n\t\treturn new Utf16(StringU16.fromArray(a));\n\t}\n\n\tpublic static inline function encodeWith(f : Int -> Void, c : Int) : Void {\n\t\tUtf16Impl.encode_code_point(f, c);\n\t}\n\n\tpublic var length(get, never) : Int;\n\n\t/**\n\t   Returns the UTF-16 code unit at position `index` of `this`.\n\t**/\n\tpublic inline function codeUnitAt(index : Int) : Int {\n\t\treturn this.codeUnitAt(index);\n\t}\n\n\t/**\n\t   Returns the Unicode code point at position `index` of\n\t   `this`.\n\t**/\n\tpublic function codePointAt(index : Int) : Int {\n\t\treturn Utf16Impl.decode_code_point(length, function(i) return codeUnitAt(i), index);\n\t}\n\n\t/**\n\t   Returns the character as a String at position `index` of\n\t   `this`.\n\t**/\n\tpublic inline function charAt(index : Int) : Utf16 {\n\t\treturn new Utf16(this.substr(index, codePointWidthAt(index)));\n\t}\n\n\t/**\n\t   Returns the number of Unicode code points from `beginIndex`\n\t   to `endIndex` in `this`.\n\t**/\n\tpublic function codePointCount(beginIndex : Int, endIndex : Int) : Int {\n\t\tvar index = beginIndex;\n\t\tvar i = 0;\n\t\twhile (index < endIndex) {\n\t\t\tindex += codePointWidthAt(index);\n\t\t\t++i;\n\t\t}\n\t\treturn i;\n\t}\n\n\t/**\n\t   Returns the number of units of the code point at position\n\t   `index` of `this`.\n\t**/\n\tpublic inline function codePointWidthAt(index : Int) : Int {\n\t\tvar c = codeUnitAt(index);\n\t\treturn Utf16Impl.code_point_width(c);\n\t}\n\n\t/**\n\t   Returns the number of units of the code point before\n\t   position `index` of `this`.\n\t**/\n\tpublic inline function codePointWidthBefore(index : Int) : Int {\n\t\treturn Utf16Impl.find_prev_code_point(function(i) return codeUnitAt(i), index);\n\t}\n\n\t/**\n\t   Returns the index within `this` that is offset from\n\t   position `index` by `codePointOffset` code points.\n\t**/\n\tpublic inline function offsetByCodePoints(index : Int, codePointOffset : Int) : Int {\n\t\treturn if (codePointOffset >= 0) {\n\t\t\tforward_offset_by_code_points(index, codePointOffset);\n\t\t} else {\n\t\t\tbackward_offset_by_code_points(index, -codePointOffset);\n\t\t}\n\t}\n\n\t/**\n\t   Returns `len` code units of `this`, starting at position pos.\n\t**/\n\tpublic inline function substr(index : Int, ?len : Int) : Utf16 {\n\t\treturn new Utf16(this.substr(index, len));\n\t}\n\n\t/**\n\t   Validates `this` Utf16 string.\n\n\t   If the code unit sequence of `this` is invalid,\n\t   `Exception.InvalidCodeUnitSequence` is throwed.\n\t**/\n\tpublic function validate() : Void {\n\t\tvar len = this.length;\n\t\tvar accessor = function(i) return codeUnitAt(i);\n\t\tvar i = 0;\n\t\twhile  (i < len) {\n\t\t\tUtf16Impl.decode_code_point(len, accessor, i);\n\t\t\ti += codePointWidthAt(i);\n\t\t}\n\t}\n\n\tpublic inline function toString() : String {\n\t\treturn this.toString();\n\t}\n\n\tpublic inline function toArray() : Array<Int> {\n\t\treturn this.toArray();\n\t}\n\n\tinline function new(s : StringU16) {\n\t\tthis = s;\n\t}\n\n\tinline function get_length() : Int {\n\t\treturn this.length;\n\t}\n\n\tinline function forward_offset_by_code_points(index : Int, codePointOffset : Int) : Int {\n\t\tvar len = this.length;\n\t\tvar i = 0;\n\t\twhile (i < codePointOffset && index < len) {\n\t\t\tindex += codePointWidthAt(index);\n\t\t\t++i;\n\t\t}\n\t\treturn index;\n\t}\n\n\tinline function backward_offset_by_code_points(index : Int, codePointOffset : Int) : Int {\n\t\tvar count = 0;\n\t\twhile (count < codePointOffset && 0 < index) {\n\t\t\tindex -= codePointWidthBefore(index);\n\t\t\t++count;\n\t\t}\n\t\treturn index;\n\t}\n\n}\n\nprivate class Utf16Impl {\n\n\tpublic static inline function code_point_width(c : Int) : Int {\n\t\treturn (!Unicode.isHighSurrogate(c)) ? 1 : 2;\n\t}\n\n\tpublic static inline function find_prev_code_point(accessor : Int -> Int, index : Int) : Int {\n\t\tvar c = accessor(index - 1);\n\t\treturn (!Unicode.isLowSurrogate(c)) ? 1 : 2;\n\t}\n\n\tpublic static inline function encode_code_point(addUnit : Int -> Void, codePoint : Int) : Void {\n\t\tif (codePoint <= 0xFFFF) {\n\t\t\taddUnit(codePoint);\n\t\t} else {\n\t\t\taddUnit(Unicode.encodeHighSurrogate(codePoint));\n\t\t\taddUnit(Unicode.encodeLowSurrogate(codePoint));\n\t\t}\n\t}\n\n\tpublic static function decode_code_point(len : Int, accessor : Int -> Int, index : Int) : Int {\n\t\tif (index < 0 || len <= index)\n\t\t\tthrow new Exception.InvalidCodeUnitSequence(index);\n\t\tvar hi = accessor(index);\n\t\tif (Unicode.isHighSurrogate(hi)) {\n\t\t\tif (index + 1 < 0 || len <= index + 1) {\n\t\t\t\tthrow new Exception.InvalidCodeUnitSequence(index);\n\t\t\t}\n\t\t\tvar lo = accessor(index + 1);\n\t\t\tif (Unicode.isLowSurrogate(lo)) {\n\t\t\t\treturn Unicode.decodeSurrogate(hi, lo);\n\t\t\t} else {\n\t\t\t\tthrow new Exception.InvalidCodeUnitSequence(index);\n\t\t\t}\n\t\t} else if (Unicode.isLowSurrogate(hi)) {\n\t\t\tthrow new Exception.InvalidCodeUnitSequence(index);\n\t\t} else {\n\t\t\treturn hi;\n\t\t}\n\t}\n\n}\n\n#if !(neko || php || cpp || lua || macro || python)\n\nprivate abstract StringU16Buffer(StringBuf) {\n\n\tpublic inline function new() {\n\t\tthis = new StringBuf();\n\t}\n\n\tpublic inline function addUnit(unit : Int) : Void {\n\t\tthis.addChar(unit);\n\t}\n\n\tpublic inline function getStringU16() : StringU16 {\n\t\treturn StringU16.fromString(this.toString());\n\t}\n\n}\n\nprivate abstract StringU16(String) {\n\n\tpublic static inline function fromString(s : String) : StringU16 {\n\t\treturn new StringU16(s);\n\t}\n\n\tpublic static inline function fromCodeUnit(u : Int) : StringU16 {\n\t\treturn new StringU16(String.fromCharCode(u));\n\t}\n\n\tpublic static inline function fromTwoCodeUnits(u0 : Int, u1 : Int) : StringU16 {\n\t\treturn new StringU16(String.fromCharCode(u0) + String.fromCharCode(u1));\n\t}\n\n\tpublic static inline function ofArray(a : Array<Int>) : StringU16 {\n\t\treturn fromArray(a);\n\t}\n\n\tpublic static inline function fromArray(a : Array<Int>) : StringU16 {\n\t\tvar buf = new StringBuf();\n\t\tfor (x in a) {\n\t\t\tbuf.addChar(x);\n\t\t}\n\t\treturn new StringU16(buf.toString());\n\t}\n\n\tpublic var length(get, never) : Int;\n\n\tpublic #if !flash inline #end function codeUnitAt(index : Int) : Int {\n\t\treturn StringTools.fastCodeAt(this, index);\n\t}\n\n\tpublic inline function substr(index : Int, ?len : Int) : StringU16 {\n\t\treturn new StringU16(this.substr(index, len));\n\t}\n\n\tpublic inline function toString() : String {\n\t\treturn this;\n\t}\n\n\tpublic inline function toArray() : Array<Int> {\n\t\tvar i = 0;\n\t\tvar len = this.length;\n\t\treturn [while (i < len) StringTools.fastCodeAt(this, i++)];\n\t}\n\n\tinline function new(s : String) {\n\t\tthis = s;\n\t}\n\n\tinline function get_length() : Int {\n\t\treturn this.length;\n\t}\n\n}\n\n#else\n\nprivate abstract StringU16Buffer(Array<Int>) {\n\n\tpublic inline function new() {\n\t\tthis = [];\n\t}\n\n\tpublic inline function addUnit(unit : Int) : Void {\n\t\tthis.push(unit);\n\t}\n\n\tpublic inline function getStringU16() : StringU16 {\n\t\treturn StringU16.ofArray(this);\n\t}\n\n}\n\nprivate abstract StringU16(Array<Int>) {\n\n\tpublic static function fromString(s : String) : StringU16 {\n\t\tvar buf = new StringU16Buffer();\n\t\tvar addUnit = function (x) buf.addUnit(x);\n\t\tfor (i in new InternalEncodingIter(s, 0, s.length)) {\n\t\t\tvar c = InternalEncoding.codePointAt(s, i);\n\t\t\tUtf16Impl.encode_code_point(addUnit, c);\n\t\t}\n\t\treturn buf.getStringU16();\n\t}\n\n\tpublic static inline function fromCodeUnit(u : Int) : StringU16 {\n\t\treturn new StringU16([u]);\n\t}\n\n\tpublic static inline function fromTwoCodeUnits(u0 : Int, u1 : Int) : StringU16 {\n\t\treturn new StringU16([u0, u1]);\n\t}\n\n\tpublic static inline function ofArray(a : Array<Int>) : StringU16 {\n\t\treturn new StringU16(a);\n\t}\n\n\tpublic static inline function fromArray(a : Array<Int>) : StringU16 {\n\t\treturn new StringU16(a.copy());\n\t}\n\n\tpublic var length(get, never) : Int;\n\n\tpublic inline function codeUnitAt(index : Int) : Int {\n\t\treturn this[index];\n\t}\n\n\tpublic inline function substr(index : Int, ?len : Int) : StringU16 {\n\t\tif (index < 0) {\n\t\t\tindex += this.length;\n\t\t\tif (index < 0) index = 0;\n\t\t}\n\t\tvar j = (len != null) ? index + len : this.length;\n\t\tvar a = this.slice(index, j);\n\t\treturn new StringU16(a);\n\t}\n\n\tpublic function toString() : String {\n\t\tvar buf = new StringBuf();\n\t\tvar i = 0;\n\t\tvar len = this.length;\n\t\tvar cua = function (i) return this[i];\n\t\twhile (i < len) {\n\t\t\tvar u = Utf16Impl.decode_code_point(len, cua, i);\n\t\t\tbuf.add(InternalEncoding.fromCodePoint(u));\n\t\t\ti += Utf16Impl.code_point_width(codeUnitAt(i));\n\t\t}\n\t\treturn buf.toString();\n\t}\n\n\tpublic inline function toArray() : Array<Int> {\n\t\treturn this.copy();\n\t}\n\n\tinline function new(a : Array<Int>) {\n\t\tthis = a;\n\t}\n\n\tinline function get_length() : Int {\n\t\treturn this.length;\n\t}\n\n}\n\n#end\n","package ceramic;\n\n@:structInit\nclass CustomAssetKind {\n\n    public var kind:String;\n\n    public var add:Assets->String->?AssetOptions->Void;\n\n    public var extensions:Array<String>;\n\n    public var dir:Bool;\n\n    public var types:Array<String>;\n\n} //CustomAssetKind\n","package ceramic;\n\nimport ceramic.Shortcuts.*;\n\nimport haxe.DynamicAccess;\n\nclass DatabaseAsset extends Asset {\n\n    public var database:Array<DynamicAccess<String>> = null;\n\n    override public function new(name:String, ?options:AssetOptions) {\n\n        super('database', name, options);\n\n    } //new\n\n    override public function load() {\n\n        status = LOADING;\n\n        if (path == null) {\n            warning('Cannot load database asset if path is undefined.');\n            status = BROKEN;\n            emitComplete(false);\n            return;\n        }\n\n        log('Load database $path');\n        app.backend.texts.load(path, function(text) {\n\n            if (text != null) {\n                try {\n                    this.database = Csv.parse(text);\n                } catch (e:Dynamic) {\n                    status = BROKEN;\n                    error('Failed to parse database at path: $path');\n                    emitComplete(false);\n                    return;\n                }\n                status = READY;\n                emitComplete(true);\n            }\n            else {\n                status = BROKEN;\n                error('Failed to load database at path: $path');\n                emitComplete(false);\n            }\n\n        });\n\n    } //load\n\n    function destroy():Void {\n\n        database = null;\n\n    } //destroy\n\n} //DatabaseAsset\n","package ceramic;\n\n/** Decomposed transform holds rotation, translation, scale, skew and pivot informations.\n    Provided by Transform.decompose() method.\n    Angles are in radians. */\nclass DecomposedTransform {\n\n    inline public function new() {}\n\n    public var pivotX:Float = 0;\n\n    public var pivotY:Float = 0;\n\n    public var x:Float = 0;\n\n    public var y:Float = 0;\n\n    public var rotation:Float = 0;\n\n    public var scaleX:Float = 1;\n\n    public var scaleY:Float = 1;\n\n    public var skewX:Float = 0;\n\n    public var skewY:Float = 0;\n\n}\n","package ceramic;\n\n/** A bunch of static extensions to make life easier. */\nclass Extensions {\n\n/// Array extensions\n\n    inline public static function unsafeGet<T>(array:Array<T>, index:Int):T {\n#if debug\n        if (index < 0 || index >= array.length) throw 'Invalid unsafeGet: index=$index length=${array.length}';\n#end\n#if cpp\n        return cpp.NativeArray.unsafeGet(array, index);\n#else\n        return array[index];\n#end\n    } //unsafeGet\n\n    inline public static function unsafeSet<T>(array:Array<T>, index:Int, value:T):Void {\n#if debug\n        if (index < 0 || index >= array.length) throw 'Invalid unsafeSet: index=$index length=${array.length}';\n#end\n#if cpp\n        cpp.NativeArray.unsafeSet(array, index, value);\n#else\n        array[index] = value;\n#end\n    } //unsafeSet\n\n/// Generic extensions\n\n    @:noCompletion\n    inline public static function setProperty<T>(instance:T, field:String, value:Dynamic):Void {\n\n        // @see https://github.com/openfl/actuate/blob/4547a5a6d2e95dbb3f6b8eacb719532b4c1650d2/motion/actuators/SimpleActuator.hx#L327-L345\n\t\tif (Reflect.hasField(instance, field) #if flash && !untyped (instance).hasOwnProperty(\"set_\" + field) #elseif js && !(untyped (instance).__properties__ && untyped (instance).__properties__[\"set_\" + field]) #end) {\n\t\t\t#if flash\n\t\t\tuntyped target[field] = value;\n\t\t\t#else\n\t\t\tReflect.setField(instance, field, value);\n\t\t\t#end\n\t\t}\n        else {\n\t\t\tReflect.setProperty(instance, field, value);\n\t\t}\n\n    } //setProperty\n\n    @:noCompletion\n    inline public static function getProperty<T>(instance:T, field:String):Dynamic {\n\n        if (#if flash untyped (instance).hasOwnProperty (\"get_\" + field) #elseif js untyped (instance).__properties__ && untyped (instance).__properties__[\"get_\" + field] #else false #end) {\n            return Reflect.getProperty(instance, field);\n        }\n        else {\n            return Reflect.field(instance, field);\n        }\n\n    } //getProperty\n\n} //Extensions\n","package ceramic;\n\nimport haxe.rtti.Meta;\nimport haxe.rtti.CType;\nimport haxe.rtti.Rtti;\nimport haxe.DynamicAccess;\n\nclass FieldInfo {\n\n    static var fieldInfoMap:Map<String,Map<String,String>> = new Map();\n\n    static var rttiMap:Map<String,Classdef> = new Map();\n\n    public static function types(targetClass:String):Map<String,String> {\n\n        var info = fieldInfoMap.get(targetClass);\n\n        if (info == null) {\n            info = new Map();\n            fieldInfoMap.set(targetClass, info);\n\n            var clazz = Type.resolveClass(targetClass);\n            var clazzStr = '' + clazz;\n            var usedFields = new Map();\n            var rtti = rttiMap.get(clazzStr);\n            if (rtti == null) {\n                rtti = Utils.getRtti(clazz);\n                rttiMap.set(clazzStr, rtti);\n            }\n\n            while (clazz != null) {\n\n                for (field in rtti.fields) {\n\n                    var fieldType = stringFromCType(field.type);\n\n                    if (!usedFields.exists(field.name)) {\n                        usedFields.set(field.name, true);\n                        info.set(field.name, fieldType);\n                    }\n                }\n\n                clazz = Type.getSuperClass(clazz);\n                if (clazz != null) {\n                    clazzStr = '' + clazz;\n                    rtti = rttiMap.get(clazzStr);\n                    if (rtti == null) {\n                        rtti = Utils.getRtti(clazz);\n                        rttiMap.set(clazzStr, rtti);\n                    }\n                }\n\n            }\n        }\n\n        return info;\n\n    } //types\n\n    public static function typeOf(targetClass:String, field:String):String {\n\n        return types(targetClass).get(field);\n\n    } //typeOf\n\n    public static function stringFromCType(type:CType):String {\n        \n        var result = '';\n        var i = 0;\n        var len = 0;\n\n        switch (type) {\n            case CEnum(name, params), CClass(name, params), CTypedef(name, params), CAbstract(name, params):\n                result += name;\n                if (params.length > 0) {\n                    result += '<';\n                    i = 0; len = params.length;\n                    for (param in params) {\n                        result += stringFromCType(param);\n                        if (i < len - 1) result += ',';\n                        i++;\n                    }\n                    result += '>';\n                }\n            default:\n                result = 'Dynamic';\n        }\n\n        return result;\n\n    } //stringFromCType\n\n#if editor\n\n    static var editableFieldInfoMap:Map<String,Map<String,{type:String, meta:DynamicAccess<Dynamic>}>> = new Map();\n\n    public static function editableFieldInfo(targetClass:String):Map<String,{type:String, meta:DynamicAccess<Dynamic>}> {\n\n        var info = editableFieldInfoMap.get(targetClass);\n\n        if (info == null) {\n            info = new Map();\n            editableFieldInfoMap.set(targetClass, info);\n\n            var clazz = Type.resolveClass(targetClass);\n            var usedFields = new Map();\n            var rtti = Utils.getRtti(clazz);\n\n            while (clazz != null) {\n\n                var meta = Meta.getFields(clazz);\n                for (field in rtti.fields) {\n                    var k = field.name;\n                    var v = Reflect.field(meta, k);\n                    var fieldType = FieldInfo.stringFromCType(field.type);\n                    if (v != null && Reflect.hasField(v, 'editable') && !usedFields.exists(k)) {\n                        usedFields.set(k, true);\n                        info.set(k, {\n                            type: fieldType,\n                            meta: v\n                        });\n                    }\n                }\n\n                clazz = Type.getSuperClass(clazz);\n                if (clazz != null) rtti = Utils.getRtti(clazz);\n\n            }\n        }\n\n        return info;\n\n    } //editableFieldTypes\n\n#end\n\n} //FieldInfo\n","package ceramic;\n\nimport ceramic.Shortcuts.*;\n\nclass FontAsset extends Asset {\n\n/// Properties\n\n    public var fontData:BitmapFontData = null;\n\n    public var pages:Map<String,Texture> = null;\n\n    public var font:BitmapFont = null;\n\n/// Lifecycle\n\n    override public function new(name:String, ?options:AssetOptions) {\n\n        super('font', name, options);\n        handleTexturesDensityChange = true;\n\n        assets = new Assets();\n\n    } //name\n\n    override public function load() {\n\n        // Create array of assets to destroy after load\n        var toDestroy:Array<Asset> = [];\n        for (asset in assets) {\n            toDestroy.push(asset);\n        }\n\n        // Load font data\n        status = LOADING;\n\n        if (path == null) {\n            warning('Cannot load font asset if path is undefined.');\n            status = BROKEN;\n            emitComplete(false);\n            return;\n        }\n\n        log('Load font $path');\n\n        // Use runtime assets if provided\n        assets.runtimeAssets = runtimeAssets;\n        \n        var asset = new TextAsset(name);\n        asset.handleTexturesDensityChange = false;\n        asset.path = path;\n        assets.addAsset(asset);\n        assets.onceComplete(this, function(success) {\n\n            var text = asset.text;\n\n            if (text != null) {\n\n                try {\n                    fontData = BitmapFontParser.parse(text);\n\n                    // Load pages\n                    var pages = new Map();\n                    var assetList:Array<ImageAsset> = [];\n\n                    for (page in fontData.pages) {\n\n                        var pathInfo = Assets.decodePath(page.file);\n                        var asset = new ImageAsset(pathInfo.name);\n\n                        // Because it is handled at font level\n                        asset.handleTexturesDensityChange = false;\n\n                        asset.path = pathInfo.path;\n                        assets.addAsset(asset);\n                        assetList.push(asset);\n                        \n                    }\n\n                    assets.onceComplete(this, function(success) {\n\n                        if (success) {\n                            // Fill pages mapping\n                            for (asset in assetList) {\n                                pages.set(asset.path, asset.texture);\n                            }\n\n                            // Create bitmap font\n                            var prevFont = this.font;\n                            this.font = new BitmapFont(fontData, pages);\n                            this.font.id = 'font:' + path;\n\n                            // Link the font to this asset so that\n                            // destroying one will destroy the other\n                            this.font.asset = this;\n\n                            if (prevFont != null) {\n                                // Font was reloaded. Update related visuals\n                                for (visual in app.visuals) {\n                                    if (Std.is(visual, Text)) {\n                                        var text:Text = cast visual;\n                                        if (text.font == prevFont) {\n                                            text.font = this.font;\n                                        }\n                                    }\n                                }\n\n                                // Set asset to null because we don't want it\n                                // to be destroyed when destroying the font.\n                                prevFont.asset = null;\n                                // Destroy texture\n                                prevFont.destroy();\n                            }\n\n                            // Destroy unused assets\n                            for (asset in toDestroy) {\n                                if (Std.is(asset, ImageAsset)) {\n                                    // When it's an image, ensure we don't use it for the updated font, still.\n                                    var imageAsset:ImageAsset = cast asset;\n                                    if (assetList.indexOf(imageAsset) == -1) {\n                                        asset.destroy();\n                                    }\n                                } else {\n                                    asset.destroy();\n                                }\n                            }\n\n                            status = READY;\n                            emitComplete(true);\n                            if (handleTexturesDensityChange) {\n                                checkTexturesDensity();\n                            }\n\n                        }\n                        else {\n                            status = BROKEN;\n                            error('Failed to load textures for font at path: $path');\n                            emitComplete(false);\n                        }\n\n                    });\n\n                    assets.load();\n\n                } catch (e:Dynamic) {\n                    status = BROKEN;\n                    error('Failed to decode font data at path: $path');\n                    emitComplete(false);\n                }\n            }\n            else {\n                status = BROKEN;\n                error('Failed to load font data at path: $path');\n                emitComplete(false);\n            }\n        });\n\n        assets.load();\n\n    } //load\n\n    override function texturesDensityDidChange(newDensity:Float, prevDensity:Float):Void {\n\n        if (status == READY) {\n            // Only check if the asset is already loaded.\n            // If it is currently loading, it will check\n            // at load end anyway.\n            checkTexturesDensity();\n        }\n\n    } //texturesDensityDidChange\n\n    function checkTexturesDensity():Void {\n\n        var prevPath = path;\n        computePath();\n\n        if (prevPath != path) {\n            log('Reload font ($prevPath -> $path)');\n            load();\n        }\n\n    } //checkTexturesDensity\n\n    function destroy():Void {\n\n        if (font != null) {\n            font.destroy();\n            font = null;\n        }\n\n        if (pages != null) {\n            for (key in pages.keys()) {\n                var texture = pages.get(key);\n                texture.destroy();\n            }\n            pages = null;\n        }\n\n    } //destroy\n\n} //FontAsset\n","package ceramic;\n\n// Portions of matrix manipulation code taken from OpenFL and PIXI\n\n/** Transform holds matrix data to make 2d rotate, translate, scale and skew transformations.\n    Angles are in degrees.\n    Representation:\n    | a | c | tx |\n    | b | d | ty |\n    | 0 | 0 | 1  | */\nclass Transform implements Events {\n\n/// Events\n\n    @event public function change();\n\n/// Properties\n\n    public var a:Float;\n\n    public var b:Float;\n\n    public var c:Float;\n\n    public var d:Float;\n\n    public var tx:Float;\n\n    public var ty:Float;\n\n    public var changed:Bool;\n\n/// Internal\n\n    static var _tmp = new Transform();\n\n/// Code\n\n    public function new(a:Float = 1, b:Float = 0, c:Float = 0, d:Float = 1, tx:Float = 0, ty:Float = 0) {\n\n        this.a = a;\n        this.b = b;\n        this.c = c;\n        this.d = d;\n        this.tx = tx;\n        this.ty = ty;\n\n        changed = false;\n\n    } //new\n\n    inline function didEmitChange():Void {\n\n        changed = false;\n\n    } //didEmitChange\n\n    inline public function clone():Transform {\n\n        return new Transform(a, b, c, d, tx, ty);\n\n    } //clone\n\n    inline public function concat(m:Transform):Void {\n\n        var a1 = a * m.a + b * m.c;\n        b = a * m.b + b * m.d;\n        a = a1;\n\n        var c1 = c * m.a + d * m.c;\n        d = c * m.b + d * m.d;\n\n        c = c1;\n\n        var tx1 = tx * m.a + ty * m.c + m.tx;\n        ty = tx * m.b + ty * m.d + m.ty;\n        tx = tx1;\n\n        changed = true;\n\n    } //concat\n\n    inline public function decompose(?output:DecomposedTransform):DecomposedTransform {\n\n        if (output == null) output = new DecomposedTransform();\n\n        output.pivotX = 0;\n        output.pivotY = 0;\n\n        output.skewX = -Math.atan2(-c, d);\n        output.skewY = Math.atan2(b, a);\n\n        var delta = Math.abs(output.skewX + output.skewY);\n\n        if (delta < 0.00001) {\n            \n            output.rotation = output.skewY;\n\n            if (a < 0 && d >= 0) {\n                output.rotation += output.rotation <= 0 ? Math.PI : -Math.PI;\n            }\n\n            output.skewX = 0;\n            output.skewY = 0;\n\n        }\n\n        output.scaleX = Math.sqrt((a * a) + (b * b));\n        output.scaleY = Math.sqrt((c * c) + (d * d));\n\n        output.x = tx;\n        output.y = ty;\n\n        return output;\n\n    } //decompose\n\n    inline public function setFromDecomposed(decomposed:DecomposedTransform):Void {\n\n        setFromValues(decomposed.x, decomposed.y, decomposed.pivotX, decomposed.pivotY, decomposed.scaleX, decomposed.scaleY, decomposed.rotation, decomposed.skewX, decomposed.skewY);\n\n    } //setFromDecomposed\n\n    inline public function setFromValues(x:Float = 0, y:Float = 0, scaleX:Float = 1, scaleY:Float = 1, rotation:Float = 0, skewX:Float = 0, skewY:Float = 0, pivotX:Float = 0, pivotY:Float = 0):Void {\n\n        identity();\n        translate(-pivotX, -pivotY);\n        if (skewX != 0) c = skewX * Math.PI / 180.0;\n        if (skewY != 0) b = skewY * Math.PI / 180.0;\n        if (rotation != 0) rotate(rotation * Math.PI / 180.0);\n        translate(pivotX, pivotY);\n        if (scaleX != 1.0 || scaleY != 1.0) scale(scaleX, scaleY);\n        translate(\n            x - pivotX * scaleX,\n            y - pivotY * scaleY\n        );\n\n    } //setFromValues\n\n    inline public function deltaTransformX(x:Float, y:Float):Float {\n\n        return x * a + y * c;\n\n    } //deltaTransformX\n\n    inline public function deltaTransformY(x:Float, y:Float):Float {\n\n        return x * b + y * d;\n\n    } //deltaTransformY\n\n    inline public function equals(transform:Transform):Bool {\n\n        return (transform != null && tx == transform.tx && ty == transform.ty && a == transform.a && b == transform.b && c == transform.c && d == transform.d);\n\n    } //equals\n\n    inline public function identity():Void {\n\n        a = 1;\n        b = 0;\n        c = 0;\n        d = 1;\n        tx = 0;\n        ty = 0;\n\n        changed = true;\n\n    } //identity\n\n    inline public function invert():Void {\n\n        var norm = a * d - b * c;\n\n        if (norm == 0) {\n\n            a = b = c = d = 0;\n            tx = -tx;\n            ty = -ty;\n\n        } else {\n\n            norm = 1.0 / norm;\n            var a1 = d * norm;\n            d = a * norm;\n            a = a1;\n            b *= -norm;\n            c *= -norm;\n\n            var tx1 = - a * tx - c * ty;\n            ty = - b * tx - d * ty;\n            tx = tx1;\n\n        }\n\n        changed = true;\n\n    } //invert\n\n    /** Rotate by angle (in radians) */\n    inline public function rotate(angle:Float):Void {\n\n        var cos = Math.cos(angle);\n        var sin = Math.sin(angle);\n\n        var a1 = a * cos - b * sin;\n        b = a * sin + b * cos;\n        a = a1;\n\n        var c1 = c * cos - d * sin;\n        d = c * sin + d * cos;\n        c = c1;\n\n        var tx1 = tx * cos - ty * sin;\n        ty = tx * sin + ty * cos;\n        tx = tx1;\n\n        changed = true;\n\n    } //rotate\n\n    inline public function scale(x:Float, y:Float):Void {\n\n        a *= x;\n        b *= y;\n\n        c *= x;\n        d *= y;\n\n        tx *= x;\n        ty *= y;\n\n        changed = true;\n\n    } //scale\n\n    inline public function translate(x:Float, y:Float):Void {\n\n        tx += x;\n        ty += y;\n\n        changed = true;\n\n    } //translate\n\n    inline public function skew(skewX:Float, skewY:Float):Void {\n\n        _tmp.identity();\n\n        var sr = 0; // sin(0)\n        var cr = 1; // cos(0)\n        var cy = Math.cos(skewY);\n        var sy = Math.sin(skewY);\n        var nsx = -Math.sin(skewX);\n        var cx = Math.cos(skewX);\n\n        var a = cr;\n        var b = sr;\n        var c = -sr;\n        var d = cr;\n\n        _tmp.a = (cy * a) + (sy * c);\n        _tmp.b = (cy * b) + (sy * d);\n        _tmp.c = (nsx * a) + (cx * c);\n        _tmp.d = (nsx * b) + (cx * d);\n\n        concat(_tmp);\n\n    } //translate\n\n    inline public function setRotation(angle:Float, scale:Float = 1):Void {\n\n        a = Math.cos(angle) * scale;\n        c = Math.sin(angle) * scale;\n        b = -c;\n        d = a;\n\n        changed = true;\n\n    } //setRotation\n\n    inline public function setTo(a:Float, b:Float, c:Float, d:Float, tx:Float, ty:Float):Void {\n\n        this.a = a;\n        this.b = b;\n        this.c = c;\n        this.d = d;\n        this.tx = tx;\n        this.ty = ty;\n\n        changed = true;\n\n    } //setTo\n\n    inline public function setToTransform(transform:Transform):Void {\n\n        this.a = transform.a;\n        this.b = transform.b;\n        this.c = transform.c;\n        this.d = transform.d;\n        this.tx = transform.tx;\n        this.ty = transform.ty;\n\n        changed = true;\n\n    } //setTo\n\n    public function toString():String {\n\n        return \"(a=\" + a + \", b=\" + b + \", c=\" + c + \", d=\" + d + \", tx=\" + tx + \", ty=\" + ty + \")\";\n\n    } //toString\n\n\n    inline public function transformX(x:Float, y:Float):Float {\n\n        return x * a + y * c + tx;\n\n    } //transformX\n\n\n    inline public function transformY(x:Float, y:Float):Float {\n\n        return x * b + y * d + ty;\n\n    } //transformY\n\n} //Transform\n","package ceramic;\n\n@:structInit\nclass Point {\n\n    public var x:Float;\n\n    public var y:Float;\n\n    function toString():String {\n\n        return 'Point($x, $y)';\n\n    } //toString\n\n    public function new(x:Float = 0, y:Float = 0) {\n\n        this.x = x;\n        this.y = y;\n\n    } //new\n\n} //Point\n","package ceramic;\n\nimport backend.VisualItem;\nimport ceramic.Point;\n\n@:allow(ceramic.App)\n@:allow(ceramic.Screen)\nclass Visual extends Entity {\n\n/// Events\n\n    @event function pointerDown(info:TouchInfo);\n    @event function pointerUp(info:TouchInfo);\n    @event function pointerOver(info:TouchInfo);\n    @event function pointerOut(info:TouchInfo);\n\n    @event function focus();\n    @event function blur();\n\n/// Access as specific types\n\n    /** Get this visual typed as `Quad` or null if it isn't a `Quad` */\n    public var quad:Quad = null;\n\n    /** Get this visual typed as `Mesh` or null if it isn't a `Mesh` */\n    public var mesh:Mesh = null;\n\n/// Properties\n\n    /** When enabled, this visual will receive as many up/down/click/over/out events as\n        there are fingers or mouse pointer interacting with it.\n        Default is `false`, ensuring there is never multiple up/down/click/over/out that\n        overlap each other. In that case, it triggers `pointer down` when the first finger/pointer hits\n        the visual and trigger `pointer up` when the last finger/pointer stops touching it. Behavior is\n        similar for `pointer over` and `pointer out` events. */\n    public var multiTouch:Bool = false;\n\n    /** Whether this visual is between a `pointer down` and an `pointer up` event or not. */\n    public var isPointerDown(get,null):Bool;\n    var _numPointerDown:Int = 0;\n    inline function get_isPointerDown():Bool { return _numPointerDown > 0; }\n\n    /** Whether this visual is between a `pointer over` and an `pointer out` event or not. */\n    public var isPointerOver(get,null):Bool;\n    var _numPointerOver:Int = 0;\n    inline function get_isPointerOver():Bool { return _numPointerOver > 0; }\n\n    /** Clip the display to this visual's bounds. Will be applied to children as well.\n        Warning: this only works with non-rotated/non-skewed visuals for now. */\n    public var clipToBounds:Bool = false;\n\n    /** Allows the backend to keep data associated with this visual. */\n    public var backendItem:VisualItem;\n\n    /** Computed flag that tells whether this visual is only translated,\n        thus not rotated, skewed nor scaled.\n        When this is `true`, matrix computation may be a bit faster as it\n        will skip some unneeded matrix computation. */\n    public var translatesOnly:Bool = true;\n\n    /** Whether we should re-check if this visual is only translating or having a more complex transform */\n    public var translatesOnlyDirty:Bool = false;\n\n    /** Setting this to true will force the visual to recompute its displayed content */\n    public var contentDirty:Bool = true;\n\n    /** Setting this to true will force the visual's matrix to be re-computed */\n    public var matrixDirty(default,set):Bool = true;\n    inline function set_matrixDirty(matrixDirty:Bool):Bool {\n        this.matrixDirty = matrixDirty;\n        if (matrixDirty) {\n            if (children != null) {\n                for (child in children) {\n                    child.matrixDirty = true;\n                }\n            }\n        }\n        return matrixDirty;\n    }\n\n    /** Setting this to true will force the visual's computed render target to be re-computed */\n    public var renderTargetDirty(default,set):Bool = true;\n    inline function set_renderTargetDirty(renderTargetDirty:Bool):Bool {\n        this.renderTargetDirty = renderTargetDirty;\n        if (renderTargetDirty) {\n            if (children != null) {\n                for (child in children) {\n                    child.renderTargetDirty = true;\n                }\n            }\n        }\n        return renderTargetDirty;\n    }\n\n    /** Setting this to true will force the visual to compute it's visility in hierarchy */\n    public var visibilityDirty(default,set):Bool = true;\n    inline function set_visibilityDirty(visibilityDirty:Bool):Bool {\n        this.visibilityDirty = visibilityDirty;\n        if (visibilityDirty) {\n            if (children != null) {\n                for (child in children) {\n                    child.visibilityDirty = true;\n                }\n            }\n        }\n        return visibilityDirty;\n    }\n\n    /** Setting this to true will force the visual to compute it's touchability in hierarchy */\n    public var touchableDirty(default,set):Bool = true;\n    inline function set_touchableDirty(touchableDirty:Bool):Bool {\n        this.touchableDirty = touchableDirty;\n        if (touchableDirty) {\n            if (children != null) {\n                for (child in children) {\n                    child.touchableDirty = true;\n                }\n            }\n        }\n        return touchableDirty;\n    }\n\n    /** Setting this to true will force the visual to compute it's clipping state in hierarchy */\n    public var clipToBoundsDirty(default,set):Bool = true;\n    inline function set_clipToBoundsDirty(clipToBoundsDirty:Bool):Bool {\n        this.clipToBoundsDirty = clipToBoundsDirty;\n        if (clipToBoundsDirty) {\n            if (children != null) {\n                for (child in children) {\n                    child.clipToBoundsDirty = true;\n                }\n            }\n        }\n        return clipToBoundsDirty;\n    }\n\n    /** If set, children will be sort by depth and their computed depth\n        will be within range [parent.depth, parent.depth + depthRange] */\n    @editable\n    public var depthRange(default,set):Float = -1;\n    inline function set_depthRange(depthRange:Float):Float {\n        if (this.depthRange == depthRange) return depthRange;\n        this.depthRange = depthRange;\n        ceramic.App.app.hierarchyDirty = true;\n        return depthRange;\n    }\n\n    /** If set, the visual will be rendered into this target RenderTexture instance\n        instead of being drawn onto screen directly. */\n    public var renderTarget(default,set):RenderTexture = null;\n    function set_renderTarget(renderTarget:RenderTexture):RenderTexture {\n        if (this.renderTarget == renderTarget) return renderTarget;\n        this.renderTarget = renderTarget;\n        matrixDirty = true;\n        return renderTarget;\n    }\n\n    public var blending(default,set):Blending = Blending.NORMAL;\n    function set_blending(blending:Blending):Blending {\n        return this.blending = blending;\n    }\n\n    @editable\n    public var visible(default,set):Bool = true;\n    function set_visible(visible:Bool):Bool {\n        if (this.visible == visible) return visible;\n        this.visible = visible;\n        visibilityDirty = true;\n        return visible;\n    }\n\n    @editable\n    public var touchable(default,set):Bool = true;\n    function set_touchable(touchable:Bool):Bool {\n        if (this.touchable == touchable) return touchable;\n        this.touchable = touchable;\n        touchableDirty = true;\n        return touchable;\n    }\n\n    @editable\n    public var alpha(default,set):Float = 1;\n    function set_alpha(alpha:Float):Float {\n        if (this.alpha == alpha) return alpha;\n        this.alpha = alpha;\n        visibilityDirty = true;\n        return alpha;\n    }\n\n    @editable\n    public var x(default,set):Float = 0;\n    function set_x(x:Float):Float {\n        if (this.x == x) return x;\n        this.x = x;\n        matrixDirty = true;\n        return x;\n    }\n\n    @editable\n    public var y(default,set):Float = 0;\n    function set_y(y:Float):Float {\n        if (this.y == y) return y;\n        this.y = y;\n        matrixDirty = true;\n        return y;\n    }\n\n    @editable\n    public var depth(default,set):Float = 0;\n    function set_depth(depth:Float):Float {\n        if (this.depth == depth) return depth;\n        this.depth = depth;\n        ceramic.App.app.hierarchyDirty = true;\n        return depth;\n    }\n\n    @editable\n    public var rotation(default,set):Float = 0;\n    function set_rotation(rotation:Float):Float {\n        if (this.rotation == rotation) return rotation;\n        this.rotation = rotation;\n        matrixDirty = true;\n        translatesOnlyDirty = true;\n        return rotation;\n    }\n\n    @editable\n    public var scaleX(default,set):Float = 1;\n    function set_scaleX(scaleX:Float):Float {\n        if (this.scaleX == scaleX) return scaleX;\n        this.scaleX = scaleX;\n        matrixDirty = true;\n        translatesOnlyDirty = true;\n        return scaleX;\n    }\n\n    @editable\n    public var scaleY(default,set):Float = 1;\n    function set_scaleY(scaleY:Float):Float {\n        if (this.scaleY == scaleY) return scaleY;\n        this.scaleY = scaleY;\n        matrixDirty = true;\n        translatesOnlyDirty = true;\n        return scaleY;\n    }\n\n    @editable\n    public var skewX(default,set):Float = 0;\n    function set_skewX(skewX:Float):Float {\n        if (this.skewX == skewX) return skewX;\n        this.skewX = skewX;\n        matrixDirty = true;\n        translatesOnlyDirty = true;\n        return skewX;\n    }\n\n    @editable\n    public var skewY(default,set):Float = 0;\n    function set_skewY(skewY:Float):Float {\n        if (this.skewY == skewY) return skewY;\n        this.skewY = skewY;\n        matrixDirty = true;\n        translatesOnlyDirty = true;\n        return skewY;\n    }\n\n    @editable\n    public var anchorX(default,set):Float = 0;\n    function set_anchorX(anchorX:Float):Float {\n        if (this.anchorX == anchorX) return anchorX;\n        this.anchorX = anchorX;\n        matrixDirty = true;\n        return anchorX;\n    }\n\n    @editable\n    public var anchorY(default,set):Float = 0;\n    function set_anchorY(anchorY:Float):Float {\n        if (this.anchorY == anchorY) return anchorY;\n        this.anchorY = anchorY;\n        matrixDirty = true;\n        return anchorY;\n    }\n\n    @editable\n    public var width(get,set):Float;\n    var _width:Float = 0;\n    function get_width():Float {\n        return _width;\n    }\n    function set_width(width:Float):Float {\n        if (_width == width) return width;\n        _width = width;\n        return width;\n    }\n\n    @editable\n    public var height(get,set):Float;\n    var _height:Float = 0;\n    function get_height():Float {\n        return _height;\n    }\n    function set_height(height:Float):Float {\n        if (_height == height) return height;\n        _height = height;\n        return height;\n    }\n\n    /** Set additional matrix-based transform to this visual. Default is null. */\n    public var transform(default,set):Transform = null;\n    function set_transform(transform:Transform):Transform {\n        if (this.transform == transform) return transform;\n\n        if (this.transform != null) {\n            this.transform.offChange(transformDidChange);\n        }\n\n        this.transform = transform;\n\n        if (this.transform != null) {\n            this.transform.onChange(this, transformDidChange);\n        }\n\n        return transform;\n    }\n\n    /** Assign a shader to this visual. */\n    public var shader:Shader = null;\n\n/// Properties (Matrix)\n\n    public var a:Float = 1;\n\n    public var b:Float = 0;\n\n    public var c:Float = 0;\n\n    public var d:Float = 1;\n\n    public var tx:Float = 0;\n\n    public var ty:Float = 0;\n\n/// Properties (Computed)\n\n    public var computedVisible:Bool = true;\n\n    public var computedAlpha:Float = 1;\n\n    public var computedDepth:Float = 0;\n\n    public var computedRenderTarget:RenderTexture = null;\n\n    public var computedTouchable:Bool = true;\n\n    public var computedClipToBounds:Bool = false;\n\n/// Properties (Children)\n\n    public var children(default,null):Array<Visual> = null;\n\n    public var parent(default,null):Visual = null;\n\n/// Internal\n\n    static var _matrix:Transform = new Transform();\n\n    static var _degToRad:Float = Math.PI / 180.0;\n\n    static var _point:Point = new Point();\n\n/// Helpers\n\n    inline public function size(width:Float, height:Float):Void {\n\n        this.width = width;\n        this.height = height;\n\n    } //size\n\n    inline public function anchor(anchorX:Float, anchorY:Float):Void {\n\n        this.anchorX = anchorX;\n        this.anchorY = anchorY;\n\n    } //anchor\n\n    inline public function pos(x:Float, y:Float):Void {\n\n        this.x = x;\n        this.y = y;\n\n    } //pos\n\n    inline public function scale(scaleX:Float, scaleY:Float = -1):Void {\n\n        this.scaleX = scaleX;\n        this.scaleY = scaleY != -1 ? scaleY : scaleX;\n\n    } //scale\n\n    inline public function skew(skewX:Float, skewY:Float):Void {\n\n        this.skewX = skewX;\n        this.skewY = skewY;\n\n    } //skew\n\n/// Advanced helpers\n\n    /** Change the visual's anchor but update its x and y values to make\n        it keep its current position. */\n    public function anchorKeepPosition(anchorX:Float, anchorY:Float):Void {\n\n        if (this.anchorX == anchorX && this.anchorY == anchorY) return;\n\n        // Get initial pos\n        visualToScreen(0, 0, _point);\n        if (parent != null) {\n            parent.screenToVisual(_point.x, _point.y, _point);\n        }\n        \n        var prevX = _point.x;\n        var prevY = _point.y;\n        this.anchorX = anchorX;\n        this.anchorY = anchorY;\n\n        // Get new pos\n        this.visualToScreen(0, 0, _point);\n        if (parent != null) {\n            parent.screenToVisual(_point.x, _point.y, _point);\n        }\n\n        // Move visual accordingly\n        this.x += prevX - _point.x;\n        this.y += prevY - _point.y;\n\n    } //anchor\n\n/// Lifecycle\n\n    public function new() {\n\n        ceramic.App.app.visuals.push(this);\n        ceramic.App.app.hierarchyDirty = true;\n\n        backendItem = ceramic.App.app.backend.draw.getItem(this);\n\n    } //new\n\n    public function destroy() {\n\n        if (ceramic.App.app.screen.focusedVisual == this) {\n            ceramic.App.app.screen.focusedVisual = null;\n        }\n        \n        ceramic.App.app.visuals.remove(this);\n\n        if (parent != null) parent.remove(this);\n        if (transform != null) transform = null;\n\n        clear();\n\n    } //destroy\n\n    public function clear() {\n\n        if (children != null) {\n            for (child in [].concat(children)) {\n                child.destroy();\n            }\n            children = null;\n        }\n\n    } //clear\n\n/// Matrix\n\n    function transformDidChange() {\n\n        matrixDirty = true;\n\n    } //transformDidChange\n\n    function computeMatrix() {\n\n        if (parent != null && parent.matrixDirty) {\n            parent.computeMatrix();\n        }\n\n        _matrix.identity();\n\n        doComputeMatrix();\n\n    } //computeMatrix\n\n    inline function computeTranslatesOnly() {\n\n        translatesOnly = (rotation == 0 && scaleX == 1 && scaleY == 1 && skewX == 0 && skewY == 0);\n\n    } //computeTranslatesOnly\n\n    inline function doComputeMatrix() {\n\n        if (translatesOnlyDirty) {\n            computeTranslatesOnly();\n        }\n\n        var w = width;\n        var h = height;\n\n        // Apply local properties (pos, scale, rotation, skew)\n        //\n\n        if (translatesOnly) {\n            _matrix.tx += x - anchorX * w;\n            _matrix.ty += y - anchorY * h;\n        }\n        else {\n            _matrix.translate(-anchorX * w, -anchorY * h);\n\n            if (skewX != 0 || skewY != 0) {\n                _matrix.skew(skewX * _degToRad, skewY * _degToRad);\n            }\n\n            if (rotation != 0) _matrix.rotate(rotation * _degToRad);\n            _matrix.translate(anchorX * w, anchorY * h);\n            if (scaleX != 1.0 || scaleY != 1.0) _matrix.scale(scaleX, scaleY);\n            _matrix.translate(\n                x - (anchorX * w * scaleX),\n                y - (anchorY * h * scaleY)\n            );\n        }\n\n        if (transform != null) {\n\n            // Concat matrix with transform\n            //\n            var a1 = _matrix.a * transform.a + _matrix.b * transform.c;\n            _matrix.b = _matrix.a * transform.b + _matrix.b * transform.d;\n            _matrix.a = a1;\n\n            var c1 = _matrix.c * transform.a + _matrix.d * transform.c;\n            _matrix.d = _matrix.c * transform.b + _matrix.d * transform.d;\n\n            _matrix.c = c1;\n\n            var tx1 = _matrix.tx * transform.a + _matrix.ty * transform.c + transform.tx;\n            _matrix.ty = _matrix.tx * transform.b + _matrix.ty * transform.d + transform.ty;\n            _matrix.tx = tx1;\n\n        }\n\n        if (parent != null) {\n\n            // Concat matrix with parent's computed matrix data\n            //\n            if (translatesOnly && transform == null) {\n\n                _matrix.a = parent.a;\n                _matrix.b = parent.b;\n                _matrix.c = parent.c;\n                _matrix.d = parent.d;\n\n                var tx1 = _matrix.tx * parent.a + _matrix.ty * parent.c + parent.tx;\n                _matrix.ty = _matrix.tx * parent.b + _matrix.ty * parent.d + parent.ty;\n                _matrix.tx = tx1;\n\n            }\n            else {\n\n                var a1 = _matrix.a * parent.a + _matrix.b * parent.c;\n                _matrix.b = _matrix.a * parent.b + _matrix.b * parent.d;\n                _matrix.a = a1;\n\n                var c1 = _matrix.c * parent.a + _matrix.d * parent.c;\n                _matrix.d = _matrix.c * parent.b + _matrix.d * parent.d;\n\n                _matrix.c = c1;\n\n                var tx1 = _matrix.tx * parent.a + _matrix.ty * parent.c + parent.tx;\n                _matrix.ty = _matrix.tx * parent.b + _matrix.ty * parent.d + parent.ty;\n                _matrix.tx = tx1;\n            }\n\n        } else {\n\n            if (renderTargetDirty) computeRenderTarget();\n\n            if (computedRenderTarget == null) {\n\n                // Concat matrix with screen transform\n                //\n                var m = ceramic.App.app.screen.matrix;\n                \n                var a1 = _matrix.a * m.a + _matrix.b * m.c;\n                _matrix.b = _matrix.a * m.b + _matrix.b * m.d;\n                _matrix.a = a1;\n\n                var c1 = _matrix.c * m.a + _matrix.d * m.c;\n                _matrix.d = _matrix.c * m.b + _matrix.d * m.d;\n\n                _matrix.c = c1;\n\n                var tx1 = _matrix.tx * m.a + _matrix.ty * m.c + m.tx;\n                _matrix.ty = _matrix.tx * m.b + _matrix.ty * m.d + m.ty;\n                _matrix.tx = tx1;\n            }\n\n        }\n\n        // Assign final matrix values to visual\n        //\n        a = _matrix.a;\n        b = _matrix.b;\n        c = _matrix.c;\n        d = _matrix.d;\n        tx = _matrix.tx;\n        ty = _matrix.ty;\n\n        // Matrix is up to date\n        matrixDirty = false;\n\n    }\n\n/// Hit test\n\n    /** Returns true if (testX,testY) screen coordinates hit/intersect this visual visible bounds */\n    public function hits(x:Float, y:Float):Bool {\n\n        if (matrixDirty) {\n            computeMatrix();\n        }\n\n        _matrix.identity();\n        // Apply whole visual transform\n        _matrix.setTo(a, b, c, d, tx, ty);\n        // But remove screen transform from it\n        _matrix.concat(ceramic.App.app.screen.reverseMatrix);\n        _matrix.invert();\n\n        var testX0 = _matrix.transformX(x, y);\n        var testY0 = _matrix.transformY(x, y);\n        var testX1 = _matrix.transformX(x - 1, y - 1);\n        var testY1 = _matrix.transformY(x - 1, y - 1);\n\n        return testX0 >= 0\n            && testX1 <= width\n            && testY0 >= 0\n            && testY1 <= height;\n\n    } //hits\n\n/// Screen to visual positions and vice versa\n\n    /** Assign X and Y to given point after converting them from screen coordinates to current visual coordinates. */\n    public function screenToVisual(x:Float, y:Float, point:Point):Void {\n\n        if (matrixDirty) {\n            computeMatrix();\n        }\n\n        _matrix.identity();\n        // Apply whole visual transform\n        _matrix.setTo(a, b, c, d, tx, ty);\n        // But remove screen transform from it if needed\n        if (renderTargetDirty) computeRenderTarget();\n        if (computedRenderTarget == null) {\n            _matrix.concat(ceramic.App.app.screen.reverseMatrix);\n        }\n        _matrix.invert();\n\n        point.x = _matrix.transformX(x, y);\n        point.y = _matrix.transformY(x, y);\n\n    } //screenToVisual\n\n    /** Assign X and Y to given point after converting them from current visual coordinates to screen coordinates. */\n    public function visualToScreen(x:Float, y:Float, point:Point):Void {\n\n        if (matrixDirty) {\n            computeMatrix();\n        }\n\n        _matrix.identity();\n        // Apply whole visual transform\n        _matrix.setTo(a, b, c, d, tx, ty);\n        // But remove screen transform from it if needed\n        if (renderTargetDirty) computeRenderTarget();\n        if (computedRenderTarget == null) {\n            _matrix.concat(ceramic.App.app.screen.reverseMatrix);\n        }\n\n        point.x = _matrix.transformX(x, y);\n        point.y = _matrix.transformY(x, y);\n\n    } //visualToScreen\n\n/// Transform from visual\n\n    /** Assign X and Y to given point after converting them from current visual coordinates to screen coordinates. */\n    public function visualToTransform(transform:Transform):Void {\n\n        if (matrixDirty) {\n            computeMatrix();\n        }\n\n        transform.identity();\n        // Apply whole visual transform\n        transform.setTo(a, b, c, d, tx, ty);\n        // But remove screen transform from it\n        transform.concat(ceramic.App.app.screen.reverseMatrix);\n\n    } //visualToTransform\n\n/// Visibility / Alpha\n\n    function computeVisibility() {\n\n        if (parent != null && parent.visibilityDirty) {\n            parent.computeVisibility();\n        }\n\n        computedVisible = visible;\n        computedAlpha = alpha;\n        \n        if (computedVisible) {\n\n            if (parent != null) {\n                if (!parent.computedVisible) {\n                    computedVisible = false;\n                }\n                computedAlpha *= parent.computedAlpha;\n            }\n\n            if (computedAlpha == 0) {\n                computedVisible = false;\n            }\n            \n        }\n\n        visibilityDirty = false;\n\n    } //computeVisibility\n\n/// Clipping\n\n    function computeClipToBounds() {\n\n        if (parent != null && parent.clipToBoundsDirty) {\n            parent.computeClipToBounds();\n        }\n\n        computedClipToBounds = false;\n        if (parent != null) {\n            if (parent.computedClipToBounds || parent.clipToBounds) {\n                computedClipToBounds = true;\n            }\n        }\n\n        clipToBoundsDirty = false;\n\n    } //computeClipToBounds\n\n/// Touchable\n\n    function computeTouchable() {\n\n        if (parent != null && parent.touchableDirty) {\n            parent.computeTouchable();\n        }\n\n        computedTouchable = touchable;\n        \n        if (computedTouchable) {\n\n            if (parent != null) {\n                if (!parent.computedTouchable) {\n                    computedTouchable = false;\n                }\n            }\n            \n        }\n\n        touchableDirty = false;\n\n    } //computedTouchable\n\n/// RenderTarget (computed)\n\n    function computeRenderTarget() {\n\n        if (parent != null && parent.renderTargetDirty) {\n            parent.computeRenderTarget();\n        }\n\n        computedRenderTarget = renderTarget;\n        if (computedRenderTarget == null && parent != null && parent.computedRenderTarget != null) {\n            computedRenderTarget = parent.computedRenderTarget;\n        }\n        \n        renderTargetDirty = false;\n\n    } //computeRenderTarget\n\n/// Display\n\n    function computeContent() {\n        \n        contentDirty = false;\n\n    } //computeContent\n\n/// Children\n\n    static var _minDepth:Float = 0;\n\n    static var _maxDepth:Float = 0;\n\n    /** Compute children depth. The result depends on whether\n        a parent defines a custom `depthRange` value or not. */\n    function computeChildrenDepth():Void {\n\n        if (children != null) {\n\n            // Compute deepest in hierarchy first\n            for (child in children) {\n                child.computedDepth = child.depth;\n                child.computeChildrenDepth();\n            }\n\n            // Apply depth range if any\n            if (depthRange != -1) {\n\n                _minDepth = 9999999999;\n                _maxDepth = -9999999999;\n\n                // Compute min/max depth\n                for (child in children) {\n                    child.computeMinMaxDepths();\n                }\n\n                // Multiply depth\n                for (child in children) {\n                    child.multiplyDepths(computedDepth, depthRange - 0.0001);\n                }\n            }\n        }\n\n    } //computeChildrenDepth\n\n    function computeMinMaxDepths():Void {\n\n        if (_minDepth > computedDepth) _minDepth = computedDepth;\n        if (_maxDepth < computedDepth) _maxDepth = computedDepth;\n\n        if (children != null) {\n\n            for (child in children) {\n                child.computeMinMaxDepths();\n            }\n        }\n\n    } //computeMinMaxDepths\n\n    function multiplyDepths(startDepth:Float, targetRange:Float):Void {\n\n        if (_maxDepth == _minDepth) {\n            computedDepth = startDepth + 0.5 * targetRange;\n        } else {\n            computedDepth = startDepth + ((computedDepth - _minDepth) / (_maxDepth - _minDepth)) * targetRange;\n        }\n\n        // Multiply recursively\n        if (children != null) {\n\n            for (child in children) {\n                child.multiplyDepths(startDepth, targetRange);\n            }\n        }\n\n    } //multiplyDepths\n\n    public function add(visual:Visual):Void {\n\n        App.app.hierarchyDirty = true;\n\n        if (visual.parent != null) {\n            visual.parent.remove(visual);\n        }\n\n        visual.parent = this;\n        visual.visibilityDirty = true;\n        visual.matrixDirty = true;\n        visual.renderTargetDirty = true;\n        if (children == null) {\n            children = [];\n        }\n        children.push(visual);\n\n    } //add\n\n    public function remove(visual:Visual):Void {\n\n        App.app.hierarchyDirty = true;\n\n        if (children == null) return;\n\n        children.splice(children.indexOf(visual), 1);\n        visual.parent = null;\n        visual.visibilityDirty = true;\n        visual.matrixDirty = true;\n        visual.renderTargetDirty = true;\n\n    } //remove\n\n    /** Returns `true` if the current visual contains this child.\n        When `recursive` option is `true`, will return `true` if\n        the current visual contains this child or one of\n        its direct or indirect children does. */\n    public function contains(child:Visual, recursive:Bool = false):Bool {\n\n        var parent = child.parent;\n\n        while (parent != null) {\n\n            if (parent == this) return true;\n            parent = parent.parent;\n\n            if (!recursive) break;\n        }\n\n        return false;\n\n    } //contains\n\n/// Size helpers\n\n    /** Compute bounds from children this visual contains.\n        This overwrites width, height, anchorX and anchorY properties accordingly.\n        Warning: this may be an expensive operation. */\n    function computeBounds():Void {\n\n        if (children == null) {\n            _width = 0;\n            _height = 0;\n        }\n        else {\n            var minX = 999999999.0;\n            var minY = 999999999.0;\n            var maxX = -999999999.9;\n            var maxY = -999999999.9;\n            var point = new Point();\n            for (child in children) {\n\n                if (child.visible) {\n\n                    // Mesh is a specific case.\n                    // For now we handle it in Visual class directly.\n                    // We might move this into Mesh class later.\n                    if (child.mesh != null) {\n                        var mesh:Mesh = child.mesh;\n                        var vertices = mesh.vertices;\n                        var i = 0;\n                        var len = vertices.length;\n                        var x = 0.0;\n                        var y = 0.0;\n\n                        while (i < len) {\n                            x = vertices[i];\n                            y = vertices[i + 1];\n\n                            child.visualToScreen(x, y, point);\n                            if (point.x > maxX) maxX = point.x;\n                            if (point.y > maxY) maxY = point.y;\n                            if (point.x < minX) minX = point.x;\n                            if (point.y < minY) minY = point.y;\n\n                            i += 2;\n                        }\n\n                    }\n                    else {\n                        child.visualToScreen(0, 0, point);\n                        if (point.x > maxX) maxX = point.x;\n                        if (point.y > maxY) maxY = point.y;\n                        if (point.x < minX) minX = point.x;\n                        if (point.y < minY) minY = point.y;\n\n                        child.visualToScreen(child.width, 0, point);\n                        if (point.x > maxX) maxX = point.x;\n                        if (point.y > maxY) maxY = point.y;\n                        if (point.x < minX) minX = point.x;\n                        if (point.y < minY) minY = point.y;\n\n                        child.visualToScreen(0, child.height, point);\n                        if (point.x > maxX) maxX = point.x;\n                        if (point.y > maxY) maxY = point.y;\n                        if (point.x < minX) minX = point.x;\n                        if (point.y < minY) minY = point.y;\n\n                        child.visualToScreen(child.width, child.height, point);\n                        if (point.x > maxX) maxX = point.x;\n                        if (point.y > maxY) maxY = point.y;\n                        if (point.x < minX) minX = point.x;\n                        if (point.y < minY) minY = point.y;\n                    }\n                }\n            }\n\n            // Keep absolute position to restore it after we update anchor\n            visualToScreen(0, 0, point);\n            var origX = point.x;\n            var origY = point.y;\n\n            screenToVisual(minX, minY, point);\n            minX = point.x;\n            minY = point.y;\n\n            screenToVisual(maxX, maxY, point);\n            maxX = point.x;\n            maxY = point.y;\n\n            _width = maxX - minX;\n            _height = maxY - minY;\n\n            anchorX = _width != 0 ? -minX / _width : 0;\n            anchorY = _height != 0 ? -minY / _height : 0;\n\n            // Restore position\n            screenToVisual(origX, origY, point);\n            this.x = point.x - _width * anchorX;\n            this.y = point.y - _height * anchorY;\n\n            matrixDirty = true;\n        }\n\n    } //computeIntrinsicSize\n\n} //Visual\n","package ceramic;\n\nimport ceramic.Shortcuts.*;\nimport ceramic.Entity;\nimport ceramic.Assets;\n\nimport haxe.DynamicAccess;\n\nusing ceramic.Extensions;\n\n/** A fragment is a group of visuals rendered from data (.fragment file) */\n@editable({ implicitSize: true })\nclass Fragment extends Visual {\n\n    public var entities(default,null):Array<Entity>;\n\n    public var items(default,null):Array<FragmentItem>;\n\n    public var context:FragmentContext;\n\n    @editable\n    public var fragmentData(default,set):FragmentData = null;\n\n    public var pendingLoads(default,null):Int = 0;\n\n    @event function ready();\n\n#if editor\n\n    @event function editableItemUpdate(item:FragmentItem);\n\n    var updatedEditableItems:Map<String,FragmentItem> = null;\n\n#end\n\n/// Internal\n\n    static var basicTypes:Map<String,Bool> = [\n        'Bool' => true,\n        'Int' => true,\n        'Float' => true,\n        'String' => true,\n        'ceramic.Color' => true\n    ];\n\n/// Lifecycle\n\n    public function new(context:FragmentContext) {\n\n        super();\n\n        this.context = context;\n        entities = [];\n        items = [];\n\n    } //new\n\n/// Data\n\n    function set_fragmentData(fragmentData:FragmentData):FragmentData {\n        \n        pendingLoads++;\n\n        this.fragmentData = fragmentData;\n        var usedIds = new Map<String,Bool>();\n\n        if (fragmentData != null) {\n\n            width = fragmentData.width;\n            height = fragmentData.height;\n\n            if (fragmentData.items != null) {\n                // Add/Update items\n                for (item in fragmentData.items) {\n                    putItem(item);\n                    usedIds.set(item.id, true);\n                }\n            }\n\n        }\n\n        // Keep items if fragmentData is provided with no property 'items'\n        if (fragmentData == null || Reflect.hasField(fragmentData, 'items')) {\n            // Remove unused items\n            var toRemove = [];\n            for (entity in entities) {\n                if (!usedIds.exists(entity.id)) {\n                    toRemove.push(entity.id);\n                }\n            }\n            for (id in toRemove) {\n                removeItem(id);\n            }\n        }\n\n        // Add fragment-level components\n        if (fragmentData != null #if editor && edited #end) {\n            pendingLoads++;\n            var converter = app.converters.get('ceramic.ImmutableMap<String,ceramic.Component>');\n            converter.basicToField(\n                context.assets,\n                fragmentData.components,\n                function(value) {\n                    if (destroyed) return;\n                    pendingLoads--;\n\n                    onceReady(this, function() {\n                        this.fragmentComponents = value;\n                    });\n                    \n                    if (pendingLoads == 0) emitReady();\n                }\n            );\n        }\n\n        pendingLoads--;\n        if (pendingLoads == 0) emitReady();\n\n        return fragmentData;\n\n    } //putData\n\n/// Public API\n\n    public function putItem(item:FragmentItem):Entity {\n\n        var existing = getItemInstance(item.id);\n        var existingWasVisual = false;\n        \n        // Remove previous object if entity class is different\n        if (existing != null) {\n            existingWasVisual = Std.is(existing, Visual);\n            if (item.entity != Type.getClassName(Type.getClass(existing))) {\n                removeItem(item.id);\n                existing = null;\n            }\n        }\n        else {\n            items.push(item);\n        }\n\n        var entityClass = Type.resolveClass(item.entity);\n        var instance:Entity = existing != null ? existing : null;\n        var isFragment = item.entity == 'ceramic.Fragment';\n        if (instance == null) {\n            var newArgs = [];\n            if (isFragment) {\n                var subContext:FragmentContext = {\n                    assets: context.assets,\n                    editedItems: false\n                };\n                newArgs.push(subContext);\n            }\n            instance = cast Type.createInstance(entityClass, newArgs);\n        }\n        instance.id = item.id;\n\n        if (isFragment) {\n            cast(instance, ceramic.Fragment).depthRange = 1;\n        }\n\n#if editor\n        instance.edited = context.editedItems;\n#end\n\n        // Set name\n        if (instance.data.name == null && item.name != null) instance.data.name = item.name;\n\n        // Copy item data\n        if (item.data != null && instance.data != null) {\n            for (key in Reflect.fields(item.data)) {\n                Reflect.setField(instance.data, key, Reflect.field(item.data, key));\n            }\n        }\n\n        // Copy item properties\n        if (item.props != null) {\n            var orderedProps = Reflect.fields(item.props);\n\n            // TODO sort by order of properties in underlying class\n            // For now we just ensure components is the last property being instanced\n            haxe.ds.ArraySort.sort(orderedProps, function(a:String, b:String):Int {\n\n                var nA = 0;\n                var nB = 0;\n\n                if (a == 'components') nA++;\n                else if (b == 'components') nB++;\n\n                return nA - nB;\n\n            });\n            \n            for (field in orderedProps) {\n                var fieldType = FieldInfo.typeOf(item.entity, field);\n                var value:Dynamic = Reflect.field(item.props, field);\n                var converter = fieldType != null ? app.converters.get(fieldType) : null;\n                if (converter != null) {\n                    function(field) {\n                        pendingLoads++;\n                        converter.basicToField(\n                            context.assets,\n                            value,\n                            function(value:Dynamic) {\n\n                                pendingLoads--;\n                                if (destroyed) return;\n\n                                if (!instance.destroyed) {\n\n                                    if (isFragment && field == 'fragmentData') {\n                                        var fragment:Fragment = cast instance;\n                                        pendingLoads++;\n                                        fragment.onceReady(this, function() {\n                                            pendingLoads--;\n                                            if (destroyed) return;\n                                            if (pendingLoads == 0) emitReady();\n                                        });\n                                        fragment.fragmentData = value;\n                                    }\n                                    else if (field != 'components') {\n                                        instance.setProperty(field, value);\n\n#if editor\n                                        updateEditableFieldsFromInstance(item.id);\n#end\n                                    }\n                                    else {\n\n                                        onceReady(this, function() {\n                                            instance.setProperty(field, value);\n\n#if editor\n                                            updateEditableFieldsFromInstance(item.id);\n#end\n                                        });\n                                    }\n                                }\n\n                                if (pendingLoads == 0) emitReady();\n                            }\n                        );\n                    }(field);\n                }\n                else {\n                    if (!basicTypes.exists(fieldType)) {\n                        var resolvedEnum = Type.resolveEnum(fieldType);\n                        if (resolvedEnum != null) {\n                            for (name in Type.getEnumConstructs(resolvedEnum)) {\n                                if (name.toLowerCase() == value.toLowerCase()) {\n                                    value = Type.createEnum(resolvedEnum, name);\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                    instance.setProperty(field, value);\n                }\n            }\n        }\n\n        // A few more stuff to do if item is new\n        if (existing == null) {\n\n            // If instance has an assets property, set it from our fragment context\n            if (FieldInfo.typeOf(item.entity, 'assets') == 'ceramic.Assets') {\n                instance.setProperty('assets', context.assets);\n            }\n\n            // Add instance (if new)\n            entities.push(instance);\n        }\n        // Add it to display tree if it is a visual\n        if (Std.is(instance, Visual) && !existingWasVisual) {\n            add(cast instance);\n        }\n\n#if editor\n        // Update editable fields from instance\n        updateEditableFieldsFromInstance(item.id);\n#end\n\n        return instance;\n\n    } //putItem\n\n    public function getItemInstance(itemId:String):Entity {\n\n        for (entity in entities) {\n            if (entity.id == itemId) {\n                \n                return entity;\n            }\n        }\n\n        return null;\n\n    } //getItemInstance\n\n    public function getItemInstanceByName(name:String):Entity {\n\n        for (entity in entities) {\n            if (entity.data.name == name) {\n                \n                return entity;\n            }\n        }\n\n        return null;\n\n    } //getItemInstanceByName\n\n    public function getItem(itemId:String):FragmentItem {\n\n        for (item in items) {\n            if (item.id == itemId) {\n                \n                return item;\n            }\n        }\n\n        return null;\n\n    } //getItem\n\n    public function getItemByName(name:String):FragmentItem {\n\n        for (item in items) {\n            if (item.name == name) {\n                \n                return item;\n            }\n        }\n\n        return null;\n\n    } //getItemByName\n\n    public function removeItem(itemId:String):Void {\n\n        for (entity in entities) {\n            if (entity.id == itemId) {\n                \n                entities.remove(entity);\n                entity.destroy();\n\n                break;\n            }\n        }\n\n        for (item in items) {\n            if (item.id == itemId) {\n\n                items.remove(item);\n\n                break;\n            }\n        }\n\n    } //removeItem\n\n    public function removeAllItems():Void {\n\n        for (entity in [].concat(entities)) {\n                \n            entities.remove(entity);\n            entity.destroy();\n\n        }\n\n        for (item in [].concat(items)) {\n            \n            items.remove(item);\n\n        }\n\n    } //removeAllItems\n\n    function destroy() {\n\n        removeAllItems();\n\n    } //destroy\n\n#if editor\n\n    public function updateEditableFieldsFromInstance(itemId:String):Void {\n\n        // Get item\n        var item = getItem(itemId);\n        if (item == null) {\n            return;\n        }\n\n        // Get instance\n        var instance = getItemInstance(item.id);\n        if (instance == null) {\n            return;\n        }\n\n        // Compute missing data (if any)\n        var editableFields = FieldInfo.editableFieldInfo(item.entity);\n        var hasChanged = false;\n        for (field in editableFields.keys()) {\n            var fieldType = FieldInfo.typeOf(item.entity, field);\n            var converter = fieldType != null ? app.converters.get(fieldType) : null;\n            var value:Dynamic = null;\n            if (converter != null) {\n                value = converter.fieldToBasic(instance.getProperty(field));\n            } else {\n                value = instance.getProperty(field);\n                switch (Type.typeof(value)) {\n                    case TEnum(e):\n                        value = Std.string(value);\n                        var fieldInfo = editableFields.get(field);\n                        var metaEditable = fieldInfo.meta.get('editable');\n                        if (metaEditable != null && metaEditable.length > 0 && metaEditable[0].options != null) {\n                            var opts:Array<String> = metaEditable[0].options;\n                            for (opt in opts) {\n                                if (value.toLowerCase() == opt.toLowerCase()) {\n                                    value = opt;\n                                    break;\n                                }\n                            }\n                        }\n                    default:\n                        // Keep the value as is\n                }\n            }\n            if (Reflect.field(item.props, field) != value || !Reflect.hasField(item.props, field)) {\n                hasChanged = true;\n                Reflect.setField(item.props, field, value);\n            }\n        }\n\n        if (hasChanged) {\n            if (updatedEditableItems == null) {\n                updatedEditableItems = new Map();\n                app.onceUpdate(this, function(delta) {\n                    var prevUpdated = updatedEditableItems;\n                    updatedEditableItems = null;\n                    for (itemId in prevUpdated.keys()) {\n                        var anItem = prevUpdated.get(itemId);\n                        emitEditableItemUpdate(anItem);\n                    }\n                });\n            }\n            updatedEditableItems.set(item.id, item);\n        }\n\n    } //updateItemFromInstance\n\n#end\n\n/// Fragment components\n\n    /** Fragment components mapping. Does not contain components\n        created separatelywith `component()` or macro-based components or components property. */\n    public var fragmentComponents(default,set):ImmutableMap<String,Component> = null;\n    function set_fragmentComponents(fragmentComponents:ImmutableMap<String,Component>):ImmutableMap<String,Component> {\n        if (this.fragmentComponents == fragmentComponents) return fragmentComponents;\n\n        // Remove older components\n        if (this.fragmentComponents != null) {\n            for (name in this.fragmentComponents.keys()) {\n                if (fragmentComponents == null || !fragmentComponents.exists(name)) {\n                    removeComponent(name);\n                }\n            }\n        }\n\n        // Add new components\n        if (fragmentComponents != null) {\n            for (name in fragmentComponents.keys()) {\n                var newComponent = fragmentComponents.get(name);\n                if (this.fragmentComponents != null) {\n                    var existing = this.fragmentComponents.get(name);\n                    if (existing != null) {\n                        if (existing != newComponent) {\n                            removeComponent(name);\n                            component(name, newComponent);\n                        }\n                    } else {\n                        component(name, newComponent);\n                    }\n                } else {\n                    component(name, newComponent);\n                }\n            }\n        }\n\n        // Update mapping\n        this.fragmentComponents = fragmentComponents;\n\n        return fragmentComponents;\n    }\n\n} //Fragment\n","package ceramic;\n\n@:structInit\nclass FragmentContext {\n\n    /** The assets registry used to load/unload assets in this fragment */\n    public var assets:Assets;\n\n    /** Whether the items are edited items or not */\n    public var editedItems:Bool;\n\n} //FragmentContext\n","package ceramic;\n\nimport ceramic.Shortcuts.*;\n\nclass ImageAsset extends Asset {\n\n/// Properties\n\n    public var pixels:Pixels = null;\n\n    public var texture:Texture = null;\n\n/// Lifecycle\n\n    override public function new(name:String, ?options:AssetOptions) {\n\n        super('image', name, options);\n        handleTexturesDensityChange = true;\n\n    } //name\n\n    override public function load() {\n\n        status = LOADING;\n\n        if (path == null) {\n            warning('Cannot load image asset if path is undefined.');\n            status = BROKEN;\n            emitComplete(false);\n            return;\n        }\n\n        log('Load image $path');\n        app.backend.images.load(path, {\n        }, function(image) {\n\n            if (image != null) {\n\n                var prevTexture = this.texture;\n                this.texture = new Texture(image, density);\n                this.texture.id = 'texture:' + path;\n                \n                // Link the texture to this asset so that\n                // destroying one will destroy the other\n                this.texture.asset = this;\n\n                if (prevTexture != null) {\n                    // Texture was reloaded. Update related visuals\n                    for (visual in app.visuals) {\n                        if (Std.is(visual, Quad)) {\n                            var quad:Quad = cast visual;\n                            if (quad.texture == prevTexture) {\n\n                                // Update texture but keep same frame\n                                //\n                                var frameX = quad.frameX;\n                                var frameY = quad.frameY;\n                                var frameWidth = quad.frameWidth;\n                                var frameHeight = quad.frameHeight;\n\n                                quad.texture = this.texture;\n\n                                // Frame was reset by texture assign.\n                                // Put it back to what it was.\n                                quad.frameX = frameX;\n                                quad.frameY = frameY;\n                                quad.frameWidth = frameWidth;\n                                quad.frameHeight = frameHeight;\n                            }\n                        }\n                        else if (Std.is(visual, Mesh)) {\n                            var mesh:Mesh = cast visual;\n                            if (mesh.texture == prevTexture) {\n                                mesh.texture = this.texture;\n                            }\n                        }\n                    }\n\n                    // Set asset to null because we don't want it\n                    // to be destroyed when destroying the texture.\n                    prevTexture.asset = null;\n                    // Destroy texture\n                    prevTexture.destroy();\n                }\n\n                status = READY;\n                emitComplete(true);\n                if (handleTexturesDensityChange) {\n                    checkTexturesDensity();\n                }\n            }\n            else {\n                status = BROKEN;\n                error('Failed to load texture at path: $path');\n                emitComplete(false);\n            }\n\n        });\n\n    } //load\n\n    override function texturesDensityDidChange(newDensity:Float, prevDensity:Float):Void {\n\n        if (status == READY) {\n            // Only check if the asset is already loaded.\n            // If it is currently loading, it will check\n            // at load end anyway.\n            checkTexturesDensity();\n        }\n\n    } //texturesDensityDidChange\n\n    function checkTexturesDensity():Void {\n\n        var prevPath = path;\n        computePath();\n\n        if (prevPath != path) {\n            log('Reload texture ($prevPath -> $path)');\n            load();\n        }\n\n    } //checkTexturesDensity\n\n    function destroy():Void {\n\n        if (texture != null) {\n            texture.destroy();\n            texture = null;\n        }\n\n    } //destroy\n\n} //ImageAsset\n","package ceramic;\n\n@:structInit\n@:allow(ceramic.Screen)\nclass ImmutablePoint {\n\n    public var x(default,null):Float;\n\n    public var y(default,null):Float;\n\n/// Print\n\n    function toString():String {\n\n        return '' + {\n            x: x,\n            y: y\n        };\n\n    } //toString\n\n} //Point\n","package ceramic;\n\n/** Same as Settings, but for app startup (inside Project.new(settings)).\n    Read-only values can still\n    be edited at that stage. */\nclass InitSettings {\n\n    /** App settings */\n    private var settings:Settings;\n\n    @:allow(ceramic.App)\n    private function new(settings:Settings) {\n\n        this.settings = settings;\n\n    } //new\n\n    /** Target width. Affects window size at startup\n        and affects screen scaling at any time.\n        Ignored if set to 0 (default) */\n    public var targetWidth(get,set):Int;\n    inline function get_targetWidth():Int {\n        return settings.targetWidth;\n    }\n    inline function set_targetWidth(targetWidth:Int):Int {\n        return settings.targetWidth = targetWidth;\n    }\n\n    /** Target height. Affects window size at startup\n        and affects screen scaling at any time.\n        Ignored if set to 0 (default) */\n    public var targetHeight(get,set):Int;\n    inline function get_targetHeight():Int {\n        return settings.targetHeight;\n    }\n    inline function set_targetHeight(targetHeight:Int):Int {\n        return settings.targetHeight = targetHeight;\n    }\n\n    /** Target density. Affects the quality of textures\n        being loaded. Changing it at runtime will update\n        texture quality if needed.\n        Ignored if set to 0 (default) */\n    public var targetDensity(get,set):Int;\n    inline function get_targetDensity():Int {\n        return settings.targetDensity;\n    }\n    inline function set_targetDensity(targetDensity:Int):Int {\n        return settings.targetDensity = targetDensity;\n    }\n\n    /** Background color. */\n    public var background(get,set):Color;\n    inline function get_background():Color {\n        return settings.background;\n    }\n    inline function set_background(background:Int):Int {\n        return settings.background = background;\n    }\n\n    /** Screen scaling (FIT or FILL). */\n    public var scaling(get,set):ScreenScaling;\n    inline function get_scaling():ScreenScaling {\n        return settings.scaling;\n    }\n    inline function set_scaling(scaling:ScreenScaling):ScreenScaling {\n        return settings.scaling = scaling;\n    }\n\n    /** App window title.\n        Can only be set at `app startup` from `Project constructor`. */\n    public var title(get,set):String;\n    inline function get_title():String {\n        return settings.title;\n    }\n    inline function set_title(title:String):String {\n        return @:privateAccess settings.title = title;\n    }\n\n    /** Whether antialiasing is enabled or not. */\n    public var antialiasing(get,set):Bool;\n    inline function get_antialiasing():Bool {\n        return settings.antialiasing;\n    }\n    inline function set_antialiasing(antialiasing:Bool):Bool {\n        return @:privateAccess settings.antialiasing = antialiasing;\n    }\n\n    /** Whether the window can be resized or not. */\n    public var resizable(get,set):Bool;\n    inline function get_resizable():Bool {\n        return settings.resizable;\n    }\n    inline function set_resizable(resizable:Bool):Bool {\n        return @:privateAccess settings.resizable = resizable;\n    }\n\n    /** Assets path. */\n    public var assetsPath(get,set):String;\n    inline function get_assetsPath():String {\n        return settings.assetsPath;\n    }\n    inline function set_assetsPath(assetsPath:String):String {\n        return @:privateAccess settings.assetsPath = assetsPath;\n    }\n\n    /** Settings passed to backend. */\n    public var backend(get,set):Dynamic;\n    inline function get_backend():Dynamic {\n        return settings.backend;\n    }\n    inline function set_backend(backend:Dynamic):Dynamic {\n        return @:privateAccess settings.backend = backend;\n    }\n\n}\n","package ceramic;\n\n@:structInit class Key {\n\n    public function new(keyCode:Int, scanCode:Int) {\n\n        this.keyCode = keyCode;\n        this.scanCode = scanCode;\n\n    } //new\n\n    /** Key code (localized key) depends on keyboard mapping (QWERTY, AZERTY, ...) */\n    public var keyCode:Int;\n\n    /** Name associated to the key code (localized key) */\n    public var keyCodeName(get,null):String;\n    inline function get_keyCodeName():String {\n        return KeyCode.name(keyCode);\n    }\n    \n    /** Scan code (US international key) doesn't depend on keyboard mapping (QWERTY, AZERTY, ...) */\n    public var scanCode:Int;\n\n    /** Name associated to the scan code (US international key) */\n    public var scanCodeName(get,null):String;\n    inline function get_scanCodeName():String {\n        return ScanCode.name(scanCode);\n    }\n\n    function toString() {\n\n        return 'Key($keyCode $keyCodeName / $scanCode $scanCodeName)';\n\n    } //toString\n\n} //Key\n","package ceramic;\n\n// Substantial portion of the following code taken from snow/luxe (https://luxeengine.com)\n\n/** The keyCode class, with conversion helpers for scanCodes. The values below come directly from SDL header include files,\nbut they aren't specific to SDL so they are used generically */\nclass KeyCode {\n\n    /** Convert a scanCode to a keyCode for comparison */\n    public static inline function fromScanCode( scanCode:Int ):Int {\n\n        return (scanCode | ScanCode.MASK);\n\n    } //fromScanCode\n\n    /** Convert a keyCode to a scanCode if possible.\n        NOTE - this will only map a large % but not all keys,\n        there is a list of unmapped keys commented in the code. */\n    public static function toScanCode( keyCode:Int ):Int {\n\n        // Quite a lot map directly to a masked scanCode\n        // Ff that's the case, return it directly\n        if ((keyCode & ScanCode.MASK) != 0) {\n            return keyCode &~ ScanCode.MASK;\n        }\n\n        // Now we translate them to the scan where unmapped\n\n        switch(keyCode) {\n            case KeyCode.ENTER:         return ScanCode.ENTER;\n            case KeyCode.ESCAPE:        return ScanCode.ESCAPE;\n            case KeyCode.BACKSPACE:     return ScanCode.BACKSPACE;\n            case KeyCode.TAB:           return ScanCode.TAB;\n            case KeyCode.SPACE:         return ScanCode.SPACE;\n            case KeyCode.SLASH:         return ScanCode.SLASH;\n            case KeyCode.KEY_0:         return ScanCode.KEY_0;\n            case KeyCode.KEY_1:         return ScanCode.KEY_1;\n            case KeyCode.KEY_2:         return ScanCode.KEY_2;\n            case KeyCode.KEY_3:         return ScanCode.KEY_3;\n            case KeyCode.KEY_4:         return ScanCode.KEY_4;\n            case KeyCode.KEY_5:         return ScanCode.KEY_5;\n            case KeyCode.KEY_6:         return ScanCode.KEY_6;\n            case KeyCode.KEY_7:         return ScanCode.KEY_7;\n            case KeyCode.KEY_8:         return ScanCode.KEY_8;\n            case KeyCode.KEY_9:         return ScanCode.KEY_9;\n            case KeyCode.SEMICOLON:     return ScanCode.SEMICOLON;\n            case KeyCode.EQUALS:        return ScanCode.EQUALS;\n            case KeyCode.LEFTBRACKET:   return ScanCode.LEFTBRACKET;\n            case KeyCode.BACKSLASH:     return ScanCode.BACKSLASH;\n            case KeyCode.RIGHTBRACKET:  return ScanCode.RIGHTBRACKET;\n            case KeyCode.BACKQUOTE:     return ScanCode.GRAVE;\n            case KeyCode.KEY_A:         return ScanCode.KEY_A;\n            case KeyCode.KEY_B:         return ScanCode.KEY_B;\n            case KeyCode.KEY_C:         return ScanCode.KEY_C;\n            case KeyCode.KEY_D:         return ScanCode.KEY_D;\n            case KeyCode.KEY_E:         return ScanCode.KEY_E;\n            case KeyCode.KEY_F:         return ScanCode.KEY_F;\n            case KeyCode.KEY_G:         return ScanCode.KEY_G;\n            case KeyCode.KEY_H:         return ScanCode.KEY_H;\n            case KeyCode.KEY_I:         return ScanCode.KEY_I;\n            case KeyCode.KEY_J:         return ScanCode.KEY_J;\n            case KeyCode.KEY_K:         return ScanCode.KEY_K;\n            case KeyCode.KEY_L:         return ScanCode.KEY_L;\n            case KeyCode.KEY_M:         return ScanCode.KEY_M;\n            case KeyCode.KEY_N:         return ScanCode.KEY_N;\n            case KeyCode.KEY_O:         return ScanCode.KEY_O;\n            case KeyCode.KEY_P:         return ScanCode.KEY_P;\n            case KeyCode.KEY_Q:         return ScanCode.KEY_Q;\n            case KeyCode.KEY_R:         return ScanCode.KEY_R;\n            case KeyCode.KEY_S:         return ScanCode.KEY_S;\n            case KeyCode.KEY_T:         return ScanCode.KEY_T;\n            case KeyCode.KEY_U:         return ScanCode.KEY_U;\n            case KeyCode.KEY_V:         return ScanCode.KEY_V;\n            case KeyCode.KEY_W:         return ScanCode.KEY_W;\n            case KeyCode.KEY_X:         return ScanCode.KEY_X;\n            case KeyCode.KEY_Y:         return ScanCode.KEY_Y;\n            case KeyCode.KEY_Z:         return ScanCode.KEY_Z;\n\n\n            // These are unmappable because they are not keys\n            // but values on the key (like a shift key combo)\n            // and to hardcode them to the key you think it is,\n            // would be to map it to a fixed locale probably.\n            // They don't have scanCodes, so we don't return one\n\n            // case exclaim:      ;\n            // case quotedbl:     ;\n            // case hash:         ;\n            // case percent:      ;\n            // case dollar:       ;\n            // case ampersand:    ;\n            // case quote:        ;\n            // case leftparen:    ;\n            // case rightparen:   ;\n            // case asterisk:     ;\n            // case plus:         ;\n            // case comma:        ;\n            // case minus:        ;\n            // case period:       ;\n            // case less:         ;\n            // case colon:        ;\n            // case greater:      ;\n            // case question:     ;\n            // case at:           ;\n            // case caret:        ;\n            // case underscore:   ;\n\n        } //switch(keyCode)\n\n        return ScanCode.UNKNOWN;\n\n    } //toScanCode\n\n    /** Convert a keyCode to string */\n    public static function name( keyCode:Int ) : String {\n\n        //we don't use toScanCode because it would consume\n        //the typeable characters and we want those as unicode etc.\n\n        if ((keyCode & ScanCode.MASK) != 0) {\n            return ScanCode.name(keyCode &~ ScanCode.MASK);\n        }\n\n        switch(keyCode) {\n\n            case KeyCode.ENTER:     return ScanCode.name(ScanCode.ENTER);\n            case KeyCode.ESCAPE:    return ScanCode.name(ScanCode.ESCAPE);\n            case KeyCode.BACKSPACE: return ScanCode.name(ScanCode.BACKSPACE);\n            case KeyCode.TAB:       return ScanCode.name(ScanCode.TAB);\n            case KeyCode.SPACE:     return ScanCode.name(ScanCode.SPACE);\n            case KeyCode.DELETE:    return ScanCode.name(ScanCode.DELETE);\n            \n            case KeyCode.KEY_A:     return ScanCode.name(ScanCode.KEY_A);\n            case KeyCode.KEY_B:     return ScanCode.name(ScanCode.KEY_B);\n            case KeyCode.KEY_C:     return ScanCode.name(ScanCode.KEY_C);\n            case KeyCode.KEY_D:     return ScanCode.name(ScanCode.KEY_D);\n            case KeyCode.KEY_E:     return ScanCode.name(ScanCode.KEY_E);\n            case KeyCode.KEY_F:     return ScanCode.name(ScanCode.KEY_F);\n            case KeyCode.KEY_G:     return ScanCode.name(ScanCode.KEY_G);\n            case KeyCode.KEY_H:     return ScanCode.name(ScanCode.KEY_H);\n            case KeyCode.KEY_I:     return ScanCode.name(ScanCode.KEY_I);\n            case KeyCode.KEY_J:     return ScanCode.name(ScanCode.KEY_J);\n            case KeyCode.KEY_K:     return ScanCode.name(ScanCode.KEY_K);\n            case KeyCode.KEY_L:     return ScanCode.name(ScanCode.KEY_L);\n            case KeyCode.KEY_M:     return ScanCode.name(ScanCode.KEY_M);\n            case KeyCode.KEY_N:     return ScanCode.name(ScanCode.KEY_N);\n            case KeyCode.KEY_O:     return ScanCode.name(ScanCode.KEY_O);\n            case KeyCode.KEY_P:     return ScanCode.name(ScanCode.KEY_P);\n            case KeyCode.KEY_Q:     return ScanCode.name(ScanCode.KEY_Q);\n            case KeyCode.KEY_R:     return ScanCode.name(ScanCode.KEY_R);\n            case KeyCode.KEY_S:     return ScanCode.name(ScanCode.KEY_S);\n            case KeyCode.KEY_T:     return ScanCode.name(ScanCode.KEY_T);\n            case KeyCode.KEY_U:     return ScanCode.name(ScanCode.KEY_U);\n            case KeyCode.KEY_V:     return ScanCode.name(ScanCode.KEY_V);\n            case KeyCode.KEY_W:     return ScanCode.name(ScanCode.KEY_W);\n            case KeyCode.KEY_X:     return ScanCode.name(ScanCode.KEY_X);\n            case KeyCode.KEY_Y:     return ScanCode.name(ScanCode.KEY_Y);\n            case KeyCode.KEY_Z:     return ScanCode.name(ScanCode.KEY_Z);\n\n            default: {\n\n                var decoder = new haxe.Utf8();\n                    decoder.addChar(keyCode);\n\n                return decoder.toString();\n\n            } //default\n\n        } //switch(keyCode)\n\n    } //name\n\n    public static inline var UNKNOWN:Int              = 0;\n\n    public static inline var ENTER:Int                = 13;\n    public static inline var ESCAPE:Int               = 27;\n    public static inline var BACKSPACE:Int            = 8;\n    public static inline var TAB:Int                  = 9;\n    public static inline var SPACE:Int                = 32;\n    public static inline var EXCLAIM:Int              = 33;\n    public static inline var QUOTEDBL:Int             = 34;\n    public static inline var HASH:Int                 = 35;\n    public static inline var PERCENT:Int              = 37;\n    public static inline var DOLLAR:Int               = 36;\n    public static inline var AMPERSAND:Int            = 38;\n    public static inline var QUOTE:Int                = 39;\n    public static inline var LEFTPAREN:Int            = 40;\n    public static inline var RIGHTPAREN:Int           = 41;\n    public static inline var ASTERISK:Int             = 42;\n    public static inline var PLUS:Int                 = 43;\n    public static inline var COMMA:Int                = 44;\n    public static inline var MINUS:Int                = 45;\n    public static inline var PERIOD:Int               = 46;\n    public static inline var SLASH:Int                = 47;\n    public static inline var KEY_0:Int                = 48;\n    public static inline var KEY_1:Int                = 49;\n    public static inline var KEY_2:Int                = 50;\n    public static inline var KEY_3:Int                = 51;\n    public static inline var KEY_4:Int                = 52;\n    public static inline var KEY_5:Int                = 53;\n    public static inline var KEY_6:Int                = 54;\n    public static inline var KEY_7:Int                = 55;\n    public static inline var KEY_8:Int                = 56;\n    public static inline var KEY_9:Int                = 57;\n    public static inline var COLON:Int                = 58;\n    public static inline var SEMICOLON:Int            = 59;\n    public static inline var LESS:Int                 = 60;\n    public static inline var EQUALS:Int               = 61;\n    public static inline var GREATER:Int              = 62;\n    public static inline var QUESTION:Int             = 63;\n    public static inline var AT:Int                   = 64;\n\n       // Skip uppercase letters\n\n    public static inline var LEFTBRACKET:Int          = 91;\n    public static inline var BACKSLASH:Int            = 92;\n    public static inline var RIGHTBRACKET:Int         = 93;\n    public static inline var CARET:Int                = 94;\n    public static inline var UNDERSCORE:Int           = 95;\n    public static inline var BACKQUOTE:Int            = 96;\n    public static inline var KEY_A:Int                = 97;\n    public static inline var KEY_B:Int                = 98;\n    public static inline var KEY_C:Int                = 99;\n    public static inline var KEY_D:Int                = 100;\n    public static inline var KEY_E:Int                = 101;\n    public static inline var KEY_F:Int                = 102;\n    public static inline var KEY_G:Int                = 103;\n    public static inline var KEY_H:Int                = 104;\n    public static inline var KEY_I:Int                = 105;\n    public static inline var KEY_J:Int                = 106;\n    public static inline var KEY_K:Int                = 107;\n    public static inline var KEY_L:Int                = 108;\n    public static inline var KEY_M:Int                = 109;\n    public static inline var KEY_N:Int                = 110;\n    public static inline var KEY_O:Int                = 111;\n    public static inline var KEY_P:Int                = 112;\n    public static inline var KEY_Q:Int                = 113;\n    public static inline var KEY_R:Int                = 114;\n    public static inline var KEY_S:Int                = 115;\n    public static inline var KEY_T:Int                = 116;\n    public static inline var KEY_U:Int                = 117;\n    public static inline var KEY_V:Int                = 118;\n    public static inline var KEY_W:Int                = 119;\n    public static inline var KEY_X:Int                = 120;\n    public static inline var KEY_Y:Int                = 121;\n    public static inline var KEY_Z:Int                = 122;\n\n    public static inline var CAPSLOCK:Int             = fromScanCode(ScanCode.CAPSLOCK);\n\n    public static inline var F1:Int                   = fromScanCode(ScanCode.F1);\n    public static inline var F2:Int                   = fromScanCode(ScanCode.F2);\n    public static inline var F3:Int                   = fromScanCode(ScanCode.F3);\n    public static inline var F4:Int                   = fromScanCode(ScanCode.F4);\n    public static inline var F5:Int                   = fromScanCode(ScanCode.F5);\n    public static inline var F6:Int                   = fromScanCode(ScanCode.F6);\n    public static inline var F7:Int                   = fromScanCode(ScanCode.F7);\n    public static inline var F8:Int                   = fromScanCode(ScanCode.F8);\n    public static inline var F9:Int                   = fromScanCode(ScanCode.F9);\n    public static inline var F10:Int                  = fromScanCode(ScanCode.F10);\n    public static inline var F11:Int                  = fromScanCode(ScanCode.F11);\n    public static inline var F12:Int                  = fromScanCode(ScanCode.F12);\n\n    public static inline var PRINTSCREEN:Int          = fromScanCode(ScanCode.PRINTSCREEN);\n    public static inline var SCROLLLOCK:Int           = fromScanCode(ScanCode.SCROLLLOCK);\n    public static inline var PAUSE:Int                = fromScanCode(ScanCode.PAUSE);\n    public static inline var INSERT:Int               = fromScanCode(ScanCode.INSERT);\n    public static inline var HOME:Int                 = fromScanCode(ScanCode.HOME);\n    public static inline var PAGEUP:Int               = fromScanCode(ScanCode.PAGEUP);\n    public static inline var DELETE:Int               = 127;\n    public static inline var END:Int                  = fromScanCode(ScanCode.END);\n    public static inline var PAGEDOWN:Int             = fromScanCode(ScanCode.PAGEDOWN);\n    public static inline var RIGHT:Int                = fromScanCode(ScanCode.RIGHT);\n    public static inline var LEFT:Int                 = fromScanCode(ScanCode.LEFT);\n    public static inline var DOWN:Int                 = fromScanCode(ScanCode.DOWN);\n    public static inline var UP:Int                   = fromScanCode(ScanCode.UP);\n\n    public static inline var NUMLOCKCLEAR:Int         = fromScanCode(ScanCode.NUMLOCKCLEAR);\n    public static inline var KP_DIVIDE:Int            = fromScanCode(ScanCode.KP_DIVIDE);\n    public static inline var KP_MULTIPLY:Int          = fromScanCode(ScanCode.KP_MULTIPLY);\n    public static inline var KP_MINUS:Int             = fromScanCode(ScanCode.KP_MINUS);\n    public static inline var KP_PLUS:Int              = fromScanCode(ScanCode.KP_PLUS);\n    public static inline var KP_ENTER:Int             = fromScanCode(ScanCode.KP_ENTER);\n    public static inline var KP_1:Int                 = fromScanCode(ScanCode.KP_1);\n    public static inline var KP_2:Int                 = fromScanCode(ScanCode.KP_2);\n    public static inline var KP_3:Int                 = fromScanCode(ScanCode.KP_3);\n    public static inline var KP_4:Int                 = fromScanCode(ScanCode.KP_4);\n    public static inline var KP_5:Int                 = fromScanCode(ScanCode.KP_5);\n    public static inline var KP_6:Int                 = fromScanCode(ScanCode.KP_6);\n    public static inline var KP_7:Int                 = fromScanCode(ScanCode.KP_7);\n    public static inline var KP_8:Int                 = fromScanCode(ScanCode.KP_8);\n    public static inline var KP_9:Int                 = fromScanCode(ScanCode.KP_9);\n    public static inline var KP_0:Int                 = fromScanCode(ScanCode.KP_0);\n    public static inline var KP_PERIOD:Int            = fromScanCode(ScanCode.KP_PERIOD);\n\n    public static inline var APPLICATION:Int          = fromScanCode(ScanCode.APPLICATION);\n    public static inline var POWER:Int                = fromScanCode(ScanCode.POWER);\n    public static inline var KP_EQUALS:Int            = fromScanCode(ScanCode.KP_EQUALS);\n    public static inline var F13:Int                  = fromScanCode(ScanCode.F13);\n    public static inline var F14:Int                  = fromScanCode(ScanCode.F14);\n    public static inline var F15:Int                  = fromScanCode(ScanCode.F15);\n    public static inline var F16:Int                  = fromScanCode(ScanCode.F16);\n    public static inline var F17:Int                  = fromScanCode(ScanCode.F17);\n    public static inline var F18:Int                  = fromScanCode(ScanCode.F18);\n    public static inline var F19:Int                  = fromScanCode(ScanCode.F19);\n    public static inline var F20:Int                  = fromScanCode(ScanCode.F20);\n    public static inline var F21:Int                  = fromScanCode(ScanCode.F21);\n    public static inline var F22:Int                  = fromScanCode(ScanCode.F22);\n    public static inline var F23:Int                  = fromScanCode(ScanCode.F23);\n    public static inline var F24:Int                  = fromScanCode(ScanCode.F24);\n    public static inline var EXECUTE:Int              = fromScanCode(ScanCode.EXECUTE);\n    public static inline var HELP:Int                 = fromScanCode(ScanCode.HELP);\n    public static inline var MENU:Int                 = fromScanCode(ScanCode.MENU);\n    public static inline var SELECT:Int               = fromScanCode(ScanCode.SELECT);\n    public static inline var STOP:Int                 = fromScanCode(ScanCode.STOP);\n    public static inline var AGAIN:Int                = fromScanCode(ScanCode.AGAIN);\n    public static inline var UNDO:Int                 = fromScanCode(ScanCode.UNDO);\n    public static inline var CUT:Int                  = fromScanCode(ScanCode.CUT);\n    public static inline var COPY:Int                 = fromScanCode(ScanCode.COPY);\n    public static inline var PASTE:Int                = fromScanCode(ScanCode.PASTE);\n    public static inline var FIND:Int                 = fromScanCode(ScanCode.FIND);\n    public static inline var MUTE:Int                 = fromScanCode(ScanCode.MUTE);\n    public static inline var VOLUMEUP:Int             = fromScanCode(ScanCode.VOLUMEUP);\n    public static inline var VOLUMEDOWN:Int           = fromScanCode(ScanCode.VOLUMEDOWN);\n    public static inline var KP_COMMA:Int             = fromScanCode(ScanCode.KP_COMMA);\n    public static inline var KP_EQUALSAS400:Int       = fromScanCode(ScanCode.KP_EQUALSAS400);\n\n    public static inline var ALTERASE:Int             = fromScanCode(ScanCode.ALTERASE);\n    public static inline var SYSREQ:Int               = fromScanCode(ScanCode.SYSREQ);\n    public static inline var CANCEL:Int               = fromScanCode(ScanCode.CANCEL);\n    public static inline var CLEAR:Int                = fromScanCode(ScanCode.CLEAR);\n    public static inline var PRIOR:Int                = fromScanCode(ScanCode.PRIOR);\n    public static inline var RETURN2:Int              = fromScanCode(ScanCode.RETURN2);\n    public static inline var SEPARATOR:Int            = fromScanCode(ScanCode.SEPARATOR);\n    public static inline var OUT:Int                  = fromScanCode(ScanCode.OUT);\n    public static inline var OPER:Int                 = fromScanCode(ScanCode.OPER);\n    public static inline var CLEARAGAIN:Int           = fromScanCode(ScanCode.CLEARAGAIN);\n    public static inline var CRSEL:Int                = fromScanCode(ScanCode.CRSEL);\n    public static inline var EXSEL:Int                = fromScanCode(ScanCode.EXSEL);\n\n    public static inline var KP_00:Int                = fromScanCode(ScanCode.KP_00);\n    public static inline var KP_000:Int               = fromScanCode(ScanCode.KP_000);\n    public static inline var THOUSANDSSEPARATOR:Int   = fromScanCode(ScanCode.THOUSANDSSEPARATOR);\n    public static inline var DECIMALSEPARATOR:Int     = fromScanCode(ScanCode.DECIMALSEPARATOR);\n    public static inline var CURRENCYUNIT:Int         = fromScanCode(ScanCode.CURRENCYUNIT);\n    public static inline var CURRENCYSUBUNIT:Int      = fromScanCode(ScanCode.CURRENCYSUBUNIT);\n    public static inline var KP_LEFTPAREN:Int         = fromScanCode(ScanCode.KP_LEFTPAREN);\n    public static inline var KP_RIGHTPAREN:Int        = fromScanCode(ScanCode.KP_RIGHTPAREN);\n    public static inline var KP_LEFTBRACE:Int         = fromScanCode(ScanCode.KP_LEFTBRACE);\n    public static inline var KP_RIGHTBRACE:Int        = fromScanCode(ScanCode.KP_RIGHTBRACE);\n    public static inline var KP_TAB:Int               = fromScanCode(ScanCode.KP_TAB);\n    public static inline var KP_BACKSPACE:Int         = fromScanCode(ScanCode.KP_BACKSPACE);\n    public static inline var KP_A:Int                 = fromScanCode(ScanCode.KP_A);\n    public static inline var KP_B:Int                 = fromScanCode(ScanCode.KP_B);\n    public static inline var KP_C:Int                 = fromScanCode(ScanCode.KP_C);\n    public static inline var KP_D:Int                 = fromScanCode(ScanCode.KP_D);\n    public static inline var KP_E:Int                 = fromScanCode(ScanCode.KP_E);\n    public static inline var KP_F:Int                 = fromScanCode(ScanCode.KP_F);\n    public static inline var KP_XOR:Int               = fromScanCode(ScanCode.KP_XOR);\n    public static inline var KP_POWER:Int             = fromScanCode(ScanCode.KP_POWER);\n    public static inline var KP_PERCENT:Int           = fromScanCode(ScanCode.KP_PERCENT);\n    public static inline var KP_LESS:Int              = fromScanCode(ScanCode.KP_LESS);\n    public static inline var KP_GREATER:Int           = fromScanCode(ScanCode.KP_GREATER);\n    public static inline var KP_AMPERSAND:Int         = fromScanCode(ScanCode.KP_AMPERSAND);\n    public static inline var KP_DBLAMPERSAND:Int      = fromScanCode(ScanCode.KP_DBLAMPERSAND);\n    public static inline var KP_VERTICALBAR:Int       = fromScanCode(ScanCode.KP_VERTICALBAR);\n    public static inline var KP_DBLVERTICALBAR:Int    = fromScanCode(ScanCode.KP_DBLVERTICALBAR);\n    public static inline var KP_COLON:Int             = fromScanCode(ScanCode.KP_COLON);\n    public static inline var KP_HASH:Int              = fromScanCode(ScanCode.KP_HASH);\n    public static inline var KP_SPACE:Int             = fromScanCode(ScanCode.KP_SPACE);\n    public static inline var KP_AT:Int                = fromScanCode(ScanCode.KP_AT);\n    public static inline var KP_EXCLAM:Int            = fromScanCode(ScanCode.KP_EXCLAM);\n    public static inline var KP_MEMSTORE:Int          = fromScanCode(ScanCode.KP_MEMSTORE);\n    public static inline var KP_MEMRECALL:Int         = fromScanCode(ScanCode.KP_MEMRECALL);\n    public static inline var KP_MEMCLEAR:Int          = fromScanCode(ScanCode.KP_MEMCLEAR);\n    public static inline var KP_MEMADD:Int            = fromScanCode(ScanCode.KP_MEMADD);\n    public static inline var KP_MEMSUBTRACT:Int       = fromScanCode(ScanCode.KP_MEMSUBTRACT);\n    public static inline var KP_MEMMULTIPLY:Int       = fromScanCode(ScanCode.KP_MEMMULTIPLY);\n    public static inline var KP_MEMDIVIDE:Int         = fromScanCode(ScanCode.KP_MEMDIVIDE);\n    public static inline var KP_PLUSMINUS:Int         = fromScanCode(ScanCode.KP_PLUSMINUS);\n    public static inline var KP_CLEAR:Int             = fromScanCode(ScanCode.KP_CLEAR);\n    public static inline var KP_CLEARENTRY:Int        = fromScanCode(ScanCode.KP_CLEARENTRY);\n    public static inline var KP_BINARY:Int            = fromScanCode(ScanCode.KP_BINARY);\n    public static inline var KP_OCTAL:Int             = fromScanCode(ScanCode.KP_OCTAL);\n    public static inline var KP_DECIMAL:Int           = fromScanCode(ScanCode.KP_DECIMAL);\n    public static inline var KP_HEXADECIMAL:Int       = fromScanCode(ScanCode.KP_HEXADECIMAL);\n\n    public static inline var LCTRL:Int                = fromScanCode(ScanCode.LCTRL);\n    public static inline var LSHIFT:Int               = fromScanCode(ScanCode.LSHIFT);\n    public static inline var LALT:Int                 = fromScanCode(ScanCode.LALT);\n    public static inline var LMETA:Int                = fromScanCode(ScanCode.LMETA);\n    public static inline var RCTRL:Int                = fromScanCode(ScanCode.RCTRL);\n    public static inline var RSHIFT:Int               = fromScanCode(ScanCode.RSHIFT);\n    public static inline var RALT:Int                 = fromScanCode(ScanCode.RALT);\n    public static inline var RMETA:Int                = fromScanCode(ScanCode.RMETA);\n\n    public static inline var MODE:Int                 = fromScanCode(ScanCode.MODE);\n\n    public static inline var AUDIONEXT:Int            = fromScanCode(ScanCode.AUDIONEXT);\n    public static inline var AUDIOPREV:Int            = fromScanCode(ScanCode.AUDIOPREV);\n    public static inline var AUDIOSTOP:Int            = fromScanCode(ScanCode.AUDIOSTOP);\n    public static inline var AUDIOPLAY:Int            = fromScanCode(ScanCode.AUDIOPLAY);\n    public static inline var AUDIOMUTE:Int            = fromScanCode(ScanCode.AUDIOMUTE);\n    public static inline var MEDIASELECT:Int          = fromScanCode(ScanCode.MEDIASELECT);\n    public static inline var WWW:Int                  = fromScanCode(ScanCode.WWW);\n    public static inline var MAIL:Int                 = fromScanCode(ScanCode.MAIL);\n    public static inline var CALCULATOR:Int           = fromScanCode(ScanCode.CALCULATOR);\n    public static inline var COMPUTER:Int             = fromScanCode(ScanCode.COMPUTER);\n    public static inline var AC_SEARCH:Int            = fromScanCode(ScanCode.AC_SEARCH);\n    public static inline var AC_HOME:Int              = fromScanCode(ScanCode.AC_HOME);\n    public static inline var AC_BACK:Int              = fromScanCode(ScanCode.AC_BACK);\n    public static inline var AC_FORWARD:Int           = fromScanCode(ScanCode.AC_FORWARD);\n    public static inline var AC_STOP:Int              = fromScanCode(ScanCode.AC_STOP);\n    public static inline var AC_REFRESH:Int           = fromScanCode(ScanCode.AC_REFRESH);\n    public static inline var AC_BOOKMARKS:Int         = fromScanCode(ScanCode.AC_BOOKMARKS);\n\n    public static inline var BRIGHTNESSDOWN:Int       = fromScanCode(ScanCode.BRIGHTNESSDOWN);\n    public static inline var BRIGHTNESSUP:Int         = fromScanCode(ScanCode.BRIGHTNESSUP);\n    public static inline var DISPLAYSWITCH:Int        = fromScanCode(ScanCode.DISPLAYSWITCH);\n    public static inline var KBDILLUMTOGGLE:Int       = fromScanCode(ScanCode.KBDILLUMTOGGLE);\n    public static inline var KBDILLUMDOWN:Int         = fromScanCode(ScanCode.KBDILLUMDOWN);\n    public static inline var KBDILLUMUP:Int           = fromScanCode(ScanCode.KBDILLUMUP);\n    public static inline var EJECT:Int                = fromScanCode(ScanCode.EJECT);\n    public static inline var SLEEP:Int                = fromScanCode(ScanCode.SLEEP);\n\n} //KeyCode\n","package ceramic;\n\n@:allow(ceramic.App)\nclass Logger {\n\n/// Internal\n\n    function new() {}\n\n/// Public API\n\n    public function log(value:Dynamic, ?pos:haxe.PosInfos):Void {\n\n        haxe.Log.trace('[log] ' + value, pos);\n\n    } //log\n\n    public function success(value:Dynamic, ?pos:haxe.PosInfos):Void {\n\n        haxe.Log.trace('[success] ' + value, pos);\n\n    } //success\n\n    public function warning(value:Dynamic, ?pos:haxe.PosInfos):Void {\n\n#if web\n        untyped console.warn(value);\n#else\n        haxe.Log.trace('[warning] ' + value, pos);\n#end\n\n    } //warning\n\n    public function error(value:Dynamic, ?pos:haxe.PosInfos):Void {\n\n#if web\n        untyped console.error(value);\n#else\n        haxe.Log.trace('[error] ' + value, pos);\n#end\n\n    } //error\n\n} //Log","package ceramic;\n\n/** Draw anything composed of triangles/vertices. */\nclass Mesh extends Visual {\n\n/// Settings\n\n    public var colorMapping:MeshColorMapping = MeshColorMapping.MESH;\n\n/// Lifecycle\n\n    public function new() {\n\n        super();\n\n        mesh = this;\n\n    } //new\n\n/// Color\n\n    /** Can be used instead of colors array when the mesh is only composed of a single color. */\n    public var color(get,set):Color;\n    inline function get_color():Color {\n        if (colors == null || colors.length == 0) return 0;\n        return colors[0].color;\n    }\n    inline function set_color(color:Color):Color {\n        if (colors == null) colors = [];\n        if (colors.length == 0) colors.push(new AlphaColor(color, 255));\n        else colors[0] = new AlphaColor(color, 255);\n        return color;\n    }\n\n/// Vertices\n\n    /** An array of floats where each pair of numbers is treated as a coordinate location (x,y) */\n    public var vertices:Array<Float> = [];\n\n    /** An array of integers or indexes, where every three indexes define a triangle. */\n    public var indices:Array<Int> = [];\n\n    /** An array of colors for each vertex. */\n    public var colors:Array<AlphaColor> = [];\n\n/// Texture\n\n    /** The texture used on the mesh (optional) */\n    public var texture(default,set):Texture = null;\n    inline function set_texture(texture:Texture):Texture {\n        if (this.texture == texture) return texture;\n\n        // Unbind previous texture destroy event\n        if (this.texture != null) {\n            this.texture.offDestroy(textureDestroyed);\n            if (this.texture.asset != null) this.texture.asset.release();\n        }\n\n        this.texture = texture;\n\n        // Update frame\n        if (texture != null) {\n            // Ensure we remove the texture if it gets destroyed\n            texture.onDestroy(this, textureDestroyed);\n            if (texture.asset != null) texture.asset.retain();\n        }\n\n        return texture;\n    }\n\n    /** An array of normalized coordinates used to apply texture mapping.\n        Required if the texture is set. */\n    public var uvs:Array<Float> = [];\n\n/// Texture destroyed\n\n    function textureDestroyed() {\n\n        // Remove texture because it has been destroyed\n        this.texture = null;\n\n    } //textureDestroyed\n\n} //Mesh\n","package ceramic;\n\nusing StringTools;\n\n/** Pixels class represents an image that can be edited at pixel level.\n    It can then be turned into a texture to be drawn on screen. */\nclass Pixels extends Entity {\n\n/// Properties\n\n    public var width(default,null):Int;\n\n    public var height(default,null):Int;\n\n    public var buffer:Float32Array;\n\n    public var asset:ImageAsset;\n\n/// Lifecycle\n\n    public function new() {\n\n    } //new\n\n    public function destroy() {\n\n        if (asset != null) asset.destroy();\n\n    } //destroy\n\n/// Print\n\n    function toString():String {\n\n        if (id != null) {\n            var name = id;\n            if (name.startsWith('pixels:')) name = name.substr(8);\n            return 'Pixels($name $width $height)';\n        } else {\n            return 'Pixels($width $height)';\n        }\n\n    } //toString\n\n} //Image\n","package ceramic;\n\n@editable({ implicitSizeUnlessNull: 'texture' })\nclass Quad extends Visual {\n\n    static var _matrix = Visual._matrix;\n\n    static var _degToRad = Visual._degToRad;\n\n    @editable public var color:Color = Color.WHITE;\n\n    /** If set to `true`, this quad will be considered\n        transparent thus won't be draw on screen. \n        Children still behave and get drawn as before:\n        they don't inherit this property. */\n    @editable public var transparent:Bool = false;\n\n    @editable\n    public var texture(default,set):Texture = null;\n    inline function set_texture(texture:Texture):Texture {\n\n        if (this.texture == texture) return texture;\n\n        // Unbind previous texture destroy event\n        if (this.texture != null) {\n            this.texture.offDestroy(textureDestroyed);\n            if (this.texture.asset != null) this.texture.asset.release();\n        }\n\n        this.texture = texture;\n\n        // Update frame\n        if (texture == null) {\n            frameX = -1;\n            frameY = -1;\n            frameWidth = -1;\n            frameHeight = -1;\n        }\n        else {\n            frameX = 0;\n            frameY = 0;\n            frameWidth = texture.width;\n            frameHeight = texture.height;\n\n            // Ensure we remove the texture if it gets destroyed\n            texture.onDestroy(this, textureDestroyed);\n            if (texture.asset != null) texture.asset.retain();\n        }\n\n        return texture;\n    }\n\n    public var rotateFrame(default,set):RotateFrame = RotateFrame.NONE;\n    inline function set_rotateFrame(rotateFrame:RotateFrame):RotateFrame {\n        if (this.rotateFrame == rotateFrame) return rotateFrame;\n        \n        this.rotateFrame = rotateFrame;\n        matrixDirty = true;\n        return rotateFrame;\n    }\n\n    public var frameX:Float = -1;\n\n    public var frameY:Float = -1;\n\n    public var frameWidth(default,set):Float = -1;\n    inline function set_frameWidth(frameWidth:Float):Float {\n        if (this.frameWidth == frameWidth) return frameWidth;\n        this.frameWidth = frameWidth;\n\n        // Update width\n        if (frameWidth != -1) width = frameWidth;\n\n        return frameWidth;\n    }\n\n    public var frameHeight(default,set):Float = -1;\n    inline function set_frameHeight(frameHeight:Float):Float {\n        if (this.frameHeight == frameHeight) return frameHeight;\n        this.frameHeight = frameHeight;\n\n        // Update height\n        if (frameHeight != -1) height = frameHeight;\n\n        return frameHeight;\n    }\n\n/// Lifecycle\n\n    public function new() {\n\n        super();\n\n        quad = this;\n\n    } //new\n\n/// Helpers\n\n    inline public function frame(frameX:Float, frameY:Float, frameWidth:Float, frameHeight:Float):Void {\n\n        this.frameX = frameX;\n        this.frameY = frameY;\n        this.frameWidth = frameWidth;\n        this.frameHeight = frameHeight;\n\n    } //frame\n\n/// Overrides\n\n    override function computeMatrix() {\n\n        if (parent != null && parent.matrixDirty) {\n            parent.computeMatrix();\n        }\n\n        _matrix.identity();\n\n        if (texture != null) {\n            if (rotateFrame == RotateFrame.ROTATE_90) {\n                _matrix.rotate(90 * _degToRad);\n                _matrix.tx += frameWidth;\n            }\n        }\n\n        doComputeMatrix();\n\n    } //computeMatrix\n\n/// Texture destroyed\n\n    function textureDestroyed() {\n\n        // Remove texture because it has been destroyed\n        this.texture = null;\n\n    } //textureDestroyed\n\n} //Quad\n","package ceramic;\n\nimport ceramic.Assets;\nimport ceramic.Shortcuts.*;\n\nusing ceramic.Extensions;\nusing StringTools;\n\n/** A texture is an image ready to be drawn. */\nclass Texture extends Entity {\n\n/// Internal\n\n    static var _nextIndex:Int = 1;\n\n    @:noCompletion\n    public var index:Int = _nextIndex++;\n\n/// Properties\n\n    public var width(default,null):Float;\n\n    public var height(default,null):Float;\n\n    public var density(default,set):Float;\n    function set_density(density:Float):Float {\n        if (this.density == density) return density;\n        this.density = density;\n        width = app.backend.images.getImageWidth(backendItem) / density;\n        height = app.backend.images.getImageHeight(backendItem) / density;\n        return density;\n    }\n\n    public var backendItem:backend.Image;\n\n    public var asset:ImageAsset;\n\n/// Lifecycle\n\n    public function new(backendItem:backend.Image, density:Float = 1) {\n\n        this.backendItem = backendItem;\n        this.density = density; // sets widht/height as well\n\n    } //new\n\n    public function destroy() {\n\n        if (asset != null) asset.destroy();\n\n        app.backend.images.destroyImage(backendItem);\n        backendItem = null;\n\n    } //destroy\n\n/// Print\n\n    function toString():String {\n\n        if (id != null) {\n            var name = id;\n            if (name.startsWith('texture:')) name = name.substr(8);\n            return 'Texture($name $width $height $density)';\n        } else {\n            return 'Texture($width $height $density)';\n        }\n\n    } //toString\n\n} //Texture\n","package ceramic;\n\nimport ceramic.Assets;\nimport ceramic.Shortcuts.*;\n\nusing StringTools;\n\nclass RenderTexture extends Texture {\n\n/// Lifecycle\n\n    public function new(width:Int, height:Int, density:Float = 1) {\n\n        var backendItem = null; /*app.backend.textures.createRenderTexture(\n            Math.round(width * density),\n            Math.round(height * density)\n        );*/\n\n        super(backendItem, density);\n\n    } //new\n\n} //RenderTexture\n","package ceramic;\n\nimport ceramic.App.app;\n\nusing StringTools;\n\n/** Runtime utilities to compute asset lists/names from raw (relative) file list.\n    Code is very similar to AssetsMacro, but for runtime execution, with any list of asset. */\nclass RuntimeAssets {\n\n    var allAssets:Array<String> = null;\n\n    var allAssetDirs:Array<String> = null;\n\n    var assetsByBaseName:Map<String,Array<String>> = null;\n\n    var assetDirsByBaseName:Map<String,Array<String>> = null;\n\n    var cachedNames:Map<String,Array<{\n        name: String,\n        paths: Array<String>,\n        constName: String\n    }>> = new Map();\n\n    var cachedLists:{\n        all: Array<String>,\n        allDirs: Array<String>,\n        allByName: Map<String,Array<String>>,\n        allDirsByName: Map<String,Array<String>>\n    } = null;\n\n    static var reAsciiChar = ~/^[a-zA-Z0-9]$/;\n\n    public function new(allAssets:Array<String>) {\n\n        this.allAssets = allAssets;\n\n        initData();\n\n    } //new\n\n/// Public API\n\n    public function getNames(kind:String, ?extensions:Array<String>, dir:Bool = false):Array<{\n        name: String,\n        paths: Array<String>,\n        constName: String\n    }> {\n\n        var cacheKey = kind + '|' + (extensions != null ? extensions.join(',') : '') + (dir ? '|1' : '|0');\n        var cached = cachedNames.get(cacheKey);\n        if (cached != null) return cached;\n\n        var entries = [];\n\n        if (extensions == null) extensions = [];\n        extensions = extensions.concat(switch (kind) {\n            case 'image': app.backend.info.imageExtensions();\n            case 'text': app.backend.info.textExtensions();\n            case 'sound': app.backend.info.soundExtensions();\n            case 'shader': app.backend.info.shaderExtensions();\n            case 'font': ['fnt'];\n            case 'database': ['csv'];\n            default: [];\n        });\n\n        if (extensions.length == 0) return entries;\n\n        var used = new Map<String,String>();\n        var fileList = dir ? allAssetDirs : allAssets;\n\n        for (ext in extensions) {\n\n            for (name in fileList) {\n\n                var lowerName = name.toLowerCase();\n                var dotIndex = lowerName.lastIndexOf('.');\n                var fileExt = null;\n                var baseName = null;\n                var fieldName = null;\n\n                if (dotIndex != -1) {\n                    fileExt = lowerName.substr(dotIndex + 1);\n\n                    if (fileExt == ext) {\n\n                        var truncatedName = name.substr(0, dotIndex);\n                        var baseAtIndex = truncatedName.lastIndexOf('@');\n                        if (baseAtIndex == -1) baseAtIndex = dotIndex;\n\n                        baseName = name.substr(0, cast Math.min(baseAtIndex, dotIndex));\n                        fieldName = toAssetConstName(baseName);\n                    \n                        if (fieldName != null && !used.exists(fieldName) && fileExt != null) {\n                            used.set(fieldName, baseName);\n                        }\n                    }\n                }\n            }\n        }\n\n        // Add fields\n        var byBaseName = dir ? assetDirsByBaseName : assetsByBaseName;\n        for (fieldName in used.keys()) {\n            var value = kind + ':' + used.get(fieldName);\n            \n            var fieldDoc = [];\n            var files = byBaseName.get(used.get(fieldName));\n            for (file in files) {\n                for (ext in extensions) {\n                    if (file.endsWith('.$ext')) {\n                        fieldDoc.push(file);\n                        break;\n                    }\n                }\n            }\n\n            var entry = {\n                name: used.get(fieldName),\n                constName: fieldName,\n                paths: fieldDoc\n            };\n\n            entries.push(entry);\n        }\n\n        cachedNames.set(cacheKey, entries);\n\n        return entries;\n\n    } //getNames\n\n    public function getLists():{\n        all: Array<String>,\n        allDirs: Array<String>,\n        allByName: Map<String,Array<String>>,\n        allDirsByName: Map<String,Array<String>>\n    } {\n\n        if (cachedLists != null) return cachedLists;\n\n        var result = {\n            all: [],\n            allDirs: [],\n            allByName: new Map(),\n            allDirsByName: new Map()\n        };\n\n        // All assets\n        //\n        for (name in allAssets) {\n            result.all.push(name);\n        }\n\n        // All asset dirs\n        //\n        for (name in allAssetDirs) {\n            result.allDirs.push(name);\n        }\n\n        // Assets by base name\n        //\n        for (baseName in assetsByBaseName.keys()) {\n            var list = [].concat(assetsByBaseName.get(baseName));\n            result.allByName.set(baseName, list);\n        }\n\n        // Asset dirs by base name\n        //\n        for (baseName in assetDirsByBaseName.keys()) {\n            var list = [].concat(assetDirsByBaseName.get(baseName));\n            result.allDirsByName.set(baseName, list);\n        }\n\n        cachedLists = result;\n\n        return result;\n\n    } //getLists\n\n    /** Same as getLists(), but will transform Maps into JSON-encodable raw objects. */\n    public function getEncodableLists():{\n        all: Array<String>,\n        allDirs: Array<String>,\n        allByName: Dynamic<Array<String>>,\n        allDirsByName: Dynamic<Array<String>>\n    } {\n\n        var lists = getLists();\n\n        var allByNameEncodable:Dynamic<Array<String>> = {};\n        for (key in lists.allByName.keys()) {\n            Reflect.setField(allByNameEncodable, key, lists.allByName.get(key));\n        }\n\n        var allDirsByNameEncodable:Dynamic<Array<String>> = {};\n        for (key in lists.allDirsByName.keys()) {\n            Reflect.setField(allDirsByNameEncodable, key, lists.allDirsByName.get(key));\n        }\n\n        return {\n            all: lists.all,\n            allDirs: lists.allDirs,\n            allByName: allByNameEncodable,\n            allDirsByName: allDirsByNameEncodable\n        };\n\n    } //getEncodableLists\n\n/// Internal\n\n    static function toAssetConstName(input:String):String {\n\n        var res = new StringBuf();\n        var len = input.length;\n        var i = 0;\n        var canAddSpace = false;\n\n        while (i < len) {\n\n            var c = input.charAt(i);\n            if (c == '/') {\n                res.add('__');\n                canAddSpace = false;\n            }\n            else if (c == '.') {\n                res.add('_');\n                canAddSpace = false;\n            }\n            else if (reAsciiChar.match(c)) {\n\n                var uc = c.toUpperCase();\n                var isUpperCase = (c == uc);\n\n                if (canAddSpace && isUpperCase) {\n                    res.add('_');\n                    canAddSpace = false;\n                }\n\n                res.add(uc);\n                canAddSpace = !isUpperCase;\n            }\n            else {\n                res.add('_');\n                canAddSpace = false;\n            }\n\n            i++;\n        }\n\n        var str = res.toString();\n        if (str.endsWith('_')) str = str.substr(0, str.length - 1);\n\n        return str;\n\n    } //toAssetConstName\n\n    function initData() {\n\n        // Compute data\n        //\n        var usedPaths:Map<String,Bool> = new Map();\n\n        for (asset in allAssets) {\n            usedPaths.set(asset, true);\n        }\n\n        var usedDirs:Map<String,Bool> = new Map();\n        allAssetDirs = [];\n        for (asset in allAssets) {\n            var lastSlash = asset.lastIndexOf('/');\n            if (lastSlash != -1) {\n                var dir = asset.substr(0, lastSlash);\n                while (!usedDirs.exists(dir)) {\n                    allAssetDirs.push(dir);\n                    usedDirs.set(dir, true);\n                    lastSlash = dir.lastIndexOf('/');\n                    if (lastSlash == -1) break;\n                    dir = dir.substr(0, lastSlash);\n                }\n            }\n        }\n\n        if (assetsByBaseName == null) {\n\n            assetsByBaseName = new Map();\n\n            for (name in allAssets) {\n                var dotIndex = name.lastIndexOf('.');\n                var truncatedName = name.substr(0, dotIndex);\n                var baseAtIndex = truncatedName.lastIndexOf('@');\n                if (baseAtIndex == -1) baseAtIndex = dotIndex;\n\n                var baseName = name.substr(0, cast Math.min(baseAtIndex, dotIndex));\n                if (!assetsByBaseName.exists(baseName)) {\n                    assetsByBaseName.set(baseName, []);\n                }\n                var list = assetsByBaseName.get(baseName);\n                list.push(name);\n            }\n        }\n\n        if (assetDirsByBaseName == null) {\n\n            assetDirsByBaseName = new Map();\n\n            for (name in allAssetDirs) {\n                var dotIndex = name.lastIndexOf('.');\n                var truncatedName = name.substr(0, dotIndex);\n                var baseAtIndex = truncatedName.lastIndexOf('@');\n                if (baseAtIndex == -1) baseAtIndex = dotIndex;\n\n                var baseName = name.substr(0, cast Math.min(baseAtIndex, dotIndex));\n                if (!assetDirsByBaseName.exists(baseName)) {\n                    assetDirsByBaseName.set(baseName, []);\n                }\n                var list = assetDirsByBaseName.get(baseName);\n                list.push(name);\n            }\n        }\n\n    } //initData\n\n} //RuntimeAssets\n","package ceramic;\n\n/** The scanCode class. The values below come directly from SDL header include files,\nbut they aren't specific to SDL so they are used generically */\nclass ScanCode {\n\n    /** Convert a scanCode to a readable name */\n    public static function name( scanCode:Int ) : String {\n\n        var res = null;\n\n        if (scanCode >= 0 && scanCode < scanCodeNames.length) {\n            res = scanCodeNames[scanCode];\n        }\n\n        return res != null ? res : \"\";\n\n    } //name\n\n    // special value remains caps\n    public static inline var MASK:Int                      = (1<<30);\n\n    public static inline var UNKNOWN:Int                 = 0;\n\n    // Usage page 0x07\n    // These values are from usage page 0x07 (USB keyboard page).\n\n    public static inline var KEY_A:Int                   = 4;\n    public static inline var KEY_B:Int                   = 5;\n    public static inline var KEY_C:Int                   = 6;\n    public static inline var KEY_D:Int                   = 7;\n    public static inline var KEY_E:Int                   = 8;\n    public static inline var KEY_F:Int                   = 9;\n    public static inline var KEY_G:Int                   = 10;\n    public static inline var KEY_H:Int                   = 11;\n    public static inline var KEY_I:Int                   = 12;\n    public static inline var KEY_J:Int                   = 13;\n    public static inline var KEY_K:Int                   = 14;\n    public static inline var KEY_L:Int                   = 15;\n    public static inline var KEY_M:Int                   = 16;\n    public static inline var KEY_N:Int                   = 17;\n    public static inline var KEY_O:Int                   = 18;\n    public static inline var KEY_P:Int                   = 19;\n    public static inline var KEY_Q:Int                   = 20;\n    public static inline var KEY_R:Int                   = 21;\n    public static inline var KEY_S:Int                   = 22;\n    public static inline var KEY_T:Int                   = 23;\n    public static inline var KEY_U:Int                   = 24;\n    public static inline var KEY_V:Int                   = 25;\n    public static inline var KEY_W:Int                   = 26;\n    public static inline var KEY_X:Int                   = 27;\n    public static inline var KEY_Y:Int                   = 28;\n    public static inline var KEY_Z:Int                   = 29;\n\n    public static inline var KEY_1:Int                   = 30;\n    public static inline var KEY_2:Int                   = 31;\n    public static inline var KEY_3:Int                   = 32;\n    public static inline var KEY_4:Int                   = 33;\n    public static inline var KEY_5:Int                   = 34;\n    public static inline var KEY_6:Int                   = 35;\n    public static inline var KEY_7:Int                   = 36;\n    public static inline var KEY_8:Int                   = 37;\n    public static inline var KEY_9:Int                   = 38;\n    public static inline var KEY_0:Int                   = 39;\n\n    public static inline var ENTER:Int                   = 40;\n    public static inline var ESCAPE:Int                  = 41;\n    public static inline var BACKSPACE:Int               = 42;\n    public static inline var TAB:Int                     = 43;\n    public static inline var SPACE:Int                   = 44;\n\n    public static inline var MINUS:Int                   = 45;\n    public static inline var EQUALS:Int                  = 46;\n    public static inline var LEFTBRACKET:Int             = 47;\n    public static inline var RIGHTBRACKET:Int            = 48;\n\n    // Located at the lower left of the return\n    // key on ISO keyboards and at the right end\n    // of the QWERTY row on ANSI keyboards.\n    // Produces REVERSE SOLIDUS (backslash) and\n    // VERTICAL LINE in a US layout, REVERSE\n    // SOLIDUS and VERTICAL LINE in a UK Mac\n    // layout, NUMBER SIGN and TILDE in a UK\n    // Windows layout, DOLLAR SIGN and POUND SIGN\n    // in a Swiss German layout, NUMBER SIGN and\n    // APOSTROPHE in a German layout, GRAVE\n    // ACCENT and POUND SIGN in a French Mac\n    // layout, and ASTERISK and MICRO SIGN in a\n    // French Windows layout.\n\n    public static inline var BACKSLASH:Int               = 49;\n\n    // ISO USB keyboards actually use this code\n    // instead of 49 for the same key, but all\n    // OSes I've seen treat the two codes\n    // identically. So, as an implementor, unless\n    // your keyboard generates both of those\n    // codes and your OS treats them differently,\n    // you should generate public static inline var BACKSLASH\n    // instead of this code. As a user, you\n    // should not rely on this code because SDL\n    // will never generate it with most (all?)\n    // keyboards.\n\n    public static inline var NONUSHASH:Int          = 50;\n    public static inline var SEMICOLON:Int          = 51;\n    public static inline var APOSTROPHE:Int         = 52;\n\n    // Located in the top left corner (on both ANSI\n    // and ISO keyboards). Produces GRAVE ACCENT and\n    // TILDE in a US Windows layout and in US and UK\n    // Mac layouts on ANSI keyboards, GRAVE ACCENT\n    // and NOT SIGN in a UK Windows layout, SECTION\n    // SIGN and PLUS-MINUS SIGN in US and UK Mac\n    // layouts on ISO keyboards, SECTION SIGN and\n    // DEGREE SIGN in a Swiss German layout (Mac:\n    // only on ISO keyboards); CIRCUMFLEX ACCENT and\n    // DEGREE SIGN in a German layout (Mac: only on\n    // ISO keyboards), SUPERSCRIPT TWO and TILDE in a\n    // French Windows layout, COMMERCIAL AT and\n    // NUMBER SIGN in a French Mac layout on ISO\n    // keyboards, and LESS-THAN SIGN and GREATER-THAN\n    // SIGN in a Swiss German, German, or French Mac\n    // layout on ANSI keyboards.\n\n    public static inline var GRAVE:Int              = 53;\n    public static inline var COMMA:Int              = 54;\n    public static inline var PERIOD:Int             = 55;\n    public static inline var SLASH:Int              = 56;\n\n    public static inline var CAPSLOCK:Int           = 57;\n\n    public static inline var F1:Int                 = 58;\n    public static inline var F2:Int                 = 59;\n    public static inline var F3:Int                 = 60;\n    public static inline var F4:Int                 = 61;\n    public static inline var F5:Int                 = 62;\n    public static inline var F6:Int                 = 63;\n    public static inline var F7:Int                 = 64;\n    public static inline var F8:Int                 = 65;\n    public static inline var F9:Int                 = 66;\n    public static inline var F10:Int                = 67;\n    public static inline var F11:Int                = 68;\n    public static inline var F12:Int                = 69;\n\n    public static inline var PRINTSCREEN:Int        = 70;\n    public static inline var SCROLLLOCK:Int         = 71;\n    public static inline var PAUSE:Int              = 72;\n\n    // insert on PC, help on some Mac keyboards (but does send code 73, not 117)\n    public static inline var INSERT:Int             = 73;\n    public static inline var HOME:Int               = 74;\n    public static inline var PAGEUP:Int             = 75;\n    public static inline var DELETE:Int             = 76;\n    public static inline var END:Int                = 77;\n    public static inline var PAGEDOWN:Int           = 78;\n    public static inline var RIGHT:Int              = 79;\n    public static inline var LEFT:Int               = 80;\n    public static inline var DOWN:Int               = 81;\n    public static inline var UP:Int                 = 82;\n\n    // num lock on PC, clear on Mac keyboards\n    public static inline var NUMLOCKCLEAR:Int       = 83;\n    public static inline var KP_DIVIDE:Int          = 84;\n    public static inline var KP_MULTIPLY:Int        = 85;\n    public static inline var KP_MINUS:Int           = 86;\n    public static inline var KP_PLUS:Int            = 87;\n    public static inline var KP_ENTER:Int           = 88;\n    public static inline var KP_1:Int               = 89;\n    public static inline var KP_2:Int               = 90;\n    public static inline var KP_3:Int               = 91;\n    public static inline var KP_4:Int               = 92;\n    public static inline var KP_5:Int               = 93;\n    public static inline var KP_6:Int               = 94;\n    public static inline var KP_7:Int               = 95;\n    public static inline var KP_8:Int               = 96;\n    public static inline var KP_9:Int               = 97;\n    public static inline var KP_0:Int               = 98;\n    public static inline var KP_PERIOD:Int          = 99;\n\n\n    // This is the additional key that ISO\n    // keyboards have over ANSI ones,\n    // located between left shift and Y.\n    // Produces GRAVE ACCENT and TILDE in a\n    // US or UK Mac layout, REVERSE SOLIDUS\n    // (backslash) and VERTICAL LINE in a\n    // US or UK Windows layout, and\n    // LESS-THAN SIGN and GREATER-THAN SIGN\n    // in a Swiss German, German, or French\n    // layout.\n    public static inline var NONUSBACKSLASH:Int     = 100;\n\n    // windows contextual menu, compose\n    public static inline var APPLICATION:Int        = 101;\n\n    // The USB document says this is a status flag,\n    // not a physical key - but some Mac keyboards\n    // do have a power key.\n    public static inline var POWER:Int              = 102;\n    public static inline var KP_EQUALS:Int          = 103;\n    public static inline var F13:Int                = 104;\n    public static inline var F14:Int                = 105;\n    public static inline var F15:Int                = 106;\n    public static inline var F16:Int                = 107;\n    public static inline var F17:Int                = 108;\n    public static inline var F18:Int                = 109;\n    public static inline var F19:Int                = 110;\n    public static inline var F20:Int                = 111;\n    public static inline var F21:Int                = 112;\n    public static inline var F22:Int                = 113;\n    public static inline var F23:Int                = 114;\n    public static inline var F24:Int                = 115;\n    public static inline var EXECUTE:Int            = 116;\n    public static inline var HELP:Int               = 117;\n    public static inline var MENU:Int               = 118;\n    public static inline var SELECT:Int             = 119;\n    public static inline var STOP:Int               = 120;\n\n    // redo\n    public static inline var AGAIN:Int              = 121;\n    public static inline var UNDO:Int               = 122;\n    public static inline var CUT:Int                = 123;\n    public static inline var COPY:Int               = 124;\n    public static inline var PASTE:Int              = 125;\n    public static inline var FIND:Int               = 126;\n    public static inline var MUTE:Int               = 127;\n    public static inline var VOLUMEUP:Int           = 128;\n    public static inline var VOLUMEDOWN:Int         = 129;\n\n    // not sure whether there's a reason to enable these\n    //  public static inline var lockingcapslock = 130,\n    //  public static inline var lockingnumlock = 131,\n    //  public static inline var lockingscrolllock = 132,\n\n    public static inline var KP_COMMA:Int           = 133;\n    public static inline var KP_EQUALSAS400:Int     = 134;\n\n    // used on Asian keyboards; see footnotes in USB doc\n    public static inline var INTERNATIONAL1:Int     = 135;\n    public static inline var INTERNATIONAL2:Int     = 136;\n\n    // Yen\n    public static inline var INTERNATIONAL3:Int     = 137;\n    public static inline var INTERNATIONAL4:Int     = 138;\n    public static inline var INTERNATIONAL5:Int     = 139;\n    public static inline var INTERNATIONAL6:Int     = 140;\n    public static inline var INTERNATIONAL7:Int     = 141;\n    public static inline var INTERNATIONAL8:Int     = 142;\n    public static inline var INTERNATIONAL9:Int     = 143;\n    // Hangul/English toggle\n    public static inline var LANG1:Int              = 144;\n    // Hanja conversion\n    public static inline var LANG2:Int              = 145;\n    // Katakana\n    public static inline var LANG3:Int              = 146;\n    // Hiragana\n    public static inline var LANG4:Int              = 147;\n    // Zenkaku/Hankaku\n    public static inline var LANG5:Int              = 148;\n    // reserved\n    public static inline var LANG6:Int              = 149;\n    // reserved\n    public static inline var LANG7:Int              = 150;\n    // reserved\n    public static inline var LANG8:Int              = 151;\n    // reserved\n    public static inline var LANG9:Int              = 152;\n    // Erase-Eaze\n    public static inline var ALTERASE:Int           = 153;\n    public static inline var SYSREQ:Int             = 154;\n    public static inline var CANCEL:Int             = 155;\n    public static inline var CLEAR:Int              = 156;\n    public static inline var PRIOR:Int              = 157;\n    public static inline var RETURN2:Int            = 158;\n    public static inline var SEPARATOR:Int          = 159;\n    public static inline var OUT:Int                = 160;\n    public static inline var OPER:Int               = 161;\n    public static inline var CLEARAGAIN:Int         = 162;\n    public static inline var CRSEL:Int              = 163;\n    public static inline var EXSEL:Int              = 164;\n\n    public static inline var KP_00:Int              = 176;\n    public static inline var KP_000:Int             = 177;\n    public static inline var THOUSANDSSEPARATOR:Int = 178;\n    public static inline var DECIMALSEPARATOR:Int   = 179;\n    public static inline var CURRENCYUNIT:Int       = 180;\n    public static inline var CURRENCYSUBUNIT:Int    = 181;\n    public static inline var KP_LEFTPAREN:Int       = 182;\n    public static inline var KP_RIGHTPAREN:Int      = 183;\n    public static inline var KP_LEFTBRACE:Int       = 184;\n    public static inline var KP_RIGHTBRACE:Int      = 185;\n    public static inline var KP_TAB:Int             = 186;\n    public static inline var KP_BACKSPACE:Int       = 187;\n    public static inline var KP_A:Int               = 188;\n    public static inline var KP_B:Int               = 189;\n    public static inline var KP_C:Int               = 190;\n    public static inline var KP_D:Int               = 191;\n    public static inline var KP_E:Int               = 192;\n    public static inline var KP_F:Int               = 193;\n    public static inline var KP_XOR:Int             = 194;\n    public static inline var KP_POWER:Int           = 195;\n    public static inline var KP_PERCENT:Int         = 196;\n    public static inline var KP_LESS:Int            = 197;\n    public static inline var KP_GREATER:Int         = 198;\n    public static inline var KP_AMPERSAND:Int       = 199;\n    public static inline var KP_DBLAMPERSAND:Int    = 200;\n    public static inline var KP_VERTICALBAR:Int     = 201;\n    public static inline var KP_DBLVERTICALBAR:Int  = 202;\n    public static inline var KP_COLON:Int           = 203;\n    public static inline var KP_HASH:Int            = 204;\n    public static inline var KP_SPACE:Int           = 205;\n    public static inline var KP_AT:Int              = 206;\n    public static inline var KP_EXCLAM:Int          = 207;\n    public static inline var KP_MEMSTORE:Int        = 208;\n    public static inline var KP_MEMRECALL:Int       = 209;\n    public static inline var KP_MEMCLEAR:Int        = 210;\n    public static inline var KP_MEMADD:Int          = 211;\n    public static inline var KP_MEMSUBTRACT:Int     = 212;\n    public static inline var KP_MEMMULTIPLY:Int     = 213;\n    public static inline var KP_MEMDIVIDE:Int       = 214;\n    public static inline var KP_PLUSMINUS:Int       = 215;\n    public static inline var KP_CLEAR:Int           = 216;\n    public static inline var KP_CLEARENTRY:Int      = 217;\n    public static inline var KP_BINARY:Int          = 218;\n    public static inline var KP_OCTAL:Int           = 219;\n    public static inline var KP_DECIMAL:Int         = 220;\n    public static inline var KP_HEXADECIMAL:Int     = 221;\n\n    public static inline var LCTRL:Int              = 224;\n    public static inline var LSHIFT:Int             = 225;\n    // alt, option\n    public static inline var LALT:Int               = 226;\n    // windows, command (apple), meta, super\n    public static inline var LMETA:Int              = 227;\n    public static inline var RCTRL:Int              = 228;\n    public static inline var RSHIFT:Int             = 229;\n    // alt gr, option\n    public static inline var RALT:Int               = 230;\n    // windows, command (apple), meta, super\n    public static inline var RMETA:Int              = 231;\n\n    // Not sure if this is really not covered\n    // by any of the above, but since there's a\n    // special KMOD_MODE for it I'm adding it here\n    public static inline var MODE:Int               = 257;\n\n    //\n    // Usage page 0x0C\n    // These values are mapped from usage page 0x0C (USB consumer page).\n\n    public static inline var AUDIONEXT:Int          = 258;\n    public static inline var AUDIOPREV:Int          = 259;\n    public static inline var AUDIOSTOP:Int          = 260;\n    public static inline var AUDIOPLAY:Int          = 261;\n    public static inline var AUDIOMUTE:Int          = 262;\n    public static inline var MEDIASELECT:Int        = 263;\n    public static inline var WWW:Int                = 264;\n    public static inline var MAIL:Int               = 265;\n    public static inline var CALCULATOR:Int         = 266;\n    public static inline var COMPUTER:Int           = 267;\n    public static inline var AC_SEARCH:Int          = 268;\n    public static inline var AC_HOME:Int            = 269;\n    public static inline var AC_BACK:Int            = 270;\n    public static inline var AC_FORWARD:Int         = 271;\n    public static inline var AC_STOP:Int            = 272;\n    public static inline var AC_REFRESH:Int         = 273;\n    public static inline var AC_BOOKMARKS:Int       = 274;\n\n    // Walther keys\n    // These are values that Christian Walther added (for mac keyboard?).\n\n    public static inline var BRIGHTNESSDOWN:Int     = 275;\n    public static inline var BRIGHTNESSUP:Int       = 276;\n\n    // Display mirroring/dual display switch, video mode switch */\n    public static inline var DISPLAYSWITCH:Int      = 277;\n\n    public static inline var KBDILLUMTOGGLE:Int     = 278;\n    public static inline var KBDILLUMDOWN:Int       = 279;\n    public static inline var KBDILLUMUP:Int         = 280;\n    public static inline var EJECT:Int              = 281;\n    public static inline var SLEEP:Int              = 282;\n\n    public static inline var APP1:Int               = 283;\n    public static inline var APP2:Int               = 284;\n\n    static var scanCodeNames:Array<String> = [\n        null, null, null, null,\n        \"A\",\n        \"B\",\n        \"C\",\n        \"D\",\n        \"E\",\n        \"F\",\n        \"G\",\n        \"H\",\n        \"I\",\n        \"J\",\n        \"K\",\n        \"L\",\n        \"M\",\n        \"N\",\n        \"O\",\n        \"P\",\n        \"Q\",\n        \"R\",\n        \"S\",\n        \"T\",\n        \"U\",\n        \"V\",\n        \"W\",\n        \"X\",\n        \"Y\",\n        \"Z\",\n        \"1\",\n        \"2\",\n        \"3\",\n        \"4\",\n        \"5\",\n        \"6\",\n        \"7\",\n        \"8\",\n        \"9\",\n        \"0\",\n        \"Enter\",\n        \"Escape\",\n        \"Backspace\",\n        \"Tab\",\n        \"Space\",\n        \"-\",\n        \"=\",\n        \"[\",\n        \"]\",\n        \"\\\\\",\n        \"#\",\n        \";\",\n        \"'\",\n        \"`\",\n        \",\",\n        \".\",\n        \"/\",\n        \"CapsLock\",\n        \"F1\",\n        \"F2\",\n        \"F3\",\n        \"F4\",\n        \"F5\",\n        \"F6\",\n        \"F7\",\n        \"F8\",\n        \"F9\",\n        \"F10\",\n        \"F11\",\n        \"F12\",\n        \"PrintScreen\",\n        \"ScrollLock\",\n        \"Pause\",\n        \"Insert\",\n        \"Home\",\n        \"PageUp\",\n        \"Delete\",\n        \"End\",\n        \"PageDown\",\n        \"Right\",\n        \"Left\",\n        \"Down\",\n        \"Up\",\n        \"Numlock\",\n        \"Keypad /\",\n        \"Keypad *\",\n        \"Keypad -\",\n        \"Keypad +\",\n        \"Keypad Enter\",\n        \"Keypad 1\",\n        \"Keypad 2\",\n        \"Keypad 3\",\n        \"Keypad 4\",\n        \"Keypad 5\",\n        \"Keypad 6\",\n        \"Keypad 7\",\n        \"Keypad 8\",\n        \"Keypad 9\",\n        \"Keypad 0\",\n        \"Keypad .\",\n        null,\n        \"Application\",\n        \"Power\",\n        \"Keypad =\",\n        \"F13\",\n        \"F14\",\n        \"F15\",\n        \"F16\",\n        \"F17\",\n        \"F18\",\n        \"F19\",\n        \"F20\",\n        \"F21\",\n        \"F22\",\n        \"F23\",\n        \"F24\",\n        \"Execute\",\n        \"Help\",\n        \"Menu\",\n        \"Select\",\n        \"Stop\",\n        \"Again\",\n        \"Undo\",\n        \"Cut\",\n        \"Copy\",\n        \"Paste\",\n        \"Find\",\n        \"Mute\",\n        \"VolumeUp\",\n        \"VolumeDown\",\n        null, null, null,\n        \"Keypad ,\",\n        \"Keypad = (AS400)\",\n        null, null, null, null, null, null, null, null, null, null, null, null,\n        null, null, null, null, null, null,\n        \"AltErase\",\n        \"SysReq\",\n        \"Cancel\",\n        \"Clear\",\n        \"Prior\",\n        \"Enter\",\n        \"Separator\",\n        \"Out\",\n        \"Oper\",\n        \"Clear / Again\",\n        \"CrSel\",\n        \"ExSel\",\n        null, null, null, null, null, null, null, null, null, null, null,\n        \"Keypad 00\",\n        \"Keypad 000\",\n        \"ThousandsSeparator\",\n        \"DecimalSeparator\",\n        \"CurrencyUnit\",\n        \"CurrencySubUnit\",\n        \"Keypad (\",\n        \"Keypad )\",\n        \"Keypad {\",\n        \"Keypad }\",\n        \"Keypad Tab\",\n        \"Keypad Backspace\",\n        \"Keypad A\",\n        \"Keypad B\",\n        \"Keypad C\",\n        \"Keypad D\",\n        \"Keypad E\",\n        \"Keypad F\",\n        \"Keypad XOR\",\n        \"Keypad ^\",\n        \"Keypad %\",\n        \"Keypad <\",\n        \"Keypad >\",\n        \"Keypad &\",\n        \"Keypad &&\",\n        \"Keypad |\",\n        \"Keypad ||\",\n        \"Keypad :\",\n        \"Keypad #\",\n        \"Keypad Space\",\n        \"Keypad @\",\n        \"Keypad !\",\n        \"Keypad MemStore\",\n        \"Keypad MemRecall\",\n        \"Keypad MemClear\",\n        \"Keypad MemAdd\",\n        \"Keypad MemSubtract\",\n        \"Keypad MemMultiply\",\n        \"Keypad MemDivide\",\n        \"Keypad +/-\",\n        \"Keypad Clear\",\n        \"Keypad ClearEntry\",\n        \"Keypad Binary\",\n        \"Keypad Octal\",\n        \"Keypad Decimal\",\n        \"Keypad Hexadecimal\",\n        null, null,\n        \"Left Ctrl\",\n        \"Left Shift\",\n        \"Left Alt\",\n        \"Left Meta\",\n        \"Right Ctrl\",\n        \"Right Shift\",\n        \"Right Alt\",\n        \"Right Meta\",\n        null, null, null, null, null, null, null, null, null, null, null, null,\n        null, null, null, null, null, null, null, null, null, null, null, null,\n        null,\n        \"ModeSwitch\",\n        \"AudioNext\",\n        \"AudioPrev\",\n        \"AudioStop\",\n        \"AudioPlay\",\n        \"AudioMute\",\n        \"MediaSelect\",\n        \"WWW\",\n        \"Mail\",\n        \"Calculator\",\n        \"Computer\",\n        \"AC Search\",\n        \"AC Home\",\n        \"AC Back\",\n        \"AC Forward\",\n        \"AC Stop\",\n        \"AC Refresh\",\n        \"AC Bookmarks\",\n        \"BrightnessDown\",\n        \"BrightnessUp\",\n        \"DisplaySwitch\",\n        \"KBDIllumToggle\",\n        \"KBDIllumDown\",\n        \"KBDIllumUp\",\n        \"Eject\",\n        \"Sleep\",\n    ]; //scanCode names\n\n} //ScanCode\n","package ceramic;\n\nimport ceramic.Shortcuts.*;\n\n@:allow(ceramic.App)\nclass Screen extends Entity implements Observable {\n\n/// Properties\n\n    /** Screen density computed from app's logical width/height\n        settings and native width/height. */\n    public var density(default,null):Float = 1.0;\n\n    /** Logical width used in app to position elements.\n        Updated when the screen is resized. */\n    public var width(default,null):Float = 0;\n\n    /** Logical height used in app to position elements.\n        Updated when the screen is resized. */\n    public var height(default,null):Float = 0;\n\n    /** Native width */\n    public var nativeWidth(get,null):Float;\n    inline function get_nativeWidth():Float {\n        return app.backend.screen.getWidth();\n    }\n\n    /** Native height */\n    public var nativeHeight(get,null):Float;\n    inline function get_nativeHeight():Float {\n        return app.backend.screen.getHeight();\n    }\n\n    /** Native pixel ratio/density. */\n    public var nativeDensity(get,null):Float;\n    inline function get_nativeDensity():Float {\n        return app.backend.screen.getDensity();\n    }\n\n    /** Pointer x coordinate, computed from mouse and touch events.\n        When using multiple touch inputs at the same time, x will be\n        the mean value of all touches x value. Use this as a\n        convenience when you don't want to deal with multiple positions. */\n    public var pointerX(default,null):Float = 0;\n\n    /** Pointer y coordinate, computed from mouse and touch events.\n        When using multiple touch inputs at the same time, y will be\n        the mean value of all touches y value. Use this as a\n        convenience when you don't want to deal with multiple positions. */\n    public var pointerY(default,null):Float = 0;\n\n    /** Mouse x coordinate, computed from mouse events. */\n    public var mouseX(default,null):Float = 0;\n\n    /** Mouse y coordinate, computed from mouse events. */\n    public var mouseY(default,null):Float = 0;\n\n    /** Touches x and y coordinates by touch index. */\n    public var touches(default,null):Touches = new Touches();\n\n    /** Focused visual */\n    public var focusedVisual(default,set):Visual = null;\n    function set_focusedVisual(focusedVisual:Visual):Visual {\n        if (this.focusedVisual == focusedVisual) return focusedVisual;\n\n        var prevFocused = this.focusedVisual;\n        this.focusedVisual = focusedVisual;\n\n        if (prevFocused != null) {\n            emitBlur(prevFocused);\n            prevFocused.emitBlur();\n        }\n\n        if (focusedVisual != null) {\n            emitFocus(focusedVisual);\n            focusedVisual.emitFocus();\n        }\n\n        return focusedVisual;\n    }\n\n    /** Ideal textures density, computed from settings\n        targetDensity and current screen state. */\n    @observable public var texturesDensity:Float = 1.0;\n\n    /** Root matrix applied to every visual.\n        This is recomputed on screen resize but\n        can be changed otherwise. */\n    @:allow(ceramic.Visual)\n    private var matrix:Transform = new Transform();\n\n    /** Internal inverted matrix computed from root matrix. */\n    @:allow(ceramic.Visual)\n    private var reverseMatrix:Transform = new Transform();\n\n    /** In order to prevent nested resizes. */\n    private var resizing:Bool = false;\n\n    /** Whether the screen is between a `pointer down` and an `pointer up` event or not. */\n    public var isPointerDown(get,null):Bool;\n    var _numPointerDown:Int = 0;\n    inline function get_isPointerDown():Bool { return _numPointerDown > 0; }\n\n/// Events\n\n    /** Resize event occurs once at startup, then each time any\n        of native width, height or density changes. */\n    @event function resize();\n\n    // Mouse events\n    //\n    @event function mouseDown(buttonId:Int, x:Float, y:Float);\n    @event function mouseUp(buttonId:Int, x:Float, y:Float);\n    @event function mouseWheel(x:Float, y:Float);\n    @event function mouseMove(x:Float, y:Float);\n\n    // Touch events\n    //\n    @event function touchDown(touchIndex:Int, x:Float, y:Float);\n    @event function touchUp(touchIndex:Int, x:Float, y:Float);\n    @event function touchMove(touchIndex:Int, x:Float, y:Float);\n\n    // Generic (unified) events\n    //\n    @event function pointerDown(info:TouchInfo);\n    @event function pointerUp(info:TouchInfo);\n    @event function pointerMove(info:TouchInfo);\n\n    // Generic (unified & multitouch) events\n    //\n    @event function multiTouchPointerDown(info:TouchInfo);\n    @event function multiTouchPointerUp(info:TouchInfo);\n    @event function multiTouchPointerMove(info:TouchInfo);\n\n    // Focused visual event\n    //\n    @event function focus(visual:Visual);\n    @event function blur(visual:Visual);\n\n/// Lifecycle\n\n    function new() {\n\n    } //new\n\n    function backendReady():Void {\n\n        // Track native screen resize\n        app.backend.screen.onResize(this, resize);\n\n        // Trigger resize once at startup\n        resize();\n        \n        // Observe visual settings\n        //\n        settings.onBackgroundChange(this, function(background, prevBackground) {\n            log('Setting background=$background');\n            app.backend.screen.setBackground(background);\n        });\n        settings.onScalingChange(this, function(scaling, prevScaling) {\n            log('Setting scaling=$scaling');\n            resize();\n        });\n        settings.onTargetWidthChange(this, function(targetWidth, prevTargetWidth) {\n            log('Setting targetWidth=$targetWidth');\n            resize();\n        });\n        settings.onTargetHeightChange(this, function(targetHeight, prevTargetWidth) {\n            log('Setting targetHeight=$targetHeight');\n            resize();\n        });\n        settings.onTargetDensityChange(this, function(targetDensity, prevtargetDensity) {\n            log('Setting targetDensity=$targetDensity');\n            updateTexturesDensity();\n        });\n\n        // Update inverted matrix when root one changes\n        //\n        matrix.onChange(this, function() {\n            reverseMatrix.identity();\n            reverseMatrix.concat(matrix);\n            reverseMatrix.invert();\n            reverseMatrix.emitChange();\n        });\n\n        // Handle mouse events\n        //\n        app.backend.screen.onMouseDown(this, function(buttonId, x, y) {\n            app.beginUpdateCallbacks.push(function() {\n                var x0 = x * nativeDensity;\n                var y0 = y * nativeDensity;\n                var x1 = reverseMatrix.transformX(x0, y0);\n                var y1 = reverseMatrix.transformY(x0, y0);\n\n                emitMouseDown(buttonId, x1, y1);\n                _numPointerDown++;\n                var info:TouchInfo = {\n                    touchIndex: -1,\n                    buttonId: buttonId,\n                    x: x1,\n                    y: y1,\n                    hits: x1 >= 0 && x1 <= width && y1 >= 0 && y1 <= height\n                };\n                emitMultiTouchPointerDown(info);\n                if (_numPointerDown == 1) {\n                    emitPointerDown(info);\n                }\n            });\n        });\n        app.backend.screen.onMouseUp(this, function(buttonId, x, y) {\n            app.beginUpdateCallbacks.push(function() {\n                var x0 = x * nativeDensity;\n                var y0 = y * nativeDensity;\n                var x1 = reverseMatrix.transformX(x0, y0);\n                var y1 = reverseMatrix.transformY(x0, y0);\n                emitMouseUp(buttonId, x1, y1);\n                _numPointerDown--;\n                var info:TouchInfo = {\n                    touchIndex: -1,\n                    buttonId: buttonId,\n                    x: x1,\n                    y: y1,\n                    hits: x1 >= 0 && x1 <= width && y1 >= 0 && y1 <= height\n                };\n                emitMultiTouchPointerUp(info);\n                if (_numPointerDown == 0) {\n                    emitPointerUp(info);\n                }\n            });\n        });\n        app.backend.screen.onMouseMove(this, function(x, y) {\n            app.beginUpdateCallbacks.push(function() {\n                var x0 = x * nativeDensity;\n                var y0 = y * nativeDensity;\n                var x1 = reverseMatrix.transformX(x0, y0);\n                var y1 = reverseMatrix.transformY(x0, y0);\n                emitMouseMove(x1, y1);\n                var info:TouchInfo = {\n                    touchIndex: -1,\n                    buttonId: MouseButton.NONE,\n                    x: x1,\n                    y: y1,\n                    hits: x1 >= 0 && x1 <= width && y1 >= 0 && y1 <= height\n                };\n                emitMultiTouchPointerMove(info);\n                emitPointerMove(info);\n            });\n        });\n        app.backend.screen.onMouseWheel(this, function(x, y) {\n            app.beginUpdateCallbacks.push(function() {\n                var x0 = x * nativeDensity;\n                var y0 = y * nativeDensity;\n                var x1 = reverseMatrix.transformX(x0, y0);\n                var y1 = reverseMatrix.transformY(x0, y0);\n                emitMouseWheel(x1, y1);\n            });\n        });\n\n        // Handle touch events\n        //\n        app.backend.screen.onTouchDown(this, function(touchIndex, x, y) {\n            app.beginUpdateCallbacks.push(function() {\n                var x0 = x * nativeDensity;\n                var y0 = y * nativeDensity;\n                var x1 = reverseMatrix.transformX(x0, y0);\n                var y1 = reverseMatrix.transformY(x0, y0);\n                emitTouchDown(touchIndex, x1, y1);\n                _numPointerDown++;\n                var info:TouchInfo = {\n                    touchIndex: touchIndex,\n                    buttonId: -1,\n                    x: x1,\n                    y: y1,\n                    hits: x1 >= 0 && x1 <= width && y1 >= 0 && y1 <= height\n                };\n                emitMultiTouchPointerDown(info);\n                if (_numPointerDown == 1) {\n                    emitPointerDown(info);\n                }\n            });\n        });\n        app.backend.screen.onTouchUp(this, function(touchIndex, x, y) {\n            app.beginUpdateCallbacks.push(function() {\n                var x0 = x * nativeDensity;\n                var y0 = y * nativeDensity;\n                var x1 = reverseMatrix.transformX(x0, y0);\n                var y1 = reverseMatrix.transformY(x0, y0);\n                emitTouchUp(touchIndex, x1, y1);\n                _numPointerDown--;\n                var info:TouchInfo = {\n                    touchIndex: touchIndex,\n                    buttonId: -1,\n                    x: x1,\n                    y: y1,\n                    hits: x1 >= 0 && x1 <= width && y1 >= 0 && y1 <= height\n                }\n                emitMultiTouchPointerUp(info);\n                if (_numPointerDown == 0) {\n                    emitPointerUp(info);\n                }\n            });\n        });\n        app.backend.screen.onTouchMove(this, function(touchIndex, x, y) {\n            app.beginUpdateCallbacks.push(function() {\n                var x0 = x * nativeDensity;\n                var y0 = y * nativeDensity;\n                var x1 = reverseMatrix.transformX(x0, y0);\n                var y1 = reverseMatrix.transformY(x0, y0);\n                emitTouchMove(touchIndex, x1, y1);\n                var info:TouchInfo = {\n                    touchIndex: touchIndex,\n                    buttonId: -1,\n                    x: x1,\n                    y: y1,\n                    hits: x1 >= 0 && x1 <= width && y1 >= 0 && y1 <= height\n                };\n                emitMultiTouchPointerMove(info);\n                if (_numPointerDown > 0) {\n                    emitPointerMove(info);\n                }\n            });\n        });\n\n    } //backendReady\n\n    function resize():Void {\n\n        // Already resizing?\n        if (resizing) return;\n        resizing = true;\n\n        // Update scaling\n        updateScaling();\n\n        // Keep previous values\n        var prevScaling = app.settings.scaling;\n        var prevTargetWidth = app.settings.targetWidth;\n        var prevTargetHeight = app.settings.targetHeight;\n\n        // Emit resize event (to allow custom changes)\n        emitResize();\n\n        // Recompute scaling if target scaling or size changed at emit\n        if (prevScaling != app.settings.scaling\n        || prevTargetWidth != app.settings.targetWidth\n        || prevTargetHeight != app.settings.targetHeight) {\n            updateScaling();\n        }\n\n        // Apply result as transform\n        updateTransform();\n\n        // Update textures density\n        updateTexturesDensity();\n\n        // Resize finished\n        resizing = false;\n\n    } //resize\n\n    function updateTexturesDensity():Void {\n\n        texturesDensity = (settings.targetDensity > 0) ?\n            settings.targetDensity\n        :\n            density\n        ;\n\n    } //updateTexturesDensity\n\n    /** Recompute screen width, height and density from settings and native state. */\n    function updateScaling():Void {\n\n        // Update screen scaling\n\n        if (app.settings.scaling == RESIZE) {\n            // Auto-update target width and target height in this mode\n            app.settings.targetWidth = Std.int(nativeWidth);\n            app.settings.targetHeight = Std.int(nativeHeight);\n        }\n\n        var targetWidth:Float = app.settings.targetWidth > 0 ? app.settings.targetWidth : nativeWidth;\n        var targetHeight:Float = app.settings.targetHeight > 0 ? app.settings.targetHeight : nativeHeight;\n\n        var scale = switch (app.settings.scaling) {\n            case FIT:\n                Math.max(targetWidth / (nativeWidth * nativeDensity), targetHeight / (nativeHeight * nativeDensity));\n            case FILL:\n                Math.min(targetWidth / (nativeWidth * nativeDensity), targetHeight / (nativeHeight * nativeDensity));\n            case RESIZE:\n                Math.max(targetWidth / (nativeWidth * nativeDensity), targetHeight / (nativeHeight * nativeDensity));\n        }\n\n        // Init default values\n        width = nativeWidth * nativeDensity * scale;\n        height = nativeHeight * nativeDensity * scale;\n        density = 1.0 / scale;\n\n    } //updateScaling\n\n    /** Recompute transform from screen width, height and density. */\n    function updateTransform():Void {\n        \n        var targetWidth:Float = app.settings.targetWidth > 0 ? app.settings.targetWidth : nativeWidth;\n        var targetHeight:Float = app.settings.targetHeight > 0 ? app.settings.targetHeight : nativeHeight;\n\n        // Update transform\n        matrix.identity();\n\n        matrix.scale(density, density);\n\n        var tx = (nativeWidth * nativeDensity - targetWidth * density) * 0.5;\n        var ty = (nativeHeight * nativeDensity - targetHeight * density) * 0.5;\n        matrix.translate(tx, ty);\n\n        // Force visuals to recompute their matrix and take\n        // screen matrix in account\n        for (visual in app.visuals) {\n            visual.matrixDirty = true;\n        }\n\n    } //updateTransform\n\n/// Match visuals to x,y\n\n    function matchFirstDownListener(x:Float, y:Float):Visual {\n\n        app.computeHierarchy();\n\n        var visuals = app.visuals;\n        var i = visuals.length - 1;\n        while (i >= 0) {\n\n            var visual = visuals[i];\n            if (visual.computedTouchable && visual.listensPointerDown() && visual.hits(x, y)) {\n                return visual;\n            }\n\n            i--;\n        }\n\n        return null;\n\n    } //matchFirstDownListener\n\n    function matchFirstOverListener(x:Float, y:Float):Visual {\n\n        app.computeHierarchy();\n\n        var visuals = app.visuals;\n        var i = visuals.length - 1;\n        while (i >= 0) {\n\n            var visual = visuals[i];\n            if (visual.computedTouchable && visual.listensPointerOver() && visual.hits(x, y)) {\n                return visual;\n            }\n\n            i--;\n        }\n\n        return null;\n\n    } //matchFirstOverListener\n\n/// Touch/Mouse events\n\n    inline function willEmitMultiTouchPointerDown(info:TouchInfo):Void {\n\n        if (info.buttonId != -1) {\n            // Mouse\n            mouseX = info.x;\n            mouseY = info.y;\n        }\n        \n        if (info.touchIndex != -1) {\n            // Touch\n            var pointer = touches.get(info.touchIndex);\n            if (pointer == null) {\n                pointer = { x: info.x, y: info.y };\n                touches.set(info.touchIndex, pointer);\n            } else {\n                pointer.x = info.x;\n                pointer.y = info.y;\n            }\n        }\n\n        updatePointer();\n\n    } //willEmitMultiTouchPointerDown\n\n    inline function willEmitMultiTouchPointerUp(info:TouchInfo):Void {\n\n        if (info.buttonId != -1) {\n            // Mouse\n            mouseX = info.x;\n            mouseY = info.y;\n        }\n\n        if (info.touchIndex != -1) {\n            // Touch\n            var pointer = touches.get(info.touchIndex);\n            if (pointer == null) {\n                pointer = { x: info.x, y: info.y };\n                touches.set(info.touchIndex, pointer);\n            } else {\n                pointer.x = info.x;\n                pointer.y = info.y;\n            }\n        }\n\n        updatePointer();\n\n        if (info.touchIndex != -1) {\n            // Touch\n            touches.remove(info.touchIndex);\n        }\n\n    } //willEmitMultiTouchPointerUp\n\n    inline function willEmitMultiTouchPointerMove(info:TouchInfo):Void {\n\n        if (info.buttonId != -1) {\n            // Mouse\n            mouseX = info.x;\n            mouseY = info.y;\n        }\n\n        if (info.touchIndex != -1) {\n            // Touch\n            var pointer = touches.get(info.touchIndex);\n            if (pointer == null) {\n                pointer = { x: info.x, y: info.y };\n                touches.set(info.touchIndex, pointer);\n            } else {\n                pointer.x = info.x;\n                pointer.y = info.y;\n            }\n        }\n\n        updatePointer();\n\n    } //willEmitMultiTouchPointerMove\n\n    inline function updatePointer():Void {\n\n        // Touches?\n        //\n        var numTouchPointers = 0;\n        var pX = 0.0;\n        var pY = 0.0;\n        for (pointer in touches) {\n            if (pointer == null) continue; // Why does this happen?\n            numTouchPointers++;\n            pX += pointer.x;\n            pY += pointer.y;\n        }\n        if (numTouchPointers > 0) {\n            pointerX = pX / numTouchPointers;\n            pointerY = pY / numTouchPointers;\n        }\n        // Or mouse\n        //\n        else {\n            pointerX = mouseX;\n            pointerY = mouseY;\n        }\n\n    } //updatePointer\n\n    var matchedDownListeners:Map<Int,Visual> = new Map();\n\n    var matchedOverListeners:Map<Int,Visual> = new Map();\n\n    inline function didEmitMouseDown(buttonId:Int, x:Float, y:Float):Void {\n\n        var matched = matchFirstDownListener(x, y);\n        if (matched != null) {\n            matched._numPointerDown++;\n            if (matched._numPointerDown == 1 || matched.multiTouch) {\n                screen.focusedVisual = matched;\n                matched.emitPointerDown({\n                    touchIndex: -1,\n                    buttonId: buttonId,\n                    x: x,\n                    y: y,\n                    hits: true\n                });\n            }\n        }\n        var id = 10000 + buttonId;\n        matchedDownListeners.set(id, matched);\n\n    } //didEmitMouseDown\n\n    inline function didEmitMouseUp(buttonId:Int, x:Float, y:Float):Void {\n\n        var id = 10000 + buttonId;\n        var matched = matchedDownListeners.get(id);\n        if (matched != null && !matched.destroyed && matched._numPointerDown > 0) {\n            matched._numPointerDown--;\n            if (matched._numPointerDown == 0 || matched.multiTouch) {\n                matched.emitPointerUp({\n                    touchIndex: -1,\n                    buttonId: buttonId,\n                    x: x,\n                    y: y,\n                    hits: matched.hits(x, y)\n                });\n            }\n        }\n        matchedDownListeners.remove(id);\n\n    } //didEmitMouseUp\n\n    inline function didEmitMouseMove(x:Float, y:Float):Void {\n\n        var id = 10000;\n        var prevMatched = matchedOverListeners.get(id);\n        var matched = matchFirstOverListener(x, y);\n        if (matched != prevMatched) {\n            if (matched != null) {\n                matchedOverListeners.set(id, matched);\n            } else {\n                matchedOverListeners.remove(id);\n            }\n        }\n        if (prevMatched != null && prevMatched != matched && !prevMatched.destroyed && prevMatched._numPointerOver > 0) {\n            prevMatched._numPointerOver--;\n            if (prevMatched._numPointerOver == 0 || prevMatched.multiTouch) {\n                prevMatched.emitPointerOut({\n                    touchIndex: -1,\n                    buttonId: -1,\n                    x: x,\n                    y: y,\n                    hits: false\n                });\n            }\n        }\n        if (matched != null && prevMatched != matched) {\n            matched._numPointerOver++;\n            if (matched._numPointerOver == 1 || matched.multiTouch) {\n                matched.emitPointerOver({\n                    touchIndex: -1,\n                    buttonId: -1,\n                    x: x,\n                    y: y,\n                    hits: true\n                });\n            }\n        }\n\n    } //didEmitMouseMove\n\n    inline function didEmitTouchDown(touchIndex:Int, x:Float, y:Float):Void {\n\n        var matched = matchFirstDownListener(x, y);\n        if (matched != null) {\n            matched._numPointerDown++;\n            if (matched._numPointerDown == 1 || matched.multiTouch) {\n                screen.focusedVisual = matched;\n                matched.emitPointerDown({\n                    touchIndex: touchIndex,\n                    buttonId: -1,\n                    x: x,\n                    y: y,\n                    hits: true\n                });\n            }\n        }\n        var id = 20000 + touchIndex;\n        matchedDownListeners.set(id, matched);\n\n    } //didEmitTouchDown\n\n    inline function didEmitTouchUp(touchIndex:Int, x:Float, y:Float):Void {\n\n        var id = 20000 + touchIndex;\n        var matched = matchedDownListeners.get(id);\n        if (matched != null && !matched.destroyed && matched._numPointerDown > 0) {\n            matched._numPointerDown--;\n            if (matched._numPointerDown == 0 || matched.multiTouch) {\n                matched.emitPointerUp({\n                    touchIndex: touchIndex,\n                    buttonId: -1,\n                    x: x,\n                    y: y,\n                    hits: matched.hits(x, y)\n                });\n            }\n        }\n        matchedDownListeners.remove(id);\n\n    } //didEmitTouchUp\n\n    inline function didEmitTouchMove(touchIndex:Int, x:Float, y:Float):Void {\n\n        var id = 20000 + touchIndex;\n        var prevMatched = matchedOverListeners.get(id);\n        var matched = matchFirstOverListener(x, y);\n        if (matched != prevMatched) {\n            if (matched != null) {\n                matchedOverListeners.set(id, matched);\n            } else {\n                matchedOverListeners.remove(id);\n            }\n        }\n        if (prevMatched != null && prevMatched != matched && !prevMatched.destroyed && prevMatched._numPointerOver > 0) {\n            prevMatched._numPointerOver--;\n            if (prevMatched._numPointerOver == 0 || prevMatched.multiTouch) {\n                prevMatched.emitPointerOut({\n                    touchIndex: -1,\n                    buttonId: -1,\n                    x: x,\n                    y: y,\n                    hits: false\n                });\n            }\n        }\n        if (matched != null && prevMatched != matched) {\n            matched._numPointerOver++;\n            if (matched._numPointerOver == 1 || matched.multiTouch) {\n                matched.emitPointerOver({\n                    touchIndex: -1,\n                    buttonId: -1,\n                    x: x,\n                    y: y,\n                    hits: true\n                });\n            }\n        }\n\n    } //didEmitTouchMove\n\n}\n","package ceramic;\n\nclass Settings implements Observable {\n\n    @:allow(ceramic.App)\n    private function new() {}\n\n    /** Target width. Affects window size at startup\n        and affects screen scaling at any time.\n        Ignored if set to 0 (default) */\n    @observable public var targetWidth:Int = 0;\n\n    /** Target height. Affects window size at startup\n        and affects screen scaling at any time.\n        Ignored if set to 0 (default) */\n    @observable public var targetHeight:Int = 0;\n\n    /** Target density. Affects the quality of textures\n        being loaded. Changing it at runtime will update\n        texture quality if needed.\n        Ignored if set to 0 (default) */\n    @observable public var targetDensity:Int = 0;\n\n    /** Background color. */\n    @observable public var background:Color = Color.BLACK;\n\n    /** Screen scaling (FIT or FILL). */\n    @observable public var scaling:ScreenScaling = FIT;\n\n    /** App window title.\n        Can only be set at `app startup` from `Project constructor`. */\n    public var title(default,null):String = 'App';\n\n    /** Whether antialiasing is enabled or not. */\n    public var antialiasing(default,null):Bool = true;\n\n    /** Whether the window can be resized or not. */\n    public var resizable(default,null):Bool = false;\n\n    /** Assets path. */\n    public var assetsPath(default,null):String = 'assets';\n\n    /** Settings passed to backend. */\n    public var backend(default,null):Dynamic = {};\n\n}\n","package ceramic;\n\nimport ceramic.Assets;\nimport ceramic.Color;\nimport ceramic.AlphaColor;\nimport ceramic.Texture;\nimport ceramic.Shortcuts.*;\n\nusing StringTools;\n\nclass Shader extends Entity {\n\n    public var backendItem:backend.Shader;\n\n    public var asset:ShaderAsset;\n\n/// Lifecycle\n\n    public function new(backendItem:backend.Shader) {\n\n        this.backendItem = backendItem;\n\n    } //new\n\n    public function destroy() {\n\n        if (asset != null) asset.destroy();\n\n        app.backend.shaders.destroy(backendItem);\n        backendItem = null;\n\n    } //destroy\n\n/// Public API\n\n    inline public function setInt(name:String, value:Int):Void {\n\n        app.backend.shaders.setInt(backendItem, name, value);\n\n    } //setInt\n\n    inline public function setFloat(name:String, value:Float):Void {\n\n        app.backend.shaders.setFloat(backendItem, name, value);\n\n    } //setFloat\n\n    inline public function setColor(name:String, color:Color):Void {\n\n        app.backend.shaders.setColor(backendItem, name, color.redFloat, color.greenFloat, color.blueFloat, 1.0);\n\n    } //setColor\n\n    inline public function setAlphaColor(name:String, color:AlphaColor):Void {\n\n        app.backend.shaders.setColor(backendItem, name, color.redFloat, color.greenFloat, color.blueFloat, color.alphaFloat);\n\n    } //setAlphaColor\n\n    inline public function setVec2(name:String, x:Float, y:Float):Void {\n\n        app.backend.shaders.setVec2(backendItem, name, x, y);\n\n    } //setVec2\n\n    inline public function setVec3(name:String, x:Float, y:Float, z:Float):Void {\n\n        app.backend.shaders.setVec3(backendItem, name, x, y, z);\n\n    } //setVec3\n\n    inline public function setVec4(name:String, x:Float, y:Float, z:Float, w:Float):Void {\n\n        app.backend.shaders.setVec4(backendItem, name, x, y, z, w);\n\n    } //setVec4\n\n    inline public function setTexture(name:String, texture:Texture):Void {\n\n        app.backend.shaders.setTexture(backendItem, name, texture.backendItem);\n\n    } //setTexture\n\n/// Print\n\n    function toString():String {\n\n        if (id != null) {\n            var name = id;\n            if (name.startsWith('shader:')) name = name.substr(7);\n            if (asset != null && asset.options.vertId != null || asset.options.fragId != null) {\n                var vertId = asset.options.vertId != null ? asset.options.vertId : 'default';\n                var fragId = asset.options.fragId != null ? asset.options.fragId : 'default';\n                return 'Shader($name $vertId $fragId)';\n            }\n            else {\n                return 'Shader($name)';\n            }\n        } else {\n            return 'Shader()';\n        }\n\n    } //toString\n\n} //Shader","package ceramic;\n\nimport ceramic.Shortcuts.*;\n\nimport haxe.io.Path;\n\nusing StringTools;\n\nclass ShaderAsset extends Asset {\n\n    public var shader:Shader = null;\n\n    override public function new(name:String, ?options:AssetOptions) {\n\n        super('shader', name, options);\n\n    } //name\n\n    override public function load() {\n\n        status = LOADING;\n\n        if (path == null) {\n            warning('Cannot load shader asset if path is undefined.');\n            status = BROKEN;\n            emitComplete(false);\n            return;\n        }\n        \n        // Compute vertex and fragment shader paths\n        if (path != null && (path.toLowerCase().endsWith('.frag') || path.toLowerCase().endsWith('.vert'))) {\n            var paths = Assets.allByName.get(name);\n            if (options.fragId == null) {\n                for (path in paths) {\n                    if (path.toLowerCase().endsWith('.frag')) {\n                        options.fragId = path;\n                        break;\n                    }\n                }\n            }\n            if (options.vertId == null) {\n                for (path in paths) {\n                    if (path.toLowerCase().endsWith('.vert')) {\n                        options.vertId = path;\n                        break;\n                    }\n                }\n            }\n\n            if (options.fragId != null || options.vertId != null) {\n                path = Path.directory(path);\n            }\n\n            log('Load shader' + (options.vertId != null ? ' ' + options.vertId : '') + (options.fragId != null ? ' ' + options.fragId : ''));\n        }\n        else {\n            log('Load shader $path');\n        }\n\n        app.backend.shaders.load(path, {\n            fragId: options.fragId,\n            vertId: options.vertId,\n            noDefaultUniforms: options.noDefaultUniforms\n        }, function(shader) {\n\n            if (shader != null) {\n                this.shader = new Shader(shader);\n                this.shader.asset = this;\n                status = READY;\n                emitComplete(true);\n            }\n            else {\n                status = BROKEN;\n                error('Failed to load shader at path: $path');\n                emitComplete(false);\n            }\n\n        });\n\n    } //load\n\n    function destroy():Void {\n\n        if (shader != null) {\n            shader.destroy();\n            shader = null;\n        }\n\n    } //destroy\n\n/// Print\n\n    function toString():String {\n\n        var className = 'ShaderAsset';\n\n        if (options.vertId != null || options.fragId != null) {\n            var vertId = options.vertId != null ? options.vertId : 'default';\n            var fragId = options.fragId != null ? options.fragId : 'default';\n            return '$className($name $vertId $fragId)';\n        }\n        else if (path != null && path.trim() != '') {\n            return '$className($name $path)';\n        } else {\n            return '$className($name)';\n        }\n\n    } //toString\n\n} //ShaderAsset\n","package ceramic;\n\nimport ceramic.App;\nimport ceramic.Screen;\nimport ceramic.Settings;\nimport haxe.PosInfos;\n\nimport haxe.macro.Context;\nimport haxe.macro.Expr;\n\n#if editor\nimport editor.Editor;\n#end\n\n/** Shortcuts adds convenience identifiers to access ceramic app, screen, ...\n    Use it by adding `import ceramic.Shortcuts.*;` in your files. */\nclass Shortcuts {\n\n    /** Shared app instance */\n    public static var app(get,never):App;\n    inline static function get_app():App { return App.app; }\n\n    /** Shared screen instance */\n    public static var screen(get,never):Screen;\n    inline static function get_screen():Screen { return App.app.screen; }\n\n    /** Shared settings instance */\n    public static var settings(get,never):Settings;\n    inline static function get_settings():Settings { return App.app.settings; }\n\n    /** Shared project instance */\n    /*\n    public static var project(get,never):Project;\n    inline static function get_project():Project { return App.app.project; }\n    */\n\n    /** Shared collections instance */\n    public static var collections(get,never):Collections;\n    inline static function get_collections():Collections { return App.app.collections; }\n\n#if editor\n\n    /** Shared editor instance */\n    public static var editor(get,never):Editor;\n    inline static function get_editor():Editor { return Editor.editor; }\n\n#end\n\n    /** Log message */\n    inline public static function log(value:Dynamic, ?pos:PosInfos) {\n        App.app.logger.log(value, pos);\n    }\n\n    /** Log success */\n    inline public static function success(value:Dynamic, ?pos:PosInfos) {\n        App.app.logger.success(value, pos);\n    }\n\n    /** Log warning */\n    inline public static function warning(value:Dynamic, ?pos:PosInfos) {\n        App.app.logger.warning(value, pos);\n    }\n\n    /** Log error */\n    inline public static function error(value:Dynamic, ?pos:PosInfos) {\n        App.app.logger.error(value, pos);\n    }\n\n    /** Assert */\n    macro public static function assert(expr:Expr, ?reason:ExprOf<String>) {\n\n#if debug\n        var str = haxe.macro.ExprTools.toString(expr);\n\n        reason = switch(reason) {\n            case macro null: macro '';\n            case _: macro ' ( ' + $reason + ' )';\n        }\n\n        return macro @:pos(Context.currentPos()) {\n            if (!$expr) throw '$str' + $reason;\n        }\n#else\n        return macro null;\n#end\n\n    } //assert\n\n} //Shortcuts\n","package ceramic;\n\nimport ceramic.Assets;\nimport ceramic.Shortcuts.*;\n\nclass Sound extends Entity {\n\n    public var backendItem:backend.AudioResource;\n\n    public var asset:SoundAsset;\n\n/// Lifecycle\n\n    public function new(backendItem:backend.AudioResource) {\n\n        this.backendItem = backendItem;\n\n    } //new\n\n    public function destroy() {\n\n        if (asset != null) asset.destroy();\n\n        app.backend.audio.destroy(backendItem);\n        backendItem = null;\n\n    } //destroy\n\n/// Public API\n\n    /** Default volume when playing this sound. */\n    public var volume:Float = 0.5;\n\n    /** Default pan when playing this sound. */\n    public var pan:Float = 0;\n\n    /** Default pitch when playing this sound. */\n    public var pitch:Float = 1;\n\n    /** Play the sound at requested position. If volume/pan/pitch are not provided,\n        sound instance properties will be used instead. */\n    public function play(position:Float = 0, loop:Bool = false, ?volume:Float, ?pan:Float, ?pitch:Float):SoundPlayer {\n\n        if (volume == null) volume = this.volume;\n        if (pan == null) pan = this.pan;\n        if (pitch == null) pitch = this.pitch;\n\n        return cast app.backend.audio.play(backendItem, volume, pan, pitch, position, loop);\n\n    } //play\n\n} //Sound\n","package ceramic;\n\nimport ceramic.Shortcuts.*;\n\nclass SoundAsset extends Asset {\n\n    public var stream:Bool = false;\n\n    public var sound:Sound = null;\n\n    override public function new(name:String, ?options:AssetOptions) {\n\n        super('sound', name, options);\n\n    } //name\n\n    override public function load() {\n\n        status = LOADING;\n\n        if (path == null) {\n            warning('Cannot load sound asset if path is undefined.');\n            status = BROKEN;\n            emitComplete(false);\n            return;\n        }\n\n        log('Load sound $path');\n        app.backend.audio.load(path, { stream: options.stream }, function(audio) {\n\n            if (audio != null) {\n                this.sound = new Sound(audio);\n                this.sound.asset = this;\n                status = READY;\n                emitComplete(true);\n            }\n            else {\n                status = BROKEN;\n                error('Failed to load audio at path: $path');\n                emitComplete(false);\n            }\n\n        });\n\n    } //load\n\n    function destroy():Void {\n\n        if (sound != null) {\n            sound.destroy();\n            sound = null;\n        }\n\n    } //destroy\n\n} //SoundAsset\n","package ceramic;\n\nimport ceramic.App.app;\n\nabstract SoundPlayer(backend.AudioHandle) {\n\n    /** Pause the sound (for later resume). */\n    inline public function pause():Void {\n\n        app.backend.audio.pause(this);\n\n    } //pause\n\n    /** Resume playing the sound. */\n    inline public function resume():Void {\n\n        app.backend.audio.resume(this);\n\n    } //resume\n\n    /** Stop the sound. */\n    inline public function stop():Void {\n\n        app.backend.audio.stop(this);\n\n    } //stop\n\n    /** The volume of the sound being played. */\n    public var volume(get,set):Float;\n    inline function get_volume():Float {\n        return app.backend.audio.getVolume(this);\n    }\n    inline function set_volume(volume:Float):Float {\n        app.backend.audio.setVolume(this, volume);\n        return volume;\n    }\n\n    /** The pan of the sound being played. */\n    public var pan(get,set):Float;\n    inline function get_pan():Float {\n        return app.backend.audio.getPan(this);\n    }\n    inline function set_pan(pan:Float):Float {\n        app.backend.audio.setPan(this, pan);\n        return pan;\n    }\n\n    /** The pitch of the sound being played. */\n    public var pitch(get,set):Float;\n    inline function get_pitch():Float {\n        return app.backend.audio.getPitch(this);\n    }\n    inline function set_pitch(pitch:Float):Float {\n        app.backend.audio.setPitch(this, pitch);\n        return pitch;\n    }\n\n    /** The position (in seconds) of the sound being played. */\n    public var position(get,set):Float;\n    inline function get_position():Float {\n        return app.backend.audio.getPosition(this);\n    }\n    inline function set_position(position:Float):Float {\n        app.backend.audio.setPosition(this, position);\n        return position;\n    }\n\n} //SoundPlayer\n","package ceramic;\n\nimport ceramic.BitmapFont;\nimport ceramic.Assets;\nimport ceramic.Shortcuts.*;\n\nusing unifill.Unifill;\n\n@editable({ implicitSize: true })\nclass Text extends Visual {\n\n    @editable\n    public var color(default,set):Color = Color.WHITE;\n    function set_color(color:Color):Color {\n        if (this.color == color) return color;\n        this.color = color;\n\n        // Ensure text glyphs have the requested color\n        for (quad in glyphQuads) {\n            quad.color = color;\n        }\n\n        return color;\n    }\n\n    @editable({ multiline: true })\n    public var content(default,set):String = '';\n    function set_content(content:String):String {\n        if (this.content == content) return content;\n        contentDirty = true;\n        this.content = content;\n        return content;\n    }\n\n    @editable\n    public var pointSize(default,set):Float = 20;\n    function set_pointSize(pointSize:Float):Float {\n        if (this.pointSize == pointSize) return pointSize;\n        contentDirty = true;\n        this.pointSize = pointSize;\n        return pointSize;\n    }\n\n    @editable\n    public var lineHeight(default,set):Float = 1.0;\n    function set_lineHeight(lineHeight:Float):Float {\n        if (this.lineHeight == lineHeight) return lineHeight;\n        contentDirty = true;\n        this.lineHeight = lineHeight;\n        return lineHeight;\n    }\n\n    @editable\n    public var letterSpacing(default,set):Float = 0.0;\n    function set_letterSpacing(letterSpacing:Float):Float {\n        if (this.letterSpacing == letterSpacing) return letterSpacing;\n        contentDirty = true;\n        this.letterSpacing = letterSpacing;\n        return letterSpacing;\n    }\n\n    @editable\n    public var font(default,set):BitmapFont;\n    function set_font(font:BitmapFont):BitmapFont {\n        \n        if (font == null) {\n            font = app.defaultFont;\n        }\n\n        if (this.font == font) return font;\n\n        // Unbind previous font destroy event\n        if (this.font != null) {\n            this.font.offDestroy(fontDestroyed);\n            if (this.font.asset != null) this.font.asset.release();\n        }\n\n        contentDirty = true;\n        this.font = font;\n\n        if (this.font != null) {\n            // Ensure we remove the font if it gets destroyed\n            this.font.onDestroy(this, fontDestroyed);\n            if (this.font.asset != null) this.font.asset.retain();\n        }\n\n        return font;\n    }\n\n    @editable\n    public var align(default,set):TextAlign = LEFT;\n    function set_align(align:TextAlign):TextAlign {\n        if (this.align == align) return align;\n        contentDirty = true;\n        this.align = align;\n        return align;\n    }\n\n/// Overrides\n\n    override function set_depth(depth:Float):Float {\n        if (this.depth == depth) return depth;\n\n        // Ensure text glyphs have the requested depth\n        for (quad in glyphQuads) {\n            quad.depth = depth;\n        }\n\n        return super.set_depth(depth);\n    }\n\n    override function get_width():Float {\n        if (contentDirty) computeContent();\n        return super.get_width();\n    }\n\n    function scaleWidth(targetWidth:Float):Void {\n        // Only adjust scaleX to match requested width\n        if (_height == targetWidth) return;\n        scaleX = targetWidth / _width;\n        matrixDirty = true;\n    }\n\n    override function get_height():Float {\n        if (contentDirty) computeContent();\n        return super.get_height();\n    }\n\n    function scaleHeight(targetHeight:Float):Void {\n        // Only adjust scaleY to match requested height\n        if (_height == targetHeight) return;\n        scaleY = targetHeight / _height;\n        matrixDirty = true;\n    }\n\n    override function set_blending(blending:Blending):Blending {\n        if (this.blending == blending) return blending;\n        this.blending = blending;\n        if (glyphQuads != null) {\n            for (quad in glyphQuads) {\n                quad.blending = blending;\n            }\n        }\n        return blending;\n    }\n\n/// Lifecycle\n\n    override public function new() {\n\n        super();\n\n        // Default font\n        font = app.defaultFont;\n\n    } //new\n\n    function destroy() {\n\n        glyphQuads = null;\n\n    } //destroy\n\n/// Display\n\n    var glyphQuads:Array<Quad> = [];\n\n    override function computeContent() {\n\n        if (font == null) {\n            width = 0;\n            height = 0;\n            contentDirty = false;\n            return;\n        }\n\n        var x = 0.0;\n        var y = 0.0;\n        var len = content.uLength();\n        var sizeFactor = pointSize / font.pointSize;\n        var char = null;\n        var code = -1;\n        var prevChar = null;\n        var prevCode = -1;\n        var i = 0;\n        var glyph:BitmapFontCharacter = null;\n        var lineWidths:Array<Float> = [];\n        var lineQuads:Array<Array<Quad>> = [[]];\n        var usedQuads = 0;\n        \n        while (i < len) {\n\n            prevChar = char;\n            prevCode = code;\n            char = content.uCharAt(i);\n            code = char.uCharCodeAt(0);\n\n            if (char == \"\\n\") {\n                prevChar = null;\n                prevCode = 0;\n                i++;\n                y += lineHeight * font.lineHeight * sizeFactor;\n                lineWidths.push(x + (glyph != null ? (glyph.xOffset + glyph.width - glyph.xAdvance) * sizeFactor - letterSpacing : 0));\n                lineQuads.push([]);\n                x = 0;\n                continue;\n            }\n\n            glyph = font.chars.get(code);\n            if (glyph == null) {\n                i++;\n                continue;\n            }\n\n            if (prevChar != null) {\n                x += font.kerning(prevCode, code) * sizeFactor;\n            }\n\n            // Reuse or create quad\n            var quad:Quad = usedQuads < glyphQuads.length ? glyphQuads[usedQuads] : null;\n            if (quad == null) {\n                quad = new Quad();\n                glyphQuads.push(quad);\n                add(quad);\n            }\n            usedQuads++;\n\n            quad.texture = font.pages.get(glyph.page);\n            quad.color = color;\n            quad.depth = depth;\n            quad.blending = blending;\n            quad.frame(\n                glyph.x / quad.texture.density,\n                glyph.y / quad.texture.density,\n                glyph.width / quad.texture.density,\n                glyph.height / quad.texture.density\n            );\n            quad.anchor(0, 0);\n            quad.pos(x + glyph.xOffset * sizeFactor, y + glyph.yOffset * sizeFactor);\n            quad.size(glyph.width * sizeFactor, glyph.height * sizeFactor);\n\n            x += glyph.xAdvance * sizeFactor + letterSpacing;\n            lineQuads[lineQuads.length-1].push(quad);\n\n            i++;\n\n        }\n\n        if (x > 0) {\n            lineWidths.push(x + (glyph != null ? (glyph.xOffset + glyph.width - glyph.xAdvance) * sizeFactor - letterSpacing : 0));\n        }\n\n        // Remove unused quads\n        while (usedQuads < glyphQuads.length) {\n            var quad = glyphQuads.pop();\n            quad.destroy();\n        }\n\n        // Compute width/height from content\n        var maxLineWidth = 0.0;\n        for (lineWidth in lineWidths) {\n            maxLineWidth = Math.max(lineWidth, maxLineWidth);\n        }\n        this.width = maxLineWidth;\n        this.height = (lineWidths.length - 1) * lineHeight * font.lineHeight * sizeFactor + font.lineHeight * sizeFactor;\n\n        // Align quads as requested\n        switch (align) {\n            case CENTER:\n                for (i in 0...lineWidths.length) {\n                    var diffX = (maxLineWidth - lineWidths[i]) * 0.5;\n                    for (quad in lineQuads[i]) {\n                        quad.x += diffX;\n                    }\n                }\n            case RIGHT:\n                for (i in 0...lineWidths.length) {\n                    var diffX = maxLineWidth - lineWidths[i];\n                    for (quad in lineQuads[i]) {\n                        quad.x += diffX;\n                    }\n                }\n            default:\n        }\n        \n        contentDirty = false;\n\n    } //computeContent\n\n/// Font destroyed\n\n    function fontDestroyed() {\n\n        // Remove font (and set default one) because it has been destroyed\n        this.font = app.defaultFont;\n\n    } //fontDestroyed\n\n/// Print\n\n    function toString():String {\n\n        if (id != null) {\n            return 'Text($id $content)';\n        } else {\n            return 'Text($content)';\n        }\n\n    } //toString\n\n} //Text\n","package ceramic;\n\nimport ceramic.Shortcuts.*;\n\nclass TextAsset extends Asset {\n\n    public var text:String = null;\n\n    override public function new(name:String, ?options:AssetOptions) {\n\n        super('text', name, options);\n\n    } //name\n\n    override public function load() {\n\n        status = LOADING;\n\n        if (path == null) {\n            warning('Cannot load text asset if path is undefined.');\n            status = BROKEN;\n            emitComplete(false);\n            return;\n        }\n\n        log('Load text $path');\n        app.backend.texts.load(path, function(text) {\n\n            if (text != null) {\n                this.text = text;\n                status = READY;\n                emitComplete(true);\n            }\n            else {\n                status = BROKEN;\n                error('Failed to load text at path: $path');\n                emitComplete(false);\n            }\n\n        });\n\n    } //load\n\n    function destroy():Void {\n\n        text = null;\n\n    } //destroy\n\n} //TextAsset\n","package ceramic;\n\nclass Timer {\n\n    static var callbacks:Array<TimerCallback> = [];\n    static var next:Float = 999999999;\n\n    /** Current time, relative to app.\n        (number of active seconds since app was started) */\n    public static var now:Float = 0;\n\n    @:allow(ceramic.App)\n    static function update(delta:Float):Void {\n\n        now += delta;\n\n        if (next <= now) {\n\n            next = 999999999;\n            var prevCallbacks = callbacks;\n            callbacks = [];\n\n            for (callback in prevCallbacks) {\n                if (callback.time <= now) {\n                    callback.callback();\n                    callback.called = true;\n                }\n                else {\n                    callbacks.push(callback);\n                    next = Math.min(callback.time, next);\n                }\n            }\n        }\n\n    } //update\n\n// Public API\n\n    public static function delay(seconds:Float, callback:Void->Void):Void {\n\n        var time = now + seconds;\n        next = Math.min(time, next);\n\n        callbacks.push(new TimerCallback(callback, time));\n\n    } //delay\n\n} //Timer\n\nclass TimerCallback {\n\n    public var callback:Void->Void;\n    public var time:Float;\n    public var called:Bool = false;\n\n    public function new(callback:Void->Void, time:Float) {\n\n        this.callback = callback;\n        this.time = time;\n\n    } //new\n\n} //TimerCallback\n","package ceramic;\n\n@:structInit\nclass TouchInfo {\n\n    /** If the input is a touch input, this is the index of the touch.\n        Otherwise it will be -1.*/\n    public var touchIndex(default,null):Int;\n\n    /** If the input is a mouse input, this is the id of the mouse button.\n        Otherwise it will be -1.*/\n    public var buttonId(default,null):Int;\n\n    /** X coordinate of the input. */\n    public var x(default,null):Float;\n\n    /** Y coordinate of the input. */\n    public var y(default, null):Float;\n\n    /** Whether these info do hit the related visual. This is usually `true`,\n        Except when we have touch/mouse up events outside of a visual that\n        initially received a down event. */\n    public var hits(default, null):Bool;\n\n/// Print\n\n    function toString():String {\n\n        return '' + {\n            touchIndex: touchIndex,\n            buttonId: buttonId,\n            x: x,\n            y: y,\n            hits: hits\n        };\n\n    } //toString\n\n} //TouchInfo\n","package ceramic;\n\n@:allow(ceramic.Screen)\nabstract Touches(Map<Int,Touch>) {\n    \n    /**\n        Creates a new Touches map.\n\n        This becomes a constructor call to one of the specialization types in\n        the output. The rules for that are as follows:\n\n        1. if K is a `String`, `haxe.ds.StringMap` is used\n        2. if K is an `Int`, `haxe.ds.IntMap` is used\n        3. if K is an `EnumValue`, `haxe.ds.EnumValueMap` is used\n        4. if K is any other class or structure, `haxe.ds.ObjectMap` is used\n        5. if K is any other type, it causes a compile-time error\n\n        (Cpp) Map does not use weak indexs on ObjectMap by default.\n    **/\n    public function new() {\n        this = new Map<Int,Touch>();\n    }\n\n    /**\n        Maps `index` to `touch`.\n\n        If `index` already has a mapping, the previous touch disappears.\n\n        If `index` is null, the result is unspecified.\n    **/\n    private inline function set(index:Int, touch:Touch) this.set(index, touch);\n\n    /**\n        Returns the current mapping of `index`.\n\n        If no such mapping exists, null is returned.\n\n        Note that a check like `map.get(index) == null` can hold for two reasons:\n\n        1. the map has no mapping for `index`\n        2. the map has a mapping with a touch of `null`\n\n        If it is important to distinguish these cases, `exists()` should be\n        used.\n\n        If `index` is null, the result is unspecified.\n    **/\n    @:arrayAccess public inline function get(index:Int) return this.get(index);\n\n    /**\n        Returns true if `index` has a mapping, false otherwise.\n\n        If `index` is null, the result is unspecified.\n    **/\n    public inline function exists(index:Int) return this.exists(index);\n\n    /**\n        Removes the mapping of `index` and returns true if such a mapping existed,\n        false otherwise.\n\n        If `index` is null, the result is unspecified.\n    **/\n    private inline function remove(index:Int) return this.remove(index);\n\n    /**\n        Returns an Iterator over the indexs of `this` Map.\n\n        The order of indexs is undefined.\n    **/\n    public inline function indexes():Iterator<Int> {\n        return this.keys();\n    }\n\n    /**\n        Returns an Iterator over the touchs of `this` Map.\n\n        The order of touchs is undefined.\n    **/\n    public inline function iterator():Iterator<Touch> {\n        return this.iterator();\n    }\n\n    /**\n        Returns a String representation of `this` Touches.\n\n        The exact representation depends on the platform and index-type.\n    **/\n    public inline function toString():String {\n        return this.toString();\n    }\n\n    @:arrayAccess @:noCompletion public inline function arrayWrite(k:Int, v:Touch):Touch {\n        this.set(k, v);\n        return v;\n    }\n\n    /** Get the number of touches. Each access requires to count the elements in mapping. */\n    public var length(get,never):Int;\n    inline function get_length():Int { return Lambda.count(this); }\n\n} //Touches\n","package ceramic;\n\nimport ceramic.internal.PlatformSpecific;\n\nimport haxe.rtti.CType;\n\nusing StringTools;\n\n/** Various utilities. Some of them are used by ceramic itself or its backends. */\nclass Utils {\n\n    public static function realPath(path:String):String {\n\n        path = haxe.io.Path.isAbsolute(path) || path.startsWith('http://') || path.startsWith('https://') ?\n            path\n        :\n            haxe.io.Path.join([ceramic.App.app.settings.assetsPath, path]);\n\n        return path;\n\n    } //realPath\n\n\tinline public static function getRtti<T>(c:Class<T>):Classdef {\n\n\t\treturn PlatformSpecific.getRtti(c);\n\n\t} //getRtti\n\n} //Utils\n","package ceramic.internal;\n\nimport haxe.rtti.CType;\nimport haxe.rtti.Rtti;\n\n#if (bind && android && snow)\nimport bind.java.Support;\n#end\n\n#if cpp\nimport sys.io.File;\nimport sys.FileSystem;\nimport haxe.crypto.Md5;\n#end\n\n/** An internal class that encapsulate platform-specific code.\n    We usually want platform-specific code to be located in a backend,\n    but it may happen that sometimes creating a backend interface is overkill.\n    That's where this comes handy. */\nclass PlatformSpecific {\n\n    public static function postAppInit():Void {\n\n#if (bind && android && snow)\n        // A hook to flush java runnables that need to be run from Haxe thread\n        ceramic.App.app.onUpdate(function(_) {\n            bind.java.Support.flushRunnables();\n        });\n#end\n\n    } //postAppInit\n\n    public static function getRtti<T>(c:Class<T>):Classdef {\n#if (cpp && snow)\n\t\t// For some unknown reason, app is crashing on some c++ platforms when trying to access `__rtti` field\n\t\t// As a workaround, we export rtti data into external asset files at compile time and read them\n\t\t// at runtime to get the same information.\n\t\tvar rtti = null;\n\t\tvar cStr = '' + c;\n        var root = '';\n#if (ios || tvos)\n        root = 'assets/';\n#end\n\t\tvar xmlPath = haxe.io.Path.join([root, 'assets', 'rtti', Md5.encode(cStr + '.xml')]);\n\t\trtti = @:privateAccess Luxe.snow.io.module._data_load(xmlPath).toBytes().toString();\n\n\t\tif (rtti == null) {\n\t\t\tthrow 'Class ${Type.getClassName(c)} has no RTTI information, consider adding @:rtti';\n\t\t}\n\n\t\tvar x = Xml.parse(rtti).firstElement();\n\t\tvar infos = new haxe.rtti.XmlParser().processElement(x);\n\t\tswitch (infos) {\n\t\t\tcase TClassdecl(c): return c;\n\t\t\tcase t: throw 'Enum mismatch: expected TClassDecl but found $t';\n\t\t}\n#else\n\t\treturn Rtti.getRtti(c);\n#end\n    }\n\n} //PlatformSpecific\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage haxe;\n\n/**\n\tElements return by `CallStack` methods.\n**/\nenum StackItem {\n\tCFunction;\n\tModule( m : String );\n\tFilePos( s : Null<StackItem>, file : String, line : Int );\n\tMethod( classname : String, method : String );\n\tLocalFunction( ?v : Int );\n}\n\n/**\n\tGet information about the call stack.\n**/\nclass CallStack {\n\t#if js\n\tstatic var lastException:js.Error;\n\n\tstatic function getStack(e:js.Error):Array<StackItem> {\n\t\tif (e == null) return [];\n\t\t// https://code.google.com/p/v8/wiki/JavaScriptStackTraceApi\n\t\tvar oldValue = (untyped Error).prepareStackTrace;\n\t\t(untyped Error).prepareStackTrace = function (error, callsites :Array<Dynamic>) {\n\t\t\tvar stack = [];\n\t\t\tfor (site in callsites) {\n\t\t\t\tif (wrapCallSite != null) site = wrapCallSite(site);\n\t\t\t\tvar method = null;\n\t\t\t\tvar fullName :String = site.getFunctionName();\n\t\t\t\tif (fullName != null) {\n\t\t\t\t\tvar idx = fullName.lastIndexOf(\".\");\n\t\t\t\t\tif (idx >= 0) {\n\t\t\t\t\t\tvar className = fullName.substr(0, idx);\n\t\t\t\t\t\tvar methodName = fullName.substr(idx+1);\n\t\t\t\t\t\tmethod = Method(className, methodName);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstack.push(FilePos(method, site.getFileName(), site.getLineNumber()));\n\t\t\t}\n\t\t\treturn stack;\n\t\t}\n\t\tvar a = makeStack(e.stack);\n\t\t(untyped Error).prepareStackTrace = oldValue;\n\t\treturn a;\n\t}\n\n\t// support for source-map-support module\n\t@:noCompletion\n\tpublic static var wrapCallSite:Dynamic->Dynamic;\n\t#end\n\n\t/**\n\t\tReturn the call stack elements, or an empty array if not available.\n\t**/\n\tpublic static function callStack() : Array<StackItem> {\n\t\t#if neko\n\t\t\tvar a = makeStack(untyped __dollar__callstack());\n\t\t\ta.shift(); // remove Stack.callStack()\n\t\t\treturn a;\n\t\t#elseif flash\n\t\t\tvar a = makeStack( new flash.errors.Error().getStackTrace() );\n\t\t\ta.shift(); // remove Stack.callStack()\n\t\t\treturn a;\n\t\t#elseif php\n\t\t\treturn makeStack(\"%s\");\n\t\t#elseif cpp\n\t\t\tvar s:Array<String> = untyped __global__.__hxcpp_get_call_stack(true);\n\t\t\treturn makeStack(s);\n\t\t#elseif js\n\t\t\ttry {\n\t\t\t\tthrow new js.Error();\n\t\t\t} catch( e : Dynamic ) {\n\t\t\t\tvar a = getStack(e);\n\t\t\t\ta.shift(); // remove Stack.callStack()\n\t\t\t\treturn a;\n\t\t\t}\n\n\t\t#elseif java\n\t\t\tvar stack = [];\n\t\t\tfor ( el in java.lang.Thread.currentThread().getStackTrace() ) {\n\t\t\t\tvar className = el.getClassName();\n\t\t\t\tvar methodName = el.getMethodName();\n\t\t\t\tvar fileName = el.getFileName();\n\t\t\t\tvar lineNumber = el.getLineNumber();\n\t\t\t\tvar method = Method( className, methodName );\n\t\t\t\tif ( fileName != null || lineNumber >= 0 ) {\n\t\t\t\t\tstack.push( FilePos( method, fileName, lineNumber ) );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tstack.push( method );\n\t\t\t\t}\n\t\t\t}\n\t\t\tstack.shift();\n\t\t\tstack.shift();\n\t\t\tstack.pop();\n\t\t\treturn stack;\n\t\t#elseif cs\n\t\t\treturn makeStack(new cs.system.diagnostics.StackTrace(1, true));\n\t\t#elseif python\n\t\t\tvar stack = [];\n\t\t\tvar infos = python.lib.Traceback.extract_stack();\n\t\t\tinfos.pop();\n\t\t\tinfos.reverse();\n\t\t\tfor (elem in infos)\n\t\t\t\tstack.push(FilePos(null, elem._1, elem._2));\n\t\t\treturn stack;\n\t\t#elseif lua\n\t\t\tvar stack = [];\n\t\t\tvar infos = lua.Debug.traceback();\n\t\t\tvar luastack = infos.split(\"\\n\").slice(2,-1);\n\t\t\tfor (s in luastack){\n\t\t\t\tvar parts = s.split(\":\");\n\t\t\t\tvar file  = parts[0];\n\t\t\t\tvar line  = parts[1];\n\t\t\t\t// TODO: Give more information for FilePos\n\t\t\t\tstack.push(FilePos(null, file, Std.parseInt(line)));\n\t\t\t}\n\t\t\treturn stack;\n\t\t#elseif hl\n\t\t\ttry {\n\t\t\t\tthrow null;\n\t\t\t} catch( e : Dynamic ) {\n\t\t\t\tvar st = _getExceptionStack();\n\t\t\t\treturn makeStack(st.length > 2 ? st.sub(2,st.length - 2) : st);\n\t\t\t}\n\t\t#else\n\t\t\treturn []; // Unsupported\n\t\t#end\n\t}\n\n\t#if hl\n\t@:hlNative(\"std\", \"exception_stack\") static function _getExceptionStack() : hl.NativeArray<hl.Bytes> { return null; }\n\t#end\n\n\t/**\n\t\tReturn the exception stack : this is the stack elements between\n\t\tthe place the last exception was thrown and the place it was\n\t\tcaught, or an empty array if not available.\n\t**/\n\t#if cpp @:noDebug #end /* Do not mess up the exception stack */\n\tpublic static function exceptionStack() : Array<StackItem> {\n\t\t#if neko\n\t\t\treturn makeStack(untyped __dollar__excstack());\n\t\t#elseif as3\n\t\t\treturn new Array();\n\t\t#elseif hl\n\t\t\treturn makeStack(_getExceptionStack());\n\t\t#elseif flash\n\t\t\tvar err : flash.errors.Error = untyped flash.Boot.lastError;\n\t\t\tif( err == null ) return new Array();\n\t\t\tvar a = makeStack( err.getStackTrace() );\n\t\t\tvar c = callStack();\n\t\t\tvar i = c.length - 1;\n\t\t\twhile( i > 0 ) {\n\t\t\t\tif( Std.string(a[a.length-1]) == Std.string(c[i]) )\n\t\t\t\t\ta.pop();\n\t\t\t\telse\n\t\t\t\t\tbreak;\n\t\t\t\ti--;\n\t\t\t}\n\t\t\treturn a;\n\t\t#elseif php\n\t\t\treturn makeStack(\"%e\");\n\t\t#elseif cpp\n\t\t\tvar s:Array<String> = untyped __global__.__hxcpp_get_exception_stack();\n\t\t\treturn makeStack(s);\n\t\t#elseif java\n\t\t\tvar stack = [];\n\t\t\tfor ( el in java.internal.Exceptions.currentException().getStackTrace() ) {\n\t\t\t\tvar className = el.getClassName();\n\t\t\t\tvar methodName = el.getMethodName();\n\t\t\t\tvar fileName = el.getFileName();\n\t\t\t\tvar lineNumber = el.getLineNumber();\n\t\t\t\tvar method = Method( className, methodName );\n\t\t\t\tif ( fileName != null || lineNumber >= 0 ) {\n\t\t\t\t\tstack.push( FilePos( method, fileName, lineNumber ) );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tstack.push( method );\n\t\t\t\t}\n\t\t\t}\n\t\t\t// stack.shift();\n\t\t\tstack.shift();\n\t\t\tstack.pop();\n\t\t\treturn stack;\n\t\t#elseif cs\n\t\t\treturn makeStack(new cs.system.diagnostics.StackTrace(cs.internal.Exceptions.exception, true));\n\t\t#elseif python\n\t\t\tvar stack = [];\n\t\t\tvar exc = python.lib.Sys.exc_info();\n\t\t\tif (exc._3 != null)\n\t\t\t{\n\t\t\t\tvar infos = python.lib.Traceback.extract_tb(exc._3);\n\t\t\t\tinfos.reverse();\n\t\t\t\tfor (elem in infos)\n\t\t\t\t\tstack.push(FilePos(null, elem._1, elem._2));\n\t\t\t}\n\t\t\treturn stack;\n\t\t#elseif js\n\t\t\treturn untyped __define_feature__(\"haxe.CallStack.exceptionStack\", getStack(lastException));\n\t\t#else\n\t\t\treturn []; // Unsupported\n\t\t#end\n\t}\n\n\t/**\n\t\tReturns a representation of the stack as a printable string.\n\t**/\n\tpublic static function toString( stack : Array<StackItem> ) {\n\t\tvar b = new StringBuf();\n\t\tfor( s in stack ) {\n\t\t\tb.add(\"\\nCalled from \");\n\t\t\titemToString(b,s);\n\t\t}\n\t\treturn b.toString();\n\t}\n\n\tprivate static function itemToString( b : StringBuf, s ) {\n\t\tswitch( s ) {\n\t\tcase CFunction:\n\t\t\tb.add(\"a C function\");\n\t\tcase Module(m):\n\t\t\tb.add(\"module \");\n\t\t\tb.add(m);\n\t\tcase FilePos(s,file,line):\n\t\t\tif( s != null ) {\n\t\t\t\titemToString(b,s);\n\t\t\t\tb.add(\" (\");\n\t\t\t}\n\t\t\tb.add(file);\n\t\t\tb.add(\" line \");\n\t\t\tb.add(line);\n\t\t\tif( s != null ) b.add(\")\");\n\t\tcase Method(cname,meth):\n\t\t\tb.add(cname);\n\t\t\tb.add(\".\");\n\t\t\tb.add(meth);\n\t\tcase LocalFunction(n):\n\t\t\tb.add(\"local function #\");\n\t\t\tb.add(n);\n\t\t}\n\t}\n\n\t#if cpp @:noDebug #end /* Do not mess up the exception stack */\n\tprivate static function makeStack(s #if cs : cs.system.diagnostics.StackTrace #elseif hl : hl.NativeArray<hl.Bytes> #end) {\n\t\t#if neko\n\t\t\tvar a = new Array();\n\t\t\tvar l = untyped __dollar__asize(s);\n\t\t\tvar i = 0;\n\t\t\twhile( i < l ) {\n\t\t\t\tvar x = s[i++];\n\t\t\t\tif( x == null )\n\t\t\t\t\ta.unshift(CFunction);\n\t\t\t\telse if( untyped __dollar__typeof(x) == __dollar__tstring )\n\t\t\t\t\ta.unshift(Module(new String(x)));\n\t\t\t\telse\n\t\t\t\t\ta.unshift(FilePos(null,new String(untyped x[0]),untyped x[1]));\n\t\t\t}\n\t\t\treturn a;\n\t\t#elseif flash\n\t\t\tvar a = new Array();\n\t\t\tvar r = ~/at ([^\\/]+?)\\$?(\\/[^\\(]+)?\\(\\)(\\[(.*?):([0-9]+)\\])?/;\n\t\t\tvar rlambda = ~/^MethodInfo-([0-9]+)$/g;\n\t\t\twhile( r.match(s) ) {\n\t\t\t\tvar cl = r.matched(1).split(\"::\").join(\".\");\n\t\t\t\tvar meth = r.matched(2);\n\t\t\t\tvar item;\n\t\t\t\tif( meth == null ) {\n\t\t\t\t\tif( rlambda.match(cl) )\n\t\t\t\t\t\titem = LocalFunction(Std.parseInt(rlambda.matched(1)));\n\t\t\t\t\telse\n\t\t\t\t\t\titem = Method(cl,\"new\");\n\t\t\t\t} else\n\t\t\t\t\titem = Method(cl,meth.substr(1));\n\t\t\t\tif( r.matched(3) != null )\n\t\t\t\t\titem = FilePos( item, r.matched(4), Std.parseInt(r.matched(5)) );\n\t\t\t\ta.push(item);\n\t\t\t\ts = r.matchedRight();\n\t\t\t}\n\t\t\treturn a;\n\t\t#elseif php\n\t\t\tif (!untyped __call__(\"isset\", __var__(\"GLOBALS\", s)))\n\t\t\t\treturn [];\n\t\t\tvar a : Array<String> = untyped __var__(\"GLOBALS\", s);\n\t\t\tvar m = [];\n\t\t\tfor( i in 0...a.length - ((s == \"%s\") ? 2 : 0)) {\n\t\t\t\tvar d = a[i].split(\"::\");\n\t\t\t\tm.unshift(Method(d[0],d[1]));\n\t\t\t}\n\t\t\treturn m;\n\t\t#elseif cpp\n\t\t\tvar stack : Array<String> = s;\n\t\t\tvar m = new Array<StackItem>();\n\t\t\tfor(func in stack) {\n\t\t\t\tvar words = func.split(\"::\");\n\t\t\t\tif (words.length==0)\n\t\t\t\t\tm.push(CFunction)\n\t\t\t\telse if (words.length==2)\n\t\t\t\t\tm.push(Method(words[0],words[1]));\n\t\t\t\telse if (words.length==4)\n\t\t\t\t\tm.push(FilePos( Method(words[0],words[1]),words[2],Std.parseInt(words[3])));\n\t\t\t}\n\t\t\treturn m;\n\t\t#elseif js\n\t\t\tif (s == null) {\n\t\t\t\treturn [];\n\t\t\t} else if ((untyped __js__(\"typeof\"))(s) == \"string\") {\n\t\t\t\t// Return the raw lines in browsers that don't support prepareStackTrace\n\t\t\t\tvar stack : Array<String> = s.split(\"\\n\");\n\t\t\t\tif( stack[0] == \"Error\" ) stack.shift();\n\t\t\t\tvar m = [];\n\t\t\t\tvar rie10 = ~/^   at ([A-Za-z0-9_. ]+) \\(([^)]+):([0-9]+):([0-9]+)\\)$/;\n\t\t\t\tfor( line in stack ) {\n\t\t\t\t\tif( rie10.match(line) ) {\n\t\t\t\t\t\tvar path = rie10.matched(1).split(\".\");\n\t\t\t\t\t\tvar meth = path.pop();\n\t\t\t\t\t\tvar file = rie10.matched(2);\n\t\t\t\t\t\tvar line = Std.parseInt(rie10.matched(3));\n\t\t\t\t\t\tm.push(FilePos( meth == \"Anonymous function\" ? LocalFunction() : meth == \"Global code\" ? null : Method(path.join(\".\"),meth), file, line ));\n\t\t\t\t\t} else\n\t\t\t\t\t\tm.push(Module(StringTools.trim(line))); // A little weird, but better than nothing\n\t\t\t\t}\n\t\t\t\treturn m;\n\t\t\t} else {\n\t\t\t\treturn cast s;\n\t\t\t}\n\t\t#elseif cs\n\t\t\tvar stack = [];\n\t\t\tfor (i in 0...s.FrameCount)\n\t\t\t{\n\t\t\t\tvar frame = s.GetFrame(i);\n\t\t\t\tvar m = frame.GetMethod();\n\n\t\t\t\tif (m == null) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tvar method = StackItem.Method(m.ReflectedType.ToString(), m.Name);\n\n\t\t\t\tvar fileName = frame.GetFileName();\n\t\t\t\tvar lineNumber = frame.GetFileLineNumber();\n\n\t\t\t\tif (fileName != null || lineNumber >= 0)\n\t\t\t\t\tstack.push(FilePos(method, fileName, lineNumber));\n\t\t\t\telse\n\t\t\t\t\tstack.push(method);\n\t\t\t}\n\t\t\treturn stack;\n\t\t#elseif hl\n\t\t\tvar stack = [];\n\t\t\tvar r = ~/^([A-Za-z0-9.$_]+)\\.([A-Za-z0-9_]+)\\((.+):([0-9]+)\\)$/;\n\t\t\tfor( i in 0...s.length-1 ) {\n\t\t\t\tvar str = @:privateAccess String.fromUCS2(s[i]);\n\t\t\t\tif( r.match(str) )\n\t\t\t\t\tstack.push(FilePos(Method(r.matched(1), r.matched(2)), r.matched(3), Std.parseInt(r.matched(4))));\n\t\t\t\telse\n\t\t\t\t\tstack.push(Module(str));\n\t\t\t}\n\t\t\treturn stack;\n\t\t#else\n\t\t\treturn null;\n\t\t#end\n\t}\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage haxe;\n\n/**\n\tLog primarily provides the `trace()` method, which is invoked upon a call to\n\t`trace()` in Haxe code.\n**/\nclass Log {\n\n\t/**\n\t\tOutputs `v` in a platform-dependent way.\n\n\t\tThe second parameter `infos` is injected by the compiler and contains\n\t\tinformation about the position where the `trace()` call was made.\n\n\t\tThis method can be rebound to a custom function:\n\t\t\tvar oldTrace = haxe.Log.trace; // store old function\n\t\t\thaxe.Log.trace = function(v, ?infos) {\n\t\t\t  // handle trace\n\t\t\t}\n\t\t\t...\n\t\t\thaxe.Log.trace = oldTrace;\n\n\t\tIf it is bound to null, subsequent calls to `trace()` will cause an\n\t\texception.\n\t**/\n\tpublic static dynamic function trace( v : Dynamic, ?infos : PosInfos ) : Void {\n\t\t#if flash\n\t\t\t#if (fdb || native_trace)\n\t\t\t\tvar pstr = infos == null ? \"(null)\" : infos.fileName + \":\" + infos.lineNumber;\n\t\t\t\tvar str = flash.Boot.__string_rec(v, \"\");\n\t\t\t\tif( infos != null && infos.customParams != null ) for( v in infos.customParams ) str += \",\" + flash.Boot.__string_rec(v, \"\");\n\t\t\t\tuntyped __global__[\"trace\"](pstr+\": \"+str);\n\t\t\t#else\n\t\t\t\tuntyped flash.Boot.__trace(v,infos);\n\t\t\t#end\n\t\t#elseif neko\n\t\t\tuntyped {\n\t\t\t\t$print(infos.fileName + \":\" + infos.lineNumber + \": \", v);\n\t\t\t\tif( infos.customParams != null ) for( v in infos.customParams ) $print(\",\", v);\n\t\t\t\t$print(\"\\n\");\n\t\t\t}\n\t\t#elseif js\n\t\t\tuntyped js.Boot.__trace(v,infos);\n\t\t#elseif (php && php7)\n\t\t\tphp.Boot.trace(v, infos);\n\t\t#elseif php\n\t\t\tif (infos!=null && infos.customParams!=null) {\n\t\t\t\tvar extra:String = \"\";\n\t\t\t\tfor( v in infos.customParams )\n\t\t\t\t\textra += \",\" + v;\n\t\t\t\tuntyped __call__('_hx_trace', v + extra, infos);\n\t\t\t}\n\t\t\telse\n\t\t\t\tuntyped __call__('_hx_trace', v, infos);\n\t\t#elseif cpp\n\t\t\tif (infos!=null && infos.customParams!=null) {\n\t\t\t\tvar extra:String = \"\";\n\t\t\t\tfor( v in infos.customParams )\n\t\t\t\t\textra += \",\" + v;\n\t\t\t\tuntyped __trace(v + extra,infos);\n\t\t\t}\n\t\t\telse\n\t\t\t\tuntyped __trace(v,infos);\n\t\t#elseif (cs || java || lua)\n\t\t\tvar str:String = null;\n\t\t\tif (infos != null) {\n\t\t\t\tstr = infos.fileName + \":\" + infos.lineNumber + \": \" + v;\n\t\t\t\tif (infos.customParams != null)\n\t\t\t\t{\n\t\t\t\t\tstr += \",\" + infos.customParams.join(\",\");\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tstr = v;\n\t\t\t}\n\t\t\t#if cs\n\t\t\tcs.system.Console.WriteLine(str);\n\t\t\t#elseif java\n\t\t\tuntyped __java__(\"java.lang.System.out.println(str)\");\n\t\t\t#elseif lua\n\t\t\tif (str == null) str = \"null\";\n\t\t\tuntyped __define_feature__(\"use._hx_print\",_hx_print(str));\n\t\t\t#end\n\t\t#elseif (python)\n\t\t\tvar str:String = null;\n\t\t\tif (infos != null) {\n\t\t\t\tstr = infos.fileName + \":\" + Std.string(infos.lineNumber) + \": \" + v;\n\t\t\t\tif (infos.customParams != null) {\n\t\t\t\t\tstr += \",\" + infos.customParams.join(\",\");\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tstr = v;\n\t\t\t}\n\t\t\tpython.Lib.println(str);\n\t\t#elseif hl\n\t\t\tvar pstr = infos == null ? \"(null)\" : infos.fileName + \":\" + infos.lineNumber;\n\t\t\tvar str = Std.string(v);\n\t\t\tif( infos != null && infos.customParams != null ) for( v in infos.customParams ) str += \",\" + Std.string(v);\n\t\t\tSys.println(pstr+\": \"+str);\n\t\t#end\n\t}\n\n\t#if (flash || js)\n\t/**\n\t\tClears the trace output.\n\t**/\n\tpublic static dynamic function clear() : Void {\n\t\t#if flash\n\t\tuntyped flash.Boot.__clear_trace();\n\t\t#elseif js\n\t\tuntyped js.Boot.__clear_trace();\n\t\t#end\n\t}\n\t#end\n\n\t#if flash\n\t/**\n\t\tSets the color of the trace output to `rgb`.\n\t**/\n\tpublic static dynamic function setColor( rgb : Int ) {\n\t\tuntyped flash.Boot.__set_trace_color(rgb);\n\t}\n\t#end\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage haxe;\n\n/**\n\tResource can be used to access resources that were added through the\n\t-resource file@name command line parameter.\n\n\tDepending on their type they can be obtained as String through\n\tgetString(name), or as binary data through getBytes(name).\n\n\tA list of all available resource names can be obtained from listNames().\n**/\nclass Resource {\n\n\tstatic var content : Array<{ name : String, data : String, str : String }>;\n\n\t/**\n\t\tLists all available resource names. The resource name is the name part\n\t\tof the -resource file@name command line parameter.\n\t**/\n\tpublic static function listNames() : Array<String> {\n\t\treturn [for (x in content) x.name];\n\t}\n\n\t/**\n\t\tRetrieves the resource identified by `name` as a String.\n\n\t\tIf `name` does not match any resource name, null is returned.\n\t**/\n\tpublic static function getString( name : String ) : String {\n\t\tfor( x in content )\n\t\t\tif( x.name == name ) {\n\t\t\t\t#if neko\n\t\t\t\treturn new String(x.data);\n\t\t\t\t#else\n\t\t\t\tif( x.str != null ) return x.str;\n\t\t\t\tvar b : haxe.io.Bytes = haxe.crypto.Base64.decode(x.data);\n\t\t\t\treturn b.toString();\n\t\t\t\t#end\n\t\t\t}\n\t\treturn null;\n\t}\n\n\t/**\n\t\tRetrieves the resource identified by `name` as an instance of\n\t\thaxe.io.Bytes.\n\n\t\tIf `name` does not match any resource name, null is returned.\n\t**/\n\tpublic static function getBytes( name : String ) : haxe.io.Bytes {\n\t\tfor( x in content )\n\t\t\tif( x.name == name ) {\n\t\t\t\t#if neko\n\t\t\t\treturn haxe.io.Bytes.ofData(cast x.data);\n\t\t\t\t#else\n\t\t\t\tif( x.str != null ) return haxe.io.Bytes.ofString(x.str);\n\t\t\t\treturn haxe.crypto.Base64.decode(x.data);\n\t\t\t\t#end\n\t\t\t}\n\t\treturn null;\n\t}\n\n\tstatic function __init__() {\n\t\t#if neko\n\t\tvar tmp = untyped __resources__();\n\t\tcontent = untyped Array.new1(tmp,__dollar__asize(tmp));\n\t\t#elseif php\n\t\tcontent = null;\n\t\t#elseif as3\n\t\tnull;\n\t\t#else\n\t\tcontent = untyped __resources__();\n\t\t#end\n\t}\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage haxe;\n\n/**\n\tThe Serializer class can be used to encode values and objects into a `String`,\n\tfrom which the `Unserializer` class can recreate the original representation.\n\n\tThis class can be used in two ways:\n\n\t- create a `new Serializer()` instance, call its `serialize()` method with\n\t\tany argument and finally retrieve the String representation from\n\t\t`toString()`\n\t- call `Serializer.run()` to obtain the serialized representation of a\n\t\tsingle argument\n\n\tSerialization is guaranteed to work for all haxe-defined classes, but may\n\tor may not work for instances of external/native classes.\n\n\tThe specification of the serialization format can be found here:\n\t<https://haxe.org/manual/serialization/format>\n**/\nclass Serializer {\n\n\t/**\n\t\tIf the values you are serializing can contain circular references or\n\t\tobjects repetitions, you should set `USE_CACHE` to true to prevent\n\t\tinfinite loops.\n\n\t\tThis may also reduce the size of serialization Strings at the expense of\n\t\tperformance.\n\n\t\tThis value can be changed for individual instances of Serializer by\n\t\tsetting their useCache field.\n\t**/\n\tpublic static var USE_CACHE = false;\n\n\t/**\n\t\tUse constructor indexes for enums instead of names.\n\n\t\tThis may reduce the size of serialization Strings, but makes them less\n\t\tsuited for long-term storage: If constructors are removed or added from\n\t\tthe enum, the indices may no longer match.\n\n\t\tThis value can be changed for individual instances of Serializer by\n\t\tsetting their useEnumIndex field.\n\t**/\n\tpublic static var USE_ENUM_INDEX = false;\n\n\tstatic var BASE64 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:\";\n\tstatic var BASE64_CODES = null;\n\n\tvar buf : StringBuf;\n\tvar cache : Array<Dynamic>;\n\tvar shash : haxe.ds.StringMap<Int>;\n\tvar scount : Int;\n\n\t/**\n\t\tThe individual cache setting for `this` Serializer instance.\n\n\t\tSee USE_CACHE for a complete description.\n\t**/\n\tpublic var useCache : Bool;\n\n\t/**\n\t\tThe individual enum index setting for `this` Serializer instance.\n\n\t\tSee USE_ENUM_INDEX for a complete description.\n\t**/\n\tpublic var useEnumIndex : Bool;\n\n\t/**\n\t\tCreates a new Serializer instance.\n\n\t\tSubsequent calls to `this.serialize` will append values to the\n\t\tinternal buffer of this String. Once complete, the contents can be\n\t\tretrieved through a call to `this.toString`.\n\n\t\tEach Serializer instance maintains its own cache if this.useCache` is\n\t\ttrue.\n\t**/\n\tpublic function new() {\n\t\tbuf = new StringBuf();\n\t\tcache = new Array();\n\t\tuseCache = USE_CACHE;\n\t\tuseEnumIndex = USE_ENUM_INDEX;\n\t\tshash = new haxe.ds.StringMap();\n\t\tscount = 0;\n\t}\n\n\t/**\n\t\tReturn the String representation of `this` Serializer.\n\n\t\tThe exact format specification can be found here:\n\t\thttps://haxe.org/manual/serialization/format\n\t**/\n\tpublic function toString() {\n\t\treturn buf.toString();\n\t}\n\n\t/* prefixes :\n\t\ta : array\n\t\tb : hash\n\t\tc : class\n\t\td : Float\n\t\te : reserved (float exp)\n\t\tf : false\n\t\tg : object end\n\t\th : array/list/hash end\n\t\ti : Int\n\t\tj : enum (by index)\n\t\tk : NaN\n\t\tl : list\n\t\tm : -Inf\n\t\tn : null\n\t\to : object\n\t\tp : +Inf\n\t\tq : haxe.ds.IntMap\n\t\tr : reference\n\t\ts : bytes (base64)\n\t\tt : true\n\t\tu : array nulls\n\t\tv : date\n\t\tw : enum\n\t\tx : exception\n\t\ty : urlencoded string\n\t\tz : zero\n\t\tA : Class<Dynamic>\n\t\tB : Enum<Dynamic>\n\t\tM : haxe.ds.ObjectMap\n\t\tC : custom\n\t*/\n\n\tfunction serializeString( s : String ) {\n\t\tvar x = shash.get(s);\n\t\tif( x != null ) {\n\t\t\tbuf.add(\"R\");\n\t\t\tbuf.add(x);\n\t\t\treturn;\n\t\t}\n\t\tshash.set(s,scount++);\n\t\t#if old_serialize\n\t\t\t// no more support for -D old_serialize due to 'j' reuse\n\t\t\t#if error #end\n\t\t#end\n\t\tbuf.add(\"y\");\n\t\ts = StringTools.urlEncode(s);\n\t\tbuf.add(s.length);\n\t\tbuf.add(\":\");\n\t\tbuf.add(s);\n\t}\n\n\tfunction serializeRef(v) {\n\t\t#if js\n\t\tvar vt = untyped __js__(\"typeof\")(v);\n\t\t#end\n\t\tfor( i in 0...cache.length ) {\n\t\t\t#if js\n\t\t\tvar ci = cache[i];\n\t\t\tif( untyped __js__(\"typeof\")(ci) == vt && ci == v ) {\n\t\t\t#else\n\t\t\tif( cache[i] == v ) {\n\t\t\t#end\n\t\t\t\tbuf.add(\"r\");\n\t\t\t\tbuf.add(i);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\tcache.push(v);\n\t\treturn false;\n\t}\n\n\t#if flash\n\t// only the instance variables\n\n\tfunction serializeClassFields(v,c) {\n\t\tvar xml : flash.xml.XML = untyped __global__[\"flash.utils.describeType\"](c);\n\t\tvar vars = xml.factory[0].child(\"variable\");\n\t\tfor( i in 0...vars.length() ) {\n\t\t\tvar f = vars[i].attribute(\"name\").toString();\n\t\t\tif( !v.hasOwnProperty(f) )\n\t\t\t\tcontinue;\n\t\t\tserializeString(f);\n\t\t\tserialize(Reflect.field(v,f));\n\t\t}\n\t\tbuf.add(\"g\");\n\t}\n\t#end\n\n\tfunction serializeFields(v) {\n\t\tfor( f in Reflect.fields(v) ) {\n\t\t\tserializeString(f);\n\t\t\tserialize(Reflect.field(v,f));\n\t\t}\n\t\tbuf.add(\"g\");\n\t}\n\n\t/**\n\t\tSerializes `v`.\n\n\t\tAll haxe-defined values and objects with the exception of functions can\n\t\tbe serialized. Serialization of external/native objects is not\n\t\tguaranteed to work.\n\n\t\tThe values of `this.useCache` and `this.useEnumIndex` may affect\n\t\tserialization output.\n\t**/\n\tpublic function serialize( v : Dynamic ) {\n\t\tswitch( Type.typeof(v) ) {\n\t\tcase TNull:\n\t\t\tbuf.add(\"n\");\n\t\tcase TInt:\n\t\t\tvar v : Int = v;\n\t\t\tif( v == 0 ) {\n\t\t\t\tbuf.add(\"z\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tbuf.add(\"i\");\n\t\t\tbuf.add(v);\n\t\tcase TFloat:\n\t\t\tvar v : Float = v;\n\t\t\tif( Math.isNaN(v) )\n\t\t\t\tbuf.add(\"k\");\n\t\t\telse if( !Math.isFinite(v) )\n\t\t\t\tbuf.add(if( v < 0 ) \"m\" else \"p\");\n\t\t\telse {\n\t\t\t\tbuf.add(\"d\");\n\t\t\t\tbuf.add(v);\n\t\t\t}\n\t\tcase TBool:\n\t\t\tbuf.add(if( v ) \"t\" else \"f\");\n\t\tcase TClass(c):\n\t\t\tif( #if neko untyped c.__is_String #else c == String #end ) {\n\t\t\t\tserializeString(v);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif( useCache && serializeRef(v) )\n\t\t\t\treturn;\n\t\t\tswitch( #if (neko || cs || python) Type.getClassName(c) #else c #end ) {\n\t\t\tcase #if (neko || cs || python) \"Array\" #else cast Array #end:\n\t\t\t\tvar ucount = 0;\n\t\t\t\tbuf.add(\"a\");\n\t\t\t\t#if (flash || python || hl)\n\t\t\t\tvar v : Array<Dynamic> = v;\n\t\t\t\t#end\n\t\t\t\tvar l = #if (neko || flash || php || cs || java || python || hl || lua) v.length #elseif cpp v.__length() #else __getField(v, \"length\") #end;\n\t\t\t\tfor( i in 0...l ) {\n\t\t\t\t\tif( v[i] == null )\n\t\t\t\t\t\tucount++;\n\t\t\t\t\telse {\n\t\t\t\t\t\tif( ucount > 0 ) {\n\t\t\t\t\t\t\tif( ucount == 1 )\n\t\t\t\t\t\t\t\tbuf.add(\"n\");\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tbuf.add(\"u\");\n\t\t\t\t\t\t\t\tbuf.add(ucount);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tucount = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tserialize(v[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif( ucount > 0 ) {\n\t\t\t\t\tif( ucount == 1 )\n\t\t\t\t\t\tbuf.add(\"n\");\n\t\t\t\t\telse {\n\t\t\t\t\t\tbuf.add(\"u\");\n\t\t\t\t\t\tbuf.add(ucount);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbuf.add(\"h\");\n\t\t\tcase #if (neko || cs || python) \"List\" #else cast List #end:\n\t\t\t\tbuf.add(\"l\");\n\t\t\t\tvar v : List<Dynamic> = v;\n\t\t\t\tfor( i in v )\n\t\t\t\t\tserialize(i);\n\t\t\t\tbuf.add(\"h\");\n\t\t\tcase #if (neko || cs || python) \"Date\" #else cast Date #end:\n\t\t\t\tvar d : Date = v;\n\t\t\t\tbuf.add(\"v\");\n\t\t\t\tbuf.add(d.getTime());\n\t\t\tcase #if (neko || cs || python) \"haxe.ds.StringMap\" #else cast haxe.ds.StringMap #end:\n\t\t\t\tbuf.add(\"b\");\n\t\t\t\tvar v : haxe.ds.StringMap<Dynamic> = v;\n\t\t\t\tfor( k in v.keys() ) {\n\t\t\t\t\tserializeString(k);\n\t\t\t\t\tserialize(v.get(k));\n\t\t\t\t}\n\t\t\t\tbuf.add(\"h\");\n\t\t\tcase #if (neko || cs || python) \"haxe.ds.IntMap\" #else cast haxe.ds.IntMap #end:\n\t\t\t\tbuf.add(\"q\");\n\t\t\t\tvar v : haxe.ds.IntMap<Dynamic> = v;\n\t\t\t\tfor( k in v.keys() ) {\n\t\t\t\t\tbuf.add(\":\");\n\t\t\t\t\tbuf.add(k);\n\t\t\t\t\tserialize(v.get(k));\n\t\t\t\t}\n\t\t\t\tbuf.add(\"h\");\n\t\t\tcase #if (neko || cs || python) \"haxe.ds.ObjectMap\" #else cast haxe.ds.ObjectMap #end:\n\t\t\t\tbuf.add(\"M\");\n\t\t\t\tvar v : haxe.ds.ObjectMap<Dynamic,Dynamic> = v;\n\t\t\t\tfor ( k in v.keys() ) {\n\t\t\t\t\t#if (js || neko)\n\t\t\t\t\tvar id = Reflect.field(k, \"__id__\");\n\t\t\t\t\tReflect.deleteField(k, \"__id__\");\n\t\t\t\t\tserialize(k);\n\t\t\t\t\tReflect.setField(k, \"__id__\", id);\n\t\t\t\t\t#else\n\t\t\t\t\tserialize(k);\n\t\t\t\t\t#end\n\t\t\t\t\tserialize(v.get(k));\n\t\t\t\t}\n\t\t\t\tbuf.add(\"h\");\n\t\t\tcase #if (neko || cs || python) \"haxe.io.Bytes\" #else cast haxe.io.Bytes #end:\n\t\t\t\tvar v : haxe.io.Bytes = v;\n\t\t\t\t#if neko\n\t\t\t\tvar chars = new String(base_encode(v.getData(),untyped BASE64.__s));\n\t\t\t\tbuf.add(\"s\");\n\t\t\t\tbuf.add(chars.length);\n\t\t\t\tbuf.add(\":\");\n\t\t\t\tbuf.add(chars);\n\t\t\t\t#else\n\n\t\t\t\tbuf.add(\"s\");\n\t\t\t\tbuf.add(Math.ceil((v.length * 8) / 6));\n\t\t\t\tbuf.add(\":\");\n\n\t\t\t\tvar i = 0;\n\t\t\t\tvar max = v.length - 2;\n\t\t\t\tvar b64 = BASE64_CODES;\n\t\t\t\tif( b64 == null ) {\n\t\t\t\t\tb64 = new haxe.ds.Vector(BASE64.length);\n\t\t\t\t\tfor( i in 0...BASE64.length )\n\t\t\t\t\t\tb64[i] = BASE64.charCodeAt(i);\n\t\t\t\t\tBASE64_CODES = b64;\n\t\t\t\t}\n\t\t\t\twhile( i < max ) {\n\t\t\t\t\tvar b1 = v.get(i++);\n\t\t\t\t\tvar b2 = v.get(i++);\n\t\t\t\t\tvar b3 = v.get(i++);\n\n\t\t\t\t\tbuf.addChar(b64[b1 >> 2]);\n\t\t\t\t\tbuf.addChar(b64[((b1 << 4) | (b2 >> 4)) & 63]);\n\t\t\t\t\tbuf.addChar(b64[((b2 << 2) | (b3 >> 6)) & 63]);\n\t\t\t\t\tbuf.addChar(b64[b3 & 63]);\n\t\t\t\t}\n\t\t\t\tif( i == max ) {\n\t\t\t\t\tvar b1 = v.get(i++);\n\t\t\t\t\tvar b2 = v.get(i++);\n\t\t\t\t\tbuf.addChar(b64[b1 >> 2]);\n\t\t\t\t\tbuf.addChar(b64[((b1 << 4) | (b2 >> 4)) & 63]);\n\t\t\t\t\tbuf.addChar(b64[(b2 << 2) & 63]);\n\t\t\t\t} else if( i == max + 1 ) {\n\t\t\t\t\tvar b1 = v.get(i++);\n\t\t\t\t\tbuf.addChar(b64[b1 >> 2]);\n\t\t\t\t\tbuf.addChar(b64[(b1 << 4) & 63]);\n\t\t\t\t}\n\t\t\t\t#end\n\t\t\tdefault:\n\t\t\t\tif( useCache ) cache.pop();\n\t\t\t\tif( #if flash try v.hxSerialize != null catch( e : Dynamic ) false #elseif (cs || java || python) Reflect.hasField(v, \"hxSerialize\") #elseif (php && php7) php.Global.method_exists(v, 'hxSerialize') #else v.hxSerialize != null #end  ) {\n\t\t\t\t\tbuf.add(\"C\");\n\t\t\t\t\tserializeString(Type.getClassName(c));\n\t\t\t\t\tif( useCache ) cache.push(v);\n\t\t\t\t\tv.hxSerialize(this);\n\t\t\t\t\tbuf.add(\"g\");\n\t\t\t\t} else {\n\t\t\t\t\tbuf.add(\"c\");\n\t\t\t\t\tserializeString(Type.getClassName(c));\n\t\t\t\t\tif( useCache ) cache.push(v);\n\t\t\t\t\t#if flash\n\t\t\t\t\tserializeClassFields(v,c);\n\t\t\t\t\t#else\n\t\t\t\t\tserializeFields(v);\n\t\t\t\t\t#end\n\t\t\t\t}\n\t\t\t}\n\t\tcase TObject:\n\t\t\tif (Std.is(v,Class)) {\n\t\t\t\tvar className = Type.getClassName(v);\n\t\t\t\t#if (flash || cpp)\n\t\t\t\t// Currently, Enum and Class are the same for flash and cpp.\n\t\t\t\t//  use resolveEnum to test if it is actually an enum\n\t\t\t\tif (Type.resolveEnum(className)!=null) buf.add(\"B\") else\n\t\t\t\t#end\n\t\t\t\tbuf.add(\"A\");\n\t\t\t\tserializeString(className);\n\t\t\t} else if (Std.is(v,Enum)) {\n\t\t\t\tbuf.add(\"B\");\n\t\t\t\tserializeString(Type.getEnumName(v));\n\t\t\t} else {\n\t\t\t\tif( useCache && serializeRef(v) )\n\t\t\t\t\treturn;\n\t\t\t\tbuf.add(\"o\");\n\t\t\t\tserializeFields(v);\n\t\t\t}\n\t\tcase TEnum(e):\n\t\t\tif( useCache ) {\n\t\t\t\tif( serializeRef(v) )\n\t\t\t\t\treturn;\n\t\t\t\tcache.pop();\n\t\t\t}\n\t\t\tbuf.add(useEnumIndex?\"j\":\"w\");\n\t\t\tserializeString(Type.getEnumName(e));\n\t\t\t#if neko\n\t\t\tif( useEnumIndex ) {\n\t\t\t\tbuf.add(\":\");\n\t\t\t\tbuf.add(v.index);\n\t\t\t} else\n\t\t\t\tserializeString(new String(v.tag));\n\t\t\tbuf.add(\":\");\n\t\t\tif( v.args == null )\n\t\t\t\tbuf.add(0);\n\t\t\telse {\n\t\t\t\tvar l : Int = untyped __dollar__asize(v.args);\n\t\t\t\tbuf.add(l);\n\t\t\t\tfor( i in 0...l )\n\t\t\t\t\tserialize(v.args[i]);\n\t\t\t}\n\t\t\t#elseif flash\n\t\t\tif( useEnumIndex ) {\n\t\t\t\tbuf.add(\":\");\n\t\t\t\tvar i : Int = v.index;\n\t\t\t\tbuf.add(i);\n\t\t\t} else\n\t\t\t\tserializeString(v.tag);\n\t\t\tbuf.add(\":\");\n\t\t\tvar pl : Array<Dynamic> = v.params;\n\t\t\tif( pl == null )\n\t\t\t\tbuf.add(0);\n\t\t\telse {\n\t\t\t\tbuf.add(pl.length);\n\t\t\t\tfor( p in pl )\n\t\t\t\t\tserialize(p);\n\t\t\t}\n\t\t\t#elseif cpp\n\t\t\tvar enumBase:cpp.EnumBase = v;\n\t\t\tif( useEnumIndex ) {\n\t\t\t\tbuf.add(\":\");\n\t\t\t\tbuf.add(enumBase.getIndex());\n\t\t\t} else\n\t\t\t\tserializeString(enumBase.getTag());\n\t\t\tbuf.add(\":\");\n\t\t\tvar len = enumBase.getParamCount();\n\t\t\tbuf.add(len);\n\t\t\tfor( p in 0...len )\n\t\t\t\tserialize( enumBase.getParamI(p));\n\t\t\t#elseif php\n\t\t\tif( useEnumIndex ) {\n\t\t\t\tbuf.add(\":\");\n\t\t\t\tbuf.add(v.index);\n\t\t\t} else\n\t\t\t\tserializeString(v.tag);\n\t\t\tbuf.add(\":\");\n\t\t\tvar l : Int = untyped __call__(\"count\", v.params);\n\t\t\tif( l == 0 || v.params == null)\n\t\t\t\tbuf.add(0);\n\t\t\telse {\n\t\t\t\tbuf.add(l);\n\t\t\t\tfor( i in 0...l ) {\n\t\t\t\t\t#if (php && php7)\n\t\t\t\t\tserialize(v.params[i]);\n\t\t\t\t\t#elseif php\n\t\t\t\t\tserialize(untyped __field__(v, __php__(\"params\"), i));\n\t\t\t\t\t#end\n\t\t\t\t}\n\t\t\t}\n\t\t\t#elseif (java || cs || python || hl)\n\t\t\tif( useEnumIndex ) {\n\t\t\t\tbuf.add(\":\");\n\t\t\t\tbuf.add(Type.enumIndex(v));\n\t\t\t} else\n\t\t\t\tserializeString(Type.enumConstructor(v));\n\t\t\tbuf.add(\":\");\n\t\t\tvar arr:Array<Dynamic> = Type.enumParameters(v);\n\t\t\tif (arr != null)\n\t\t\t{\n\t\t\t\tbuf.add(arr.length);\n\t\t\t\tfor (v in arr)\n\t\t\t\t\tserialize(v);\n\t\t\t} else {\n\t\t\t\tbuf.add(\"0\");\n\t\t\t}\n\n\t\t\t#else\n\t\t\tif( useEnumIndex ) {\n\t\t\t\tbuf.add(\":\");\n\t\t\t\tbuf.add(v[1]);\n\t\t\t} else\n\t\t\t\tserializeString(v[0]);\n\t\t\tbuf.add(\":\");\n\t\t\tvar l = __getField(v, \"length\");\n\t\t\tbuf.add(l - 2);\n\t\t\tfor( i in 2...l )\n\t\t\t\tserialize(v[i]);\n\t\t\t#end\n\t\t\tif( useCache ) cache.push(v);\n\t\tcase TFunction:\n\t\t\tthrow \"Cannot serialize function\";\n\t\tdefault:\n\t\t\t#if neko\n\t\t\tif( untyped (__i32__kind != null && __dollar__iskind(v,__i32__kind)) ) {\n\t\t\t\tbuf.add(\"i\");\n\t\t\t\tbuf.add(v);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t#end\n\t\t\tthrow \"Cannot serialize \"+Std.string(v);\n\t\t}\n\t}\n\n\t@:extern inline function __getField(o:Dynamic, f:String):Dynamic return untyped o[f];\n\n\tpublic function serializeException( e : Dynamic ) {\n\t\tbuf.add(\"x\");\n\t\t#if flash\n\t\tif( untyped __is__(e,__global__[\"Error\"]) ) {\n\t\t\tvar e : flash.errors.Error = e;\n\t\t\tvar s = e.getStackTrace();\n\t\t\tif( s == null )\n\t\t\t\tserialize(e.message);\n\t\t\telse\n\t\t\t\tserialize(s);\n\t\t\treturn;\n\t\t}\n\t\t#end\n\t\tserialize(e);\n\t}\n\n\t/**\n\t\tSerializes `v` and returns the String representation.\n\n\t\tThis is a convenience function for creating a new instance of\n\t\tSerializer, serialize `v` into it and obtain the result through a call\n\t\tto toString().\n\t**/\n\tpublic static function run( v : Dynamic ) {\n\t\tvar s = new Serializer();\n\t\ts.serialize(v);\n\t\treturn s.toString();\n\t}\n\n\t#if neko\n\tstatic var base_encode = neko.Lib.load(\"std\",\"base_encode\",2);\n\t#end\n\n}\n\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage haxe;\n\n@:noDoc\ntypedef TypeResolver = {\n\tfunction resolveClass( name : String ) : Class<Dynamic>;\n\tfunction resolveEnum( name : String ) : Enum<Dynamic>;\n}\n\n/**\n\tThe `Unserializer` class is the complement to the `Serializer` class. It parses\n\ta serialization `String` and creates objects from the contained data.\n\n\tThis class can be used in two ways:\n\n\t- create a `new Unserializer()` instance with a given serialization\n\t\tString, then call its `unserialize()` method until all values are\n\t\textracted\n\t- call `Unserializer.run()`  to unserialize a single value from a given\n\t\tString\n\n\tThe specification of the serialization format can be found here:\n\t<https://haxe.org/manual/serialization/format>\n**/\nclass Unserializer {\n\n\t/**\n\t\tThis value can be set to use custom type resolvers.\n\n\t\tA type resolver finds a `Class` or `Enum` instance from a given `String`. \n\t\tBy default, the Haxe `Type` Api is used.\n\n\t\tA type resolver must provide two methods:\n\n\t\t1. `resolveClass(name:String):Class<Dynamic>` is called to determine a\n\t\t\t\t`Class` from a class name\n\t\t2. `resolveEnum(name:String):Enum<Dynamic>` is called to determine an\n\t\t\t\t`Enum` from an enum name\n\n\t\tThis value is applied when a new `Unserializer` instance is created.\n\t\tChanging it afterwards has no effect on previously created instances.\n\t**/\n\tpublic static var DEFAULT_RESOLVER : TypeResolver = new DefaultResolver();\n\n\tstatic var BASE64 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:\";\n\n\t#if !neko\n\tstatic var CODES = null;\n\n\tstatic function initCodes() {\n\t\tvar codes =\n\t\t\t#if flash\n\t\t\t\tnew flash.utils.ByteArray();\n\t\t\t#else\n\t\t\t\tnew Array();\n\t\t\t#end\n\t\tfor( i in 0...BASE64.length )\n\t\t\tcodes[StringTools.fastCodeAt(BASE64,i)] = i;\n\t\treturn codes;\n\t}\n\t#end\n\n \tvar buf : String;\n \tvar pos : Int;\n \tvar length : Int;\n \tvar cache : Array<Dynamic>;\n \tvar scache : Array<String>;\n \tvar resolver : TypeResolver;\n \t#if neko\n \tvar upos : Int;\n \t#end\n\n\t/**\n\t\tCreates a new Unserializer instance, with its internal buffer\n\t\tinitialized to `buf`.\n\n\t\tThis does not parse `buf` immediately. It is parsed only when calls to\n\t\t`this.unserialize` are made.\n\n\t\tEach Unserializer instance maintains its own cache.\n\t**/\n \tpublic function new( buf : String ) {\n \t\tthis.buf = buf;\n \t\tlength = buf.length;\n \t\tpos = 0;\n \t\t#if neko\n \t\tupos = 0;\n \t\t#end\n \t\tscache = new Array();\n \t\tcache = new Array();\n\t\tvar r = DEFAULT_RESOLVER;\n\t\tif( r == null ) {\n\t\t\tr = new DefaultResolver();\n\t\t\tDEFAULT_RESOLVER = r;\n\t\t}\n\t\tresolver = r;\n \t}\n\n\t/**\n\t\tSets the type resolver of `this` Unserializer instance to `r`.\n\n\t\tIf `r` is null, a special resolver is used which returns null for all\n\t\tinput values.\n\n\t\tSee `DEFAULT_RESOLVER` for more information on type resolvers.\n\t**/\n \tpublic function setResolver( r ) {\n\t\tif( r == null )\n\t\t\tresolver = NullResolver.instance;\n\t\telse\n\t\t\tresolver = r;\n\t}\n\n\t/**\n\t\tGets the type resolver of `this` Unserializer instance.\n\n\t\tSee `DEFAULT_RESOLVER` for more information on type resolvers.\n\t**/\n \tpublic function getResolver() {\n\t\treturn resolver;\n\t}\n\n\tinline function get(p) : Int {\n\t\treturn StringTools.fastCodeAt(buf, p);\n\t}\n\n \tfunction readDigits() {\n \t\tvar k = 0;\n \t\tvar s = false;\n \t\tvar fpos = pos;\n \t\twhile( true ) {\n \t\t\tvar c = get(pos);\n\t\t\tif( StringTools.isEof(c) )\n\t\t\t\tbreak;\n \t\t\tif( c == \"-\".code ) {\n \t\t\t\tif( pos != fpos )\n \t\t\t\t\tbreak;\n \t\t\t\ts = true;\n \t\t\t\tpos++;\n \t\t\t\tcontinue;\n \t\t\t}\n \t\t\tif( c < \"0\".code || c > \"9\".code )\n \t\t\t\tbreak;\n \t\t\tk = k * 10 + (c - \"0\".code);\n \t\t\tpos++;\n \t\t}\n \t\tif( s )\n \t\t\tk *= -1;\n \t\treturn k;\n \t}\n\n\tfunction readFloat() {\n\t\tvar p1 = pos;\n \t\twhile( true ) {\n \t\t\tvar c = get(pos);\n\t\t\tif( StringTools.isEof(c)) break;\n \t\t\t// + - . , 0-9\n \t\t\tif( (c >= 43 && c < 58) || c == \"e\".code || c == \"E\".code )\n \t\t\t\tpos++;\n \t\t\telse\n \t\t\t\tbreak;\n \t\t}\n \t\treturn Std.parseFloat(buf.substr(p1,pos-p1));\n\t}\n\n\tfunction unserializeObject(o) {\n \t\twhile( true ) {\n \t\t\tif( pos >= length )\n \t\t\t\tthrow \"Invalid object\";\n \t\t\tif( get(pos) == \"g\".code )\n \t\t\t\tbreak;\n \t\t\tvar k = unserialize();\n \t\t\tif( !Std.is(k,String) )\n \t\t\t\tthrow \"Invalid object key\";\n \t\t\tvar v = unserialize();\n \t\t\tReflect.setField(o,k,v);\n \t\t}\n \t\tpos++;\n\t}\n\n\tfunction unserializeEnum( edecl, tag ) {\n\t\tif( get(pos++) != \":\".code )\n\t\t\tthrow \"Invalid enum format\";\n\t\tvar nargs = readDigits();\n\t\tif( nargs == 0 )\n\t\t\treturn Type.createEnum(edecl,tag);\n\t\tvar args = new Array();\n\t\twhile( nargs-- > 0 )\n\t\t\targs.push(unserialize());\n\t\treturn Type.createEnum(edecl,tag,args);\n\t}\n\n\t/**\n\t\tUnserializes the next part of `this` Unserializer instance and returns\n\t\tthe according value.\n\n\t\tThis function may call `this.resolver.resolveClass` to determine a\n\t\tClass from a String, and `this.resolver.resolveEnum` to determine an\n\t\tEnum from a String.\n\n\t\tIf `this` Unserializer instance contains no more or invalid data, an\n\t\texception is thrown.\n\n\t\tThis operation may fail on structurally valid data if a type cannot be\n\t\tresolved or if a field cannot be set. This can happen when unserializing\n\t\tStrings that were serialized on a different Haxe target, in which the\n\t\tserialization side has to make sure not to include platform-specific\n\t\tdata.\n\n\t\tClasses are created from `Type.createEmptyInstance`, which means their\n\t\tconstructors are not called.\n\t**/\n \tpublic function unserialize() : Dynamic {\n \t\tswitch( get(pos++) ) {\n \t\tcase \"n\".code:\n \t\t\treturn null;\n \t\tcase \"t\".code:\n \t\t\treturn true;\n \t\tcase \"f\".code:\n \t\t\treturn false;\n \t\tcase \"z\".code:\n \t\t\treturn 0;\n \t\tcase \"i\".code:\n \t\t\treturn readDigits();\n \t\tcase \"d\".code:\n \t\t\treturn readFloat();\n\t\tcase \"y\".code:\n \t\t\tvar len = readDigits();\n \t\t\tif( get(pos++) != \":\".code || length - pos < len )\n \t\t\t\tthrow \"Invalid string length\";\n\t\t\tvar s = buf.substr(pos,len);\n\t\t\tpos += len;\n\t\t\ts = StringTools.urlDecode(s);\n\t\t\tscache.push(s);\n\t\t\treturn s;\n \t\tcase \"k\".code:\n \t\t\treturn Math.NaN;\n \t\tcase \"m\".code:\n \t\t\treturn Math.NEGATIVE_INFINITY;\n \t\tcase \"p\".code:\n \t\t\treturn Math.POSITIVE_INFINITY;\n \t\tcase \"a\".code:\n\t\t\tvar buf = buf;\n \t\t\tvar a = new Array<Dynamic>();\n \t\t\t#if cpp var cachePos = cache.length; #end\n \t\t\tcache.push(a);\n \t\t\twhile( true ) {\n \t\t\t\tvar c = get(pos);\n \t\t\t\tif( c == \"h\".code ) {\n\t\t\t\t\tpos++;\n \t\t\t\t\tbreak;\n\t\t\t\t}\n \t\t\t\tif( c == \"u\".code ) {\n\t\t\t\t\tpos++;\n \t\t\t\t\tvar n = readDigits();\n \t\t\t\t\ta[a.length+n-1] = null;\n \t\t\t\t} else\n \t\t\t\t\ta.push(unserialize());\n \t\t\t}\n \t\t\t#if cpp\n \t\t\treturn cache[cachePos] = cpp.NativeArray.resolveVirtualArray(a);\n \t\t\t#else\n \t\t\treturn a;\n \t\t\t#end\n \t\tcase \"o\".code:\n\t \t\tvar o = {};\n\t \t\tcache.push(o);\n\t\t\tunserializeObject(o);\n\t\t\treturn o;\n \t\tcase \"r\".code:\n \t\t\tvar n = readDigits();\n \t\t\tif( n < 0 || n >= cache.length )\n \t\t\t\tthrow \"Invalid reference\";\n \t\t\treturn cache[n];\n \t\tcase \"R\".code:\n\t\t\tvar n = readDigits();\n\t\t\tif( n < 0 || n >= scache.length )\n\t\t\t\tthrow \"Invalid string reference\";\n\t\t\treturn scache[n];\n \t\tcase \"x\".code:\n\t\t\tthrow unserialize();\n\t\tcase \"c\".code:\n\t \t\tvar name = unserialize();\n\t\t\tvar cl = resolver.resolveClass(name);\n\t\t\tif( cl == null )\n\t\t\t\tthrow \"Class not found \" + name;\n\t\t\tvar o = Type.createEmptyInstance(cl);\n\t\t\tcache.push(o);\n\t\t\tunserializeObject(o);\n\t\t\treturn o;\n\t\tcase \"w\".code:\n\t\t\tvar name = unserialize();\n\t\t\tvar edecl = resolver.resolveEnum(name);\n\t\t\tif( edecl == null )\n\t\t\t\tthrow \"Enum not found \" + name;\n\t\t\tvar e = unserializeEnum(edecl, unserialize());\n\t\t\tcache.push(e);\n\t\t\treturn e;\n \t\tcase \"j\".code:\n\t\t\tvar name = unserialize();\n\t\t\tvar edecl = resolver.resolveEnum(name);\n\t\t\tif( edecl == null )\n\t\t\t\tthrow \"Enum not found \" + name;\n\t\t\tpos++; /* skip ':' */\n\t\t\tvar index = readDigits();\n\t\t\tvar tag = Type.getEnumConstructs(edecl)[index];\n\t\t\tif( tag == null )\n\t\t\t\tthrow \"Unknown enum index \"+name+\"@\"+index;\n\t\t\tvar e = unserializeEnum(edecl, tag);\n\t\t\tcache.push(e);\n\t\t\treturn e;\n\t\tcase \"l\".code:\n\t\t\tvar l = new List();\n\t\t\tcache.push(l);\n\t\t\tvar buf = buf;\n\t\t\twhile( get(pos) != \"h\".code )\n\t\t\t\tl.add(unserialize());\n\t\t\tpos++;\n\t\t\treturn l;\n\t\tcase \"b\".code:\n\t\t\tvar h = new haxe.ds.StringMap();\n\t\t\tcache.push(h);\n\t\t\tvar buf = buf;\n\t\t\twhile( get(pos) != \"h\".code ) {\n\t\t\t\tvar s = unserialize();\n\t\t\t\th.set(s,unserialize());\n\t\t\t}\n\t\t\tpos++;\n\t\t\treturn h;\n\t\tcase \"q\".code:\n\t\t\tvar h = new haxe.ds.IntMap();\n\t\t\tcache.push(h);\n\t\t\tvar buf = buf;\n\t\t\tvar c = get(pos++);\n\t\t\twhile( c == \":\".code ) {\n\t\t\t\tvar i = readDigits();\n\t\t\t\th.set(i,unserialize());\n\t\t\t\tc = get(pos++);\n\t\t\t}\n\t\t\tif( c != \"h\".code )\n\t\t\t\tthrow \"Invalid IntMap format\";\n\t\t\treturn h;\n\t\tcase \"M\".code:\n\t\t\tvar h = new haxe.ds.ObjectMap();\n\t\t\tcache.push(h);\n\t\t\tvar buf = buf;\n\t\t\twhile( get(pos) != \"h\".code ) {\n\t\t\t\tvar s = unserialize();\n\t\t\t\th.set(s,unserialize());\n\t\t\t}\n\t\t\tpos++;\n\t\t\treturn h;\n\t\tcase \"v\".code:\n\t\t\tvar d;\n\t\t\tif(\tget(pos) >= '0'.code && get(pos) <= '9'.code &&\n\t\t\t\tget(pos + 1) >= '0'.code && get(pos + 1) <= '9'.code &&\n\t\t\t\tget(pos + 2) >= '0'.code && get(pos + 2) <= '9'.code &&\n\t\t\t\tget(pos + 3) >= '0'.code && get(pos + 3) <= '9'.code &&\n\t\t\t\tget(pos + 4) == '-'.code\n\t\t\t\t) {\n\t\t\t\t// Included for backwards compatibility\n\t\t\t\td = Date.fromString(buf.substr(pos,19));\n\t\t\t\tpos += 19;\n\t\t\t} else\n\t\t\t\td = Date.fromTime(readFloat());\n\t\t\tcache.push(d);\n\t\t\treturn d;\n \t\tcase \"s\".code:\n \t\t\tvar len = readDigits();\n\t\t\tvar buf = buf;\n \t\t\tif( get(pos++) != \":\".code || length - pos < len )\n\t\t\t\tthrow \"Invalid bytes length\";\n\t\t\t#if neko\n\t\t\tvar bytes = haxe.io.Bytes.ofData( base_decode(untyped buf.substr(pos,len).__s,untyped BASE64.__s) );\n\t\t\t#else\n\t\t\tvar codes = CODES;\n\t\t\tif( codes == null ) {\n\t\t\t\tcodes = initCodes();\n\t\t\t\tCODES = codes;\n\t\t\t}\n\t\t\tvar i = pos;\n\t\t\tvar rest = len & 3;\n\t\t\tvar size = (len >> 2) * 3 + ((rest >= 2) ? rest - 1 : 0);\n\t\t\tvar max = i + (len - rest);\n\t\t\tvar bytes = haxe.io.Bytes.alloc(size);\n\t\t\tvar bpos = 0;\n\t\t\twhile( i < max ) {\n\t\t\t\tvar c1 = codes[StringTools.fastCodeAt(buf,i++)];\n\t\t\t\tvar c2 = codes[StringTools.fastCodeAt(buf,i++)];\n\t\t\t\tbytes.set(bpos++,(c1 << 2) | (c2 >> 4));\n\t\t\t\tvar c3 = codes[StringTools.fastCodeAt(buf,i++)];\n\t\t\t\tbytes.set(bpos++,(c2 << 4) | (c3 >> 2));\n\t\t\t\tvar c4 = codes[StringTools.fastCodeAt(buf,i++)];\n\t\t\t\tbytes.set(bpos++,(c3 << 6) | c4);\n\t\t\t}\n\t\t\tif( rest >= 2 ) {\n\t\t\t\tvar c1 = codes[StringTools.fastCodeAt(buf,i++)];\n\t\t\t\tvar c2 = codes[StringTools.fastCodeAt(buf,i++)];\n\t\t\t\tbytes.set(bpos++,(c1 << 2) | (c2 >> 4));\n\t\t\t\tif( rest == 3 ) {\n\t\t\t\t\tvar c3 = codes[StringTools.fastCodeAt(buf,i++)];\n\t\t\t\t\tbytes.set(bpos++,(c2 << 4) | (c3 >> 2));\n\t\t\t\t}\n\t\t\t}\n \t\t\t#end\n\t\t\tpos += len;\n\t\t\tcache.push(bytes);\n\t\t\treturn bytes;\n\t\tcase \"C\".code:\n\t \t\tvar name = unserialize();\n\t\t\tvar cl = resolver.resolveClass(name);\n\t\t\tif( cl == null )\n\t\t\t\tthrow \"Class not found \" + name;\n\t\t\tvar o : Dynamic = Type.createEmptyInstance(cl);\n\t\t\tcache.push(o);\n\t\t\to.hxUnserialize(this);\n\t\t\tif( get(pos++) != \"g\".code )\n\t\t\t\tthrow \"Invalid custom data\";\n\t\t\treturn o;\n\t\tcase \"A\".code:\n\t\t\tvar name = unserialize();\n\t\t\tvar cl = resolver.resolveClass(name);\n\t\t\tif( cl == null )\n\t\t\t\tthrow \"Class not found \" + name;\n\t\t\treturn cl;\n\t\tcase \"B\".code:\n\t\t\tvar name = unserialize();\n\t\t\tvar e = resolver.resolveEnum(name);\n\t\t\tif( e == null )\n\t\t\t\tthrow \"Enum not found \" + name;\n\t\t\treturn e;\n \t\tdefault:\n \t\t}\n \t\tpos--;\n \t\tthrow (\"Invalid char \"+buf.charAt(pos)+\" at position \"+pos);\n \t}\n\n\t/**\n\t\tUnserializes `v` and returns the according value.\n\n\t\tThis is a convenience function for creating a new instance of\n\t\tUnserializer with `v` as buffer and calling its unserialize() method\n\t\tonce.\n\t**/\n\tpublic static function run( v : String ) : Dynamic {\n\t\treturn new Unserializer(v).unserialize();\n\t}\n\n\t#if neko\n\tstatic var base_decode = neko.Lib.load(\"std\",\"base_decode\",2);\n\t#end\n\n}\n\nprivate class DefaultResolver {\n\tpublic function new() {}\n\t@:final public inline function resolveClass(name:String):Class<Dynamic> return Type.resolveClass(name);\n\t@:final public inline function resolveEnum(name:String):Enum<Dynamic> return Type.resolveEnum(name);\n}\n\nprivate class NullResolver {\n\tfunction new() {}\n\t@:final public inline function resolveClass(name:String):Class<Dynamic> return null;\n\t@:final public inline function resolveEnum(name:String):Enum<Dynamic> return null;\n\tpublic static var instance(get,null):NullResolver;\n\tinline static function get_instance():NullResolver {\n\t\tif (instance == null) instance = new NullResolver();\n\t\treturn instance;\n\t}\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage haxe;\n\n/**\n\tSince not all platforms guarantee that `String` always uses UTF-8 encoding, you\n\tcan use this cross-platform API to perform operations on such strings.\n**/\nclass Utf8 {\n\n\tvar __b : String;\n\n\t/**\n\t\tAllocate a new Utf8 buffer using an optional bytes size.\n\t**/\n\tpublic function new( ?size : Int ) {\n\t\t__b = \"\";\n\t}\n\n\t/**\n\t\tAdd the given UTF8 character code to the buffer.\n\t**/\n\tpublic inline function addChar( c : Int ) : Void {\n\t\t__b += String.fromCharCode(c);\n\t}\n\n\t/**\n\t\tReturns the buffer converted to a String.\n\t**/\n\tpublic inline function toString() : String {\n\t\treturn __b;\n\t}\n\n\t/**\n\t\tCall the `chars` function for each UTF8 char of the string.\n\t**/\n\tpublic static function iter( s : String, chars : Int -> Void ) {\n\t\tfor( i in 0...s.length )\n\t\t\tchars(s.charCodeAt(i));\n\t}\n\n\t/**\n\t\tEncode the input ISO string into the corresponding UTF8 one.\n\t**/\n\tpublic static function encode( s : String ) : String {\n\t\tthrow \"Not implemented\";\n\t}\n\n\t/**\n\t\tDecode an UTF8 string back to an ISO string.\n\t\tThrow an exception if a given UTF8 character is not supported by the decoder.\n\t**/\n\tpublic static function decode( s : String ) : String {\n\t\tthrow \"Not implemented\";\n\t}\n\n\t/**\n\t\tSimilar to `String.charCodeAt` but uses the UTF8 character position.\n\t**/\n\tpublic static inline function charCodeAt( s : String, index : Int ) : Int {\n\t\treturn s.charCodeAt(index);\n\t}\n\n\t/**\n\t\tTells if the String is correctly encoded as UTF8.\n\t**/\n\tpublic static inline function validate( s : String ) : Bool {\n\t\treturn true;\n\t}\n\n\t/**\n\t\tReturns the number of UTF8 chars of the String.\n\t**/\n\t#if js @:extern #end\n\tpublic static inline function length( s : String ) : Int {\n\t\treturn s.length;\n\t}\n\n\t/**\n\t\tCompare two UTF8 strings, character by character.\n\t**/\n\tpublic static function compare( a : String, b : String ) : Int {\n\t\treturn a > b ? 1 : (a == b ? 0 : -1);\n\t}\n\n\t/**\n\t\tThis is similar to `String.substr` but the `pos` and `len` parts are considering UTF8 characters.\n\t**/\n\tpublic static inline function sub( s : String, pos : Int, len : Int ) : String {\n\t\treturn s.substr(pos,len);\n\t}\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage haxe.io;\n\n#if !nodejs\nimport js.html.compat.Uint8Array;\nimport js.html.compat.DataView;\n#end\n\n@:coreApi\nclass Bytes {\n\n\tpublic var length(default,null) : Int;\n\tvar b : js.html.Uint8Array;\n\tvar data : js.html.DataView;\n\n\tfunction new(data:BytesData) {\n\t\tthis.length = data.byteLength;\n\t\tthis.b = new js.html.Uint8Array(data);\n\t\tuntyped {\n\t\t\tb.bufferValue = data; // some impl does not return the same instance in .buffer\n\t\t\tdata.hxBytes = this;\n\t\t\tdata.bytes = this.b;\n\t\t}\n\t}\n\n\tpublic inline function get( pos : Int ) : Int {\n\t\treturn b[pos];\n\t}\n\n\tpublic inline function set( pos : Int, v : Int ) : Void {\n\t\tb[pos] = v & 0xFF; // the &0xFF is necessary for js.html.compat support\n\t}\n\n\tpublic function blit( pos : Int, src : Bytes, srcpos : Int, len : Int ) : Void {\n\t\tif( pos < 0 || srcpos < 0 || len < 0 || pos + len > length || srcpos + len > src.length ) throw Error.OutsideBounds;\n\t\tif( srcpos == 0 && len == src.b.byteLength )\n\t\t\tb.set(src.b,pos);\n\t\telse\n\t\t\tb.set(src.b.subarray(srcpos,srcpos+len),pos);\n\t}\n\n\tpublic function fill( pos : Int, len : Int, value : Int ) : Void {\n\t\tfor( i in 0...len )\n\t\t\tset(pos++, value);\n\t}\n\n\tpublic function sub( pos : Int, len : Int ) : Bytes {\n\t\tif( pos < 0 || len < 0 || pos + len > length ) throw Error.OutsideBounds;\n\t\treturn new Bytes(b.buffer.slice(pos+b.byteOffset,pos+b.byteOffset+len));\n\t}\n\n\tpublic function compare( other : Bytes ) : Int {\n\t\tvar b1 = b;\n\t\tvar b2 = other.b;\n\t\tvar len = (length < other.length) ? length : other.length;\n\t\tfor( i in 0...len )\n\t\t\tif( b1[i] != b2[i] )\n\t\t\t\treturn b1[i] - b2[i];\n\t\treturn length - other.length;\n\t}\n\n\tinline function initData() : Void {\n\t\tif( data == null ) data = new js.html.DataView(b.buffer, b.byteOffset, b.byteLength);\n\t}\n\n\tpublic function getDouble( pos : Int ) : Float {\n\t\tinitData();\n\t\treturn data.getFloat64(pos, true);\n\t}\n\n\tpublic function getFloat( pos : Int ) : Float {\n\t\tinitData();\n\t\treturn data.getFloat32(pos, true);\n\t}\n\n\tpublic function setDouble( pos : Int, v : Float ) : Void {\n\t\tinitData();\n\t\tdata.setFloat64(pos, v, true);\n\t}\n\n\tpublic function setFloat( pos : Int, v : Float ) : Void {\n\t\tinitData();\n\t\tdata.setFloat32(pos, v, true);\n\t}\n\n\tpublic function getUInt16( pos : Int ) : Int {\n\t\tinitData();\n\t\treturn data.getUint16(pos, true);\n\t}\n\n\tpublic function setUInt16( pos : Int, v : Int ) : Void {\n\t\tinitData();\n\t\tdata.setUint16(pos, v, true);\n\t}\n\n\tpublic function getInt32( pos : Int ) : Int {\n\t\tinitData();\n\t\treturn data.getInt32(pos, true);\n\t}\n\n\tpublic function setInt32( pos : Int, v : Int ) : Void {\n\t\tinitData();\n\t\tdata.setInt32(pos, v, true);\n\t}\n\n\tpublic function getInt64( pos : Int ) : haxe.Int64 {\n\t\treturn Int64.make(getInt32(pos + 4),getInt32(pos));\n\t}\n\n\tpublic function setInt64( pos : Int, v : haxe.Int64 ) : Void {\n\t\tsetInt32(pos, v.low);\n\t\tsetInt32(pos + 4, v.high);\n\t}\n\n\tpublic function getString( pos : Int, len : Int ) : String {\n\t\tif( pos < 0 || len < 0 || pos + len > length ) throw Error.OutsideBounds;\n\t\tvar s = \"\";\n\t\tvar b = b;\n\t\tvar fcc = String.fromCharCode;\n\t\tvar i = pos;\n\t\tvar max = pos+len;\n\t\t// utf8-decode and utf16-encode\n\t\twhile( i < max ) {\n\t\t\tvar c = b[i++];\n\t\t\tif( c < 0x80 ) {\n\t\t\t\tif( c == 0 ) break;\n\t\t\t\ts += fcc(c);\n\t\t\t} else if( c < 0xE0 )\n\t\t\t\ts += fcc( ((c & 0x3F) << 6) | (b[i++] & 0x7F) );\n\t\t\telse if( c < 0xF0 ) {\n\t\t\t\tvar c2 = b[i++];\n\t\t\t\ts += fcc( ((c & 0x1F) << 12) | ((c2 & 0x7F) << 6) | (b[i++] & 0x7F) );\n\t\t\t} else {\n\t\t\t\tvar c2 = b[i++];\n\t\t\t\tvar c3 = b[i++];\n\t\t\t\tvar u = ((c & 0x0F) << 18) | ((c2 & 0x7F) << 12) | ((c3 & 0x7F) << 6) | (b[i++] & 0x7F);\n\t\t\t\t// surrogate pair\n\t\t\t\ts += fcc( (u >> 10) + 0xD7C0 );\n\t\t\t\ts += fcc( (u & 0x3FF) | 0xDC00 );\n\t\t\t}\n\t\t}\n\t\treturn s;\n\t}\n\n\t@:deprecated(\"readString is deprecated, use getString instead\")\n\t@:noCompletion\n\tpublic inline function readString(pos:Int, len:Int):String {\n\t\treturn getString(pos, len);\n\t}\n\n\tpublic function toString() : String {\n\t\treturn getString(0,length);\n\t}\n\n\tpublic function toHex() : String {\n\t\tvar s = new StringBuf();\n\t\tvar chars = [];\n\t\tvar str = \"0123456789abcdef\";\n\t\tfor( i in 0...str.length )\n\t\t\tchars.push(str.charCodeAt(i));\n\t\tfor( i in 0...length ) {\n\t\t\tvar c = get(i);\n\t\t\ts.addChar(chars[c >> 4]);\n\t\t\ts.addChar(chars[c & 15]);\n\t\t}\n\t\treturn s.toString();\n\t}\n\n\tpublic inline function getData() : BytesData {\n\t\treturn untyped b.bufferValue;\n\t}\n\n\tpublic static inline function alloc( length : Int ) : Bytes {\n\t\treturn new Bytes(new BytesData(length));\n\t}\n\n\tpublic static function ofString( s : String ) : Bytes {\n\t\tvar a = new Array();\n\t\t// utf16-decode and utf8-encode\n\t\tvar i = 0;\n\t\twhile( i < s.length ) {\n\t\t\tvar c : Int = StringTools.fastCodeAt(s,i++);\n\t\t\t// surrogate pair\n\t\t\tif( 0xD800 <= c && c <= 0xDBFF )\n\t\t\t    c = (c - 0xD7C0 << 10) | (StringTools.fastCodeAt(s,i++) & 0x3FF);\n\t\t\tif( c <= 0x7F )\n\t\t\t\ta.push(c);\n\t\t\telse if( c <= 0x7FF ) {\n\t\t\t\ta.push( 0xC0 | (c >> 6) );\n\t\t\t\ta.push( 0x80 | (c & 63) );\n\t\t\t} else if( c <= 0xFFFF ) {\n\t\t\t\ta.push( 0xE0 | (c >> 12) );\n\t\t\t\ta.push( 0x80 | ((c >> 6) & 63) );\n\t\t\t\ta.push( 0x80 | (c & 63) );\n\t\t\t} else {\n\t\t\t\ta.push( 0xF0 | (c >> 18) );\n\t\t\t\ta.push( 0x80 | ((c >> 12) & 63) );\n\t\t\t\ta.push( 0x80 | ((c >> 6) & 63) );\n\t\t\t\ta.push( 0x80 | (c & 63) );\n\t\t\t}\n\t\t}\n\t\treturn new Bytes(new js.html.Uint8Array(a).buffer);\n\t}\n\n\tpublic static function ofData( b : BytesData ) : Bytes {\n\t\tvar hb = untyped b.hxBytes;\n\t\tif( hb != null ) return hb;\n\t\treturn new Bytes(b);\n\t}\n\n\tpublic inline static function fastGet( b : BytesData, pos : Int ) : Int {\n\t\t// this requires that we have wrapped it with haxe.io.Bytes beforehand\n\t\treturn untyped b.bytes[pos];\n\t}\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage haxe.crypto;\n\n/**\n\tAllows to encode/decode String and bytes using Base64 encoding.\n**/\nclass Base64 {\n\n\tpublic static var CHARS(default,null) = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n\tpublic static var BYTES(default,null) = haxe.io.Bytes.ofString(CHARS);\n\n\tpublic static function encode( bytes : haxe.io.Bytes, complement = true ) : String {\n\t\tvar str = new BaseCode(BYTES).encodeBytes(bytes).toString();\n\t\tif( complement )\n\t\t\tswitch (bytes.length % 3) {\n\t\t\tcase 1:\n\t\t\t\tstr += \"==\";\n\t\t\tcase 2:\n\t\t\t\tstr += \"=\";\n\t\t\tdefault:\n\t\t\t}\n\t\treturn str;\n\t}\n\n\tpublic static function decode( str : String, complement = true ) : haxe.io.Bytes {\n\t\tif( complement )\n\t\t\twhile( str.charCodeAt(str.length-1) == \"=\".code )\n\t\t\t\tstr = str.substr(0,-1);\n\t\treturn new BaseCode(BYTES).decodeBytes(haxe.io.Bytes.ofString(str));\n\t}\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage haxe.crypto;\n\n/**\n\tAllows to encode/decode String and bytes using a power of two base dictionary.\n**/\nclass BaseCode {\n\n\tvar base : haxe.io.Bytes;\n\tvar nbits : Int;\n\tvar tbl : Array<Int>;\n\n\tpublic function new( base : haxe.io.Bytes ) {\n\t\tvar len = base.length;\n\t\tvar nbits = 1;\n\t\twhile( len > 1 << nbits )\n\t\t\tnbits++;\n\t\tif( nbits > 8 || len != 1 << nbits )\n\t\t\tthrow \"BaseCode : base length must be a power of two.\";\n\t\tthis.base = base;\n\t\tthis.nbits = nbits;\n\t}\n\n\tpublic function encodeBytes( b : haxe.io.Bytes ) : haxe.io.Bytes {\n\t\t#if (neko && !interp)\n\t\treturn haxe.io.Bytes.ofData( base_encode(b.getData(),base.getData()) );\n\t\t#else\n\t\tvar nbits = this.nbits;\n\t\tvar base = this.base;\n\t\tvar size = Std.int(b.length * 8 / nbits);\n\t\tvar out = haxe.io.Bytes.alloc(size + (((b.length * 8) % nbits == 0) ? 0 : 1) );\n\t\tvar buf = 0;\n\t\tvar curbits = 0;\n\t\tvar mask = (1 << nbits) - 1;\n\t\tvar pin = 0;\n\t\tvar pout = 0;\n\t\twhile( pout < size ) {\n\t\t\twhile( curbits < nbits ) {\n\t\t\t\tcurbits += 8;\n\t\t\t\tbuf <<= 8;\n\t\t\t\tbuf |= b.get(pin++);\n\t\t\t}\n\t\t\tcurbits -= nbits;\n\t\t\tout.set(pout++,base.get((buf >> curbits) & mask));\n\t\t}\n\t\tif( curbits > 0 )\n\t\t\tout.set(pout++,base.get((buf << (nbits - curbits)) & mask));\n\t\treturn out;\n\t\t#end\n\t}\n\n\tfunction initTable() {\n\t\tvar tbl = new Array();\n\t\tfor( i in 0...256 )\n\t\t\ttbl[i] = -1;\n\t\tfor( i in 0...base.length )\n\t\t\ttbl[base.get(i)] = i;\n\t\tthis.tbl = tbl;\n\t}\n\n\tpublic function decodeBytes( b : haxe.io.Bytes ) : haxe.io.Bytes {\n\t\t#if (neko && !interp)\n\t\treturn haxe.io.Bytes.ofData( base_decode(b.getData(),base.getData()) );\n\t\t#else\n\t\tvar nbits = this.nbits;\n\t\tvar base = this.base;\n\t\tif( this.tbl == null ) initTable();\n\t\tvar tbl = this.tbl;\n\t\tvar size = (b.length * nbits) >> 3;\n\t\tvar out = haxe.io.Bytes.alloc(size);\n\t\tvar buf = 0;\n\t\tvar curbits = 0;\n\t\tvar pin = 0;\n\t\tvar pout = 0;\n\t\twhile( pout < size ) {\n\t\t\twhile( curbits < 8 ) {\n\t\t\t\tcurbits += nbits;\n\t\t\t\tbuf <<= nbits;\n\t\t\t\tvar i = tbl[b.get(pin++)];\n\t\t\t\tif( i == -1 )\n\t\t\t\t\tthrow \"BaseCode : invalid encoded char\";\n\t\t\t\tbuf |= i;\n\t\t\t}\n\t\t\tcurbits -= 8;\n\t\t\tout.set(pout++,(buf >> curbits) & 0xFF);\n\t\t}\n\t\treturn out;\n\t\t#end\n\t}\n\n\tpublic function encodeString( s : String ) {\n\t\t#if (neko && !interp)\n\t\treturn neko.NativeString.toString( base_encode(neko.NativeString.ofString(s),base.getData()) );\n\t\t#else\n\t\treturn encodeBytes(haxe.io.Bytes.ofString(s)).toString();\n\t\t#end\n\t}\n\n\tpublic function decodeString( s : String ) {\n\t\t#if (neko && !interp)\n\t\treturn neko.NativeString.toString( base_decode(neko.NativeString.ofString(s),base.getData()) );\n\t\t#else\n\t\treturn decodeBytes(haxe.io.Bytes.ofString(s)).toString();\n\t\t#end\n\t}\n\n\tpublic static function encode( s : String, base : String ) {\n\t\tvar b = new BaseCode(haxe.io.Bytes.ofString(base));\n\t\treturn b.encodeString(s);\n\t}\n\n\tpublic static function decode( s : String, base : String ) {\n\t\tvar b = new BaseCode(haxe.io.Bytes.ofString(base));\n\t\treturn b.decodeString(s);\n\t}\n\n\t#if neko\n\tprivate static var base_encode = neko.Lib.load(\"std\",\"base_encode\",2);\n\tprivate static var base_decode = neko.Lib.load(\"std\",\"base_decode\",2);\n\t#end\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage haxe.crypto;\n\n/**\n\tCreates a MD5 of a String.\n**/\nclass Md5 {\n\n\tpublic static function encode( s : String ) : String {\n\t\t#if neko\n\t\t\treturn untyped new String(base_encode(make_md5(s.__s),\"0123456789abcdef\".__s));\n\t\t#elseif php\n\t\t\treturn untyped __call__(\"md5\", s);\n\t\t#else\n\t\t\tvar m = new Md5();\n\t\t\tvar h = m.doEncode(str2blks(s));\n\t\t\treturn m.hex(h);\n\t\t#end\n\t}\n\n\tpublic static function make( b : haxe.io.Bytes ) : haxe.io.Bytes {\n\t\t#if neko\n\t\t\treturn haxe.io.Bytes.ofData(make_md5(b.getData()));\n\t\t#elseif php\n\t\t\treturn haxe.io.Bytes.ofData( haxe.io.BytesData.ofString(untyped __call__(\"md5\", b.getData().toString(), true)));\n\t\t#else\n\t\t\tvar h = new Md5().doEncode(bytes2blks(b));\n\t\t\tvar out = haxe.io.Bytes.alloc(16);\n\t\t\tvar p = 0;\n\t\t\tfor( i in 0...4 ) {\n\t\t\t\tout.set(p++,h[i]&0xFF);\n\t\t\t\tout.set(p++,(h[i]>>8)&0xFF);\n\t\t\t\tout.set(p++,(h[i]>>16)&0xFF);\n\t\t\t\tout.set(p++,h[i]>>>24);\n\t\t\t}\n\t\t\treturn out;\n\t\t#end\n\t}\n\n\t#if neko\n\tstatic var base_encode = neko.Lib.load(\"std\",\"base_encode\",2);\n\tstatic var make_md5 = neko.Lib.load(\"std\",\"make_md5\",1);\n\t#elseif !php\n\n/*\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Copyright (C) Paul Johnston 1999 - 2000.\n * Updated by Greg Holt 2000 - 2001.\n * See http://pajhome.org.uk/site/legal.html for details.\n */\n\n\tfunction new() {\n\t}\n\n\tfunction bitOR(a, b){\n\t\tvar lsb = (a & 0x1) | (b & 0x1);\n\t\tvar msb31 = (a >>> 1) | (b >>> 1);\n\t\treturn (msb31 << 1) | lsb;\n\t}\n\n\tfunction bitXOR(a, b){\n\t\tvar lsb = (a & 0x1) ^ (b & 0x1);\n\t\tvar msb31 = (a >>> 1) ^ (b >>> 1);\n\t\treturn (msb31 << 1) | lsb;\n\t}\n\n\tfunction bitAND(a, b){\n\t\tvar lsb = (a & 0x1) & (b & 0x1);\n\t\tvar msb31 = (a >>> 1) & (b >>> 1);\n\t\treturn (msb31 << 1) | lsb;\n\t}\n\n\tfunction addme(x, y) {\n\t\tvar lsw = (x & 0xFFFF)+(y & 0xFFFF);\n\t\tvar msw = (x >> 16)+(y >> 16)+(lsw >> 16);\n\t\treturn (msw << 16) | (lsw & 0xFFFF);\n\t}\n\n\tfunction hex( a : Array<Int> ){\n\t\tvar str = \"\";\n\t\tvar hex_chr = \"0123456789abcdef\";\n\t\tfor( num in a )\n\t\t\tfor( j in 0...4 )\n\t\t\t\tstr += hex_chr.charAt((num >> (j * 8 + 4)) & 0x0F) +\n\t\t\t\t\t\t\t hex_chr.charAt((num >> (j * 8)) & 0x0F);\n\t\treturn str;\n\t}\n\n\tstatic function bytes2blks( b : haxe.io.Bytes ){\n\t\tvar nblk = ((b.length + 8) >> 6) + 1;\n\t\tvar blks = new Array();\n\n\t\t//preallocate size\n\t\tvar blksSize = nblk * 16;\n\t\t#if (neko || cs || cpp || java || hl)\n\t\tblks[blksSize - 1] = 0;\n\t\t#end\n\n\t\t#if !(cpp || cs || hl) //C++ and C# will already initialize them with zeroes.\n\t\tfor( i in 0...blksSize ) blks[i] = 0;\n\t\t#end\n\n\t\tvar i = 0;\n\t\twhile( i < b.length ) {\n\t\t\tblks[i >> 2] |= b.get(i) << ((((b.length << 3) + i) & 3) << 3);\n\t\t\ti++;\n\t\t}\n\t\tblks[i >> 2] |= 0x80 << (((b.length * 8 + i) % 4) * 8);\n\t\tvar l = b.length * 8;\n\t\tvar k = nblk * 16 - 2;\n\t\tblks[k] = (l & 0xFF);\n\t\tblks[k] |= ((l >>> 8) & 0xFF) << 8;\n\t\tblks[k] |= ((l >>> 16) & 0xFF) << 16;\n\t\tblks[k] |= ((l >>> 24) & 0xFF) << 24;\n\t\treturn blks;\n\t}\n\n\tstatic function str2blks( str : String ){\n#if !(neko || cpp || php)\n\t\tvar str = haxe.io.Bytes.ofString(str);\n#end\n\t\tvar nblk = ((str.length + 8) >> 6) + 1;\n\t\tvar blks = new Array();\n\n\t\t//preallocate size\n\t\tvar blksSize = nblk * 16;\n\t\t#if (neko || cs || cpp || java || hl)\n\t\tblks[blksSize - 1] = 0;\n\t\t#end\n\n\t\t#if !(cpp || cs || hl) //C++ and C# will already initialize them with zeroes.\n\t\tfor( i in 0...blksSize ) blks[i] = 0;\n\t\t#end\n\n\t\tvar i = 0;\n\t\tvar max = str.length;\n\t\tvar l = max * 8;\n\t\twhile( i < max ) {\n\t\t\tblks[i >> 2] |= #if !(neko || cpp || php) str.get(i) #else StringTools.fastCodeAt(str, i) #end << (((l + i) % 4) * 8);\n\t\t\ti++;\n\t\t}\n\t\tblks[i >> 2] |= 0x80 << (((l + i) % 4) * 8);\n\t\tvar k = nblk * 16 - 2;\n\t\tblks[k] = (l & 0xFF);\n\t\tblks[k] |= ((l >>> 8) & 0xFF) << 8;\n\t\tblks[k] |= ((l >>> 16) & 0xFF) << 16;\n\t\tblks[k] |= ((l >>> 24) & 0xFF) << 24;\n\t\treturn blks;\n\t}\n\n\tfunction rol(num, cnt){\n\t\treturn (num << cnt) | (num >>> (32 - cnt));\n\t}\n\n\tfunction cmn(q, a, b, x, s, t){\n\t\treturn addme(rol((addme(addme(a, q), addme(x, t))), s), b);\n\t}\n\n\tfunction ff(a, b, c, d, x, s, t){\n\t\treturn cmn(bitOR(bitAND(b, c), bitAND((~b), d)), a, b, x, s, t);\n\t}\n\n\tfunction gg(a, b, c, d, x, s, t){\n\t\treturn cmn(bitOR(bitAND(b, d), bitAND(c, (~d))), a, b, x, s, t);\n\t}\n\n\tfunction hh(a, b, c, d, x, s, t){\n\t\treturn cmn(bitXOR(bitXOR(b, c), d), a, b, x, s, t);\n\t}\n\n\tfunction ii(a, b, c, d, x, s, t){\n\t\treturn cmn(bitXOR(c, bitOR(b, (~d))), a, b, x, s, t);\n\t}\n\n\tfunction doEncode( x : Array<Int> ) : Array<Int> {\n\n\t\tvar a =  1732584193;\n\t\tvar b = -271733879;\n\t\tvar c = -1732584194;\n\t\tvar d =  271733878;\n\n\t\tvar step;\n\n\t\tvar i = 0;\n\t\twhile( i < x.length )  {\n\t\t\tvar olda = a;\n\t\t\tvar oldb = b;\n\t\t\tvar oldc = c;\n\t\t\tvar oldd = d;\n\n\t\t\tstep = 0;\n\t\t\ta = ff(a, b, c, d, x[i+ 0], 7 , -680876936);\n\t\t\td = ff(d, a, b, c, x[i+ 1], 12, -389564586);\n\t\t\tc = ff(c, d, a, b, x[i+ 2], 17,  606105819);\n\t\t\tb = ff(b, c, d, a, x[i+ 3], 22, -1044525330);\n\t\t\ta = ff(a, b, c, d, x[i+ 4], 7 , -176418897);\n\t\t\td = ff(d, a, b, c, x[i+ 5], 12,  1200080426);\n\t\t\tc = ff(c, d, a, b, x[i+ 6], 17, -1473231341);\n\t\t\tb = ff(b, c, d, a, x[i+ 7], 22, -45705983);\n\t\t\ta = ff(a, b, c, d, x[i+ 8], 7 ,  1770035416);\n\t\t\td = ff(d, a, b, c, x[i+ 9], 12, -1958414417);\n\t\t\tc = ff(c, d, a, b, x[i+10], 17, -42063);\n\t\t\tb = ff(b, c, d, a, x[i+11], 22, -1990404162);\n\t\t\ta = ff(a, b, c, d, x[i+12], 7 ,  1804603682);\n\t\t\td = ff(d, a, b, c, x[i+13], 12, -40341101);\n\t\t\tc = ff(c, d, a, b, x[i+14], 17, -1502002290);\n\t\t\tb = ff(b, c, d, a, x[i+15], 22,  1236535329);\n\t\t\ta = gg(a, b, c, d, x[i+ 1], 5 , -165796510);\n\t\t\td = gg(d, a, b, c, x[i+ 6], 9 , -1069501632);\n\t\t\tc = gg(c, d, a, b, x[i+11], 14,  643717713);\n\t\t\tb = gg(b, c, d, a, x[i+ 0], 20, -373897302);\n\t\t\ta = gg(a, b, c, d, x[i+ 5], 5 , -701558691);\n\t\t\td = gg(d, a, b, c, x[i+10], 9 ,  38016083);\n\t\t\tc = gg(c, d, a, b, x[i+15], 14, -660478335);\n\t\t\tb = gg(b, c, d, a, x[i+ 4], 20, -405537848);\n\t\t\ta = gg(a, b, c, d, x[i+ 9], 5 ,  568446438);\n\t\t\td = gg(d, a, b, c, x[i+14], 9 , -1019803690);\n\t\t\tc = gg(c, d, a, b, x[i+ 3], 14, -187363961);\n\t\t\tb = gg(b, c, d, a, x[i+ 8], 20,  1163531501);\n\t\t\ta = gg(a, b, c, d, x[i+13], 5 , -1444681467);\n\t\t\td = gg(d, a, b, c, x[i+ 2], 9 , -51403784);\n\t\t\tc = gg(c, d, a, b, x[i+ 7], 14,  1735328473);\n\t\t\tb = gg(b, c, d, a, x[i+12], 20, -1926607734);\n\t\t\ta = hh(a, b, c, d, x[i+ 5], 4 , -378558);\n\t\t\td = hh(d, a, b, c, x[i+ 8], 11, -2022574463);\n\t\t\tc = hh(c, d, a, b, x[i+11], 16,  1839030562);\n\t\t\tb = hh(b, c, d, a, x[i+14], 23, -35309556);\n\t\t\ta = hh(a, b, c, d, x[i+ 1], 4 , -1530992060);\n\t\t\td = hh(d, a, b, c, x[i+ 4], 11,  1272893353);\n\t\t\tc = hh(c, d, a, b, x[i+ 7], 16, -155497632);\n\t\t\tb = hh(b, c, d, a, x[i+10], 23, -1094730640);\n\t\t\ta = hh(a, b, c, d, x[i+13], 4 ,  681279174);\n\t\t\td = hh(d, a, b, c, x[i+ 0], 11, -358537222);\n\t\t\tc = hh(c, d, a, b, x[i+ 3], 16, -722521979);\n\t\t\tb = hh(b, c, d, a, x[i+ 6], 23,  76029189);\n\t\t\ta = hh(a, b, c, d, x[i+ 9], 4 , -640364487);\n\t\t\td = hh(d, a, b, c, x[i+12], 11, -421815835);\n\t\t\tc = hh(c, d, a, b, x[i+15], 16,  530742520);\n\t\t\tb = hh(b, c, d, a, x[i+ 2], 23, -995338651);\n\t\t\ta = ii(a, b, c, d, x[i+ 0], 6 , -198630844);\n\t\t\td = ii(d, a, b, c, x[i+ 7], 10,  1126891415);\n\t\t\tc = ii(c, d, a, b, x[i+14], 15, -1416354905);\n\t\t\tb = ii(b, c, d, a, x[i+ 5], 21, -57434055);\n\t\t\ta = ii(a, b, c, d, x[i+12], 6 ,  1700485571);\n\t\t\td = ii(d, a, b, c, x[i+ 3], 10, -1894986606);\n\t\t\tc = ii(c, d, a, b, x[i+10], 15, -1051523);\n\t\t\tb = ii(b, c, d, a, x[i+ 1], 21, -2054922799);\n\t\t\ta = ii(a, b, c, d, x[i+ 8], 6 ,  1873313359);\n\t\t\td = ii(d, a, b, c, x[i+15], 10, -30611744);\n\t\t\tc = ii(c, d, a, b, x[i+ 6], 15, -1560198380);\n\t\t\tb = ii(b, c, d, a, x[i+13], 21,  1309151649);\n\t\t\ta = ii(a, b, c, d, x[i+ 4], 6 , -145523070);\n\t\t\td = ii(d, a, b, c, x[i+11], 10, -1120210379);\n\t\t\tc = ii(c, d, a, b, x[i+ 2], 15,  718787259);\n\t\t\tb = ii(b, c, d, a, x[i+ 9], 21, -343485551);\n\n\t\t\ta = addme(a, olda);\n\t\t\tb = addme(b, oldb);\n\t\t\tc = addme(c, oldc);\n\t\t\td = addme(d, oldd);\n\n\t\t\ti += 16;\n\t\t}\n\t\treturn [a,b,c,d];\n\t}\n\n\t#end\n\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\npackage haxe.ds;\n\n/**\n\tArraySort provides a stable implementation of merge sort through its `sort`\n\tmethod. It should be used instead of `Array.sort` in cases where the order\n\tof equal elements has to be retained on all targets.\n**/\nclass ArraySort {\n\n\t/**\n\t\tSorts Array `a` according to the comparison function `cmp`, where\n\t\t`cmp(x,y)` returns 0 if `x == y`, a positive Int if `x > y` and a\n\t\tnegative Int if `x < y`.\n\n\t\tThis operation modifies Array `a` in place.\n\n\t\tThis operation is stable: The order of equal elements is preserved.\n\n\t\tIf `a` or `cmp` are null, the result is unspecified.\n\t**/\n\tstatic public function sort<T>(a:Array<T>, cmp:T -> T -> Int) {\n\t\trec(a, cmp, 0, a.length);\n\t}\n\n\tstatic function rec<T>(a:Array<T>, cmp, from, to) {\n\t\tvar middle = (from + to) >> 1;\n\t\tif (to - from < 12) {\n\t\t\tif (to <= from) return;\n\t\t\tfor (i in (from + 1)...to) {\n\t\t\t\tvar j = i;\n\t\t\t\twhile (j > from) {\n\t\t\t\t\tif (compare(a, cmp, j, j - 1) < 0)\n\t\t\t\t\t\tswap(a, j - 1, j);\n\t\t\t\t\telse\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tj--;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\trec(a, cmp, from, middle);\n\t\trec(a, cmp, middle, to);\n\t\tdoMerge(a, cmp, from, middle, to, middle - from, to - middle);\n\t}\n\n\tstatic function doMerge<T>(a:Array<T>, cmp, from, pivot, to, len1, len2) {\n\t\tvar first_cut, second_cut, len11, len22, new_mid;\n\t\tif (len1 == 0 || len2 == 0)\n\t\t\treturn;\n\t\tif (len1 + len2 == 2) {\n\t\t\tif (compare(a, cmp, pivot, from) < 0)\n\t\t\t\tswap(a, pivot, from);\n\t\t\treturn;\n\t\t}\n\t\tif (len1 > len2) {\n\t\t\tlen11 = len1 >> 1;\n\t\t\tfirst_cut = from + len11;\n\t\t\tsecond_cut = lower(a, cmp, pivot, to, first_cut);\n\t\t\tlen22 = second_cut - pivot;\n\t\t} else {\n\t\t\tlen22 = len2 >> 1;\n\t\t\tsecond_cut = pivot + len22;\n\t\t\tfirst_cut = upper(a, cmp, from, pivot, second_cut);\n\t\t\tlen11 = first_cut - from;\n\t\t}\n\t\trotate(a, cmp, first_cut, pivot, second_cut);\n\t\tnew_mid = first_cut + len22;\n\t\tdoMerge(a, cmp, from, first_cut, new_mid, len11, len22);\n\t\tdoMerge(a, cmp, new_mid, second_cut, to, len1 - len11, len2 - len22);\n\t}\n\n\tstatic function rotate<T>(a:Array<T>, cmp, from, mid, to) {\n\t\tvar n;\n\t\tif (from == mid || mid == to) return;\n\t\tn = gcd(to - from, mid - from);\n\t\twhile (n-- != 0) {\n\t\t\tvar val = a[from + n];\n\t\t\tvar shift = mid - from;\n\t\t\tvar p1 = from + n, p2 = from + n + shift;\n\t\t\twhile (p2 != from + n) {\n\t\t\t\ta[p1] = a[p2];\n\t\t\t\tp1 = p2;\n\t\t\t\tif (to - p2 > shift) p2 += shift;\n\t\t\t\telse p2 = from + (shift - (to - p2));\n\t\t\t}\n\t\t\ta[p1] = val;\n\t\t}\n\t}\n\n\tstatic function gcd(m, n) {\n\t\twhile (n != 0) {\n\t\t\tvar t = m % n;\n\t\t\tm = n;\n\t\t\tn = t;\n\t\t}\n\t\treturn m;\n\t}\n\n\tstatic function upper<T>(a:Array<T>, cmp, from, to, val) {\n\t\tvar len = to - from, half, mid;\n\t\twhile (len > 0) {\n\t\t\thalf = len >> 1;\n\t\t\tmid = from + half;\n\t\t\tif (compare(a, cmp, val, mid) < 0)\n\t\t\t\tlen = half;\n\t\t\telse {\n\t\t\t\tfrom = mid + 1;\n\t\t\t\tlen = len - half - 1;\n\t\t\t}\n\t\t}\n\t\treturn from;\n\t}\n\n\tstatic function lower<T>(a:Array<T>, cmp, from, to, val) {\n\t\tvar len = to - from, half, mid;\n\t\twhile (len > 0) {\n\t\t\thalf = len >> 1;\n\t\t\tmid = from + half;\n\t\t\tif (compare(a, cmp, mid, val) < 0) {\n\t\t\t\tfrom = mid + 1;\n\t\t\t\tlen = len - half - 1;\n\t\t\t} else\n\t\t\t\tlen = half;\n\t\t}\n\t\treturn from;\n\t}\n\n\tstatic function swap<T>(a:Array<T>, i, j) {\n\t\tvar tmp = a[i];\n\t\ta[i] = a[j];\n\t\ta[j] = tmp;\n\t}\n\n\tstatic inline function compare<T>(a:Array<T>, cmp, i, j) {\n\t\treturn cmp(a[i], a[j]);\n\t}\n}","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage haxe.ds;\n\n@:coreApi class IntMap<T> implements haxe.Constraints.IMap<Int,T> {\n\n\tprivate var h : Dynamic;\n\n\tpublic inline function new() : Void {\n\t\th = {};\n\t}\n\n\tpublic inline function set( key : Int, value : T ) : Void {\n\t\tuntyped h[key] = value;\n\t}\n\n\tpublic inline function get( key : Int ) : Null<T> {\n\t\treturn untyped h[key];\n\t}\n\n\tpublic inline function exists( key : Int ) : Bool {\n\t\treturn untyped h.hasOwnProperty(key);\n\t}\n\n\tpublic function remove( key : Int ) : Bool {\n\t\tif( untyped !h.hasOwnProperty(key) ) return false;\n\t\tuntyped  __js__(\"delete\")(h[key]);\n\t\treturn true;\n\t}\n\n\tpublic function keys() : Iterator<Int> {\n\t\tvar a = [];\n\t\tuntyped __js__(\"for( var key in {0} ) {1}\", h, if( h.hasOwnProperty(key) ) a.push(key|0));\n\t\treturn a.iterator();\n\t}\n\n\tpublic function iterator() : Iterator<T> {\n\t\treturn untyped {\n\t\t\tref : h,\n\t\t\tit : keys(),\n\t\t\thasNext : function() { return __this__.it.hasNext(); },\n\t\t\tnext : function() { var i = __this__.it.next(); return __this__.ref[i]; }\n\t\t};\n\t}\n\n\tpublic function toString() : String {\n\t\tvar s = new StringBuf();\n\t\ts.add(\"{\");\n\t\tvar it = keys();\n\t\tfor( i in it ) {\n\t\t\ts.add(i);\n\t\t\ts.add(\" => \");\n\t\t\ts.add(Std.string(get(i)));\n\t\t\tif( it.hasNext() )\n\t\t\t\ts.add(\", \");\n\t\t}\n\t\ts.add(\"}\");\n\t\treturn s.toString();\n\t}\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of h software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and h permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\npackage haxe.ds;\n\n@:coreApi\nclass ObjectMap<K:{ }, V> implements haxe.Constraints.IMap<K,V> {\n\n\tstatic var count = 0;\n\n\tstatic inline function assignId(obj: { } ):Int {\n\t\treturn untyped obj.__id__ = ++count;\n\t}\n\n\tstatic inline function getId(obj: { } ):Int {\n\t\treturn untyped obj.__id__;\n\t}\n\n\tvar h : { };\n\n\tpublic function new() : Void {\n\t\th = { __keys__: {} };\n\t}\n\n\tpublic function set(key:K, value:V):Void untyped {\n\t\tvar id : Int = getId(key) || assignId(key);\n\t\th[id] = value;\n\t\th.__keys__[id] = key;\n\t}\n\n\tpublic inline function get(key:K):Null<V> {\n\t\treturn untyped h[getId(key)];\n\t}\n\n\tpublic inline function exists(key:K):Bool {\n\t\treturn untyped h.__keys__[getId(key)] != null;\n\t}\n\n\tpublic function remove( key : K ) : Bool {\n\t\tvar id = getId(key);\n\t\tif ( untyped h.__keys__[id] == null ) return false;\n\t\tuntyped  __js__(\"delete\")(h[id]);\n\t\tuntyped  __js__(\"delete\")(h.__keys__[id]);\n\t\treturn true;\n\t}\n\n\tpublic function keys() : Iterator<K> {\n\t\tvar a = [];\n\t\tuntyped {\n\t\t\t__js__(\"for( var key in this.h.__keys__ ) {\");\n\t\t\t\tif( h.hasOwnProperty(key) )\n\t\t\t\t\ta.push(h.__keys__[key]);\n\t\t\t__js__(\"}\");\n\t\t}\n\t\treturn a.iterator();\n\t}\n\n\tpublic function iterator() : Iterator<V> {\n\t\treturn untyped {\n\t\t\tref : h,\n\t\t\tit : keys(),\n\t\t\thasNext : function() { return __this__.it.hasNext(); },\n\t\t\tnext : function() { var i = __this__.it.next(); return __this__.ref[getId(i)]; }\n\t\t};\n\t}\n\n\tpublic function toString() : String {\n\t\tvar s = new StringBuf();\n\t\ts.add(\"{\");\n\t\tvar it = keys();\n\t\tfor( i in it ) {\n\t\t\ts.add(Std.string(i));\n\t\t\ts.add(\" => \");\n\t\t\ts.add(Std.string(get(i)));\n\t\t\tif( it.hasNext() )\n\t\t\t\ts.add(\", \");\n\t\t}\n\t\ts.add(\"}\");\n\t\treturn s.toString();\n\t}\n}","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage haxe.ds;\n\nprivate class StringMapIterator<T> {\n\tvar map : StringMap<T>;\n\tvar keys : Array<String>;\n\tvar index : Int;\n\tvar count : Int;\n\tpublic inline function new(map:StringMap<T>, keys:Array<String>) {\n\t\tthis.map = map;\n\t\tthis.keys = keys;\n\t\tthis.index = 0;\n\t\tthis.count = keys.length;\n\t}\n\tpublic inline function hasNext() {\n\t\treturn index < count;\n\t}\n\tpublic inline function next() {\n\t\treturn map.get(keys[index++]);\n\t}\n}\n\n@:coreApi class StringMap<T> implements haxe.Constraints.IMap<String,T> {\n\n\tprivate var h : Dynamic;\n\tprivate var rh : Dynamic;\n\n\tpublic inline function new() : Void {\n\t\th = {};\n\t}\n\n\tinline function isReserved(key:String) : Bool {\n\t\treturn untyped __js__(\"__map_reserved\")[key] != null;\n\t}\n\n\tpublic inline function set( key : String, value : T ) : Void {\n\t\tif( isReserved(key) )\n\t\t\tsetReserved(key, value);\n\t\telse\n\t\t\th[cast key] = value;\n\t}\n\n\tpublic inline function get( key : String ) : Null<T> {\n\t\tif( isReserved(key) )\n\t\t\treturn getReserved(key);\n\t\treturn h[cast key];\n\t}\n\n\tpublic inline function exists( key : String ) : Bool {\n\t\tif( isReserved(key) )\n\t\t\treturn existsReserved(key);\n\t\treturn h.hasOwnProperty(key);\n\t}\n\n\tfunction setReserved( key : String, value : T ) : Void {\n\t\tif( rh == null ) rh = {};\n\t\trh[cast \"$\"+key] = value;\n\t}\n\n\tfunction getReserved( key : String ) : Null<T> {\n\t\treturn rh == null ? null : rh[cast \"$\"+key];\n\t}\n\n\tfunction existsReserved( key : String ) : Bool {\n\t\tif( rh == null ) return false;\n\t\treturn untyped rh.hasOwnProperty(\"$\"+key);\n\t}\n\n\tpublic function remove( key : String ) : Bool {\n\t\tif( isReserved(key) ) {\n\t\t\tkey = \"$\" + key;\n\t\t\tif( rh == null || !rh.hasOwnProperty(key) ) return false;\n\t\t\tuntyped __js__(\"delete\")(rh[key]);\n\t\t\treturn true;\n\t\t} else {\n\t\t\tif( !h.hasOwnProperty(key) )\n\t\t\t\treturn false;\n\t\t\tuntyped __js__(\"delete\")(h[key]);\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tpublic function keys() : Iterator<String> {\n\t\treturn arrayKeys().iterator();\n\t}\n\t\n\tfunction arrayKeys() : Array<String> {\n\t\tvar out = [];\n\t\tuntyped {\n\t\t\t__js__(\"for( var key in this.h ) {\");\n\t\t\t\tif( h.hasOwnProperty(key) )\n\t\t\t\t\tout.push(key);\n\t\t\t__js__(\"}\");\n\t\t}\n\t\tif( rh != null ) untyped {\n\t\t\t__js__(\"for( var key in this.rh ) {\");\n\t\t\t\tif( key.charCodeAt(0) == \"$\".code )\n\t\t\t\t\tout.push(key.substr(1));\n\t\t\t__js__(\"}\");\n\t\t}\n\t\treturn out;\n\t}\n\n\tpublic inline function iterator() : Iterator<T> {\n\t\treturn new StringMapIterator(this, arrayKeys());\n\t}\n\n\tpublic function toString() : String {\n\t\tvar s = new StringBuf();\n\t\ts.add(\"{\");\n\t\tvar keys = arrayKeys();\n\t\tfor( i in 0...keys.length ) {\n\t\t\tvar k = keys[i];\n\t\t\ts.add(k);\n\t\t\ts.add(\" => \");\n\t\t\ts.add(Std.string(get(k)));\n\t\t\tif( i < keys.length-1 )\n\t\t\t\ts.add(\", \");\n\t\t}\n\t\ts.add(\"}\");\n\t\treturn s.toString();\n\t}\n\n\tstatic function __init__() : Void {\n\t\tuntyped __js__(\"var __map_reserved = {};\");\n\t}\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage haxe.io;\n\n/**\n\tHelper that converts between floating point and binary representation.\n\tAlways works in low-endian encoding.\n**/\nclass FPHelper {\n\n\t#if neko_v21\n\t// stored in helper\n\t#elseif neko\n\tstatic var i64tmp = new neko.vm.Tls<Int64>();\n\t#elseif !(java || cs)\n\tstatic var i64tmp = Int64.ofInt(0);\n\t#end\n\n\t#if neko\n\t\t#if neko_v21\n\t\tstatic var helpers = new neko.vm.Tls<neko.NativeArray<Dynamic>>();\n\t\t#else\n\t\tstatic var helperf = new neko.vm.Tls<neko.NativeString>();\n\t\tstatic var helperd = new neko.vm.Tls<neko.NativeString>();\n\t\tstatic var _float_of_bytes = neko.Lib.load(\"std\",\"float_of_bytes\",2);\n\t\tstatic var _double_of_bytes = neko.Lib.load(\"std\",\"double_of_bytes\",2);\n\t\tstatic var _float_bytes = neko.Lib.load(\"std\",\"float_bytes\",2);\n\t\tstatic var _double_bytes = neko.Lib.load(\"std\",\"double_bytes\",2);\n\t\t#end\n\t#elseif flash\n\t\tstatic var helper = {\n\t\t\tvar b = new flash.utils.ByteArray();\n\t\t\tb.endian = flash.utils.Endian.LITTLE_ENDIAN;\n\t\t\tb;\n\t\t}\n\t#elseif php\n\t\tstatic var isLittleEndian : Bool = untyped __call__('unpack','S','\\x01\\x00')[1] == 1;\n\t#else\n\t\tstatic inline var LN2 = 0.6931471805599453; // Math.log(2)\n\t#end\n\n\t#if neko_v21 inline #end\n\tpublic static function i32ToFloat( i : Int ) : Float {\n\t\t#if neko\n\t\t\t#if neko_v21\n\t\t\treturn untyped $itof(i,false);\n\t\t\t#else\n\t\t\tvar helper = helperf.value;\n\t\t\tif( helper == null )\n\t\t\t\thelperf.value = helper = neko.NativeString.alloc(4);\n\t\t\tuntyped $sset(helper,0,i&0xFF);\n\t\t\tuntyped $sset(helper,1,(i>>8)&0xFF);\n\t\t\tuntyped $sset(helper,2,(i>>16)&0xFF);\n\t\t\tuntyped $sset(helper,3,i>>>24);\n\t\t\treturn _float_of_bytes(helper,false);\n\t\t\t#end\n\t\t#elseif cpp\n\t\t\treturn untyped __global__.__hxcpp_reinterpret_le_int32_as_float32(i);\n\t\t#elseif cs\n\t\t\tvar helper = new SingleHelper(0);\n\t\t\tif( cs.system.BitConverter.IsLittleEndian )\n\t\t\t{\n\t\t\t\thelper.i = i;\n\t\t\t} else {\n\t\t\t\thelper.i = ((i >>> 24) & 0xFF) | (((i >> 16) & 0xFF) << 8) | (((i >> 8) & 0xFF) << 16) | ((i & 0xFF) << 24);\n\t\t\t}\n\n\t\t\treturn helper.f;\n\t\t#elseif java\n\t\t\treturn java.lang.Float.FloatClass.intBitsToFloat(i);\n\t\t#elseif php\n\t\t\treturn untyped  __call__('unpack', 'f', __call__('pack', 'l', i))[1];\n\t\t#elseif flash\n\t\t\tvar helper = helper;\n\t\t\thelper.position = 0;\n\t\t\thelper.writeUnsignedInt(i);\n\t\t\thelper.position = 0;\n\t\t\treturn helper.readFloat();\n\t\t#else\n\t\t\tvar sign = 1 - ((i >>> 31) << 1);\n\t\t\tvar exp = (i >>> 23) & 0xFF;\n\t\t\tvar sig = i & 0x7FFFFF;\n\t\t\tif( sig == 0 && exp == 0 )\n\t\t\t\treturn 0.0;\n\t\t\treturn sign*(1 + Math.pow(2, -23)*sig) * Math.pow(2, exp-127);\n\t\t#end\n\t}\n\n\t#if neko_v21 inline #end\n\tpublic static function floatToI32( f : Float ) : Int {\n\t\t#if neko\n\t\t\t#if neko_v21\n\t\t\treturn untyped $ftoi(f,false);\n\t\t\t#else\n\t\t\tvar r = _float_bytes(f,false);\n\t\t\treturn untyped $sget(r,0) | ($sget(r,1)<<8) | ($sget(r,2)<<16) | ($sget(r,3)<<24);\n\t\t\t#end\n\t\t#elseif cpp\n\t\t\treturn untyped __global__.__hxcpp_reinterpret_float32_as_le_int32(f);\n\t\t#elseif cs\n\t\t\tvar helper = new SingleHelper(f);\n\t\t\tif( cs.system.BitConverter.IsLittleEndian )\n\t\t\t{\n\t\t\t\treturn helper.i;\n\t\t\t} else {\n\t\t\t\tvar i = helper.i;\n\t\t\t\treturn ((i >>> 24) & 0xFF) | (((i >> 16) & 0xFF) << 8) | (((i >> 8) & 0xFF) << 16) | ((i & 0xFF) << 24);\n\t\t\t}\n\t\t#elseif java\n\t\t\treturn java.lang.Float.FloatClass.floatToRawIntBits(f);\n\t\t#elseif flash\n\t\t\tvar helper = helper;\n\t\t\thelper.position = 0;\n\t\t\thelper.writeFloat(f);\n\t\t\thelper.position = 0;\n\t\t\treturn helper.readUnsignedInt();\n\t\t#elseif php\n\t\t\treturn untyped __call__('unpack','l',__call__('pack', 'f', f))[1];\n\t\t#else\n\t\t\tif( f == 0 ) return 0;\n\t\t\tvar af = f < 0 ? -f : f;\n\t\t\tvar exp = Math.floor(Math.log(af) / LN2);\n\t\t\tif( exp < -127 ) exp = -127 else if( exp > 128 ) exp = 128;\n\t\t\tvar sig = Math.round((af / Math.pow(2, exp) - 1) * 0x800000);\n\t\t\tif( sig == 0x800000 && exp < 128 ){\n\t\t\t\tsig = 0;\n\t\t\t\texp++;\n\t\t\t}\n\t\t\treturn (f < 0 ? 0x80000000 : 0) | ((exp + 127) << 23) | sig;\n\t\t#end\n\t}\n\n\t#if neko_v21 inline #end\n\tpublic static function i64ToDouble( low : Int, high : Int ) : Float {\n\t\t#if neko\n\t\t\t#if neko_v21\n\t\t\treturn untyped $itod(low,high,false);\n\t\t\t#else\n\t\t\tvar helper = helperd.value;\n\t\t\tif( helper == null )\n\t\t\t\thelperd.value = helper = neko.NativeString.alloc(8);\n\t\t\tuntyped $sset(helper,0,low&0xFF);\n\t\t\tuntyped $sset(helper,1,(low>>8)&0xFF);\n\t\t\tuntyped $sset(helper,2,(low>>16)&0xFF);\n\t\t\tuntyped $sset(helper,3,low>>>24);\n\t\t\tuntyped $sset(helper,4,high&0xFF);\n\t\t\tuntyped $sset(helper,5,(high>>8)&0xFF);\n\t\t\tuntyped $sset(helper,6,(high>>16)&0xFF);\n\t\t\tuntyped $sset(helper,7,high>>>24);\n\t\t\treturn _double_of_bytes(helper,false);\n\t\t\t#end\n\t\t#elseif cpp\n\t\t\treturn untyped __global__.__hxcpp_reinterpret_le_int32s_as_float64(low,high);\n\t\t#elseif cs\n\t\t\tvar helper = new FloatHelper(0);\n\t\t\tif( cs.system.BitConverter.IsLittleEndian )\n\t\t\t{\n\t\t\t\thelper.i = haxe.Int64.make(high,low);\n\t\t\t} else {\n\t\t\t\tvar i1 = high,\n\t\t\t\t    i2 = low;\n\t\t\t\tvar j2 = ((i1 >>> 24) & 0xFF) | (((i1 >> 16) & 0xFF) << 8) | (((i1 >> 8) & 0xFF) << 16) | ((i1 & 0xFF) << 24);\n\t\t\t\tvar j1 = ((i2 >>> 24) & 0xFF) | (((i2 >> 16) & 0xFF) << 8) | (((i2 >> 8) & 0xFF) << 16) | ((i2 & 0xFF) << 24);\n\t\t\t\thelper.i = haxe.Int64.make(j1,j2);\n\t\t\t}\n\t\t\treturn helper.f;\n\t\t#elseif java\n\t\t\treturn java.lang.Double.DoubleClass.longBitsToDouble( Int64.make(high,low) );\n\t\t#elseif flash\n\t\t\tvar helper = helper;\n\t\t\thelper.position = 0;\n\t\t\thelper.writeUnsignedInt(low);\n\t\t\thelper.writeUnsignedInt(high);\n\t\t\thelper.position = 0;\n\t\t\treturn helper.readDouble();\n\t\t#elseif php\n\t\t\treturn untyped  __call__('unpack', 'd', __call__('pack', 'ii', isLittleEndian ? low : high, isLittleEndian ? high : low))[1];\n\t\t#else\n\t\t\t#if python\n\t\t\tif (low == 0 && high == 2146435072) {\n\t\t\t\treturn Math.POSITIVE_INFINITY;\n\t\t\t} else if (low == 0 && high == -1048576 ) {\n\t\t\t\treturn Math.NEGATIVE_INFINITY;\n\t\t\t}\n\t\t\t#end\n\t\t\tvar sign = 1 - ((high >>> 31) << 1);\n\t\t\tvar exp = ((high >> 20) & 0x7FF) - 1023;\n\t\t\tvar sig = (high&0xFFFFF) * 4294967296. + (low>>>31) * 2147483648. + (low&0x7FFFFFFF);\n\t\t\tif( sig == 0 && exp == -1023 )\n\t\t\t\treturn 0.0;\n\t\t\treturn sign*(1.0 + Math.pow(2, -52)*sig) * Math.pow(2, exp);\n\t\t#end\n\t}\n\n\t/**\n\t\tReturns an Int64 representing the bytes representation of the double precision IEEE float value.\n\t\tWARNING : for performance reason, the same Int64 value might be reused every time. Copy its low/high values before calling again.\n\t\tWe still ensure that this is safe to use in a multithread environment\n\t**/\n\tpublic static function doubleToI64( v : Float ) : Int64 {\n\t\t#if neko\n\t\t\t#if neko_v21\n\t\t\tvar helper = helpers.value;\n\t\t\tif( helper == null ) {\n\t\t\t\thelpers.value = helper = neko.NativeArray.alloc(2);\n\t\t\t\thelper[0] = neko.NativeArray.alloc(2);\n\t\t\t\thelper[1] = haxe.Int64.ofInt(0);\n\t\t\t}\n\t\t\tvar i64 : haxe.Int64 = helper[1], int2 = helper[0];\n\t\t\tuntyped $dtoi(v,int2,false);\n\t\t\t@:privateAccess {\n\t\t\t\ti64.set_low(int2[0]);\n\t\t\t\ti64.set_high(int2[1]);\n\t\t\t}\n\t\t\treturn i64;\n\t\t\t#else\n\t\t\tvar r = _double_bytes(v,false), i64 = i64tmp.value;\n\t\t\tif( i64 == null )\n\t\t\t\ti64 = i64tmp.value = haxe.Int64.ofInt(0);\n\t\t\t@:privateAccess {\n\t\t\t\ti64.set_low(untyped $sget(r,0) | ($sget(r,1)<<8) | ($sget(r,2)<<16) | ($sget(r,3)<<24));\n\t\t\t\ti64.set_high(untyped $sget(r,4) | ($sget(r,5)<<8) | ($sget(r,6)<<16) | ($sget(r,7)<<24));\n\t\t\t}\n\t\t\treturn i64;\n\t\t\t#end\n\t\t#elseif cpp\n\t\t\treturn Int64.make(untyped __global__.__hxcpp_reinterpret_float64_as_le_int32_high(v),\n\t\t\t\t               untyped __global__.__hxcpp_reinterpret_float64_as_le_int32_low(v) );\n\t\t#elseif java\n\t\t\treturn java.lang.Double.DoubleClass.doubleToRawLongBits(v);\n\t\t#elseif cs\n\t\t\tvar helper = new FloatHelper(v);\n\t\t\tif( cs.system.BitConverter.IsLittleEndian )\n\t\t\t{\n\t\t\t\treturn helper.i;\n\t\t\t} else {\n\t\t\t\tvar i = helper.i;\n\t\t\t\tvar i1 = haxe.Int64.getHigh(i),\n\t\t\t\t    i2 = haxe.Int64.getLow(i);\n\t\t\t\tvar j2 = ((i1 >>> 24) & 0xFF) | (((i1 >> 16) & 0xFF) << 8) | (((i1 >> 8) & 0xFF) << 16) | ((i1 & 0xFF) << 24);\n\t\t\t\tvar j1 = ((i2 >>> 24) & 0xFF) | (((i2 >> 16) & 0xFF) << 8) | (((i2 >> 8) & 0xFF) << 16) | ((i2 & 0xFF) << 24);\n\n\t\t\t\treturn haxe.Int64.make(j1,j2);\n\t\t\t}\n\t\t#elseif flash\n\t\t\tvar helper = helper;\n\t\t\thelper.position = 0;\n\t\t\thelper.writeDouble(v);\n\t\t\thelper.position = 0;\n\t\t\tvar i64 = i64tmp;\n\t\t\t@:privateAccess {\n\t\t\t\ti64.set_low(cast helper.readUnsignedInt());\n\t\t\t\ti64.set_high(cast helper.readUnsignedInt());\n\t\t\t}\n\t\t\treturn i64;\n\t\t#elseif php\n\t\t\tvar a = untyped __call__('unpack',isLittleEndian ? 'V2' : 'N2',__call__('pack', 'd', v));\n\t\t\tvar i64 = i64tmp;\n\t\t\t@:privateAccess {\n\t\t\t\ti64.set_low(a[isLittleEndian ? 1 : 2]);\n\t\t\t\ti64.set_high(a[isLittleEndian ? 2 : 1]);\n\t\t\t}\n\t\t\treturn i64;\n\t\t#else\n\t\t\tvar i64 = i64tmp;\n\t\t\tif( v == 0 ) {\n\t\t\t\t@:privateAccess {\n\t\t\t\t\ti64.set_low(0);\n\t\t\t\t\ti64.set_high(0);\n\t\t\t\t}\n\t\t\t} else if (!Math.isFinite(v)) @:privateAccess {\n\t\t\t\tif (v > 0) {\n\t\t\t\t\ti64.set_low(0);\n\t\t\t\t\ti64.set_high(2146435072);\n\t\t\t\t} else {\n\t\t\t\t\ti64.set_low(0);\n\t\t\t\t\ti64.set_high(-1048576);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar av = v < 0 ? -v : v;\n\t\t\t\tvar exp = Math.floor(Math.log(av) / LN2);\n\t\t\t\tvar sig = Math.fround(((av / Math.pow(2, exp)) - 1) * 4503599627370496.); // 2^52\n\t\t\t\tvar sig_l = Std.int(sig);\n\t\t\t\tvar sig_h = Std.int(sig / 4294967296.0);\n\t\t\t\t@:privateAccess {\n\t\t\t\t\ti64.set_low(sig_l);\n\t\t\t\t\ti64.set_high((v < 0 ? 0x80000000 : 0) | ((exp + 1023) << 20) | sig_h);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn i64;\n\t\t#end\n\t}\n\n}\n\n#if cs\n@:meta(System.Runtime.InteropServices.StructLayout(System.Runtime.InteropServices.LayoutKind.Explicit))\n@:nativeGen @:struct private class SingleHelper\n{\n\t@:meta(System.Runtime.InteropServices.FieldOffset(0))\n\tpublic var i:Int;\n\t@:meta(System.Runtime.InteropServices.FieldOffset(0))\n\tpublic var f:Single;\n\n\tpublic function new(f:Single)\n\t{\n\t\tthis.i = 0;\n\t\tthis.f = f;\n\t}\n}\n\n@:meta(System.Runtime.InteropServices.StructLayout(System.Runtime.InteropServices.LayoutKind.Explicit))\n@:nativeGen @:struct private class FloatHelper\n{\n\t@:meta(System.Runtime.InteropServices.FieldOffset(0))\n\tpublic var i:haxe.Int64;\n\t@:meta(System.Runtime.InteropServices.FieldOffset(0))\n\tpublic var f:Float;\n\n\tpublic function new(f:Float)\n\t{\n\t\tthis.i = haxe.Int64.ofInt(0);\n\t\tthis.f = f;\n\t}\n}\n\n#end\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage haxe.io;\n\n/**\n\tThis class provides a convenient way of working with paths. It supports the\n\tcommon path formats:\n\n\t- directory1/directory2/filename.extension\n\t- directory1\\directory2\\filename.extension\n**/\nclass Path {\n\n\t/**\n\t\tThe directory.\n\n\t\tThis is the leading part of the path that is not part of the file name\n\t\tand the extension.\n\n\t\tDoes not end with a `/` or `\\` separator.\n\n\t\tIf the path has no directory, the value is null.\n\t**/\n\tpublic var dir : String;\n\n\t/**\n\t\tThe file name.\n\n\t\tThis is the part of the part between the directory and the extension.\n\n\t\tIf there is no file name, e.g. for \".htaccess\" or \"/dir/\", the value\n\t\tis the empty String \"\".\n\t**/\n\tpublic var file : String;\n\n\t/**\n\t\tThe file extension.\n\n\t\tIt is separated from the file name by a dot. This dot is not part of\n\t\tthe extension.\n\n\t\tIf the path has no extension, the value is null.\n\t**/\n\tpublic var ext : String;\n\n\t/**\n\t\tTrue if the last directory separator is a backslash, false otherwise.\n\t**/\n\tpublic var backslash : Bool;\n\n\t/**\n\t\tCreates a new Path instance by parsing `path`.\n\n\t\tPath information can be retrieved by accessing the dir, file and ext\n\t\tproperties.\n\t**/\n\tpublic function new( path : String ) {\n\t\tswitch (path) {\n\t\t\tcase \".\" | \"..\":\n\t\t\t\tdir = path;\n\t\t\t\tfile = \"\";\n\t\t\t\treturn;\n\t\t}\n\t\tvar c1 = path.lastIndexOf(\"/\");\n\t\tvar c2 = path.lastIndexOf(\"\\\\\");\n\t\tif( c1 < c2 ) {\n\t\t\tdir = path.substr(0,c2);\n\t\t\tpath = path.substr(c2+1);\n\t\t\tbackslash = true;\n\t\t} else if( c2 < c1 ) {\n\t\t\tdir = path.substr(0,c1);\n\t\t\tpath = path.substr(c1+1);\n\t\t} else\n\t\t\tdir = null;\n\t\tvar cp = path.lastIndexOf(\".\");\n\t\tif( cp != -1 ) {\n\t\t\text = path.substr(cp+1);\n\t\t\tfile = path.substr(0,cp);\n\t\t} else {\n\t\t\text = null;\n\t\t\tfile = path;\n\t\t}\n\t}\n\n\t/**\n\t\tReturns a String representation of `this` path.\n\n\t\tIf `this.backslash` is true, backslash is used as directory separator,\n\t\totherwise slash is used. This only affects the separator between\n\t\t`this.dir` and `this.file`.\n\n\t\tIf `this.directory` or `this.extension` is null, their representation\n\t\tis the empty String \"\".\n\t**/\n\tpublic function toString() : String {\n\t\treturn (if( dir == null ) \"\" else dir + if( backslash ) \"\\\\\" else \"/\") + file + (if( ext == null ) \"\" else \".\" + ext);\n\t}\n\n\t/**\n\t\tReturns the String representation of `path` without the file extension.\n\n\t\tIf `path` is null, the result is unspecified.\n\t**/\n\tpublic static function withoutExtension( path : String ) : String {\n\t\tvar s = new Path(path);\n\t\ts.ext = null;\n\t\treturn s.toString();\n\t}\n\n\t/**\n\t\tReturns the String representation of `path` without the directory.\n\n\t\tIf `path` is null, the result is unspecified.\n\t**/\n\tpublic static function withoutDirectory( path ) : String {\n\t\tvar s = new Path(path);\n\t\ts.dir = null;\n\t\treturn s.toString();\n\t}\n\n\t/**\n\t\tReturns the directory of `path`.\n\n\t\tIf the directory is null, the empty String `\"\"` is returned.\n\n\t\tIf `path` is null, the result is unspecified.\n\t**/\n\tpublic static function directory( path ) : String {\n\t\tvar s = new Path(path);\n\t\tif( s.dir == null )\n\t\t\treturn \"\";\n\t\treturn s.dir;\n\t}\n\n\t/**\n\t\tReturns the extension of `path`.\n\n\t\tIf the extension is null, the empty String `\"\"` is returned.\n\n\t\tIf `path` is null, the result is unspecified.\n\t**/\n\tpublic static function extension( path ) : String {\n\t\tvar s = new Path(path);\n\t\tif( s.ext == null )\n\t\t\treturn \"\";\n\t\treturn s.ext;\n\t}\n\n\t/**\n\t\tReturns a String representation of `path` where the extension is `ext`.\n\n\t\tIf `path` has no extension, `ext` is added as extension.\n\n\t\tIf `path` or `ext` are null, the result is unspecified.\n\t**/\n\tpublic static function withExtension( path, ext ) : String {\n\t\tvar s = new Path(path);\n\t\ts.ext = ext;\n\t\treturn s.toString();\n\t}\n\n\t/**\n\t\tJoins all paths in `paths` together.\n\n\t\tIf `paths` is empty, the empty String `\"\"` is returned. Otherwise the\n\t\tpaths are joined with a slash between them.\n\n\t\tIf `paths` is null, the result is unspecified.\n\t**/\n\tpublic static function join(paths:Array<String>) : String {\n\t\tvar paths = paths.filter(function(s) return s != null && s != \"\");\n\t\tif (paths.length == 0) {\n\t\t\treturn \"\";\n\t\t}\n\t\tvar path = paths[0];\n\t\tfor (i in 1...paths.length) {\n\t\t\tpath = addTrailingSlash(path);\n\t\t\tpath += paths[i];\n\t\t}\n\t\treturn normalize(path);\n\t}\n\n\t/**\n\t\tNormalize a given `path` (e.g. make '/usr/local/../lib' to '/usr/lib').\n\n\t\tAlso replaces backslashes \\ with slashes / and afterwards turns\n\t\tmultiple slashes into a single one.\n\n\t\tIf `path` is null, the result is unspecified.\n\t**/\n\tpublic static function normalize(path : String) : String {\n\t\tvar slash = \"/\";\n\t\tpath = path.split(\"\\\\\").join(slash);\n\t\tif (path == slash) return slash;\n\n\t\tvar target = [];\n\n\t\tfor( token in path.split(slash) ) {\n\t\t\tif(token == '..' && target.length > 0 && target[target.length-1] != \"..\") {\n\t\t\t\ttarget.pop();\n\t\t\t} else if(token != '.') {\n\t\t\t\ttarget.push(token);\n\t\t\t}\n\t\t}\n\n\t\tvar tmp = target.join(slash);\n\t\tvar regex = ~/([^:])\\/+/g;\n\t\tvar result = regex.replace(tmp, \"$1\" +slash);\n\t\tvar acc = new StringBuf();\n\t\tvar colon = false;\n\t\tvar slashes = false;\n\t\tfor (i in 0...tmp.length) {\n\t\t\tswitch (StringTools.fastCodeAt(tmp, i)) {\n\t\t\t\tcase \":\".code:\n\t\t\t\t\tacc.add(\":\");\n\t\t\t\t\tcolon = true;\n\t\t\t\tcase \"/\".code if (!colon):\n\t\t\t\t\tslashes = true;\n\t\t\t\tcase i:\n\t\t\t\t\tcolon = false;\n\t\t\t\t\tif (slashes) {\n\t\t\t\t\t\tacc.add(\"/\");\n\t\t\t\t\t\tslashes = false;\n\t\t\t\t\t}\n\t\t\t\t\tacc.addChar(i);\n\t\t\t}\n\t\t}\n\t\treturn acc.toString();\n\t}\n\n\t/**\n\t\tAdds a trailing slash to `path`, if it does not have one already.\n\n\t\tIf the last slash in `path` is a backslash, a backslash is appended to\n\t\t`path`.\n\n\t\tIf the last slash in `path` is a slash, or if no slash is found, a slash\n\t\tis appended to `path`. In particular, this applies to the empty String\n\t\t`\"\"`.\n\n\t\tIf `path` is null, the result is unspecified.\n\t**/\n\tpublic static function addTrailingSlash( path : String ) : String {\n\t\tif (path.length == 0)\n\t\t\treturn \"/\";\n\t\tvar c1 = path.lastIndexOf(\"/\");\n\t\tvar c2 = path.lastIndexOf(\"\\\\\");\n\t\treturn if ( c1 < c2 ) {\n\t\t\tif (c2 != path.length - 1) path + \"\\\\\";\n\t\t\telse path;\n\t\t} else {\n\t\t\tif (c1 != path.length - 1) path + \"/\";\n\t\t\telse path;\n\t\t}\n\t}\n\n\t/**\n\t\tRemoves trailing slashes from `path`.\n\n\t\tIf `path` does not end with a `/` or `\\`, `path` is returned unchanged.\n\n\t\tOtherwise the substring of `path` excluding the trailing slashes or\n\t\tbackslashes is returned.\n\n\t\tIf `path` is null, the result is unspecified.\n\t**/\n\t@:require(haxe_ver >= 3.1)\n\tpublic static function removeTrailingSlashes ( path : String ) : String {\n\t\twhile (true) {\n\t\t\tswitch(path.charCodeAt(path.length - 1)) {\n\t\t\t\tcase '/'.code | '\\\\'.code: path = path.substr(0, -1);\n\t\t\t\tcase _: break;\n\t\t\t}\n\t\t}\n\t\treturn path;\n\t}\n\n\t/**\n\t\tReturns true if the path is an absolute path, and false otherwise.\n\t**/\n\t@:require(haxe_ver >= 3.2)\n\tpublic static function isAbsolute ( path : String ) : Bool {\n\t\tif (StringTools.startsWith(path, '/')) return true;\n\t\tif (path.charAt(1) == ':') return true;\n\t\tif (StringTools.startsWith(path, '\\\\\\\\')) return true;\n\t\treturn false;\n\t}\n\n\tprivate static function unescape( path : String ) : String {\n\t\tvar regex = ~/-x([0-9][0-9])/g;\n\t\treturn regex.map(path, function(regex) return String.fromCharCode(Std.parseInt(regex.matched(1))));\n\t}\n\n\tprivate static function escape( path : String, allowSlashes : Bool = false ) : String {\n\t\tvar regex = allowSlashes ? ~/[^A-Za-z0-9_\\/\\\\\\.]/g : ~/[^A-Za-z0-9_\\.]/g;\n\t\treturn regex.map(path, function(v) return '-x' + v.matched(0).charCodeAt(0));\n\t}\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\npackage haxe.rtti;\nimport haxe.rtti.CType;\n\n/**\n\tRtti is a helper class which supplements the `@:rtti` metadata.\n\t\n\t@see <https://haxe.org/manual/cr-rtti.html>\n**/\nclass Rtti {\n\n\t/**\n\t\tReturns the `haxe.rtti.CType.Classdef` corresponding to class `c`.\n\n\t\tIf `c` has no runtime type information, e.g. because no `@:rtti@` was\n\t\tadded, `null` is returned.\n\n\t\tIf `c` is null, the result is unspecified.\n\t**/\n\tstatic public function getRtti<T>(c:Class<T>):Classdef {\n\t\tvar rtti = Reflect.field(c, \"__rtti\");\n\t\tif (rtti == null) {\n\t\t\tthrow 'Class ${Type.getClassName(c)} has no RTTI information, consider adding @:rtti';\n\t\t}\n\t\tvar x = Xml.parse(rtti).firstElement();\n\t\tvar infos = new haxe.rtti.XmlParser().processElement(x);\n\t\tswitch (infos) {\n\t\t\tcase TClassdecl(c): return c;\n\t\t\tcase t: throw 'Enum mismatch: expected TClassDecl but found $t';\n\t\t}\n\t}\n\n\t/**\n\t\tTells if `c` has runtime type information.\n\n\t\tIf `c` is null, the result is unspecified.\n\t**/\n\tstatic public function hasRtti<T>(c:Class<T>):Bool {\n\t\treturn Lambda.has(Type.getClassFields(c), \"__rtti\");\n\t}\n}","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage haxe.rtti;\nimport haxe.rtti.CType;\nimport haxe.xml.Fast;\n\n/**\n\tXmlParser processes the runtime type information (RTTI) which\n\tis stored as a XML string in a static field `__rtti`.\n\t\n\t@see <https://haxe.org/manual/cr-rtti.html>\n**/\nclass XmlParser {\n\n\tpublic var root : TypeRoot;\n\tvar curplatform : String;\n\n\tpublic function new() {\n\t\troot = new Array();\n\t}\n\n\tpublic function sort( ?l ) {\n\t\tif( l == null ) l = root;\n\t\tl.sort(function(e1,e2) {\n\t\t\tvar n1 = switch e1 {\n\t\t\t\tcase TPackage(p,_,_) : \" \"+p;\n\t\t\t\tdefault: TypeApi.typeInfos(e1).path;\n\t\t\t};\n\t\t\tvar n2 = switch e2 {\n\t\t\t\tcase TPackage(p,_,_) : \" \"+p;\n\t\t\t\tdefault: TypeApi.typeInfos(e2).path;\n\t\t\t};\n\t\t\tif( n1 > n2 )\n\t\t\t\treturn 1;\n\t\t\treturn -1;\n\t\t});\n\t\tfor( x in l )\n\t\t\tswitch( x ) {\n\t\t\tcase TPackage(_,_,l): sort(l);\n\t\t\tcase TClassdecl(c):\n\t\t\t\tc.fields = sortFields(c.fields);\n\t\t\t\tc.statics = sortFields(c.statics);\n\t\t\tcase TEnumdecl(_):\n\t\t\tcase TAbstractdecl(_):\n\t\t\tcase TTypedecl(_):\n\t\t\t}\n\t}\n\n\tfunction sortFields(fl) {\n\t\tvar a = Lambda.array(fl);\n\t\ta.sort(function(f1 : ClassField,f2 : ClassField) {\n\t\t\tvar v1 = TypeApi.isVar(f1.type);\n\t\t\tvar v2 = TypeApi.isVar(f2.type);\n\t\t\tif( v1 && !v2 )\n\t\t\t\treturn -1;\n\t\t\tif( v2 && !v1 )\n\t\t\t\treturn 1;\n\t\t\tif( f1.name == \"new\" )\n\t\t\t\treturn -1;\n\t\t\tif( f2.name == \"new\" )\n\t\t\t\treturn 1;\n\t\t\tif( f1.name > f2.name )\n\t\t\t\treturn 1;\n\t\t\treturn -1;\n\t\t});\n\t\treturn Lambda.list(a);\n\t}\n\n\tpublic function process( x : Xml, platform ) {\n\t\tcurplatform = platform;\n\t\txroot(new Fast(x));\n\t}\n\n\t// merge inline and not inline\n\tfunction mergeRights( f1 : ClassField, f2 : ClassField ) {\n\t\tif( f1.get == RInline && f1.set == RNo && f2.get == RNormal && f2.set == RMethod ) {\n\t\t\tf1.get = RNormal;\n\t\t\tf1.set = RMethod;\n\t\t\treturn true;\n\t\t}\n\t\treturn Type.enumEq(f1.get, f2.get) && Type.enumEq(f1.set, f2.set);\n\t}\n\n\tfunction mergeDoc( f1 : ClassField, f2 : ClassField ) {\n\t\tif( f1.doc == null )\n\t\t\tf1.doc = f2.doc;\n\t\telse if( f2.doc == null )\n\t\t\tf2.doc = f1.doc;\n\t\treturn true;\n\t}\n\n\tfunction mergeFields( f : ClassField, f2 : ClassField ) {\n\t\treturn TypeApi.fieldEq(f,f2) || (f.name == f2.name && (mergeRights(f,f2) || mergeRights(f2,f)) && mergeDoc(f,f2) && TypeApi.fieldEq(f,f2));\n\t}\n\n\tpublic dynamic function newField( c : Classdef, f : ClassField ) {\n\t}\n\n\tfunction mergeClasses( c : Classdef, c2 : Classdef ) {\n\t\t// todo : compare supers & interfaces\n\t\tif( c.isInterface != c2.isInterface )\n\t\t\treturn false;\n\t\tif( curplatform != null )\n\t\t\tc.platforms.add(curplatform);\n\t\tif( c.isExtern != c2.isExtern )\n\t\t\tc.isExtern = false;\n\n\t\tfor( f2 in c2.fields ) {\n\t\t\tvar found = null;\n\t\t\tfor( f in c.fields )\n\t\t\t\tif( mergeFields(f,f2) ) {\n\t\t\t\t\tfound = f;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\tif( found == null ) {\n\t\t\t\tnewField(c,f2);\n\t\t\t\tc.fields.add(f2);\n\t\t\t} else if( curplatform != null )\n\t\t\t\tfound.platforms.add(curplatform);\n\t\t}\n\t\tfor( f2 in c2.statics ) {\n\t\t\tvar found = null;\n\t\t\tfor( f in c.statics )\n\t\t\t\tif( mergeFields(f,f2) ) {\n\t\t\t\t\tfound = f;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\tif( found == null ) {\n\t\t\t\tnewField(c,f2);\n\t\t\t\tc.statics.add(f2);\n\t\t\t} else if( curplatform != null )\n\t\t\t\tfound.platforms.add(curplatform);\n\t\t}\n\t\treturn true;\n\t}\n\n\tfunction mergeEnums( e : Enumdef, e2 : Enumdef ) {\n\t\tif( e.isExtern != e2.isExtern )\n\t\t\treturn false;\n\t\tif( curplatform != null )\n\t\t\te.platforms.add(curplatform);\n\t\tfor( c2 in e2.constructors ) {\n\t\t\tvar found = null;\n\t\t\tfor( c in e.constructors )\n\t\t\t\tif( TypeApi.constructorEq(c,c2) ) {\n\t\t\t\t\tfound = c;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\tif( found == null )\n\t\t\t\treturn false; // don't allow by-platform constructor ?\n\t\t\tif( curplatform != null )\n\t\t\t\tfound.platforms.add(curplatform);\n\t\t}\n\t\treturn true;\n\t}\n\n\tfunction mergeTypedefs( t : Typedef, t2 : Typedef ) {\n\t\tif( curplatform == null )\n\t\t\treturn false;\n\t\tt.platforms.add(curplatform);\n\t\tt.types.set(curplatform,t2.type);\n\t\treturn true;\n\t}\n\n\tfunction mergeAbstracts( a : Abstractdef, a2 : Abstractdef ) {\n\t\tif( curplatform == null )\n\t\t\treturn false;\n\t\tif( a.to.length != a2.to.length || a.from.length != a2.from.length )\n\t\t\treturn false;\n\t\tfor( i in 0...a.to.length )\n\t\t\tif( !TypeApi.typeEq(a.to[i].t,a2.to[i].t) )\n\t\t\t\treturn false;\n\t\tfor( i in 0...a.from.length )\n\t\t\tif( !TypeApi.typeEq(a.from[i].t,a2.from[i].t) )\n\t\t\t\treturn false;\n\t\tif (a2.impl != null) mergeClasses(a.impl, a2.impl);\n\t\ta.platforms.add(curplatform);\n\t\treturn true;\n\t}\n\n\tfunction merge( t : TypeTree ) {\n\t\tvar inf = TypeApi.typeInfos(t);\n\t\tvar pack = inf.path.split(\".\");\n\t\tvar cur = root;\n\t\tvar curpack = new Array();\n\t\tpack.pop();\n\t\tfor( p in pack ) {\n\t\t\tvar found = false;\n\t\t\tfor( pk in cur )\n\t\t\t\tswitch( pk ) {\n\t\t\t\tcase TPackage(pname,_,subs):\n\t\t\t\t\tif( pname == p ) {\n\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\tcur = subs;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t}\n\t\t\tcurpack.push(p);\n\t\t\tif( !found ) {\n\t\t\t\tvar pk = new Array();\n\t\t\t\tcur.push(TPackage(p,curpack.join(\".\"),pk));\n\t\t\t\tcur = pk;\n\t\t\t}\n\t\t}\n\t\tvar prev = null;\n\t\tfor( ct in cur ) {\n\t\t\tvar tinf;\n\t\t\ttry\n\t\t\t\ttinf = TypeApi.typeInfos(ct)\n\t\t\tcatch( e : Dynamic )\n\t\t\t\tcontinue;\n\t\t\t// compare params ?\n\t\t\tif( tinf.path == inf.path ) {\n\t\t\t\tvar sameType = true;\n\t\t\t\tif( (tinf.doc == null) != (inf.doc == null) ) {\n\t\t\t\t\tif( inf.doc == null )\n\t\t\t\t\t\tinf.doc = tinf.doc;\n\t\t\t\t\telse\n\t\t\t\t\t\ttinf.doc = inf.doc;\n\t\t\t\t}\n\t\t\t\tif (tinf.path == \"haxe._Int64.NativeInt64\") continue;\n\t\t\t\tif( tinf.module == inf.module && tinf.doc == inf.doc && tinf.isPrivate == inf.isPrivate )\n\t\t\t\t\tswitch( ct ) {\n\t\t\t\t\tcase TClassdecl(c):\n\t\t\t\t\t\tswitch( t ) {\n\t\t\t\t\t\tcase TClassdecl(c2):\n\t\t\t\t\t\t\tif( mergeClasses(c,c2) )\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tsameType = false;\n\t\t\t\t\t\t}\n\t\t\t\t\tcase TEnumdecl(e):\n\t\t\t\t\t\tswitch( t ) {\n\t\t\t\t\t\tcase TEnumdecl(e2):\n\t\t\t\t\t\t\tif( mergeEnums(e,e2) )\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tsameType = false;\n\t\t\t\t\t\t}\n\t\t\t\t\tcase TTypedecl(td):\n\t\t\t\t\t\tswitch( t ) {\n\t\t\t\t\t\tcase TTypedecl(td2):\n\t\t\t\t\t\t\tif( mergeTypedefs(td,td2) )\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t}\n\t\t\t\t\tcase TAbstractdecl(a):\n\t\t\t\t\t\tswitch( t ) {\n\t\t\t\t\t\tcase TAbstractdecl(a2):\n\t\t\t\t\t\t\tif( mergeAbstracts(a,a2) )\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tsameType = false;\n\t\t\t\t\t\t}\n\t\t\t\t\tcase TPackage(_,_,_):\n\t\t\t\t\t\tsameType = false;\n\t\t\t\t\t}\n\t\t\t\t// we already have a mapping, but which is incompatible\n\t\t\t\tvar msg = if( tinf.module != inf.module ) \"module \"+inf.module+\" should be \"+tinf.module;\n\t\t\t\t\telse if( tinf.doc != inf.doc ) \"documentation is different\";\n\t\t\t\t\telse if( tinf.isPrivate != inf.isPrivate ) \"private flag is different\";\n\t\t\t\t\telse if( !sameType ) \"type kind is different\";\n\t\t\t\t\telse \"could not merge definition\";\n\t\t\t\tthrow \"Incompatibilities between \"+tinf.path+\" in \"+tinf.platforms.join(\",\")+\" and \"+curplatform+\" (\"+msg+\")\";\n\t\t\t}\n\t\t}\n\t\tcur.push(t);\n\t}\n\n\tfunction mkPath( p : String ) : Path {\n\t\treturn p;\n\t}\n\n\tfunction mkTypeParams( p : String ) : TypeParams {\n\t\tvar pl = p.split(\":\");\n\t\tif( pl[0] == \"\" )\n\t\t\treturn new Array();\n\t\treturn pl;\n\t}\n\n\tfunction mkRights( r : String ) : Rights {\n\t\treturn switch( r ) {\n\t\tcase \"null\": RNo;\n\t\tcase \"method\": RMethod;\n\t\tcase \"dynamic\": RDynamic;\n\t\tcase \"inline\": RInline;\n\t\tdefault: RCall(r);\n\t\t}\n\t}\n\n\tfunction xerror( c : Fast ) : Dynamic {\n\t\treturn throw \"Invalid \"+c.name;\n\t}\n\n\tfunction xroot( x : Fast ) {\n\t\tfor( c in x.x.elements() )\n\t\t\tmerge(processElement(c));\n\n\t}\n\n\tpublic function processElement( x : Xml ) {\n\t\tvar c = new haxe.xml.Fast(x);\n\t\treturn switch( c.name ) {\n\t\tcase \"class\": TClassdecl(xclass(c));\n\t\tcase \"enum\": TEnumdecl(xenum(c));\n\t\tcase \"typedef\": TTypedecl(xtypedef(c));\n\t\tcase \"abstract\": TAbstractdecl(xabstract(c));\n\t\tdefault: xerror(c);\n\t\t}\n\t}\n\n\tfunction xmeta( x : Fast ) : MetaData {\n\t\tvar ml = [];\n\t\tfor( m in x.nodes.m ) {\n\t\t\tvar pl = [];\n\t\t\tfor( p in m.nodes.e )\n\t\t\t\tpl.push(p.innerHTML);\n\t\t\tml.push({ name : m.att.n, params : pl });\n\t\t}\n\t\treturn ml;\n\t}\n\n\tfunction xoverloads( x : Fast ) : List<ClassField> {\n\t\tvar l = new List();\n\t\tfor ( m in x.elements ) {\n\t\t\tl.add(xclassfield(m));\n\t\t}\n\t\treturn l;\n\t}\n\n\tfunction xpath( x : Fast ) : PathParams {\n\t\tvar path = mkPath(x.att.path);\n\t\tvar params = new List();\n\t\tfor( c in x.elements )\n\t\t\tparams.add(xtype(c));\n\t\treturn {\n\t\t\tpath : path,\n\t\t\tparams : params,\n\t\t};\n\t}\n\n\tfunction xclass( x : Fast ) : Classdef {\n\t\tvar csuper = null;\n\t\tvar doc = null;\n\t\tvar tdynamic = null;\n\t\tvar interfaces = new List();\n\t\tvar fields = new List();\n\t\tvar statics = new List();\n\t\tvar meta = [];\n\t\tfor( c in x.elements )\n\t\t\tswitch( c.name ) {\n\t\t\tcase \"haxe_doc\": doc = c.innerData;\n\t\t\tcase \"extends\": csuper = xpath(c);\n\t\t\tcase \"implements\": interfaces.add(xpath(c));\n\t\t\tcase \"haxe_dynamic\": tdynamic = xtype(new Fast(c.x.firstElement()));\n\t\t\tcase \"meta\": meta = xmeta(c);\n\t\t\tdefault:\n\t\t\t\tif( c.x.exists(\"static\") )\n\t\t\t\t\tstatics.add(xclassfield(c));\n\t\t\t\telse\n\t\t\t\t\tfields.add(xclassfield(c));\n\t\t\t}\n\t\treturn {\n\t\t\tfile : if(x.has.file) x.att.file else null,\n\t\t\tpath : mkPath(x.att.path),\n\t\t\tmodule : if( x.has.module ) mkPath(x.att.module) else null,\n\t\t\tdoc : doc,\n\t\t\tisPrivate : x.x.exists(\"private\"),\n\t\t\tisExtern : x.x.exists(\"extern\"),\n\t\t\tisInterface : x.x.exists(\"interface\"),\n\t\t\tparams : mkTypeParams(x.att.params),\n\t\t\tsuperClass : csuper,\n\t\t\tinterfaces : interfaces,\n\t\t\tfields : fields,\n\t\t\tstatics : statics,\n\t\t\ttdynamic : tdynamic,\n\t\t\tplatforms : defplat(),\n\t\t\tmeta : meta,\n\t\t};\n\t}\n\n\tfunction xclassfield( x : Fast, ?defPublic = false ) : ClassField {\n\t\tvar e = x.elements;\n\t\tvar t = xtype(e.next());\n\t\tvar doc = null;\n\t\tvar meta = [];\n\t\tvar overloads = null;\n\t\tfor( c in e )\n\t\t\tswitch( c.name ) {\n\t\t\tcase \"haxe_doc\": doc = c.innerData;\n\t\t\tcase \"meta\": meta = xmeta(c);\n\t\t\tcase \"overloads\": overloads = xoverloads(c);\n\t\t\tdefault: xerror(c);\n\t\t\t}\n\t\treturn {\n\t\t\tname : x.name,\n\t\t\ttype : t,\n\t\t\tisPublic : x.x.exists(\"public\") || defPublic,\n\t\t\tisOverride : x.x.exists(\"override\"),\n\t\t\tline : if( x.has.line ) Std.parseInt(x.att.line) else null,\n\t\t\tdoc : doc,\n\t\t\tget : if( x.has.get ) mkRights(x.att.get) else RNormal,\n\t\t\tset : if( x.has.set ) mkRights(x.att.set) else RNormal,\n\t\t\tparams : if( x.has.params ) mkTypeParams(x.att.params) else [],\n\t\t\tplatforms : defplat(),\n\t\t\tmeta : meta,\n\t\t\toverloads: overloads,\n\t\t\texpr : if( x.has.expr ) x.att.expr else null\n\t\t};\n\t}\n\n\tfunction xenum( x : Fast ) : Enumdef {\n\t\tvar cl = new List();\n\t\tvar doc = null;\n\t\tvar meta = [];\n\t\tfor( c in x.elements )\n\t\t\tif( c.name == \"haxe_doc\" )\n\t\t\t\tdoc = c.innerData;\n\t\t\telse if ( c.name == \"meta\" )\n\t\t\t\tmeta = xmeta(c);\n\t\t\telse\n\t\t\t\tcl.add(xenumfield(c));\n\t\treturn {\n\t\t\tfile : if(x.has.file) x.att.file else null,\n\t\t\tpath : mkPath(x.att.path),\n\t\t\tmodule : if( x.has.module ) mkPath(x.att.module) else null,\n\t\t\tdoc : doc,\n\t\t\tisPrivate : x.x.exists(\"private\"),\n\t\t\tisExtern : x.x.exists(\"extern\"),\n\t\t\tparams : mkTypeParams(x.att.params),\n\t\t\tconstructors : cl,\n\t\t\tplatforms : defplat(),\n\t\t\tmeta : meta,\n\t\t};\n\t}\n\n\tfunction xenumfield( x : Fast ) : EnumField {\n\t\tvar args = null;\n\t\tvar xdoc = x.x.elementsNamed(\"haxe_doc\").next();\n\t\tvar meta = if( x.hasNode.meta ) xmeta(x.node.meta) else [];\n\t\tif( x.has.a ) {\n\t\t\tvar names = x.att.a.split(\":\");\n\t\t\tvar elts = x.elements;\n\t\t\targs = new List();\n\t\t\tfor( c in names ) {\n\t\t\t\tvar opt = false;\n\t\t\t\tif( c.charAt(0) == \"?\" ) {\n\t\t\t\t\topt = true;\n\t\t\t\t\tc = c.substr(1);\n\t\t\t\t}\n\t\t\t\targs.add({\n\t\t\t\t\tname : c,\n\t\t\t\t\topt : opt,\n\t\t\t\t\tt : xtype(elts.next()),\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\tname : x.name,\n\t\t\targs : args,\n\t\t\tdoc : if( xdoc == null ) null else new Fast(xdoc).innerData,\n\t\t\tmeta : meta,\n\t\t\tplatforms : defplat(),\n\t\t};\n\t}\n\n\tfunction xabstract( x : Fast ) : Abstractdef {\n\t\tvar doc = null, impl = null, athis = null;\n\t\tvar meta = [], to = [], from = [];\n\t\tfor( c in x.elements )\n\t\t\tswitch( c.name ) {\n\t\t\tcase \"haxe_doc\":\n\t\t\t\tdoc = c.innerData;\n\t\t\tcase \"meta\":\n\t\t\t\tmeta = xmeta(c);\n\t\t\tcase \"to\":\n\t\t\t\tfor( t in c.elements )\n\t\t\t\t\tto.push({t: xtype(new Fast(t.x.firstElement())), field: t.has.field ? t.att.field : null});\n\t\t\tcase \"from\":\n\t\t\t\tfor( t in c.elements )\n\t\t\t\t\tfrom.push({t: xtype(new Fast(t.x.firstElement())), field: t.has.field ? t.att.field : null});\n\t\t\tcase \"impl\":\n\t\t\t\timpl = xclass(c.node.resolve(\"class\"));\n\t\t\tcase \"this\":\n\t\t\t\tathis = xtype(new Fast(c.x.firstElement()));\n\t\t\tdefault:\n\t\t\t\txerror(c);\n\t\t\t}\n\t\treturn {\n\t\t\tfile : if(x.has.file) x.att.file else null,\n\t\t\tpath : mkPath(x.att.path),\n\t\t\tmodule : if( x.has.module ) mkPath(x.att.module) else null,\n\t\t\tdoc : doc,\n\t\t\tisPrivate : x.x.exists(\"private\"),\n\t\t\tparams : mkTypeParams(x.att.params),\n\t\t\tplatforms : defplat(),\n\t\t\tmeta : meta,\n\t\t\tathis : athis,\n\t\t\tto : to,\n\t\t\tfrom : from,\n\t\t\timpl: impl\n\t\t};\n\t}\n\n\n\tfunction xtypedef( x : Fast ) : Typedef {\n\t\tvar doc = null;\n\t\tvar t = null;\n\t\tvar meta = [];\n\t\tfor( c in x.elements )\n\t\t\tif( c.name == \"haxe_doc\" )\n\t\t\t\tdoc = c.innerData;\n\t\t\telse if ( c.name == \"meta\" )\n\t\t\t\tmeta = xmeta(c);\n\t\t\telse\n\t\t\t\tt = xtype(c);\n\t\tvar types = new haxe.ds.StringMap();\n\t\tif( curplatform != null )\n\t\t\ttypes.set(curplatform,t);\n\t\treturn {\n\t\t\tfile : if(x.has.file) x.att.file else null,\n\t\t\tpath : mkPath(x.att.path),\n\t\t\tmodule : if( x.has.module ) mkPath(x.att.module) else null,\n\t\t\tdoc : doc,\n\t\t\tisPrivate : x.x.exists(\"private\"),\n\t\t\tparams : mkTypeParams(x.att.params),\n\t\t\ttype : t,\n\t\t\ttypes : types,\n\t\t\tplatforms : defplat(),\n\t\t\tmeta : meta,\n\t\t};\n\t}\n\n\tfunction xtype( x : Fast ) : CType {\n\t\treturn switch( x.name ) {\n\t\tcase \"unknown\":\n\t\t\tCUnknown;\n\t\tcase \"e\":\n\t\t\tCEnum(mkPath(x.att.path),xtypeparams(x));\n\t\tcase \"c\":\n\t\t\tCClass(mkPath(x.att.path),xtypeparams(x));\n\t\tcase \"t\":\n\t\t\tCTypedef(mkPath(x.att.path),xtypeparams(x));\n\t\tcase \"x\":\n\t\t\tCAbstract(mkPath(x.att.path),xtypeparams(x));\n\t\tcase \"f\":\n\t\t\tvar args = new List();\n\t\t\tvar aname = x.att.a.split(\":\");\n\t\t\tvar eargs = aname.iterator();\n\t\t\tvar evalues = x.has.v ? x.att.v.split(\":\").iterator() : null;\n\t\t\tfor( e in x.elements ) {\n\t\t\t\tvar opt = false;\n\t\t\t\tvar a = eargs.next();\n\t\t\t\tif( a == null )\n\t\t\t\t\ta = \"\";\n\t\t\t\tif( a.charAt(0) == \"?\" ) {\n\t\t\t\t\topt = true;\n\t\t\t\t\ta = a.substr(1);\n\t\t\t\t}\n\t\t\t\tvar v = evalues == null ? null : evalues.next();\n\t\t\t\targs.add({\n\t\t\t\t\tname : a,\n\t\t\t\t\topt : opt,\n\t\t\t\t\tt : xtype(e),\n\t\t\t\t\tvalue : v == \"\" ? null : v\n\t\t\t\t});\n\t\t\t}\n\t\t\tvar ret = args.last();\n\t\t\targs.remove(ret);\n\t\t\tCFunction(args,ret.t);\n\t\tcase \"a\":\n\t\t\tvar fields = new List();\n\t\t\tfor( f in x.elements ) {\n\t\t\t\tvar f = xclassfield(f,true);\n\t\t\t\tf.platforms = new List(); // platforms selection are on the type itself, not on fields\n\t\t\t\tfields.add(f);\n\t\t\t}\n\t\t\tCAnonymous(fields);\n\t\tcase \"d\":\n\t\t\tvar t = null;\n\t\t\tvar tx = x.x.firstElement();\n\t\t\tif( tx != null )\n\t\t\t\tt = xtype(new Fast(tx));\n\t\t\tCDynamic(t);\n\t\tdefault:\n\t\t\txerror(x);\n\t\t}\n\t}\n\n\tfunction xtypeparams( x : Fast ) : List<CType> {\n\t\tvar p = new List();\n\t\tfor( c in x.elements )\n\t\t\tp.add(xtype(c));\n\t\treturn p;\n\t}\n\n\tfunction defplat() {\n\t\tvar l = new List();\n\t\tif( curplatform != null )\n\t\t\tl.add(curplatform);\n\t\treturn l;\n\t}\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage haxe.xml;\n\nprivate class NodeAccess implements Dynamic<Fast> {\n\n\tvar __x : Xml;\n\n\tpublic function new( x : Xml ) {\n\t\t__x = x;\n\t}\n\n\tpublic function resolve( name : String ) : Fast {\n\t\tvar x = __x.elementsNamed(name).next();\n\t\tif( x == null ) {\n\t\t\tvar xname = if( __x.nodeType == Xml.Document ) \"Document\" else __x.nodeName;\n\t\t\tthrow xname+\" is missing element \"+name;\n\t\t}\n\t\treturn new Fast(x);\n\t}\n\n}\n\nprivate class AttribAccess implements Dynamic<String> {\n\n\tvar __x : Xml;\n\n\tpublic function new( x : Xml ) {\n\t\t__x = x;\n\t}\n\n\tpublic function resolve( name : String ) : String {\n\t\tif( __x.nodeType == Xml.Document )\n\t\t\tthrow \"Cannot access document attribute \"+name;\n\t\tvar v = __x.get(name);\n\t\tif( v == null )\n\t\t\tthrow __x.nodeName+\" is missing attribute \"+name;\n\t\treturn v;\n\t}\n\n}\n\nprivate class HasAttribAccess implements Dynamic<Bool> {\n\n\tvar __x : Xml;\n\n\tpublic function new( x : Xml ) {\n\t\t__x = x;\n\t}\n\n\tpublic function resolve( name : String ) : Bool {\n\t\tif( __x.nodeType == Xml.Document )\n\t\t\tthrow \"Cannot access document attribute \"+name;\n\t\treturn __x.exists(name);\n\t}\n\n}\n\nprivate class HasNodeAccess implements Dynamic<Bool> {\n\n\tvar __x : Xml;\n\n\tpublic function new( x : Xml ) {\n\t\t__x = x;\n\t}\n\n\tpublic function resolve( name : String ) : Bool {\n\t\treturn __x.elementsNamed(name).hasNext();\n\t}\n\n}\n\nprivate class NodeListAccess implements Dynamic<List<Fast>> {\n\n\tvar __x : Xml;\n\n\tpublic function new( x : Xml ) {\n\t\t__x = x;\n\t}\n\n\tpublic function resolve( name : String ) : List<Fast> {\n\t\tvar l = new List();\n\t\tfor( x in __x.elementsNamed(name) )\n\t\t\tl.add(new Fast(x));\n\t\treturn l;\n\t}\n\n}\n\n/**\n\tThe `haxe.xml.Fast` API helps providing a fast dot-syntax access to the\n\tmost common `Xml` methods.\n**/\nclass Fast {\n\t/**\n\t\tThe current corresponding `Xml` node.\n\t**/\n\tpublic var x(default, null) : Xml;\n\n\t/**\n\t\tThe name of the current element. This is the same as `Xml.nodeName`.\n\t**/\n\tpublic var name(get,null) : String;\n\n\t/**\n\t\tThe inner PCDATA or CDATA of the node.\n\n\t\tAn exception is thrown if there is no data or if there not only data\n\t\tbut also other nodes.\n\t**/\n\tpublic var innerData(get,null) : String;\n\n\t/**\n\t\tThe XML string built with all the sub nodes, excluding the current one.\n\t**/\n\tpublic var innerHTML(get,null) : String;\n\n\t/**\n\t\tAccess to the first sub element with the given name.\n\n\t\tAn exception is thrown if the element doesn't exists.\n\t\tUse `hasNode` to check the existence of a node.\n\n\t\t```haxe\n\t\tvar fast = new haxe.xml.Fast(Xml.parse(\"<user><name>John</name></user>\"));\n\t\tvar user = fast.node.user;\n\t\tvar name = user.node.name;\n\t\ttrace(name.innerData); // John\n\n\t\t// Uncaught Error: Document is missing element password\n\t\tvar password = user.node.password;\n\t\t```\n\t**/\n\tpublic var node(default,null) : NodeAccess;\n\n\t/**\n\t\tAccess to the List of elements with the given name.\n\t\t```haxe\n\t\tvar fast = new haxe.xml.Fast(Xml.parse(\"<users>\n\t\t\t\t<user name='John'/>\n\t\t\t\t<user name='Andy'/>\n\t\t\t\t<user name='Dan'/>\n\t\t</users>\"));\n\n\t\tvar users = fast.node.users;\n\t\tfor(user in users.nodes.user) {\n\t\t\t\ttrace(user.att.name);\n\t\t}\n\t\t```\n\t**/\n\tpublic var nodes(default,null) : NodeListAccess;\n\n\t/**\n\t\tAccess to a given attribute.\n\n\t\tAn exception is thrown if the attribute doesn't exists.\n\t\tUse `has` to check the existence of an attribute.\n\n\t\t```haxe\n\t\tvar f = new haxe.xml.Fast(Xml.parse(\"<user name='Mark'></user>\"));\n\t\tvar user = f.node.user;\n\t\tif (user.has.name) {\n\t\t\ttrace(user.att.name); // Mark\n\t\t}\n\t\t```\n\t**/\n\tpublic var att(default,null) : AttribAccess;\n\n\t/**\n\t\tCheck the existence of an attribute with the given name.\n\t**/\n\tpublic var has(default,null) : HasAttribAccess;\n\n\t/**\n\t\tCheck the existence of a sub node with the given name.\n\n\t\t```haxe\n\t\tvar f = new haxe.xml.Fast(Xml.parse(\"<user><age>31</age></user>\"));\n\t\tvar user = f.node.user;\n\t\tif (user.hasNode.age) {\n\t\t\ttrace(user.node.age.innerData); // 31\n\t\t}\n\t\t```\n\t**/\n\tpublic var hasNode(default,null) : HasNodeAccess;\n\n\t/**\n\t\tThe list of all sub-elements which are the nodes with type `Xml.Element`.\n\t**/\n\tpublic var elements(get,null) : Iterator<Fast>;\n\n\tpublic function new( x : Xml ) {\n\t\tif( x.nodeType != Xml.Document && x.nodeType != Xml.Element )\n\t\t\tthrow \"Invalid nodeType \"+x.nodeType;\n\t\tthis.x = x;\n\t\tnode = new NodeAccess(x);\n\t\tnodes = new NodeListAccess(x);\n\t\tatt = new AttribAccess(x);\n\t\thas = new HasAttribAccess(x);\n\t\thasNode = new HasNodeAccess(x);\n\t}\n\n\tfunction get_name() {\n\t\treturn if( x.nodeType == Xml.Document ) \"Document\" else x.nodeName;\n\t}\n\n\tfunction get_innerData() {\n\t\tvar it = x.iterator();\n\t\tif( !it.hasNext() )\n\t\t\tthrow name+\" does not have data\";\n\t\tvar v = it.next();\n\t\tif( it.hasNext() ) {\n\t\t\tvar n = it.next();\n\t\t\t// handle <spaces>CDATA<spaces>\n\t\t\tif( v.nodeType == Xml.PCData && n.nodeType == Xml.CData && StringTools.trim(v.nodeValue) == \"\" ) {\n\t\t\t\tif( !it.hasNext() )\n\t\t\t\t\treturn n.nodeValue;\n\t\t\t\tvar n2 = it.next();\n\t\t\t\tif( n2.nodeType == Xml.PCData && StringTools.trim(n2.nodeValue) == \"\" && !it.hasNext() )\n\t\t\t\t\treturn n.nodeValue;\n\t\t\t}\n\t\t\tthrow name+\" does not only have data\";\n\t\t}\n\t\tif( v.nodeType != Xml.PCData && v.nodeType != Xml.CData )\n\t\t\tthrow name+\" does not have data\";\n\t\treturn v.nodeValue;\n\t}\n\n\tfunction get_innerHTML() {\n\t\tvar s = new StringBuf();\n\t\tfor( x in x )\n\t\t\ts.add(x.toString());\n\t\treturn s.toString();\n\t}\n\n\tfunction get_elements() {\n\t\tvar it = x.elements();\n\t\treturn {\n\t\t\thasNext : it.hasNext,\n\t\t\tnext : function() {\n\t\t\t\tvar x = it.next();\n\t\t\t\tif( x == null )\n\t\t\t\t\treturn null;\n\t\t\t\treturn new Fast(x);\n\t\t\t}\n\t\t};\n\t}\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage haxe.xml;\n\nusing StringTools;\n\n/* poor'man enum : reduce code size + a bit faster since inlined */\nextern private class S {\n\tpublic static inline var IGNORE_SPACES \t= 0;\n\tpublic static inline var BEGIN\t\t\t= 1;\n\tpublic static inline var BEGIN_NODE\t\t= 2;\n\tpublic static inline var TAG_NAME\t\t= 3;\n\tpublic static inline var BODY\t\t\t= 4;\n\tpublic static inline var ATTRIB_NAME\t= 5;\n\tpublic static inline var EQUALS\t\t\t= 6;\n\tpublic static inline var ATTVAL_BEGIN\t= 7;\n\tpublic static inline var ATTRIB_VAL\t\t= 8;\n\tpublic static inline var CHILDS\t\t\t= 9;\n\tpublic static inline var CLOSE\t\t\t= 10;\n\tpublic static inline var WAIT_END\t\t= 11;\n\tpublic static inline var WAIT_END_RET\t= 12;\n\tpublic static inline var PCDATA\t\t\t= 13;\n\tpublic static inline var HEADER\t\t\t= 14;\n\tpublic static inline var COMMENT\t\t= 15;\n\tpublic static inline var DOCTYPE\t\t= 16;\n\tpublic static inline var CDATA\t\t\t= 17;\n\tpublic static inline var ESCAPE\t\t\t= 18;\n}\n\nclass XmlParserException\n{\n\t/**\n\t * the XML parsing error message\n\t */\n\tpublic var message:String;\n\n\t/**\n\t * the line number at which the XML parsing error occurred\n\t */\n\tpublic var lineNumber:Int;\n\n\t/**\n\t * the character position in the reported line at which the parsing error occurred\n\t */\n\tpublic var positionAtLine:Int;\n\n\t/**\n\t * the character position in the XML string at which the parsing error occurred\n\t */\n\tpublic var position:Int;\n\n\t/**\n\t * the invalid XML string\n\t */\n\tpublic var xml:String;\n\n\tpublic function new(message:String, xml:String, position:Int)\n\t{\n\t\tthis.xml = xml;\n\t\tthis.message = message;\n\t\tthis.position = position;\n\t\tlineNumber = 1;\n\t\tpositionAtLine = 0;\n\n\t\tfor( i in 0...position)\n\t\t{\n\t\t\tvar c = xml.fastCodeAt(i);\n\t\t\tif (c == '\\n'.code) {\n\t\t\t\tlineNumber++;\n\t\t\t\tpositionAtLine = 0;\n\t\t\t} else {\n\t\t\t\tif (c != '\\r'.code) positionAtLine++;\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic function toString():String\n\t{\n\t\treturn Type.getClassName(Type.getClass(this)) + \": \" + message + \" at line \" + lineNumber + \" char \" + positionAtLine;\n\t}\n}\n\nclass Parser\n{\n\tstatic var escapes = {\n\t\tvar h = new haxe.ds.StringMap();\n\t\th.set(\"lt\", \"<\");\n\t\th.set(\"gt\", \">\");\n\t\th.set(\"amp\", \"&\");\n\t\th.set(\"quot\", '\"');\n\t\th.set(\"apos\", \"'\");\n\t\th;\n\t}\n\n\t/**\n\t * Parses the String into an XML Document. Set strict parsing to true in order to enable a strict check of XML attributes and entities.\n\t *\n\t * @throws haxe.xml.XmlParserException\n\t */\n\tstatic public function parse(str:String, strict = false)\n\t{\n\t\tvar doc = Xml.createDocument();\n\t\tdoParse(str, strict, 0, doc);\n\t\treturn doc;\n\t}\n\n\tstatic function doParse(str:String, strict:Bool, p:Int = 0, ?parent:Xml):Int\n\t{\n\t\tvar xml:Xml = null;\n\t\tvar state = S.BEGIN;\n\t\tvar next = S.BEGIN;\n\t\tvar aname = null;\n\t\tvar start = 0;\n\t\tvar nsubs = 0;\n\t\tvar nbrackets = 0;\n\t\tvar c = str.fastCodeAt(p);\n\t\tvar buf = new StringBuf();\n\t\t// need extra state because next is in use\n\t\tvar escapeNext = S.BEGIN;\n\t\tvar attrValQuote = -1;\n\t\tinline function addChild(xml:Xml) {\n\t\t\tparent.addChild(xml);\n\t\t\tnsubs++;\n\t\t}\n\t\twhile (!StringTools.isEof(c))\n\t\t{\n\t\t\tswitch(state)\n\t\t\t{\n\t\t\t\tcase S.IGNORE_SPACES:\n\t\t\t\t\tswitch(c)\n\t\t\t\t\t{\n\t\t\t\t\t\tcase\n\t\t\t\t\t\t\t'\\n'.code,\n\t\t\t\t\t\t\t'\\r'.code,\n\t\t\t\t\t\t\t'\\t'.code,\n\t\t\t\t\t\t\t' '.code:\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tstate = next;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\tcase S.BEGIN:\n\t\t\t\t\tswitch(c)\n\t\t\t\t\t{\n\t\t\t\t\t\tcase '<'.code:\n\t\t\t\t\t\t\tstate = S.IGNORE_SPACES;\n\t\t\t\t\t\t\tnext = S.BEGIN_NODE;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tstart = p;\n\t\t\t\t\t\t\tstate = S.PCDATA;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\tcase S.PCDATA:\n\t\t\t\t\tif (c == '<'.code)\n\t\t\t\t\t{\n\t\t\t\t\t\tbuf.addSub(str, start, p - start);\n\t\t\t\t\t\tvar child = Xml.createPCData(buf.toString());\n\t\t\t\t\t\tbuf = new StringBuf();\n\t\t\t\t\t\taddChild(child);\n\t\t\t\t\t\tstate = S.IGNORE_SPACES;\n\t\t\t\t\t\tnext = S.BEGIN_NODE;\n\t\t\t\t\t} else if (c == '&'.code) {\n\t\t\t\t\t\tbuf.addSub(str, start, p - start);\n\t\t\t\t\t\tstate = S.ESCAPE;\n\t\t\t\t\t\tescapeNext = S.PCDATA;\n\t\t\t\t\t\tstart = p + 1;\n\t\t\t\t\t}\n\t\t\t\tcase S.CDATA:\n\t\t\t\t\tif (c == ']'.code && str.fastCodeAt(p + 1) == ']'.code && str.fastCodeAt(p + 2) == '>'.code)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar child = Xml.createCData(str.substr(start, p - start));\n\t\t\t\t\t\taddChild(child);\n\t\t\t\t\t\tp += 2;\n\t\t\t\t\t\tstate = S.BEGIN;\n\t\t\t\t\t}\n\t\t\t\tcase S.BEGIN_NODE:\n\t\t\t\t\tswitch(c)\n\t\t\t\t\t{\n\t\t\t\t\t\tcase '!'.code:\n\t\t\t\t\t\t\tif (str.fastCodeAt(p + 1) == '['.code)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tp += 2;\n\t\t\t\t\t\t\t\tif (str.substr(p, 6).toUpperCase() != \"CDATA[\")\n\t\t\t\t\t\t\t\t\tthrow new XmlParserException(\"Expected <![CDATA[\", str, p);\n\t\t\t\t\t\t\t\tp += 5;\n\t\t\t\t\t\t\t\tstate = S.CDATA;\n\t\t\t\t\t\t\t\tstart = p + 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (str.fastCodeAt(p + 1) == 'D'.code || str.fastCodeAt(p + 1) == 'd'.code)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif(str.substr(p + 2, 6).toUpperCase() != \"OCTYPE\")\n\t\t\t\t\t\t\t\t\tthrow new XmlParserException(\"Expected <!DOCTYPE\", str, p);\n\t\t\t\t\t\t\t\tp += 8;\n\t\t\t\t\t\t\t\tstate = S.DOCTYPE;\n\t\t\t\t\t\t\t\tstart = p + 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if( str.fastCodeAt(p + 1) != '-'.code || str.fastCodeAt(p + 2) != '-'.code )\n\t\t\t\t\t\t\t\tthrow new XmlParserException(\"Expected <!--\", str, p);\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tp += 2;\n\t\t\t\t\t\t\t\tstate = S.COMMENT;\n\t\t\t\t\t\t\t\tstart = p + 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tcase '?'.code:\n\t\t\t\t\t\t\tstate = S.HEADER;\n\t\t\t\t\t\t\tstart = p;\n\t\t\t\t\t\tcase '/'.code:\n\t\t\t\t\t\t\tif( parent == null )\n\t\t\t\t\t\t\t\tthrow new XmlParserException(\"Expected node name\", str, p);\n\t\t\t\t\t\t\tstart = p + 1;\n\t\t\t\t\t\t\tstate = S.IGNORE_SPACES;\n\t\t\t\t\t\t\tnext = S.CLOSE;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tstate = S.TAG_NAME;\n\t\t\t\t\t\t\tstart = p;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\tcase S.TAG_NAME:\n\t\t\t\t\tif (!isValidChar(c))\n\t\t\t\t\t{\n\t\t\t\t\t\tif( p == start )\n\t\t\t\t\t\t\tthrow new XmlParserException(\"Expected node name\", str, p);\n\t\t\t\t\t\txml = Xml.createElement(str.substr(start, p - start));\n\t\t\t\t\t\taddChild(xml);\n\t\t\t\t\t\tstate = S.IGNORE_SPACES;\n\t\t\t\t\t\tnext = S.BODY;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\tcase S.BODY:\n\t\t\t\t\tswitch(c)\n\t\t\t\t\t{\n\t\t\t\t\t\tcase '/'.code:\n\t\t\t\t\t\t\tstate = S.WAIT_END;\n\t\t\t\t\t\tcase '>'.code:\n\t\t\t\t\t\t\tstate = S.CHILDS;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tstate = S.ATTRIB_NAME;\n\t\t\t\t\t\t\tstart = p;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\tcase S.ATTRIB_NAME:\n\t\t\t\t\tif (!isValidChar(c))\n\t\t\t\t\t{\n\t\t\t\t\t\tvar tmp;\n\t\t\t\t\t\tif( start == p )\n\t\t\t\t\t\t\tthrow new XmlParserException(\"Expected attribute name\", str, p);\n\t\t\t\t\t\ttmp = str.substr(start,p-start);\n\t\t\t\t\t\taname = tmp;\n\t\t\t\t\t\tif( xml.exists(aname) )\n\t\t\t\t\t\t\tthrow new XmlParserException(\"Duplicate attribute [\" + aname + \"]\", str, p);\n\t\t\t\t\t\tstate = S.IGNORE_SPACES;\n\t\t\t\t\t\tnext = S.EQUALS;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\tcase S.EQUALS:\n\t\t\t\t\tswitch(c)\n\t\t\t\t\t{\n\t\t\t\t\t\tcase '='.code:\n\t\t\t\t\t\t\tstate = S.IGNORE_SPACES;\n\t\t\t\t\t\t\tnext = S.ATTVAL_BEGIN;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tthrow new XmlParserException(\"Expected =\", str, p);\n\t\t\t\t\t}\n\t\t\t\tcase S.ATTVAL_BEGIN:\n\t\t\t\t\tswitch(c)\n\t\t\t\t\t{\n\t\t\t\t\t\tcase '\"'.code | '\\''.code:\n\t\t\t\t\t\t\tbuf = new StringBuf();\n\t\t\t\t\t\t\tstate = S.ATTRIB_VAL;\n\t\t\t\t\t\t\tstart = p + 1;\n\t\t\t\t\t\t\tattrValQuote = c;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tthrow new XmlParserException(\"Expected \\\"\", str, p);\n\t\t\t\t\t}\n\t\t\t\tcase S.ATTRIB_VAL:\n\t\t\t\t\tswitch (c) {\n\t\t\t\t\t\tcase '&'.code:\n\t\t\t\t\t\t\tbuf.addSub(str, start, p - start);\n\t\t\t\t\t\t\tstate = S.ESCAPE;\n\t\t\t\t\t\t\tescapeNext = S.ATTRIB_VAL;\n\t\t\t\t\t\t\tstart = p + 1;\n\t\t\t\t\t\tcase '>'.code | '<'.code if( strict ):\n\t\t\t\t\t\t\t// HTML allows these in attributes values\n\t\t\t\t\t\t\tthrow new XmlParserException(\"Invalid unescaped \" + String.fromCharCode(c) + \" in attribute value\", str, p);\n\t\t\t\t\t\tcase _ if (c == attrValQuote):\n\t\t\t\t\t\t\tbuf.addSub(str, start, p - start);\n\t\t\t\t\t\t\tvar val = buf.toString();\n\t\t\t\t\t\t\tbuf = new StringBuf();\n\t\t\t\t\t\t\txml.set(aname, val);\n\t\t\t\t\t\t\tstate = S.IGNORE_SPACES;\n\t\t\t\t\t\t\tnext = S.BODY;\n\t\t\t\t\t}\n\t\t\t\tcase S.CHILDS:\n\t\t\t\t\tp = doParse(str, strict, p, xml);\n\t\t\t\t\tstart = p;\n\t\t\t\t\tstate = S.BEGIN;\n\t\t\t\tcase S.WAIT_END:\n\t\t\t\t\tswitch(c)\n\t\t\t\t\t{\n\t\t\t\t\t\tcase '>'.code:\n\t\t\t\t\t\t\tstate = S.BEGIN;\n\t\t\t\t\t\tdefault :\n\t\t\t\t\t\t\tthrow new XmlParserException(\"Expected >\", str, p);\n\t\t\t\t\t}\n\t\t\t\tcase S.WAIT_END_RET:\n\t\t\t\t\tswitch(c)\n\t\t\t\t\t{\n\t\t\t\t\t\tcase '>'.code:\n\t\t\t\t\t\t\tif( nsubs == 0 )\n\t\t\t\t\t\t\t\tparent.addChild(Xml.createPCData(\"\"));\n\t\t\t\t\t\t\treturn p;\n\t\t\t\t\t\tdefault :\n\t\t\t\t\t\t\tthrow new XmlParserException(\"Expected >\", str, p);\n\t\t\t\t\t}\n\t\t\t\tcase S.CLOSE:\n\t\t\t\t\tif (!isValidChar(c))\n\t\t\t\t\t{\n\t\t\t\t\t\tif( start == p )\n\t\t\t\t\t\t\tthrow new XmlParserException(\"Expected node name\", str, p);\n\n\t\t\t\t\t\tvar v = str.substr(start,p - start);\n\t\t\t\t\t\tif (v != parent.nodeName)\n\t\t\t\t\t\t\tthrow new XmlParserException(\"Expected </\" +parent.nodeName + \">\", str, p);\n\n\t\t\t\t\t\tstate = S.IGNORE_SPACES;\n\t\t\t\t\t\tnext = S.WAIT_END_RET;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\tcase S.COMMENT:\n\t\t\t\t\tif (c == '-'.code && str.fastCodeAt(p +1) == '-'.code && str.fastCodeAt(p + 2) == '>'.code)\n\t\t\t\t\t{\n\t\t\t\t\t\taddChild(Xml.createComment(str.substr(start, p - start)));\n\t\t\t\t\t\tp += 2;\n\t\t\t\t\t\tstate = S.BEGIN;\n\t\t\t\t\t}\n\t\t\t\tcase S.DOCTYPE:\n\t\t\t\t\tif(c == '['.code)\n\t\t\t\t\t\tnbrackets++;\n\t\t\t\t\telse if(c == ']'.code)\n\t\t\t\t\t\tnbrackets--;\n\t\t\t\t\telse if (c == '>'.code && nbrackets == 0)\n\t\t\t\t\t{\n\t\t\t\t\t\taddChild(Xml.createDocType(str.substr(start, p - start)));\n\t\t\t\t\t\tstate = S.BEGIN;\n\t\t\t\t\t}\n\t\t\t\tcase S.HEADER:\n\t\t\t\t\tif (c == '?'.code && str.fastCodeAt(p + 1) == '>'.code)\n\t\t\t\t\t{\n\t\t\t\t\t\tp++;\n\t\t\t\t\t\tvar str = str.substr(start + 1, p - start - 2);\n\t\t\t\t\t\taddChild(Xml.createProcessingInstruction(str));\n\t\t\t\t\t\tstate = S.BEGIN;\n\t\t\t\t\t}\n\t\t\t\tcase S.ESCAPE:\n\t\t\t\t\tif (c == ';'.code)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar s = str.substr(start, p - start);\n\t\t\t\t\t\tif (s.fastCodeAt(0) == '#'.code) {\n\t\t\t\t\t\t\tvar c = s.fastCodeAt(1) == 'x'.code\n\t\t\t\t\t\t\t\t? Std.parseInt(\"0\" +s.substr(1, s.length - 1))\n\t\t\t\t\t\t\t\t: Std.parseInt(s.substr(1, s.length - 1));\n\t\t\t\t\t\t\t#if (neko || cpp || php || lua)\n\t\t\t\t\t\t\tif( c >= 128 ) {\n\t\t\t\t\t\t\t\t// UTF8-encode it\n\t\t\t\t\t\t\t\tif( c <= 0x7FF ) {\n\t\t\t\t\t\t\t\t\tbuf.addChar(0xC0 | (c >> 6));\n\t\t\t\t\t\t\t\t\tbuf.addChar(0x80 | (c & 63));\n\t\t\t\t\t\t\t\t} else if( c <= 0xFFFF ) {\n\t\t\t\t\t\t\t\t\tbuf.addChar(0xE0 | (c >> 12));\n\t\t\t\t\t\t\t\t\tbuf.addChar(0x80 | ((c >> 6) & 63));\n\t\t\t\t\t\t\t\t\tbuf.addChar(0x80 | (c & 63));\n\t\t\t\t\t\t\t\t} else if( c <= 0x10FFFF ) {\n\t\t\t\t\t\t\t\t\tbuf.addChar(0xF0 | (c >> 18));\n\t\t\t\t\t\t\t\t\tbuf.addChar(0x80 | ((c >> 12) & 63));\n\t\t\t\t\t\t\t\t\tbuf.addChar(0x80 | ((c >> 6) & 63));\n\t\t\t\t\t\t\t\t\tbuf.addChar(0x80 | (c & 63));\n\t\t\t\t\t\t\t\t} else\n\t\t\t\t\t\t\t\t\tthrow new XmlParserException(\"Cannot encode UTF8-char \" + c, str, p);\n\t\t\t\t\t\t\t} else\n\t\t\t\t\t\t\t#end\n\t\t\t\t\t\t\tbuf.addChar(c);\n\t\t\t\t\t\t} else if (!escapes.exists(s)) {\n\t\t\t\t\t\t\tif( strict )\n\t\t\t\t\t\t\t\tthrow new XmlParserException(\"Undefined entity: \" + s, str, p);\n\t\t\t\t\t\t\tbuf.add('&$s;');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbuf.add(escapes.get(s));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart = p + 1;\n\t\t\t\t\t\tstate = escapeNext;\n\t\t\t\t\t} else if (!isValidChar(c) && c != \"#\".code) {\n\t\t\t\t\t\tif( strict )\n\t\t\t\t\t\t\tthrow new XmlParserException(\"Invalid character in entity: \" + String.fromCharCode(c), str, p);\n\t\t\t\t\t\tbuf.addChar(\"&\".code);\n\t\t\t\t\t\tbuf.addSub(str, start, p - start);\n\t\t\t\t\t\tp--;\n\t\t\t\t\t\tstart = p + 1;\n\t\t\t\t\t\tstate = escapeNext;\n\t\t\t\t\t}\n\t\t\t}\n\t\t\tc = str.fastCodeAt(++p);\n\t\t}\n\n\t\tif (state == S.BEGIN)\n\t\t{\n\t\t\tstart = p;\n\t\t\tstate = S.PCDATA;\n\t\t}\n\n\t\tif (state == S.PCDATA)\n\t\t{\n\t\t\tif (p != start || nsubs == 0) {\n\t\t\t\tbuf.addSub(str, start, p-start);\n\t\t\t\taddChild(Xml.createPCData(buf.toString()));\n\t\t\t}\n\t\t\treturn p;\n\t\t}\n\n\t\tif( !strict && state == S.ESCAPE && escapeNext == S.PCDATA ) {\n\t\t\tbuf.addChar(\"&\".code);\n\t\t\tbuf.addSub(str, start, p - start);\n\t\t\taddChild(Xml.createPCData(buf.toString()));\n\t\t\treturn p;\n\t\t}\n\n\t\tthrow new XmlParserException(\"Unexpected end\", str, p);\n\t}\n\n\tstatic inline function isValidChar(c) {\n\t\treturn (c >= 'a'.code && c <= 'z'.code) || (c >= 'A'.code && c <= 'Z'.code) || (c >= '0'.code && c <= '9'.code) || c == ':'.code || c == '.'.code || c == '_'.code || c == '-'.code;\n\t}\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\npackage haxe.xml;\n\n/**\n\tThis class provides utility methods to convert Xml instances to \n\tString representation.\n**/\nclass Printer {\n\t/**\n\t\tConvert `Xml` to string representation.\n\t\t\n\t\tSet `pretty` to `true` to prettify the result.\n\t**/\n\tstatic public function print(xml:Xml, ?pretty = false) {\n\t\tvar printer = new Printer(pretty);\n\t\tprinter.writeNode(xml, \"\");\n\t\treturn printer.output.toString();\n\t}\n\n\tvar output:StringBuf;\n\tvar pretty:Bool;\n\n\tfunction new(pretty) {\n\t\toutput = new StringBuf();\n\t\tthis.pretty = pretty;\n\t}\n\n\tfunction writeNode(value:Xml, tabs:String) {\n\t\tswitch (value.nodeType) {\n\t\t\tcase CData:\n\t\t\t\twrite(tabs + \"<![CDATA[\");\n\t\t\t\twrite(StringTools.trim(value.nodeValue));\n\t\t\t\twrite(\"]]>\");\n\t\t\t\tnewline();\n\t\t\tcase Comment:\n\t\t\t\tvar commentContent:String = value.nodeValue;\n\t\t\t\tcommentContent = ~/[\\n\\r\\t]+/g.replace(commentContent, \"\");\n\t\t\t\tcommentContent = \"<!--\" + commentContent + \"-->\";\n\t\t\t\twrite(tabs);\n\t\t\t\twrite(StringTools.trim(commentContent));\n\t\t\t\tnewline();\n\t\t\tcase Document:\n\t\t\t\tfor (child in value) {\n\t\t\t\t\twriteNode(child, tabs);\n\t\t\t\t}\n\t\t\tcase Element:\n\t\t\t\twrite(tabs + \"<\");\n\t\t\t\twrite(value.nodeName);\n\t\t\t\tfor (attribute in value.attributes()) {\n\t\t\t\t\twrite(\" \" + attribute + \"=\\\"\");\n\t\t\t\t\twrite(StringTools.htmlEscape(value.get(attribute), true));\n\t\t\t\t\twrite(\"\\\"\");\n\t\t\t\t}\n\t\t\t\tif (hasChildren(value)) {\n\t\t\t\t\twrite(\">\");\n\t\t\t\t\tnewline();\n\t\t\t\t\tfor (child in value) {\n\t\t\t\t\t\twriteNode(child, pretty ? tabs + \"\\t\" : tabs);\n\t\t\t\t\t}\n\t\t\t\t\twrite(tabs + \"</\");\n\t\t\t\t\twrite(value.nodeName);\n\t\t\t\t\twrite(\">\");\n\t\t\t\t\tnewline();\n\t\t\t\t} else {\n\t\t\t\t\twrite(\"/>\");\n\t\t\t\t\tnewline();\n\t\t\t\t}\n\t\t\tcase PCData:\n\t\t\t\tvar nodeValue:String = value.nodeValue;\n\t\t\t\tif (nodeValue.length != 0) {\n\t\t\t\t\twrite(tabs + StringTools.htmlEscape(nodeValue));\n\t\t\t\t\tnewline();\n\t\t\t\t}\n\t\t\tcase ProcessingInstruction:\n\t\t\t\twrite(\"<?\" + value.nodeValue + \"?>\");\n\t\t\t\tnewline();\n\t\t\tcase DocType:\n\t\t\t\twrite(\"<!DOCTYPE \" + value.nodeValue + \">\");\n\t\t\t\tnewline();\n\t\t}\n\t}\n\n\tinline function write(input:String) {\n\t\toutput.add(input);\n\t}\n\n\tinline function newline() {\n\t\tif (pretty) {\n\t\t\toutput.add(\"\\n\");\n\t\t}\n\t}\n\n\tfunction hasChildren(value:Xml):Bool {\n\t\tfor (child in value) {\n\t\t\tswitch (child.nodeType) {\n\t\t\t\tcase Element, PCData:\n\t\t\t\t\treturn true;\n\t\t\t\tcase CData, Comment:\n\t\t\t\t\tif (StringTools.ltrim(child.nodeValue).length != 0) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\tcase _:\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage js;\n\nprivate class HaxeError extends js.Error {\n\n\tvar val:Dynamic;\n\n\tpublic function new(val:Dynamic) untyped {\n\t\tsuper();\n\t\tthis.val = __define_feature__(\"js.Boot.HaxeError\", val);\n\t\tthis.message = String(val);\n\t\tif (js.Error.captureStackTrace) js.Error.captureStackTrace(this, HaxeError);\n\t}\n\n\tpublic static function wrap(val:Dynamic):Dynamic untyped {\n\t\treturn if (__instanceof__(val, js.Error)) val else new HaxeError(val);\n\t}\n}\n\n@:dox(hide)\nclass Boot {\n\n\tprivate static function __unhtml(s : String) {\n\t\treturn s.split(\"&\").join(\"&amp;\").split(\"<\").join(\"&lt;\").split(\">\").join(\"&gt;\");\n\t}\n\n\tprivate static function __trace(v,i : haxe.PosInfos) {\n\t\tuntyped {\n\t\t\tvar msg = if( i != null ) i.fileName+\":\"+i.lineNumber+\": \" else \"\";\n\t\t\t#if jsfl\n\t\t\tmsg += __string_rec(v,\"\");\n\t\t\tfl.trace(msg);\n\t\t\t#else\n\t\t\tmsg += __string_rec(v, \"\");\n\t\t\tif( i != null && i.customParams != null )\n\t\t\t\tfor( v in i.customParams )\n\t\t\t\t\tmsg += \",\" + __string_rec(v, \"\");\n\t\t\tvar d;\n\t\t\tif( __js__(\"typeof\")(document) != \"undefined\" && (d = document.getElementById(\"haxe:trace\")) != null )\n\t\t\t\td.innerHTML += __unhtml(msg)+\"<br/>\";\n\t\t\telse if( __js__(\"typeof console\") != \"undefined\" && __js__(\"console\").log != null )\n\t\t\t\t__js__(\"console\").log(msg);\n\t\t\t#end\n\t\t}\n\t}\n\n\tprivate static function __clear_trace() {\n\t\tuntyped {\n\t\t\t#if jsfl\n\t\t\tfl.outputPanel.clear();\n\t\t\t#else\n\t\t\tvar d = document.getElementById(\"haxe:trace\");\n\t\t\tif( d != null )\n\t\t\t\td.innerHTML = \"\";\n\t\t\t#end\n\t\t}\n\t}\n\n\tstatic inline function isClass(o:Dynamic) : Bool {\n\t\treturn untyped __define_feature__(\"js.Boot.isClass\", o.__name__);\n\t}\n\n\tstatic inline function isEnum(e:Dynamic) : Bool {\n\t\treturn untyped __define_feature__(\"js.Boot.isEnum\", e.__ename__);\n\t}\n\n\tstatic function getClass(o:Dynamic) : Dynamic {\n\t\tif (Std.is(o, Array))\n\t\t\treturn Array;\n\t\telse {\n\t\t\tvar cl = untyped __define_feature__(\"js.Boot.getClass\", o.__class__);\n\t\t\tif (cl != null)\n\t\t\t\treturn cl;\n\t\t\tvar name = __nativeClassName(o);\n\t\t\tif (name != null)\n\t\t\t\treturn __resolveNativeClass(name);\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t@:ifFeature(\"has_enum\")\n\tprivate static function __string_rec(o,s:String) {\n\t\tuntyped {\n\t\t\tif( o == null )\n\t\t\t    return \"null\";\n\t\t\tif( s.length >= 5 )\n\t\t\t\treturn \"<...>\"; // too much deep recursion\n\t\t\tvar t = __js__(\"typeof(o)\");\n\t\t\tif( t == \"function\" && (isClass(o) || isEnum(o)) )\n\t\t\t\tt = \"object\";\n\t\t\tswitch( t ) {\n\t\t\tcase \"object\":\n\t\t\t\tif( __js__(\"o instanceof Array\") ) {\n\t\t\t\t\tif( o.__enum__ ) {\n\t\t\t\t\t\tif( o.length == 2 )\n\t\t\t\t\t\t\treturn o[0];\n\t\t\t\t\t\tvar str = o[0]+\"(\";\n\t\t\t\t\t\ts += \"\\t\";\n\t\t\t\t\t\tfor( i in 2...o.length ) {\n\t\t\t\t\t\t\tif( i != 2 )\n\t\t\t\t\t\t\t\tstr += \",\" + __string_rec(o[i],s);\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tstr += __string_rec(o[i],s);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn str + \")\";\n\t\t\t\t\t}\n\t\t\t\t\tvar l = o.length;\n\t\t\t\t\tvar i;\n\t\t\t\t\tvar str = \"[\";\n\t\t\t\t\ts += \"\\t\";\n\t\t\t\t\tfor( i in 0...l )\n\t\t\t\t\t\tstr += (if (i > 0) \",\" else \"\")+__string_rec(o[i],s);\n\t\t\t\t\tstr += \"]\";\n\t\t\t\t\treturn str;\n\t\t\t\t}\n\t\t\t\tvar tostr;\n\t\t\t\ttry {\n\t\t\t\t\ttostr = untyped o.toString;\n\t\t\t\t} catch( e : Dynamic ) {\n\t\t\t\t\t// strange error on IE\n\t\t\t\t\treturn \"???\";\n\t\t\t\t}\n\t\t\t\tif( tostr != null && tostr != __js__(\"Object.toString\") && __typeof__(tostr) == \"function\" ) {\n\t\t\t\t\tvar s2 = o.toString();\n\t\t\t\t\tif( s2 != \"[object Object]\")\n\t\t\t\t\t\treturn s2;\n\t\t\t\t}\n\t\t\t\tvar k : String = null;\n\t\t\t\tvar str = \"{\\n\";\n\t\t\t\ts += \"\\t\";\n\t\t\t\tvar hasp = (o.hasOwnProperty != null);\n\t\t\t\t__js__(\"for( var k in o ) {\");\n\t\t\t\t\tif( hasp && !o.hasOwnProperty(k) )\n\t\t\t\t\t\t__js__(\"continue\");\n\t\t\t\t\tif( k == \"prototype\" || k == \"__class__\" || k == \"__super__\" || k == \"__interfaces__\" || k == \"__properties__\" )\n\t\t\t\t\t\t__js__(\"continue\");\n\t\t\t\t\tif( str.length != 2 )\n\t\t\t\t\t\tstr += \", \\n\";\n\t\t\t\t\tstr += s + k + \" : \"+__string_rec(o[k],s);\n\t\t\t\t__js__(\"}\");\n\t\t\t\ts = s.substring(1);\n\t\t\t\tstr += \"\\n\" + s + \"}\";\n\t\t\t\treturn str;\n\t\t\tcase \"function\":\n\t\t\t\treturn \"<function>\";\n\t\t\tcase \"string\":\n\t\t\t\treturn o;\n\t\t\tdefault:\n\t\t\t\treturn String(o);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate static function __interfLoop(cc : Dynamic,cl : Dynamic) {\n\t\tif( cc == null )\n\t\t\treturn false;\n\t\tif( cc == cl )\n\t\t\treturn true;\n\t\tvar intf : Dynamic = cc.__interfaces__;\n\t\tif( intf != null )\n\t\t\tfor( i in 0...intf.length ) {\n\t\t\t\tvar i : Dynamic = intf[i];\n\t\t\t\tif( i == cl || __interfLoop(i,cl) )\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\treturn __interfLoop(cc.__super__,cl);\n\t}\n\n\t@:ifFeature(\"typed_catch\") private static function __instanceof(o : Dynamic,cl : Dynamic) {\n\t\tif( cl == null )\n\t\t\treturn false;\n\t\tswitch( cl ) {\n\t\tcase Int:\n\t\t\treturn (untyped __js__(\"typeof\"))(o) == \"number\" && untyped __js__(\"(o|0) === o\");\n\t\tcase Float:\n\t\t\treturn (untyped __js__(\"typeof\"))(o) == \"number\";\n\t\tcase Bool:\n\t\t\treturn (untyped __js__(\"typeof\"))(o) == \"boolean\";\n\t\tcase String:\n\t\t\treturn (untyped __js__(\"typeof\"))(o) == \"string\";\n\t\tcase Array:\n\t\t\treturn (untyped __js__(\"(o instanceof Array)\")) && o.__enum__ == null;\n\t\tcase Dynamic:\n\t\t\treturn true;\n\t\tdefault:\n\t\t\tif( o != null ) {\n\t\t\t\t// Check if o is an instance of a Haxe class or a native JS object\n\t\t\t\tif( (untyped __js__(\"typeof\"))(cl) == \"function\" ) {\n\t\t\t\t\tif( untyped __js__(\"o instanceof cl\") )\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tif( __interfLoop(getClass(o),cl) )\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\telse if ( (untyped __js__(\"typeof\"))(cl) == \"object\" && __isNativeObj(cl) ) {\n\t\t\t\t\tif( untyped __js__(\"o instanceof cl\") )\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// do not use isClass/isEnum here\n\t\t\tuntyped __feature__(\"Class.*\",if( cl == Class && o.__name__ != null ) return true);\n\t\t\tuntyped __feature__(\"Enum.*\",if( cl == Enum && o.__ename__ != null ) return true);\n\t\t\treturn o.__enum__ == cl;\n\t\t}\n\t}\n\n\t@:ifFeature(\"typed_cast\") private static function __cast(o : Dynamic, t : Dynamic) {\n\t\tif (__instanceof(o, t)) return o;\n\t\telse throw \"Cannot cast \" +Std.string(o) + \" to \" +Std.string(t);\n\t}\n\n\tstatic var __toStr = untyped ({}).toString;\n\t// get native JS [[Class]]\n\tstatic function __nativeClassName(o:Dynamic):String {\n\t\tvar name = untyped __toStr.call(o).slice(8, -1);\n\t\t// exclude general Object and Function\n\t\t// also exclude Math and JSON, because instanceof cannot be called on them\n\t\tif (name == \"Object\" || name == \"Function\" || name == \"Math\" || name == \"JSON\")\n\t\t\treturn null;\n\t\treturn name;\n\t}\n\n\t// check for usable native JS object\n\tstatic function __isNativeObj(o:Dynamic):Bool {\n\t\treturn __nativeClassName(o) != null;\n\t}\n\n\t// resolve native JS class in the global scope:\n\tstatic function __resolveNativeClass(name:String) {\n\t\treturn untyped js.Lib.global[name];\n\t}\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n// This file is generated from mozilla\\HTMLCanvasElement.webidl. Do not edit!\n\npackage js.html;\n\n/**\n\tThe `HTMLCanvasElement` interface provides properties and methods for manipulating the layout and presentation of canvas elements. The `HTMLCanvasElement` interface also inherits the properties and methods of the `HTMLElement` interface.\n\n\tDocumentation [HTMLCanvasElement](https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement) by [Mozilla Contributors](https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement$history), licensed under [CC-BY-SA 2.5](https://creativecommons.org/licenses/by-sa/2.5/).\n\n\t@see <https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement>\n**/\n@:native(\"HTMLCanvasElement\")\nextern class CanvasElement extends Element\n{\n\t\n\t/**\n\t\tIs a positive `integer` reflecting the `width` HTML attribute of the `canvas` element interpreted in CSS pixels. When the attribute is not specified, or if it is set to an invalid value, like a negative, the default value of `300` is used.\n\t**/\n\tvar width : Int;\n\t\n\t/**\n\t\tIs a positive `integer` reflecting the `height` HTML attribute of the `canvas` element interpreted in CSS pixels. When the attribute is not specified, or if it is set to an invalid value, like a negative, the default value of `150` is used.\n\t**/\n\tvar height : Int;\n\t\n\t/** @throws DOMError */\n\t\n\t/**\n\t\tReturns a drawing context on the canvas, or null if the context ID is not supported. A drawing context lets you draw on the canvas. Calling getContext with `\"2d\"` returns a `CanvasRenderingContext2D` object, whereas calling it with `\"experimental-webgl\"` (or `\"webgl\"`) returns a `WebGLRenderingContext` object. This context is only available on browsers that implement WebGL.\n\t**/\n\tfunction getContext( contextId : String, ?contextOptions : Dynamic ) : Dynamic/*MISSING nsISupports*/;\n\t/** @throws DOMError */\n\t\n\t/**\n\t\tReturns a data-URL containing a representation of the image in the format specified by the `type` parameter (defaults to `png`). The returned image is in a resolution of 96dpi.\n\t**/\n\tfunction toDataURL( ?type : String = \"\", ?encoderOptions : Dynamic ) : String;\n\t/** @throws DOMError */\n\t\n\t/**\n\t\tCreates a `Blob` object representing the image contained in the canvas; this file may be cached on the disk or stored in memory at the discretion of the user agent.\n\t**/\n\tfunction toBlob( callback : Blob -> Void, ?type : String = \"\", ?encoderOptions : Dynamic ) : Void;\n\t\n\t/** Shorthand for getting a CanvasRenderingContext2D. */\n\tinline function getContext2d( ?attribs : {} ) : CanvasRenderingContext2D {\n\t\treturn cast getContext(\"2d\", attribs);\n\t}\n\t/** Shorthand for getting a js.html.webgl.RenderingContext. */\n\tinline function getContextWebGL( ?attribs : js.html.webgl.ContextAttributes ) : js.html.webgl.RenderingContext {\n\t\treturn CanvasUtil.getContextWebGL(this, attribs);\n\t}\n}\n\nprivate class CanvasUtil {\n\tpublic static function getContextWebGL( canvas :CanvasElement, attribs :{} ) {\n\t\tfor (name in [\"webgl\", \"experimental-webgl\"]) {\n\t\t\tvar ctx = canvas.getContext(name, attribs);\n\t\t\tif (ctx != null) return ctx;\n\t\t}\n\t\treturn null;\n\t}\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage js.html.compat;\n\n#if !nodejs\n@:ifFeature(\"js.html.ArrayBuffer.*\")\nclass ArrayBuffer {\n\n\tpublic var byteLength : Int;\n\tvar a : Array<Int>;\n\n\tpublic function new( ?a : Dynamic ) {\n\t\tif( Std.is(a,Array) ) {\n\t\t\tthis.a = a;\n\t\t\tbyteLength = a.length;\n\t\t} else {\n\t\t\tvar len : Int = a;\n\t\t\tthis.a = [];\n\t\t\tfor( i in 0...len )\n\t\t\t\tthis.a[i] = 0;\n\t\t\tbyteLength = len;\n\t\t}\n\t}\n\n\tpublic function slice(begin,?end) {\n\t\treturn new ArrayBuffer(a.slice(begin,end));\n\t}\n\n\tstatic function sliceImpl(begin,?end) {\n\t\tvar u = new js.html.Uint8Array(js.Lib.nativeThis, begin, end == null ? null : end - begin);\n\t\tvar result = new js.html.ArrayBuffer(u.byteLength);\n\t\tvar resultArray = new js.html.Uint8Array(result);\n\t\tresultArray.set(u);\n\t\treturn result;\n\t}\n\n\tstatic function __init__() untyped {\n\t\tvar ArrayBuffer = js.Lib.global.ArrayBuffer || js.html.compat.ArrayBuffer;\n\t\tif( ArrayBuffer.prototype.slice == null ) ArrayBuffer.prototype.slice = sliceImpl; // IE10\n\t}\n}\n#end","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage js.html.compat;\n\n#if !nodejs\nimport js.Lib.nativeThis;\n\n@:ifFeature(\"js.html.Float32Array.*\")\nclass Float32Array {\n\n\tstatic var BYTES_PER_ELEMENT = 4;\n\n\tstatic function _new( ?arg1 : Dynamic, ?offset : Int, ?length : Int ) : Dynamic {\n\t\tvar arr : Array<Float>;\n\t\tif( untyped __typeof__(arg1) == 'number' ) {\n\t\t\tarr = new Array();\n\t\t\tfor( i in 0...arg1 )\n\t\t\t\tarr[i] = 0;\n\t\t\tuntyped {\n\t\t\t\tarr.byteLength = arr.length << 2;\n\t\t\t\tarr.byteOffset = 0;\n\t\t\t\tarr.buffer = new ArrayBuffer([for( i in 0...arr.length << 2 ) 0]); // no sync\n\t\t\t}\n\t\t} else if( Std.is(arg1,ArrayBuffer) ) {\n\t\t\tvar buffer : ArrayBuffer = arg1;\n\t\t\tif( offset == null ) offset = 0;\n\t\t\tif( length == null ) length = (buffer.byteLength - offset) >> 2;\n\t\t\tarr = [];\n\t\t\t// decode buffer\n\t\t\tfor( i in 0...length ) {\n\t\t\t\tvar val = untyped buffer.a[offset++] | (buffer.a[offset++] << 8) | (buffer.a[offset++] << 16) | (buffer.a[offset++] << 24);\n\t\t\t\tarr.push(haxe.io.FPHelper.i32ToFloat(val));\n\t\t\t}\n\t\t\tuntyped {\n\t\t\t\tarr.byteLength = arr.length<<2;\n\t\t\t\tarr.byteOffset = offset;\n\t\t\t\tarr.buffer = buffer;\n\t\t\t}\n\t\t} else if( Std.is(arg1, Array) ) {\n\t\t\tarr = (arg1 : Array<Float>).copy();\n\t\t\t// loss of memory sync between buffer and array\n\t\t\tvar buffer = [];\n\t\t\tfor( f in arr ) {\n\t\t\t\tvar i = haxe.io.FPHelper.floatToI32(f);\n\t\t\t\tbuffer.push(i&0xFF);\n\t\t\t\tbuffer.push((i>>8)&0xFF);\n\t\t\t\tbuffer.push((i>>16)&0xFF);\n\t\t\t\tbuffer.push(i>>>24);\n\t\t\t}\n\t\t\tuntyped {\n\t\t\t\tarr.byteLength = arr.length << 2;\n\t\t\t\tarr.byteOffset = 0;\n\t\t\t\tarr.buffer = new ArrayBuffer(buffer);\n\t\t\t}\n\t\t} else\n\t\t\tthrow \"TODO \"+arg1;\n\t\tuntyped {\n\t\t\tarr.subarray = _subarray;\n\t\t\tarr.set = _set;\n\t\t}\n\t\treturn arr;\n\t}\n\n\tstatic function _set( ?arg : Dynamic, ?offset : Int ) {\n\t\tif( Std.is(arg.buffer,ArrayBuffer) ) {\n\t\t\tvar a : Array<Int> = arg;\n\t\t\tif( arg.byteLength + offset > nativeThis.byteLength )\n\t\t\t\tthrow \"set() outside of range\";\n\t\t\tfor( i in 0...arg.byteLength )\n\t\t\t\tnativeThis[i + offset] = a[i];\n\t\t} else if( Std.is(arg,Array) ) {\n\t\t\tvar a : Array<Int> = arg;\n\t\t\tif( a.length + offset > nativeThis.byteLength )\n\t\t\t\tthrow \"set() outside of range\";\n\t\t\tfor( i in 0...a.length )\n\t\t\t\tnativeThis[i + offset] = a[i];\n\t\t} else\n\t\t\tthrow \"TODO\";\n\t}\n\n\tstatic function _subarray( start : Int, ?end : Int ) {\n\t\tvar a = _new(nativeThis.slice(start,end));\n\t\ta.byteOffset = start * 4;\n\t\treturn a;\n\t}\n\n\tstatic function __init__() {\n\t\tvar Float32Array = untyped js.Lib.global.Float32Array || _new;\n\t}\n\n}\n#end","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage js.html.compat;\n\n#if !nodejs\nimport js.Lib.nativeThis;\n\n@:ifFeature(\"js.html.Uint8Array.*\")\nclass Uint8Array {\n\n\tstatic var BYTES_PER_ELEMENT = 1;\n\n\tstatic function _new( ?arg1 : Dynamic, ?offset : Int, ?length : Int ) : Dynamic {\n\t\tvar arr;\n\t\tif( untyped __typeof__(arg1) == 'number' ) {\n\t\t\tarr = new Array();\n\t\t\tfor( i in 0...arg1 )\n\t\t\t\tarr[i] = 0;\n\t\t\tuntyped {\n\t\t\t\tarr.byteLength = arr.length;\n\t\t\t\tarr.byteOffset = 0;\n\t\t\t\tarr.buffer = new ArrayBuffer(arr);\n\t\t\t}\n\t\t} else if( Std.is(arg1,ArrayBuffer) ) {\n\t\t\tvar buffer : ArrayBuffer = arg1;\n\t\t\tif( offset == null ) offset = 0;\n\t\t\tif( length == null ) length = buffer.byteLength - offset;\n\t\t\tif( offset == 0 )\n\t\t\t\tarr = cast @:privateAccess buffer.a;\n\t\t\telse\n\t\t\t\t// here we are losing the fact that we should reference the same data,\n\t\t\t\t// but I don't see another way to have this behaviour while keeping [] access\n\t\t\t\tarr = cast @:privateAccess buffer.a.slice(offset, offset+length);\n\t\t\tuntyped {\n\t\t\t\tarr.byteLength = arr.length;\n\t\t\t\tarr.byteOffset = offset;\n\t\t\t\tarr.buffer = buffer;\n\t\t\t}\n\t\t} else if( Std.is(arg1, Array) ) {\n\t\t\tarr = (arg1 : Array<Int>).copy();\n\t\t\tuntyped {\n\t\t\t\tarr.byteLength = arr.length;\n\t\t\t\tarr.byteOffset = 0;\n\t\t\t\tarr.buffer = new ArrayBuffer(arr);\n\t\t\t}\n\t\t} else\n\t\t\tthrow \"TODO \"+arg1;\n\t\tuntyped {\n\t\t\tarr.subarray = _subarray;\n\t\t\tarr.set = _set;\n\t\t}\n\t\treturn arr;\n\t}\n\n\tstatic function _set( ?arg : Dynamic, ?offset : Int ) {\n\t\tif( Std.is(arg.buffer,ArrayBuffer) ) {\n\t\t\tvar a : Array<Int> = arg;\n\t\t\tif( arg.byteLength + offset > nativeThis.byteLength )\n\t\t\t\tthrow \"set() outside of range\";\n\t\t\tfor( i in 0...arg.byteLength )\n\t\t\t\tnativeThis[i + offset] = a[i];\n\t\t} else if( Std.is(arg,Array) ) {\n\t\t\tvar a : Array<Int> = arg;\n\t\t\tif( a.length + offset > nativeThis.byteLength )\n\t\t\t\tthrow \"set() outside of range\";\n\t\t\tfor( i in 0...a.length )\n\t\t\t\tnativeThis[i + offset] = a[i];\n\t\t} else\n\t\t\tthrow \"TODO\";\n\t}\n\n\tstatic function _subarray( start : Int, ?end : Int ) {\n\t\tvar a = _new(nativeThis.slice(start,end));\n\t\ta.byteOffset = start;\n\t\treturn a;\n\t}\n\n\tstatic function __init__() {\n\t\tvar Uint8Array = untyped js.Lib.global.Uint8Array || _new;\n\t}\n\n}\n#end","package luxe;\n\nimport luxe.Engine;\nimport luxe.Log._debug;\n\ntypedef AudioEvent = snow.types.Types.AudioEvent;\ntypedef AudioState = snow.types.Types.AudioState;\ntypedef AudioHandle = snow.types.Types.AudioHandle;\ntypedef AudioSource = snow.systems.audio.AudioSource;\ntypedef AudioInstance = snow.systems.audio.AudioInstance;\n\n@:allow(luxe.Engine)\nclass Audio {\n\n    public var core : Engine;\n    public var active (get,set) : Bool;\n\n    function new( _core:Engine ) {\n\n        core = _core;\n\n    } //new\n\n//events\n\n    public inline function on(_event:AudioEvent, _handler:AudioHandle->Void) : Void {\n        core.app.audio.on(_event, _handler);\n    }\n\n    public inline function off(_event:AudioEvent, _handler:AudioHandle->Void) : Bool {\n        return core.app.audio.off(_event, _handler);\n    }\n\n    public inline function emit(_event:AudioEvent, _handle:AudioHandle) : Void {\n        core.app.audio.emit(_event, _handle);\n    }\n\n    public function play(_source:AudioSource, ?_volume:Float=1.0, ?_paused:Bool=false) : AudioHandle {\n        return core.app.audio.play(_source, _volume, _paused);\n    }\n\n    public function loop(_source:AudioSource, ?_volume:Float=1.0, ?_paused:Bool=false) : AudioHandle {\n        return core.app.audio.loop(_source, _volume, _paused);\n    }\n\n    public inline function pause(_handle:AudioHandle) : Void {\n        core.app.audio.pause(_handle);\n    }\n\n    public inline function unpause(_handle:AudioHandle) : Void {\n        core.app.audio.unpause(_handle);\n    }\n\n    public inline function stop(_handle:AudioHandle) : Void {\n        core.app.audio.stop(_handle);\n    }\n\n    public inline function volume(_handle:AudioHandle, _volume:Float) : Void {\n        core.app.audio.volume(_handle, _volume);\n    }\n\n    public inline function pan(_handle:AudioHandle, _pan:Float) : Void {\n        core.app.audio.pan(_handle, _pan);\n    }\n\n    public inline function pitch(_handle:AudioHandle, _pitch:Float) : Void {\n        core.app.audio.pitch(_handle, _pitch);\n    }\n\n    public inline function position(_handle:AudioHandle, _position:Float) : Void {\n        core.app.audio.position(_handle, _position);\n    }\n\n    public inline function state_of(_handle:AudioHandle) : AudioState {\n        return core.app.audio.state_of(_handle);\n    }\n\n    public inline function loop_of(_handle:AudioHandle) : Bool {\n        return core.app.audio.loop_of(_handle);\n    }\n\n    public inline function instance_of(_handle:AudioHandle) : AudioInstance {\n        return core.app.audio.instance_of(_handle);\n    }\n\n    public inline function volume_of(_handle:AudioHandle) : Float {\n        return core.app.audio.volume_of(_handle);\n    }\n\n    public inline function pan_of(_handle:AudioHandle) : Float {\n        return core.app.audio.pan_of(_handle);\n    }\n\n    public inline function pitch_of(_handle:AudioHandle) : Float {\n        return core.app.audio.pitch_of(_handle);\n    }\n\n    public inline function position_of(_handle:AudioHandle) : Float {\n        return core.app.audio.position_of(_handle);\n    }\n\n    public inline function suspend() {\n        core.app.audio.suspend();\n    }\n\n    public inline function resume() {\n        core.app.audio.resume();\n    }\n\n//properties\n\n    inline function get_active()            return core.app.audio.active;\n    inline function set_active(_val:Bool)   return core.app.audio.active = _val;\n\n//Internal\n\n    function init() {\n\n        _debug('\\t audio initialized.');\n\n    } //init\n\n    function destroy() {\n\n        _debug('\\t audio shut down.');\n\n    } //destroy\n\n    function process() {\n\n\n    } //process\n\n} //Audio\n","package luxe;\n\nimport haxe.ds.IntMap;\nimport luxe.Log._debug;\nimport luxe.Log._verbose;\nimport luxe.Log._verboser;\nimport luxe.Log.log;\n\n\n@:noCompletion typedef EmitHandler = Dynamic->Void;\n@:noCompletion typedef HandlerList = Array<EmitHandler>;\n\n@:noCompletion private typedef EmitNode<T> = { event : T, handler:EmitHandler #if luxe_emitter_pos, ?pos:haxe.PosInfos #end }\n\n\n/** A simple event emitter, used as a base class for systems that want to handle direct connections to named events */\n\n// @:generic\nclass Emitter<ET:Int> {\n\n    @:noCompletion public var bindings : IntMap<HandlerList>;\n\n        //store connections loosely, to find connected locations\n    var connected : List< EmitNode<ET> >;\n        //store the items to remove\n    var _to_remove : List< EmitNode<ET> >;\n\n        /** create a new emitter instance, for binding functions easily to named events. similar to `Events` */\n    public function new() {\n\n        _to_remove = new List();\n        connected = new List();\n\n        bindings = new IntMap<HandlerList>();\n\n    } //new\n\n    @:noCompletion public function _emitter_destroy() {\n        while(_to_remove.length > 0) {\n            var _node = _to_remove.pop();\n            _node.event = null;\n            _node.handler = null;\n            _node = null;\n        }\n\n        while(connected.length > 0) {\n            var _node = connected.pop();\n            _node.event = null;\n            _node.handler = null;\n            _node = null;\n        }\n\n        _to_remove = null;\n        connected = null;\n        bindings = null;\n    }\n\n        /** Emit a named event */\n    // @:generic\n    @:noCompletion public function emit<T>( event:ET, ?data:T #if luxe_emitter_pos, ?pos:haxe.PosInfos #end ) {\n\n        if(bindings == null) return;\n\n        _check();\n\n        _checking = true;\n\n        var _list = bindings.get(event);\n        if(_list != null && _list.length > 0) {\n            for(handler in _list) {\n                #if luxe_emitter_pos _verboser('emit / $event / ${pos.fileName}:${pos.lineNumber}@${pos.className}.${pos.methodName}'); #end\n                handler(data);\n            }\n        }\n\n        _checking = false;\n\n            //needed because handlers\n            //might disconnect listeners\n        _check();\n\n    } //emit\n\n        /** connect a named event to a handler */\n    // @:generic\n    @:noCompletion public function on<T>(event:ET, handler: T->Void #if luxe_emitter_pos, ?pos:haxe.PosInfos #end ) {\n\n        if(bindings == null) return;\n\n        _check();\n\n        #if luxe_emitter_pos _verbose('on / $event / ${pos.fileName}:${pos.lineNumber}@${pos.className}.${pos.methodName}'); #end\n\n        if(!bindings.exists(event)) {\n\n            bindings.set(event, [handler]);\n            connected.push({ handler:handler, event:event #if luxe_emitter_pos, pos:pos #end });\n\n        } else {\n            var _list = bindings.get(event);\n            if(_list.indexOf(handler) == -1) {\n                _list.push(handler);\n                connected.push({ handler:handler, event:event #if luxe_emitter_pos, pos:pos #end });\n            }\n        }\n\n    } //on\n\n        /** disconnect a named event and handler. returns true on success, or false if event or handler not found */\n    // @:generic\n    @:noCompletion public function off<T>(event:ET, handler: T->Void #if luxe_emitter_pos, ?pos:haxe.PosInfos #end ) : Bool {\n\n        if(bindings == null) return false;\n\n        _check();\n\n        var _success = false;\n\n        if(bindings.exists(event)) {\n\n            #if luxe_emitter_pos _verbose('off / $event / ${pos.fileName}:${pos.lineNumber}@${pos.className}.${pos.methodName}'); #end\n\n            _to_remove.push({ event:event, handler:handler });\n\n            for(_info in connected) {\n                if(_info.event == event && _info.handler == handler) {\n                    connected.remove(_info);\n                }\n            }\n\n                //debateable :p\n            _success = true;\n\n        } //if exists\n\n        return _success;\n\n    } //off\n\n    @:noCompletion public function connections( handler:EmitHandler ) {\n\n        if(connected == null) return null;\n\n        var _list : Array<EmitNode<ET>> = [];\n\n        for(_info in connected) {\n            if(_info.handler == handler) {\n                _list.push(_info);\n            }\n        }\n\n        return _list;\n\n    } //connections\n\n    var _checking = false;\n\n    function _check() {\n\n        if(_checking || _to_remove == null) {\n            return;\n        }\n\n        _checking = true;\n\n        if(_to_remove.length > 0) {\n\n            for(_node in _to_remove) {\n\n                var _list = bindings.get(_node.event);\n                    //since bindings.remove removes all the events of this type,\n                    //it means subsequent similar types are still in the list and\n                    //would attempt to touch the null result, so we don't allow it\n                if(_list != null) {\n\n                    _list.remove( _node.handler );\n\n                        //clear the event list if there are no bindings\n                    if(_list.length == 0) {\n                        bindings.remove(_node.event);\n                    }\n\n                } //_list != null\n\n            } //each node\n\n            _to_remove = null;\n            _to_remove = new List();\n\n        } //_to_remove length > 0\n\n        _checking = false;\n\n    } //_check\n\n} //Emitter\n","package luxe;\n\nclass ID {\n\n        /** the id */\n    public var id : String;\n        /** the name */\n    public var name : String = '';\n\n    @:noCompletion public function new(?_name:String='', _id:String='') {\n\n        name = _name;\n        id = _id == '' ? Luxe.utils.uniqueid() : _id;\n\n    } //new\n\n} //ID\n\n\n/** A simple base object, event emitter, and ID. */\nclass Objects extends Emitter<Int> {\n\n        /** the id */\n    @:isVar public var id (get,set) : String = '';\n        /** the name */\n    @:isVar public var name (get,set) : String = '';\n\n    @:noCompletion public function new(?_name:String='', _id:String='') {\n\n        super();\n        name = _name;\n        id = _id == '' ? Luxe.utils.uniqueid() : _id;\n\n    } //new\n\n//These can't be inlined because they are intended to be overridden in subclasses\n\n    function set_name(_name:String) : String    return name = _name;\n    function set_id(_id:String) : String        return id = _id;\n    function get_name() : String                return name;\n    function get_id() : String                  return id;\n\n\n} //Objects","package luxe;\n\nimport luxe.Ev;\nimport luxe.Quaternion;\nimport luxe.Transform;\nimport luxe.Matrix;\n\nimport luxe.Input;\nimport luxe.Screen;\nimport luxe.Vector;\nimport luxe.Scene;\nimport luxe.components.Components;\nimport luxe.Component;\nimport luxe.Emitter;\nimport luxe.structural.OrderedMap;\n\nimport luxe.options.EntityOptions;\n\nimport luxe.Log.*;\n\n@:autoBuild(luxe.macros.EntityRules.apply())\nclass Entity extends Objects {\n\n        /** The map of attached components, by name. use .get to find components in children and from other components instead of accessing this unless you need to */\n    public var components (get,never) : OrderedMap<String, Component>;\n        /** A local event system for sending and receiving named events through the entity. Helps communicate between components, and more. */\n    public var events : luxe.Events;\n        /** The list of children this entity is parenting. Use `child.parent = null;` to remove, or `child.parent = entity;` to assign. */\n    public var children : Array<Entity>;\n\n        /** whether or not this entity has been destroyed */\n    public var destroyed : Bool = false;\n        /** whether or not this entity has been inited yet */\n    public var inited : Bool = false;\n        /** whether or not this entity has been started/reset by the scene */\n    public var started : Bool = false;\n\n        /** per entity fixed rate timer, if any. if 0 (default) no fixed update is called on this entity. */\n    @:isVar public var fixed_rate       (get,set) : Float = 0;\n        /** The parent entity if any, set to null for no parent */\n    @:isVar public var parent           (get,set) : Entity;\n        /** if the entity is in a scene, this is not null */\n    @:isVar public var scene            (get,set) : Scene;\n        /** if the entity is active in the scene or not. set to inactive to stop scene events propogating into this entity and it's components and children */\n    @:isVar public var active           (get,set) : Bool = true;\n\n        /** The spatial transform of the entity. */\n    @:isVar public var transform        (get,set) : Transform;\n        /** The local position of the spatial transform */\n    public var pos              (get,set) : Vector;\n        /** The local rotation of the spatial transform */\n    public var rotation         (get,set) : Quaternion;\n        /** The local scale of the spatial transform */\n    public var scale            (get,set) : Vector;\n        /** The local origin of the spatial transform */\n    public var origin           (get,set) : Vector;\n\n        /** the system for the entity */\n    var _components : Components;\n        /** the timer for the fixed update */\n    var fixed_rate_timer : snow.api.Timer;\n        /** the options passed in for giving to the init function */\n        //:todo:Entity: options dynamic for passing to super()\n    var options : Dynamic;\n\n        /** The scene that the top most parent is a part of, \n            i.e the scene that contains this entity via the parent tree */\n    @:allow(luxe.Scene)\n    var scene_root (default, set): Scene;\n\n\n        /** called when the scene is initiated. **use this instead of new** for state setup. it respects the order of creations, children, and component ordering. */\n    public function init() {}\n        /** called once per frame, passing the delta time */\n    public function update(dt:Float) {}\n        /** called once per fixed rate, only if fixed_rate != 0 */\n    public function onfixedupdate(rate:Float) {}\n\n        /** called when the scene starts or is reset. use this to reset state. */\n    @:noCompletion public function onreset() {}\n        /** called when the scene, parent or entity is destroyed. use this to clean up state. */\n    @:noCompletion public function ondestroy() {}\n\n        /** override this to get notified when a key is released. only called if overridden. */\n    @:noCompletion public function onkeyup( event:KeyEvent ) {}\n        /** override this to get notified when a key is pressed. only called if overridden. */\n    @:noCompletion public function onkeydown( event:KeyEvent ) {}\n        /** override this to get notified when a text input event happens. only called if overridden. */\n    @:noCompletion public function ontextinput( event:TextEvent ) {}\n\n        /** override this to get notified when a named input event happens. only called if overridden. */\n    @:noCompletion public function oninputdown( event:InputEvent ) {}\n        /** override this to get notified when a named input event happens. only called if overridden. */\n    @:noCompletion public function oninputup( event:InputEvent ) {}\n\n        /** override this to get notified when a mouse button is pressed. only called if overridden. */\n    @:noCompletion public function onmousedown( event:MouseEvent ) {}\n        /** override this to get notified when a mouse button is pressed. only called if overridden. */\n    @:noCompletion public function onmouseup( event:MouseEvent ) {}\n        /** override this to get notified when a mouse is moved. only called if overridden. */\n    @:noCompletion public function onmousemove( event:MouseEvent ) {}\n        /** override this to get notified when the mouse wheel/trackpad is scrolled. only called if overridden. */\n    @:noCompletion public function onmousewheel( event:MouseEvent ) {}\n\n        /** override this to get notified when a touch begins. only called if overridden. */\n    @:noCompletion public function ontouchdown( event:TouchEvent ) {}\n        /** override this to get notified when a touch ends. only called if overridden. */\n    @:noCompletion public function ontouchup( event:TouchEvent ) {}\n        /** override this to get notified when a touch moves. only called if overridden. */\n    @:noCompletion public function ontouchmove( event:TouchEvent ) {}\n\n        /** override this to get notified when a gamepad button is released. only called if overridden. */\n    @:noCompletion public function ongamepadup( event:GamepadEvent ) {}\n        /** override this to get notified when a gamepad button is pressed. only called if overridden. */\n    @:noCompletion public function ongamepaddown( event:GamepadEvent ) {}\n        /** override this to get notified when a gamepad axis changes. only called if overridden. */\n    @:noCompletion public function ongamepadaxis( event:GamepadEvent ) {}\n        /** override this to get notified when a gamepad device event happens. only called if overridden. */\n    @:noCompletion public function ongamepaddevice( event:GamepadEvent ) {}\n\n       /** override this to get notified when a window is moved, with the data containing the new x/y position */\n   @:noCompletion public function onwindowmoved( event:WindowEvent ) {}\n       /** override this to get notified when a window is resized by the user, with the data containing the new x/y size */\n   @:noCompletion public function onwindowresized( event:WindowEvent ) {}\n       /** override this to get notified when a window is resized by the system or code or the user, with the data containing the new x/y size */\n   @:noCompletion public function onwindowsized( event:WindowEvent ) {}\n       /** override this to get notified when a window is minimized. */\n   @:noCompletion public function onwindowminimized( event:WindowEvent ) {}\n       /** override this to get notified when a window is restored. */\n   @:noCompletion public function onwindowrestored( event:WindowEvent ) {}\n\n\n        /** Create a new entity with the given options */\n    public function new( ?_options:EntityOptions #if luxe_entity_pos, ?_pos_info:haxe.PosInfos #end ) {\n\n        super('entity');\n\n            //default to name.id\n        name += '.$id';\n\n        options = _options;\n\n        _verbose('create new entity with options ' + options);\n\n        _components = new Components( this );\n        children = [];\n        events = new luxe.Events();\n\n        if(options != null && options.transform != null) {\n            transform = options.transform;\n        } else {\n            transform = new Transform();\n        }\n\n            //listen for transform changes\n        transform.listen_pos(set_pos_from_transform);\n        transform.listen_scale(set_scale_from_transform);\n        transform.listen_origin(set_origin_from_transform);\n        transform.listen_parent(set_parent_from_transform);\n        transform.listen_rotation(set_rotation_from_transform);\n\n        if(options != null) {\n\n    //name\n                //default to non-unique name\n            def(options.name_unique, false);\n\n            if(options.name != null) {\n                name = options.name;\n                if(options.name_unique) {\n                    name += '.$id';\n                }\n            }\n\n    //position\n            if(options.pos != null) {\n                var _op : Vector = options.pos;\n                pos = _op.clone();\n            }\n    //scale\n            if(options.scale != null) {\n                var _os : Vector = options.scale;\n                scale = _os.clone();\n            }\n\n    //scene\n            _verbose('\\tnon null options, checking for scene placement no_scene:' + options.no_scene + ' scene:' + options.scene);\n                //if they haven't explicitly said \"no scene management\"\n                //we add to the scene they requested, or the default scene otherwise\n            var _should_add:Bool = true;\n\n            if(options.no_scene != null) {\n                if(options.no_scene == true) {\n                    _should_add = false;\n                    _verbose(\" \\tno_scene flag requested\");\n                }\n            }\n\n            if(options.parent != null) {\n\n                _should_add = false;\n                parent = options.parent;\n                _verbose(\" \\tparent specified, not adding to scene only to parent :\" + options.parent.name);\n\n            }\n\n            if(_should_add) {\n\n                if(options.scene != null) {\n                    scene = options.scene;\n                    _verbose(\" \\tscene specified, storing in scene named : \" + options.scene.name );\n                } else {\n                    scene = Luxe.scene;\n                    _verbose(\" \\tno scene specified, adding to default scene\");\n                }\n\n            } //_should_add\n\n        } else {\n\n            scene = Luxe.scene;\n\n            _verbose(\" \\tadding to default scene because no options were specified.\");\n\n        } //options ! null\n\n\n            //finally, add to the requested scene\n        if(scene != null) {\n\n            _verbose(\" \\tadding to scene \" + scene.name);\n\n            scene.add( this #if luxe_entity_pos, _pos_info #end );\n\n                //we also want to listen for scene events\n\n        } else {\n            _verbose(\" \\tnot adding to any scene.\");\n        }\n\n        _verbose(\" created \" + name);\n\n    } //new\n\n\n//components\n\n\n        /** attach a component to the entity */\n    var component_count : Int = 0;\n    public inline function add<T:Component>( _component:T ) : T {\n        component_count++;\n        return _components.add( _component );\n    } //add\n\n        /** remove a component from the entity */\n    public inline function remove( _name:String ) : Bool {\n        component_count--;\n        return _components.remove( _name );\n    } //remove\n\n        /** get a component from the entity, by name */\n    public inline function get<T>(_name:String, ?_in_children:Bool = false ) : T {\n        return _components.get( _name, _in_children );\n    } //get\n\n        /** get all component from the entity, by name */\n    public inline function get_any<T>(_name:String, ?_in_children:Bool = false, ?_first_only:Bool = true ) : Array<T> {\n        return _components.get_any( _name, _in_children, _first_only );\n    } //get\n\n        /** returns true if the entity has a component by the given name */\n    public inline function has( _name:String ) : Bool {\n        return _components.has( _name );\n    } //has\n\n\n\n//internal\n\n    @:allow(luxe.Scene)\n    inline function _init() {\n\n            //verbose debugging\n        _verbose('${this} inside _init with options as $options' );\n        _debug('calling init on ' + name);\n\n\n        init();\n            //for any potential listeners, after the init() direct call\n            //as there is likely connections made during init\n        emit(Ev.init);\n\n        if(component_count > 0) {\n            //init all the components attached\n            for(_component in components) {\n                _verbose(\"          \" + name + \" calling init on component \" + _component.name );\n                _component.init();\n            } //for each component\n        } //component_count\n\n            //now init our children, so they do the same\n        if(children.length > 0) {\n            for(_child in children) {\n                _verbose(\"         parent \" + name + \" calling init on child \" + _child.name );\n                _child._init();\n            } //for each child\n        }\n\n            //flag internally\n        inited = true;\n\n    } //_init\n\n    @:allow(luxe.Scene)\n    inline function _reset(_) {\n\n        _debug('calling reset on ' + name);\n\n            //parent\n        onreset();\n            //potential listeners\n        emit(Ev.reset);\n\n        if(component_count > 0) {\n            for(_component in components) {\n                _verbose(\"          \" + name + \" calling reset on component \" + _component.name );\n                _component.onreset();\n            } //for each component\n        }\n\n            //now reset our children, so they do the same\n        if(children.length > 0) {\n            for(_child in children) {\n                _child._reset(_);\n                _debug(\"         parent \" + name + \" calling reset on child \" + _child.name );\n            } //for each child\n        }\n\n            //start the fixed rate timer\n        _set_fixed_rate_timer( fixed_rate );\n\n            //flag internally\n        started = true;\n\n    } //_reset\n\n        /** destroy this entity. removes it from the scene if any, from the parent etc. */\n    public function destroy( ?_from_parent:Bool=false ) {\n\n        assert(destroyed == false, 'entity / destroying repeatedly $name');\n\n        _debug('destroy ' + name + ' with ' + children.length + ' children and ' + Lambda.count(components) + \" components / \" + id);\n\n            //first destroy children\n        if(children.length > 0) {\n            for(_child in children) {\n                _verbose('     calling destroy on child ' + _child.name);\n                _child.destroy(true);\n                _child = null;\n            } //for each child\n        }\n\n        if(component_count > 0) {\n            for(_component in components) {\n                _verbose(\"          \" + name + \" calling onremoved on component \" + _component.name );\n                _component.onremoved();\n                _verbose(\"          \" + name + \" calling ondestroy on component \" + _component.name );\n                _component.ondestroy();\n                _component = null;\n            } //for each component\n        }\n\n        children = null;\n        _components.destroy();\n        _components = null;\n        component_count = 0;\n\n            //tell listeners\n        emit(Ev.destroy);\n            //then parent\n        ondestroy();\n\n            //remove it from it's parent if any\n        if(parent != null && !_from_parent) {\n            _verbose(\"     removing \" + name + \"/\" + id + \" from parent \" + parent.name + \" / \" + parent.id );\n            parent._remove_child(this);\n        }\n\n            //kill any fixed rate timers\n        _stop_fixed_rate_timer();\n\n            //mark the flags\n        destroyed = true;\n        inited = false;\n        started = false;\n\n            //remove from the scene it's in if any\n        _verbose( \"     removing \" + name + \" / \" + id + \" from scene \" + scene );\n\n        if(scene != null) {\n            scene.remove(this);\n        }\n\n            //kill the events\n        if(events != null) {\n            events.destroy();\n            events = null;\n        }\n\n        if(transform != null) {\n            transform.destroy();\n            transform = null;\n        }\n\n        _emitter_destroy();\n        // name = null;\n        id = null;\n\n    } //destroy\n\n    @:allow(luxe.Scene)\n    inline function _update(dt:Float) {\n\n        if(destroyed) {\n            _debug(\" calling update AFTER DESTROYED on \" + name + \" / \" + id );\n            return;\n        }\n\n        if(!active || !inited || !started) {\n            return;\n        }\n\n        _verboser('calling update on ' + name);\n\n            //make sure transforms are resolved\n        transform.clean_check();\n\n            //update the parent first\n        update(dt);\n\n        if(events != null) {\n                //update the events\n            events.process();\n        }\n\n            //update all the components attached directly to us\n        if(component_count > 0) {\n            for(_component in components) {\n                _component.update(dt);\n            } //for each component\n        }\n\n            //now update our children, so they do the same\n        if(children != null && children.length > 0) {\n            for(_child in children) {\n                _child._update(dt);\n            } //for each child\n        }\n\n    } //_update\n\n//timing\n\n    @:allow(luxe.Entity)\n    function _fixed_update() {\n\n        if(destroyed) {\n            return;\n        }\n\n        if(!active || !inited || !started) {\n            return;\n        }\n\n        _verboser('calling fixedupdate on ' + name);\n\n        emit(Ev.fixedupdate);\n\n        onfixedupdate(fixed_rate);\n\n        if(component_count > 0) {\n            for(_component in components) {\n                _component.onfixedupdate(fixed_rate);\n            }\n        }\n\n        if(children.length > 0) {\n            for(_child in children) {\n                _child._fixed_update();\n            }\n        }\n\n    } //_fixed_update\n\n//events\n\n    inline function _find_emit_source(?_from_unlisten:Bool=false) : Emitter<luxe.Ev> {\n\n        var _source = null;\n\n        if(scene != null) {\n\n            _source = scene;\n\n        } else if(parent != null) {\n\n            var _looking = true;\n            var _parent = parent;\n\n            while(_looking) {\n\n                    //not a root item\n                if(_parent.scene == null) {\n                        //no parent? this is not connected at all\n                    if(_parent.parent == null) {\n                        if(!_from_unlisten) {\n                            log('entity has no parent or scene, currently no core events will reach it.');\n                        }\n                        _looking = false;\n                        break;\n                    } else {\n                        //still has a parent,\n                        //keep looking\n                        _parent = _parent.parent;\n                    }\n\n                } else {\n\n                    _source = _parent.scene;\n                    _looking = false;\n                    break;\n\n                } //no scene\n\n            } //while looking\n\n        } else {\n            if(!_from_unlisten) {\n                log('entity has no parent or scene, currently no core events will reach it.');\n            }\n        }\n\n        return _source;\n\n    } //_find_emit_source\n\n    @:allow(luxe.Component)\n    function _listen( _event:Int, _handler:EmitHandler, ? _self:Bool=false ) {\n\n        //this function is called when a component, or a subclass tries to override the onmousedown handler,\n        //at which point it makes sure this entity is connected to the scene handlers, and then makes sure\n        //that the calling component or this instance is connected to its own events to the requested handler\n\n        //the duplication of events&handler combo is handled internally by Emitter, so we don't have to worry\n        //todo: potential consolidation to avoid the switch here\n\n\n        if( !_self ){\n            on(_event, _handler);\n        }\n\n        var _source = _find_emit_source();\n\n        _debug('$name / listen to $_event sourced from $_source');\n\n        if(_source != null) {\n            switch(_event) {\n\n                case Ev.keyup           : _source.on(_event, _keyup);\n                case Ev.keydown         : _source.on(_event, _keydown);\n                case Ev.textinput       : _source.on(_event, _textinput);\n\n                case Ev.mousedown       : _source.on(_event, _mousedown);\n                case Ev.mouseup         : _source.on(_event, _mouseup);\n                case Ev.mousemove       : _source.on(_event, _mousemove);\n                case Ev.mousewheel      : _source.on(_event, _mousewheel);\n\n                case Ev.touchdown       : _source.on(_event, _touchdown);\n                case Ev.touchup         : _source.on(_event, _touchup);\n                case Ev.touchmove       : _source.on(_event, _touchmove);\n\n                case Ev.inputup         : _source.on(_event, _inputup);\n                case Ev.inputdown       : _source.on(_event, _inputdown);\n\n                case Ev.gamepaddown     : _source.on(_event, _gamepaddown);\n                case Ev.gamepadup       : _source.on(_event, _gamepadup);\n                case Ev.gamepadaxis     : _source.on(_event, _gamepadaxis);\n                case Ev.gamepaddevice   : _source.on(_event, _gamepaddevice);\n\n                case Ev.windowmoved     : _source.on(_event, _windowmoved);\n                case Ev.windowresized   : _source.on(_event, _windowresized);\n                case Ev.windowsized     : _source.on(_event, _windowsized);\n                case Ev.windowminimized : _source.on(_event, _windowminimized);\n                case Ev.windowrestored  : _source.on(_event, _windowrestored);\n\n            } //switch event\n        } //source != null\n\n    } //_listen\n\n    @:allow(luxe.Entity)\n    @:allow(luxe.Component)\n    @:allow(luxe.macros.ComponentRules)\n    function _unlisten( _event:Int, _handler:EmitHandler, ?_self:Bool=false ) {\n\n        var _source = _find_emit_source(true);\n\n        _debug('$name / unlisten to $_event from $_source');\n\n        if(!_self) {\n            off(_event, _handler);\n        }\n\n        if(_source != null) {\n            switch(_event) {\n\n                case Ev.keyup           : _source.off(_event, _keyup);\n                case Ev.keydown         : _source.off(_event, _keydown);\n                case Ev.textinput       : _source.off(_event, _textinput);\n\n                case Ev.mousedown       : _source.off(_event, _mousedown);\n                case Ev.mouseup         : _source.off(_event, _mouseup);\n                case Ev.mousemove       : _source.off(_event, _mousemove);\n                case Ev.mousewheel      : _source.off(_event, _mousewheel);\n\n                case Ev.touchdown       : _source.off(_event, _touchdown);\n                case Ev.touchup         : _source.off(_event, _touchup);\n                case Ev.touchmove       : _source.off(_event, _touchmove);\n\n                case Ev.inputup         : _source.off(_event, _inputup);\n                case Ev.inputdown       : _source.off(_event, _inputdown);\n\n                case Ev.gamepaddown     : _source.off(_event, _gamepaddown);\n                case Ev.gamepadup       : _source.off(_event, _gamepadup);\n                case Ev.gamepadaxis     : _source.off(_event, _gamepadaxis);\n                case Ev.gamepaddevice   : _source.off(_event, _gamepaddevice);\n\n                case Ev.windowmoved     : _source.off(_event, _windowmoved);\n                case Ev.windowresized   : _source.off(_event, _windowresized);\n                case Ev.windowsized     : _source.off(_event, _windowsized);\n                case Ev.windowminimized : _source.off(_event, _windowminimized);\n                case Ev.windowrestored  : _source.off(_event, _windowrestored);\n\n            } //switch event\n        } //source != null\n\n    } //_unlisten\n\n\n//scene\n\n    function _detach_scene() {\n\n        if(scene != null) {\n\n            scene.off(Ev.reset, _reset);\n            scene.off(Ev.destroy, destroy);\n\n                //precaution\n            scene.off(Ev.keyup, _keyup);\n            scene.off(Ev.keydown, _keydown);\n            scene.off(Ev.textinput, _textinput);\n            scene.off(Ev.mousedown, _mousedown);\n            scene.off(Ev.mouseup, _mouseup);\n            scene.off(Ev.mousemove, _mousemove);\n            scene.off(Ev.mousewheel, _mousewheel);\n            scene.off(Ev.touchdown, _touchdown);\n            scene.off(Ev.touchup, _touchup);\n            scene.off(Ev.touchmove, _touchmove);\n            scene.off(Ev.inputup, _inputup);\n            scene.off(Ev.inputdown, _inputdown);\n            scene.off(Ev.gamepaddown, _gamepaddown);\n            scene.off(Ev.gamepadup, _gamepadup);\n            scene.off(Ev.gamepadaxis, _gamepadaxis);\n            scene.off(Ev.gamepaddevice, _gamepaddevice);\n            scene.off(Ev.windowmoved, _windowmoved);\n            scene.off(Ev.windowresized, _windowresized);\n            scene.off(Ev.windowsized, _windowsized);\n            scene.off(Ev.windowminimized, _windowminimized);\n            scene.off(Ev.windowrestored, _windowrestored);\n\n        } //scene != null\n\n    } //detach_scene\n\n    function _attach_scene() {\n\n        if(scene != null) {\n            scene.on(Ev.reset, _reset);\n            scene.on(Ev.destroy, destroy);\n        }\n\n    } //attach_scene\n\n//Keys\n\n    function _keyup( _event:KeyEvent ) {\n\n        if(!active || !inited || !started) {\n            return;\n        }\n\n        _debug('calling _keyup on `$name`');\n\n        onkeyup(_event);\n        emit(Ev.keyup, _event);\n\n    } //_keyup\n\n    function _keydown( _event:KeyEvent ) {\n\n        if(!active || !inited || !started) {\n            return;\n        }\n\n        _debug('calling _keydown on `$name`');\n\n        onkeydown(_event);\n        emit(Ev.keydown, _event);\n\n    } //_keydown\n\n    function _textinput( _event:TextEvent ) {\n\n        if(!active || !inited || !started) {\n            return;\n        }\n\n        _debug('calling _textinput on `$name`');\n\n        ontextinput(_event);\n        emit(Ev.textinput, _event);\n\n    } //_textinput\n\n\n//Mouse\n\n    function _mousedown( _event:MouseEvent ) {\n\n        if(!active || !inited || !started) {\n            return;\n        }\n\n        _debug('calling _mousedown on `$name`');\n\n        onmousedown(_event);\n        emit(Ev.mousedown, _event);\n\n    } //_mousedown\n\n\n    function _mouseup( _event:MouseEvent ) {\n\n        if(!active || !inited || !started) {\n            return;\n        }\n\n        _debug('calling _mouseup on `$name`');\n\n        onmouseup(_event);\n        emit(Ev.mouseup, _event);\n\n    } //_mouseup\n\n    function _mousewheel( _event:MouseEvent ) {\n\n        if(!active || !inited || !started) {\n            return;\n        }\n\n        _debug('calling _mousewheel on `$name`');\n\n        onmousewheel(_event);\n        emit(Ev.mousewheel, _event);\n\n    } //_mousewheel\n\n    function _mousemove( _event:MouseEvent ) {\n\n        if(!active || !inited || !started) {\n            return;\n        }\n\n        _debug('calling _mousemove on `$name`');\n\n        onmousemove(_event);\n        emit(Ev.mousemove, _event);\n\n    } //_mousemove\n\n//Touch\n    function _touchdown( _event:TouchEvent ) {\n\n        if(!active || !inited || !started) {\n            return;\n        }\n\n        _debug('calling _touchdown on `$name`');\n\n        ontouchdown(_event);\n        emit(Ev.touchdown, _event);\n\n    } //_touchdown\n\n    function _touchup( _event:TouchEvent ) {\n\n        if(!active || !inited || !started) {\n            return;\n        }\n\n        _debug('calling _touchup on `$name`');\n\n        ontouchup(_event);\n        emit(Ev.touchup, _event);\n\n    } //_touchup\n\n    function _touchmove( _event:TouchEvent ) {\n\n        if(!active || !inited || !started) {\n            return;\n        }\n\n        _debug('calling _touchmove on `$name`');\n\n        ontouchmove(_event);\n        emit(Ev.touchmove, _event);\n\n    } //_touchmove\n\n//Gamepad\n    function _gamepadaxis( _event:GamepadEvent ) {\n\n        if(!active || !inited || !started) {\n            return;\n        }\n\n        _debug('calling _gamepadaxis on `$name`');\n\n        ongamepadaxis(_event);\n        emit(Ev.gamepadaxis, _event);\n\n    } //_gamepadaxis\n\n    function _gamepaddown( _event:GamepadEvent ) {\n\n        if(!active || !inited || !started) {\n            return;\n        }\n\n        _debug('calling _gamepaddown on `$name`');\n\n        ongamepaddown(_event);\n        emit(Ev.gamepaddown, _event);\n\n    } //_gamepaddown\n\n    function _gamepadup( _event:GamepadEvent ) {\n\n        if(!active || !inited || !started) {\n            return;\n        }\n\n        _debug('calling _gamepadup on `$name`');\n\n        ongamepadup(_event);\n        emit(Ev.gamepadup, _event);\n\n    } //_gamepadup\n\n    function _gamepaddevice( _event:GamepadEvent ) {\n\n        if(!active || !inited || !started) {\n            return;\n        }\n\n        _debug('calling _gamepaddevice on `$name`');\n\n        ongamepaddevice(_event);\n        emit(Ev.gamepaddevice, _event);\n\n    } //_gamepaddevice\n\n//Windowing\n\n    function _windowmoved( _event:WindowEvent ) {\n\n        if(!active || !inited || !started) {\n            return;\n        }\n\n        _debug('calling _windowmoved on `$name`');\n\n        onwindowmoved(_event);\n        emit(Ev.windowmoved, _event);\n\n    } //_windowmoved\n\n    function _windowresized( _event:WindowEvent ) {\n\n        if(!active || !inited || !started) {\n            return;\n        }\n\n        _debug('calling _windowresized on `$name`');\n\n        onwindowresized(_event);\n        emit(Ev.windowresized, _event);\n\n    } //_windowresized\n\n    function _windowsized( _event:WindowEvent ) {\n\n        if(!active || !inited || !started) {\n            return;\n        }\n\n        _debug('calling _windowsized on `$name`');\n\n        onwindowsized(_event);\n        emit(Ev.windowsized, _event);\n\n    } //_windowsized\n\n    function _windowminimized( _event:WindowEvent ) {\n\n        if(!active || !inited || !started) {\n            return;\n        }\n\n        _debug('calling _windowminimized on `$name`');\n\n        onwindowminimized(_event);\n        emit(Ev.windowminimized, _event);\n\n    } //_windowminimized\n\n    function _windowrestored( _event:WindowEvent ) {\n\n        if(!active || !inited || !started) {\n            return;\n        }\n\n        _debug('calling _windowrestored on `$name`');\n\n        onwindowrestored(_event);\n        emit(Ev.windowrestored, _event);\n\n    } //_windowrestored\n\n//Input\n\n    function _inputdown( _event:InputEvent ) {\n\n        if(!active || !inited || !started) {\n            return;\n        }\n\n        _debug('calling _inputdown on `$name`');\n\n        oninputdown(_event);\n        emit(Ev.inputdown, _event);\n\n    } //_inputdown\n\n    function _inputup( _event:InputEvent ) {\n\n        if(!active || !inited || !started) {\n            return;\n        }\n\n        _debug('calling _inputup on `$name`');\n\n        oninputup(_event);\n        emit(Ev.inputup, _event);\n\n    } //_inputup\n\n\n//timing\n\n    inline function get_fixed_rate() : Float {\n\n        return fixed_rate;\n\n    } //get_fixed_rate\n\n    inline function set_fixed_rate( _rate:Float ) : Float {\n\n        fixed_rate = _rate;\n\n        if(started) {\n            _set_fixed_rate_timer( _rate );\n        }\n\n        return fixed_rate;\n\n    } //set_fixed_rate\n\n    inline function _stop_fixed_rate_timer() {\n\n        if(fixed_rate_timer != null) {\n            fixed_rate_timer.stop();\n            fixed_rate_timer = null;\n        }\n\n    } //_stop_fixed_rate_timer\n\n    inline function _set_fixed_rate_timer( _rate:Float #if luxe_entity_pos , ?_pos:haxe.PosInfos #end ) {\n\n        _stop_fixed_rate_timer();\n\n            //only top tier entities call this,\n            //all their children are fixed under the parent rate\n            //for now, that is.\n        if(_rate != 0 && parent == null && !destroyed) {\n            fixed_rate_timer = new snow.api.Timer( _rate );\n            fixed_rate_timer.run = _fixed_update;\n        } //_rate\n\n    } //_set_fixed_rate_timer\n\n//components\n\n    inline function get_components() {\n        return _components.components;\n    } //get_components\n\n//children\n\n    @:allow(luxe.Entity)\n    function _add_child( child:Entity ) {\n\n        children.push(child);\n\n        child.scene_root = scene_root;\n\n        _debug('$name / add child / ${child.name}');\n\n            //children inherit the updates and such from the parent, so they shouldn't be in the root of the scene\n        if(child.scene != null) {\n            _debug('$name / add child / ${child.name} being parented, removing from scene as root of ${child.scene.name}');\n            var _removed = child.scene.remove( child );\n        } else {\n\n            _debug('$name / add child ${child.name} being parented, but not from a scene');\n            \n            if(inited && !child.inited) {\n                scene_root._delayed_init_entities.push(child);\n            }\n            \n            if(started && !child.started) {\n                scene_root._delayed_reset_entities.push(child);\n            }\n        }\n\n    } //_add_child\n\n    @:allow(luxe.Entity)\n    function _remove_child(child:Entity) {\n\n        children.remove(child);\n\n    } //removeChild\n\n//listeners\n\n    function set_pos_from_transform( _pos:Vector ) {\n\n            //and we have to propogate the values to the components\n        if(component_count > 0) {\n            for(_component in components) {\n                _component.entity_pos_change( _pos );\n            } //for each _component\n        }\n\n    } //set_pos_from_transform\n\n    function set_rotation_from_transform( _rotation:Quaternion ) {\n\n            //and we have to propogate the values to the components\n        if(component_count > 0) {\n            for(_component in components) {\n                _component.entity_rotation_change( _rotation );\n            } //for each _component\n        }\n\n    } //set_rotation_from_transform\n\n    function set_scale_from_transform( _scale:Vector ) {\n\n            //and we have to propogate the values to the components\n        if(component_count > 0) {\n            for(_component in components) {\n                _component.entity_scale_change( _scale );\n            } //for each _component\n        }\n\n    } //set_scale_from_transform\n\n    function set_origin_from_transform( _origin:Vector ) {\n\n            //and we have to propogate the values to the components\n        if(component_count > 0) {\n            for(_component in components) {\n                _component.entity_origin_change( _origin );\n            } //for each _component\n        }\n\n    } //set_origin_from_transform\n\n    function set_parent_from_transform( _parent:Transform ) {\n\n            //and we have to propogate the values to the components\n        if(component_count > 0) {\n            for(_component in components) {\n                _component.entity_parent_change( _parent );\n            } //for each _component\n        }\n\n    } //set_parent_from_transform\n\n//pos\n\n    function set_pos(_p:Vector) {\n\n        return transform.pos = _p;\n\n    } //set_pos\n\n    function get_pos() {\n\n        return transform.pos;\n\n    } //get_pos\n\n//rotation\n\n    function set_rotation( _r:Quaternion ) {\n\n        return transform.rotation = _r;\n\n    } //set_rotation\n\n    function get_rotation() {\n\n        return transform.rotation;\n\n    } //get_rotation\n\n//scale\n\n    function set_scale( _s:Vector ) {\n\n        return transform.scale = _s;\n\n    } //set_scale\n\n    function get_scale() {\n\n        return transform.scale;\n\n    } //get_scale\n\n//origin\n\n    function set_origin( _origin:Vector ) {\n\n        return transform.origin = _origin;\n\n    } //set_origin\n\n\n    function get_origin() {\n\n        return transform.origin;\n\n    } //get_origin\n\n//transform\n\n    function set_transform( _transform:Transform ) {\n\n        return transform = _transform;\n\n    } //set_transform\n\n\n    function get_transform() {\n\n        return transform;\n\n    } //get_transform\n\n//parent\n\n    function set_parent( other:Entity ) {\n\n        assert(other != this, 'Entity setting itself as parent makes no sense');\n\n        _debug('>>  ' + name + ' calling set parent to ' + (other == null ? 'null' : other.name) );\n\n            //if we are parented already,\n            //remove ourselves from that parent\n        if(parent != null) {\n            parent._remove_child( this );\n        } //remove\n\n            //store the new parent, even if it's null, that is ok\n        parent = other;\n\n            //and if we are not detaching parent using null\n            //we add it to the parent directly and update its transform\n        if(parent != null) {\n            parent._add_child(this);\n            transform.parent = parent.transform;\n        } else {\n            transform.parent = null;\n            scene_root.add(this);\n        }\n\n        return parent;\n\n    } //set_parent\n\n    function get_parent() {\n\n        return parent;\n\n    } //get_parent\n\n//scene\n\n    function set_scene(_scene:Scene) {\n\n        _detach_scene();\n\n            scene = _scene;\n\n        _attach_scene();\n\n        return scene;\n\n    } //set_scene\n\n    function get_scene() {\n\n        return scene;\n\n    } //get_scene\n\n    function set_scene_root(_scene:Scene) {\n        \n        scene_root = _scene;\n\n        for(_child in children) {\n            _child.scene_root = _scene;\n        }\n\n        return scene_root;\n\n    } //set_scene_root\n\n//name\n\n    override function set_name(_name:String) : String {\n\n        var _scene = scene;\n\n        if(_scene != null && name != null) {\n            _scene.entities.remove(name);\n            _scene.handle_duplicate_warning(_name);\n            _scene.entities.set(_name, this);\n            _scene._has_changed = true;\n        }\n\n        return name = _name;\n\n    } //set_name\n\n//active\n\n    function set_active(_active:Bool) : Bool {\n\n        return active = _active;\n\n    } //set_active\n\n    function get_active() {\n\n        return active;\n\n    } //get_active\n\n// \n\n    inline function toString() {\n        if (destroyed) return 'luxe Entity: $name / DESTROYED / id: $id';\n\n        //:todo:\n        var _list = []; for(_c in components.keys()) _list.push(_c);\n        return 'luxe Entity: $name / ${Lambda.count(components)} components:[${_list.join(\", \")}] / id: $id';\n    }\n\n} //Entity\n","package luxe;\n\nimport luxe.Log.*;\nimport luxe.Rectangle;\nimport luxe.utils.Maths;\nimport luxe.Vector;\nimport luxe.Entity;\nimport luxe.tween.Actuate;\nimport luxe.tween.easing.Quad;\nimport phoenix.Camera.ProjectionType;\nimport phoenix.Quaternion;\n\nimport luxe.options.CameraOptions;\n\ntypedef ProjectionType = phoenix.Camera.ProjectionType;\n\n    /** A value to use when controlling the camera size property only. */\nenum SizeMode {\n\n        /** fit the size into the camera viewport (possible letter/pillar box) */\n    fit;\n        /** cover the viewport with the size (possible cropping) */\n    cover;\n        /** contain the size (stretch to fit the viewport)*/\n    contain;\n\n} //SizeMode\n\n    /** An entity based camera class */\nclass Camera extends Entity {\n\n        /** The viewport size for this camera, proxy to the view */\n    public var viewport (get,set) : Rectangle;\n        /** The center point of this camera, proxy to the view */\n    public var center (get,set) : Vector;\n        /** The current zoom value this camera can be set to, proxy to the view */\n    public var zoom (get,set) : Float;\n        /** The minimum zoom value this camera can be set to, proxy to the view */\n    public var minimum_zoom (get,set) : Float;\n\n        /** The virtual size of this camera. allows simple upscaling world coordinates, using `size_mode`. Note that this changes the view `scale` values and the `center` property. */\n    @:isVar public var size (get,set) : Vector;\n        /** When the size of the world is set using the `size` property, this controls how the scaling will apply. */\n    @:isVar public var size_mode (get,set) : SizeMode;\n\n        /** the view camera this entity wraps */\n    public var view : phoenix.Camera;\n        /** if set, the camera will not move outside of this region (world space) */\n    public var bounds : Rectangle;\n\n        /** the current shake vector amounts in x,y,z */\n    @:noCompletion public var shake_vector : Vector;\n        /** the last shake amount */\n    @:noCompletion public var shake_amount : Float;\n        /** if true, shake is busy happening */\n    @:noCompletion public var shaking : Bool = false;\n        /** the threshold cutoff for shaking */\n    @:noCompletion public var minimum_shake : Float = 0.1;\n\n    var _size_factor : Vector;\n    var _rotation_radian : Vector;\n    var _rotation_cache : Quaternion;\n\n        /** create a new camera with the given options */\n    public function new( ?_options:LuxeCameraOptions ) {\n\n            //cache for later\n        _size_factor = new Vector();\n        _rotation_radian = new Vector();\n        _rotation_cache = new Quaternion();\n        size_mode = SizeMode.fit;\n\n        var _name = 'untitled camera';\n\n        if(_options != null) {\n            if(_options.name != null) {\n                _name = _options.name;\n                _options.camera_name = '$_name.view';\n            }\n        } else {\n            _options = {\n                no_scene : false\n            }\n        }\n\n            //create or assign the underlying camera view\n        view = def(_options.view, new phoenix.Camera( _options ));\n\n            //Init the entity part\n        super({\n            name : _name,\n            no_scene : _options.no_scene\n        });\n\n    } //new\n\n    function get_viewport() : Rectangle {\n        return view.viewport;\n    } //get_viewport\n\n    function set_viewport( _v:Rectangle ) : Rectangle {\n        return view.viewport = _v;\n    } //set_viewport\n\n    function get_center() : Vector {\n        return view.center;\n    } //get_center\n\n    function set_center( _c:Vector ) : Vector {\n\n        pos = new Vector(_c.x - (viewport.w/2), _c.y - (viewport.h/2));\n        return view.center = _c;\n\n    } //set_center\n\n    function get_minimum_zoom() : Float {\n        return view.minimum_zoom;\n    } //get_minimum_zoom\n\n    function set_minimum_zoom( _m:Float ) : Float {\n        return view.minimum_zoom = _m;\n    } //set_minimum_zoom\n\n    function get_zoom() : Float {\n        return view.zoom;\n    } //get_zoom\n\n    function set_zoom( _z:Float ) : Float {\n\n            //assign the base zoom\n        view.zoom = _z;\n\n            //handle size mode scale factor\n        if(size != null) {\n            view.scale.x *= (1/_size_factor.x);\n            view.scale.y *= (1/_size_factor.y);\n        }\n\n        return view.zoom;\n\n    } //set_zoom\n\n    function get_size() : Vector {\n        return size;\n    } //get_size\n\n    function get_size_mode() : SizeMode {\n        return size_mode;\n    } //get_size\n\n    function set_size_mode( _m:SizeMode ) : SizeMode {\n\n        if(size_mode != null) {\n            size_mode = _m;\n            if(size != null) {\n                set_size( size );\n            }\n        }\n\n        return size_mode = _m;\n\n    } //get_size\n\n    var _connected = false;\n    function _onwindowsized( _event:luxe.Screen.WindowEvent ) {\n        if(size != null) {\n                //:todo: set_xy handlers on viewport etc\n                //:todo: disconnect on destroy when destroy exists for camera\n            viewport = new Rectangle(viewport.x, viewport.y, _event.x, _event.y);\n            set_size(size);\n        }\n    }\n\n    function set_size( _size:Vector ) : Vector {\n\n            //disable size\n        if( _size == null ) {\n            center = new Vector(viewport.w/2, viewport.h/2);\n            size = null;\n            _size_factor.x = _size_factor.y = 1;\n            set_zoom(zoom);\n            _connected = false;\n            Luxe.off(luxe.Ev.windowsized, _onwindowsized);\n            return size;\n        }\n\n        if(!_connected) {\n            Luxe.on(luxe.Ev.windowsized, _onwindowsized);\n            _connected = true;\n        }\n\n            //setting the size is an explicit action,\n            //making the center point fixed to the middle of the size,\n            //and making the scale of the view a ratio between the viewport\n            //size and the actual \"world\" size given\n        var _ratio_x = viewport.w / _size.x;\n        var _ratio_y = viewport.h / _size.y;\n        var _shortest = Math.max( _ratio_x, _ratio_y );\n        var _longest = Math.min( _ratio_x, _ratio_y );\n\n        switch(size_mode) {\n\n            case fit:{\n                _ratio_x = _ratio_y = _longest;\n            }\n\n            case cover: {\n                _ratio_x = _ratio_y = _shortest;\n            }\n\n            case contain: {\n                //use actual size\n            }\n\n        } //size_mode\n\n            //assign the scale values\n        _size_factor.x = _ratio_x;\n        _size_factor.y = _ratio_y;\n\n        view.scale.x = 1/(_size_factor.x * zoom);\n        view.scale.y = 1/(_size_factor.y * zoom);\n\n            //set the center\n        center = new Vector( _size.x/2, _size.y/2 );\n\n            //return\n        return size = _size.clone();\n\n    } //set_size\n\n        /**Focus the camera on a specific point, for Ortho only.\n        Use `.target` for a focus in perspective */\n    public function focus( _p:Vector, _t:Float = 0.6, ?_oncomplete:Void->Void=null ) {\n\n        Actuate.tween(view.center, _t, { x:_p.x, y:_p.y }, true )\n            .onComplete( _oncomplete ).ease( Quad.easeInOut )\n            .onUpdate( function() {\n                transform.pos.set_xy(view.pos.x, view.pos.y);\n            });\n\n    } //focus\n\n        /** convert a screen point to world space for this camera. handles zoom, rotation, scale, etc */\n    public function screen_point_to_world( _vector:Vector ) : Vector {\n\n        return view.screen_point_to_world( _vector );\n\n    } //screen_point_to_world\n\n        /** convert a world point to screen space for this camera. handles zoom, rotation, scale, etc */\n    public function world_point_to_screen( _vector:Vector, ?_viewport:Rectangle=null ) : Vector {\n\n        return view.world_point_to_screen( _vector, _viewport );\n\n    } //world_point_to_screen\n\n    // var cnt = 0;\n    override function set_pos_from_transform(_pos:Vector) {\n\n        var _vw = view.viewport.w;\n        var _vh = view.viewport.h;\n        var _hvw = _vw/2;\n        var _hvh = _vh/2;\n\n        var _px = _pos.x; \n        var _py = _pos.y;\n\n        if(bounds != null) {\n            if(_px < bounds.x)        _px = bounds.x;\n            if(_py < bounds.y)        _py = bounds.y;\n            if(_px+_hvw > bounds.w-_vw) _px = bounds.w-_vw-_hvw;\n            if(_py+_hvh > bounds.h-_vh) _py = bounds.h-_vh-_hvh;\n        }\n\n        var _prev = _pos.ignore_listeners;\n            _pos.ignore_listeners = true;\n        _pos.set_xy(_px, _py);\n            _pos.ignore_listeners = _prev;\n\n        super.set_pos_from_transform(_pos);\n\n        view.pos = view.pos.set_xyz(_pos.x, _pos.y, _pos.z);\n\n    } //set_pos_from_transform\n\n    override function set_rotation_from_transform(_rotation:Quaternion) {\n\n        super.set_rotation_from_transform(_rotation);\n\n        if(view != null) {\n            view.rotation = _rotation;\n        }\n\n    } //set_scale_from_transform\n\n    override function set_scale_from_transform(_scale:Vector) {\n\n        super.set_scale_from_transform(_scale);\n\n        if(view != null) {\n            view.scale = _scale;\n        }\n\n    } //set_scale_from_transform\n\n        /** Shake the camera a given amount */\n    public function shake(_amount:Float) {\n\n        shake_amount = _amount;\n        shaking = true;\n\n    } //shake\n\n        //Called by the scene the camera belongs to, or manually if you want\n    @:noCompletion override public function update(dt:Float) {\n\n            //add camera shake\n        if(shaking) {\n\n                //get a random direction\n            shake_vector = Luxe.utils.geometry.random_point_in_unit_circle();\n\n                //apply the shake amount scale\n            shake_vector.x *= shake_amount;\n            shake_vector.y *= shake_amount;\n            shake_vector.z *= shake_amount;\n\n                //fade the shake down\n            shake_amount *= 0.9;\n\n                //stop when it's too low\n            if(shake_amount <= minimum_shake) {\n                shake_amount = 0;\n                shaking = false;\n            }\n\n                //tell it to update the view\n            view.pos = view.pos.set_xyz(transform.pos.x + shake_vector.x, transform.pos.y + shake_vector.y, transform.pos.z + shake_vector.z);\n\n        } //shaking\n\n    } //update\n\n} //Camera\n","package luxe.macros;\n\nimport haxe.macro.Context;\nimport haxe.macro.Expr;\nimport haxe.macro.ExprTools;\n\n@:noCompletion class EntityRules {\n\n#if macro\n\n    static var init_field : Field;\n    static var ondestroy_field : Field;\n\n    macro public static function apply() : Array<Field> {\n\n        init_field = null;\n        ondestroy_field = null;\n\n        var _fields = Context.getBuildFields();\n\n            //do this first to ensure the values are set\n        for(_field in _fields) {\n            switch(_field.name) {\n                case 'init': init_field = _field;\n                case 'ondestroy': ondestroy_field = _field;\n            }\n        }\n\n            //if no init field, insert one\n        if(init_field == null) {\n            init_field = {\n                name: 'init',\n                doc: null, meta: [],\n                access: [AOverride,APublic],\n                kind: FFun({ params:[], args:[], ret:null, expr:macro { super.init(); } }),\n                pos: Context.currentPos()\n            };\n            _fields.push(init_field);\n        }\n\n            //if no ondestroy field, insert one\n        if(ondestroy_field == null) {\n            ondestroy_field = {\n                name: 'ondestroy',\n                doc: null, meta: [],\n                access: [AOverride,APublic],\n                kind: FFun({ params:[], args:[], ret:null, expr:macro { super.ondestroy(); } }),\n                pos: Context.currentPos()\n            };\n            _fields.push(ondestroy_field);\n        }\n\n        for(_field in _fields) {\n\n            switch(_field.name) {\n\n                case\n                    'ontouchmove',\n                    'ontouchdown',\n                    'ontouchup',\n                    'onmousemove',\n                    'onmousedown',\n                    'onmouseup',\n                    'onmousewheel',\n                    'ongamepadaxis',\n                    'ongamepadup',\n                    'ongamepaddown',\n                    'ongamepaddevice',\n                    'onkeydown',\n                    'onkeyup',\n                    'ontextinput',\n                    'oninputdown',\n                    'oninputup',\n                    'onwindowmoved',\n                    'onwindowresized',\n                    'onwindowsized',\n                    'onwindowminimized',\n                    'onwindowrestored' :\n                {\n                    connect_event(_field);\n                }\n\n            } //switch _field.name\n\n        } //for field in fields\n\n        return _fields;\n\n    } //apply\n\n\n\n    static function connect_event( _field:haxe.macro.Field ) {\n\n        if(_field.access.indexOf(AOverride) != -1) {\n\n            var _event_name : String = _field.name.substr(2);\n\n                //inject the init connection\n            switch(init_field.kind) {\n                default:\n                case FFun(f):\n                    switch(f.expr.expr) {\n                        default:\n                        case EBlock(exprs):\n                            exprs.push( Context.parse('_listen( luxe.Ev.${_event_name}, ${_field.name}, true )', _field.pos) );\n                    } //switch exp\n            } //switch kind\n\n                //and inject the ondestroy connection\n            switch(ondestroy_field.kind) {\n                default:\n                case FFun(f):\n                    switch(f.expr.expr) {\n                        default:\n                        case EBlock(exprs):\n                            exprs.push( Context.parse('_unlisten( luxe.Ev.${_event_name}, ${_field.name}, true )', _field.pos) );\n                    } //switch exp\n            } //switch kind\n\n        } //if override\n\n    } //connect_event\n\n#end //macro\n\n} //EntityRules\n","package luxe;\n\nimport luxe.Quaternion;\nimport luxe.Vector;\nimport luxe.Transform;\nimport luxe.Input;\nimport luxe.Screen;\nimport luxe.Objects.ID;\nimport luxe.options.ComponentOptions;\n\nimport luxe.Log.log;\nimport luxe.Log._debug;\nimport luxe.Log._verbose;\n\n@:autoBuild(luxe.macros.ComponentRules.apply())\nclass Component extends ID {\n\n        /** the entity this component is attached to */\n    @:isVar public var entity (get,set) : Entity;\n\n        /** The spatial transform of the attached entity. direct proxy to the entity transform */\n    public var transform : Transform;\n        /** The local position of the spatial transform. direct proxy to the entity transform */\n    public var pos              (get,set) : Vector;\n        /** The local rotation of the spatial transform. direct proxy to the entity transform */\n    public var rotation         (get,set) : Quaternion;\n        /** The local scale of the spatial transform. direct proxy to the entity transform */\n    public var scale            (get,set) : Vector;\n        /** The local origin of the spatial transform. direct proxy to the entity transform */\n    public var origin           (get,set) : Vector;\n\n        /** called when the scene is initiated. **use this instead of new** for state setup. it respects the order of creations, children, and component ordering. */\n    public function init() {}\n        /** called once per frame, passing the delta time */\n    public function update(dt:Float) {}\n\n        /** called when the component is attached to an entity */\n    public function onadded() {}\n        /** called when the component is removed from an entity */\n    public function onremoved() {}\n\n        /** called when the fixed update is triggered, if the entity has a fixed_rate set. hands the fixed_rate for interchangeable update/fixedupdate convenience */\n    @:noCompletion public function onfixedupdate(rate:Float) {}\n       /** called when the scene starts or is reset. use this to reset state. */\n    @:noCompletion public function onreset() {}\n        /** called when the scene, parent or entity is destroyed. use this to clean up state. */\n    @:noCompletion public function ondestroy() {}\n\n        /** override this to get notified when a key is released. only called if overridden. */\n    @:noCompletion public function onkeyup( event:KeyEvent ) {}\n        /** override this to get notified when a key is pressed. only called if overridden. */\n    @:noCompletion public function onkeydown( event:KeyEvent ) {}\n        /** override this to get notified when a text input event happens. only called if overridden. */\n    @:noCompletion public function ontextinput( event:TextEvent ) {}\n\n        /** override this to get notified when a named input event happens. only called if overridden. */\n    @:noCompletion public function oninputdown( event:InputEvent ) {}\n        /** override this to get notified when a named input event happens. only called if overridden. */\n    @:noCompletion public function oninputup( event:InputEvent ) {}\n\n        /** override this to get notified when a mouse button is pressed. only called if overridden. */\n    @:noCompletion public function onmousedown( event:MouseEvent ) {}\n        /** override this to get notified when a mouse button is pressed. only called if overridden. */\n    @:noCompletion public function onmouseup( event:MouseEvent ) {}\n        /** override this to get notified when a mouse is moved. only called if overridden. */\n    @:noCompletion public function onmousemove( event:MouseEvent ) {}\n        /** override this to get notified when the mouse wheel/trackpad is scrolled. only called if overridden. */\n    @:noCompletion public function onmousewheel( event:MouseEvent ) {}\n\n        /** override this to get notified when a touch begins. only called if overridden. */\n    @:noCompletion public function ontouchdown( event:TouchEvent ) {}\n        /** override this to get notified when a touch ends. only called if overridden. */\n    @:noCompletion public function ontouchup( event:TouchEvent ) {}\n        /** override this to get notified when a touch moves. only called if overridden. */\n    @:noCompletion public function ontouchmove( event:TouchEvent ) {}\n\n        /** override this to get notified when a gamepad button is released. only called if overridden. */\n    @:noCompletion public function ongamepadup( event:GamepadEvent ) {}\n        /** override this to get notified when a gamepad button is pressed. only called if overridden. */\n    @:noCompletion public function ongamepaddown( event:GamepadEvent ) {}\n        /** override this to get notified when a gamepad axis changes. only called if overridden. */\n    @:noCompletion public function ongamepadaxis( event:GamepadEvent ) {}\n        /** override this to get notified when a gamepad device event happens. only called if overridden. */\n    @:noCompletion public function ongamepaddevice( event:GamepadEvent ) {}\n\n       /** override this to get notified when a window is moved, with the data containing the new x/y position */\n   @:noCompletion public function onwindowmoved( event:WindowEvent ) {}\n       /** override this to get notified when a window is resized by the user, with the data containing the new x/y size */\n   @:noCompletion public function onwindowresized( event:WindowEvent ) {}\n       /** override this to get notified when a window is resized by the system or code or the user, with the data containing the new x/y size */\n   @:noCompletion public function onwindowsized( event:WindowEvent ) {}\n       /** override this to get notified when a window is minimized. */\n   @:noCompletion public function onwindowminimized( event:WindowEvent ) {}\n       /** override this to get notified when a window is restored. */\n   @:noCompletion public function onwindowrestored( event:WindowEvent ) {}\n\n        /** Use this to pass instance specific data and values to the component. */\n    public function new( ?_options:ComponentOptions ) {\n\n        var _name = '';\n\n        if(_options != null) {\n            if(_options.name != null) {\n                _name = _options.name;\n            }\n        }\n\n        super(_name == '' ? Luxe.utils.uniqueid() : _name);\n\n    } //new\n\n//components\n\n        /** attach a component to the entity */\n    public function add<T:Component>( component:T ) : T {\n        return entity.add( component );\n    } //add\n\n        /** remove a component from the entity */\n    public function remove( _name:String ) : Bool {\n        return entity.remove( _name );\n    } //add\n\n        /** get a component from the entity, by name */\n    public function get<T>( _name:String, ?in_children:Bool = false ) : T {\n        return entity.get( _name, in_children );\n    } //get\n\n        /** get all component from the entity, by name */\n    public function get_any<T>( _name:String, ?in_children:Bool = false, ?first_only:Bool = true ) : Array<T> {\n        return entity.get_any( _name, in_children, first_only );\n    } //get_any\n\n        /** returns true if the entity has a component by the given name */\n    public function has( _name:String ) : Bool {\n        return entity.has( _name );\n    } //has\n\n//Internal\n\n//entity\n\n    function _detach_entity() {\n\n        if(entity != null) {\n            //entity.off(luxe.Ev.reset, _reset);\n        }\n\n    } //detach_entity\n\n    function _attach_entity() {\n\n        if(entity != null) {\n            //entity.on(luxe.Ev.reset, _reset);\n        }\n\n    } //attach_entity\n\n    function set_entity(_entity:Entity) {\n\n        _detach_entity();\n\n            entity = _entity;\n\n        _attach_entity();\n\n        return entity;\n\n    } //set_entity\n\n    function get_entity() {\n\n        return entity;\n\n    } //get_entity\n\n//transforms\n\n    function set_pos( _p:Vector ) {\n        return entity.transform.pos = _p;\n    } //set_pos\n\n    function get_pos() {\n        return entity.transform.pos;\n    } //get_pos\n\n    function set_rotation( _r:Quaternion ) {\n        return entity.transform.rotation = _r;\n    } //set_rotation\n\n    function get_rotation() {\n        return entity.transform.rotation;\n    } //get_rotation\n\n    function set_scale(_s:Vector) {\n        return entity.transform.scale = _s;\n    } //set_scale\n\n    function get_scale() {\n        return entity.transform.scale;\n    } //get_scale\n\n    function set_origin(_o:Vector) {\n        return entity.transform.origin = _o;\n    } //set_origin\n\n    function get_origin() {\n        return entity.transform.origin;\n    } //get_origin\n\n    function set_transform(_o:Transform) {\n        return entity.transform = _o;\n    } //set_transform\n\n    function get_transform() {\n        return entity.transform;\n    } //get_transform\n\n    @:noCompletion public function entity_pos_change( _pos:Vector ) {}\n    @:noCompletion public function entity_scale_change( _scale:Vector ) {}\n    @:noCompletion public function entity_rotation_change( _rotation:Quaternion ) {}\n    @:noCompletion public function entity_origin_change( _origin:Vector ) {}\n    @:noCompletion public function entity_parent_change( _parent:Transform ) {}\n\n    inline function toString() {\n        return 'luxe Component: $name on ${entity.name} / id: $id';\n    }\n\n//internal api\n\n} //Component\n","package luxe;\n\nimport luxe.Engine;\nimport luxe.Input;\nimport luxe.Ev;\n\nimport luxe.debug.Inspector;\nimport luxe.debug.DebugView;\n\nimport phoenix.Camera;\nimport phoenix.Batcher;\nimport phoenix.BitmapFont;\nimport phoenix.geometry.Geometry;\nimport phoenix.geometry.QuadGeometry;\n\nimport luxe.utils.Maths;\nimport luxe.Log._debug;\nimport luxe.Log.assert;\n\nusing StringTools;\n\n@:allow(luxe.Engine)\nclass Debug {\n\n    public var app : Engine;\n    public var visible (default, set) : Bool = false;\n\n    public var inspector : Inspector;\n    public var overlay : QuadGeometry;\n\n    public var batcher : Batcher;\n    public var view : Camera;\n    public var debug_font : BitmapFont;\n\n        //track a delta frame average\n    public var dt_average : Float = 0;\n    public var dt_average_accum : Float = 0;\n    public var dt_average_span : Int = 60;\n    public var dt_average_count : Int = 0;\n\n//views\n    public var current_view_index = 0;\n    public var last_view_index = 0;\n    public var current_view : DebugView;\n    public static var views : Array<DebugView>;\n\n    public var padding : Vector;\n\n//Profile path\n    public var profile_path : String = \"profile.txt\";\n    public var profiling : Bool = false;\n\n    function new( _app:Engine ) {\n\n        app = _app;\n\n    } //new\n\n//public API\n\n        /** Fetch the instance of the debug view for manipulation by name */\n    public function get_view<T>(_name:String) : T {\n\n        for(view in views) {\n\n            if(view.name == _name) {\n                return cast view;\n            }\n\n        } //view\n\n        return null;\n\n    } //get_view\n\n    #if !luxe_noprofile\n\n        /** start a profiling section for the profiler debug view */\n        public function start(_name:String, ?_max:Float) {\n            #if !no_debug_console\n                if(!app.headless) {\n                    luxe.debug.ProfilerDebugView.start(_name, _max);\n                }\n            #end\n        }\n\n            /** end a profiling section for the profiler debug view */\n        public function end(_name:String) {\n            #if !no_debug_console\n                if(!app.headless) {\n                    luxe.debug.ProfilerDebugView.end(_name);\n                }\n            #end\n        }\n    #end\n\n//Internal\n\n    function init() {\n\n        views = [];\n\n        #if !no_debug_console\n\n            views.push(new luxe.debug.TraceDebugView(this));\n            views.push(new luxe.debug.StatsDebugView(this));\n            //views.push(new luxe.debug.BatcherDebugView(this));\n            views.push(new luxe.debug.ProfilerDebugView(this));\n            views.push(new luxe.debug.SceneDebugView(this));\n\n            current_view = views[0];\n\n        #end\n\n        haxe.Log.trace = internal_trace;\n\n        _debug('\\t debug initialized.');\n\n    } //init\n\n    function create_debug_console() {\n\n        #if !no_debug_console\n\n            app.on(Ev.keyup, keyup);\n            app.on(Ev.keydown, keydown);\n            app.on(Ev.mouseup, mouseup);\n            app.on(Ev.mousedown, mousedown);\n            app.on(Ev.mousemove, mousemove);\n            app.on(Ev.mousewheel, mousewheel);\n            app.on(Ev.touchup, touchup);\n            app.on(Ev.touchdown, touchdown);\n            app.on(Ev.touchmove, touchmove);\n\n                //create the debug renderer and view\n            batcher = new Batcher( app.renderer, 'debug_batcher', Math.floor(Math.pow(2, 20)));\n            batcher.show_stats = 0;\n            \n                //create a camera\n            view = new Camera({ camera_name:'debug_batcher_camera' });\n                //set the camera of the batcher\n            batcher.view = view;\n                //Also, set the layer so it renders last\n            batcher.layer = 999;\n\n            overlay = new QuadGeometry({\n                id: 'debug.overlay',\n                x:0, y:0,\n                w: app.screen.w,  h: app.screen.h,\n                color : new Color(0,0,0,0.8),\n                depth : 999,    //debug depth\n                visible : false, //default invisible\n                batcher : batcher\n            });\n\n            overlay.locked = true;\n\n                //create the scene inspector\n            padding = new Vector(app.screen.w*0.05,app.screen.h*0.05);\n            inspector = new Inspector({\n                pos : new Vector(padding.x, padding.y),\n                size : new Vector(app.screen.w-(padding.x*2), app.screen.h-(padding.y*2)),\n                batcher : batcher\n            });\n\n\n            inspector.onrefresh = refresh;\n\n            app.on(Ev.windowsized, function( _event:luxe.Screen.WindowEvent ){\n\n                var _w = _event.x;\n                var _h = _event.y;\n\n                padding.set_xy(_w*0.05,_h*0.05);\n\n                overlay.resize_xy(_w, _h);\n                view.viewport = new Rectangle(0, 0, _w, _h);\n                inspector.size = new Vector(_w-(padding.x*2), _h-(padding.y*2));\n                inspector.pos = new Vector(padding.x, padding.y);\n\n                for(view in views) {\n                    view.onwindowsized(_event);\n                }\n            });\n\n            for(view in views) {\n                view.create();\n            }\n\n        #end //no_debug_console\n\n    } //create_debug_console\n\n    static var debug_batch_tag  = 'batcher.debug_batcher';\n    function render() {\n\n        #if !no_debug_console\n\n            if(visible) {\n\n                #if !luxe_noprofile start(debug_batch_tag); #end\n\n                    batcher.draw();\n\n                #if !luxe_noprofile end(debug_batch_tag); #end\n\n            } //visible\n\n        #end\n\n    } //render\n\n//Trace capturing\n\n    public static var trace_callbacks : Array<Dynamic->?haxe.PosInfos->Void> = [];\n\n    static var shut_down : Bool = false;\n    static var tracing : Bool = false;\n\n    static function internal_trace(_value:Dynamic, ?_info:haxe.PosInfos) {\n\n        assert(tracing == false, 'luxe.Debug: calling trace from a trace callback is an infinite loop!');\n        tracing = true;\n\n            var _out = '$_value';\n\n            if(_info != null && _info.customParams != null) {\n                _out += ' ' + _info.customParams.join(' ');\n            }\n\n            #if cpp \n                untyped __trace(_out, _info);\n            #elseif luxe_web \n                untyped console.log('${_info.fileName}::${Std.string(_info.lineNumber).rpad(\" \", 4)} $_out'); \n            #end\n\n            if(!shut_down) {\n                for(_callback in trace_callbacks) {\n                    _callback(_value, _info);\n                }\n            }\n\n        tracing = false;\n\n    } //internal_trace\n\n//Events\n\n    function mouseup(e:MouseEvent) {\n        if(visible) {\n            for(view in views) {\n                view.onmouseup(e);\n            }\n        }\n    } //mouseup\n\n    function mousedown(e:MouseEvent) {\n        if(visible) {\n            for(view in views) {\n                view.onmousedown(e);\n            }\n        }\n    } //mousedown\n\n    function mousemove(e:MouseEvent) {\n        if(visible) {\n            for(view in views) {\n                view.onmousemove(e);\n            }\n        }\n    } //mousemove\n\n    function mousewheel(e:MouseEvent) {\n        if(visible) {\n            for(view in views) {\n                view.onmousewheel(e);\n            }\n        }\n    } //mousewheel\n\n   function touchup(e:TouchEvent) {\n        if(visible) {\n            for(view in views) {\n                view.ontouchup(e);\n            }\n        }\n    } //touchup\n\n    function touchdown(e:TouchEvent) {\n\n        #if (!no_debug_console && mobile)\n\n                //3 finger tap when console opens will switch tabs\n            if(app.app.input.touch_count == 3) {\n                if(visible) {\n                    switch_view();\n                }\n            }\n\n                //4 finger tap toggles console\n            if(app.app.input.touch_count == 4) {\n                visible = !visible;\n            }\n\n        #end //no_debug_console\n\n\n        if(visible) {\n            for(view in views) {\n                view.ontouchdown(e);\n            }\n        }\n    } //touchdown\n\n    function touchmove(e:TouchEvent) {\n        if(visible) {\n            for(view in views) {\n                view.ontouchmove(e);\n            }\n        }\n    } //touchmove\n\n    function keyup(e:KeyEvent) {\n\n        if(visible) {\n            for(view in views) {\n                view.onkeyup(e);\n            }\n        } //visible\n\n        #if profiler\n            #if luxe_native\n                if(e.keycode == Key.key_p && profiling) {\n                    cpp.vm.Profiler.stop();\n                    profiling = false;\n                    trace(\"profiling complete. Look for the results in \" + profile_path );\n                }\n            #end //luxe_native\n        #end //profiler\n\n    } //keyup\n\n    function keydown(e:KeyEvent) {\n\n        if(e.scancode == Scan.grave) {\n            visible = !visible;\n        }\n\n        if(visible) {\n\n            if(e.keycode == Key.key_1 && visible) {\n                switch_view();\n            }\n\n            for(view in views) {\n                view.onkeydown(e);\n            }\n\n        }\n\n        #if profiler\n            #if luxe_native\n                if(e.keycode == Key.key_p && e.mod.ctrl && !e.repeat) {\n                    trace(\"starting profiler ... let go of key to stop profiling.\");\n                    cpp.vm.Profiler.start( profile_path );\n                    profiling = true;\n                }\n            #end //luxe_native\n        #end //profiler\n\n    } //keydown\n\n    function refresh() {\n\n        if(current_view != null) {\n            current_view.refresh();\n        }\n\n    } //refresh\n\n        /** programmatically switch the debug console view. currently cycles the view. */\n    @:noCompletion public function switch_view() {\n\n            //keep knowledge of this\n        last_view_index = current_view_index;\n            //then go up one, :todo : make easier to jump to specific view?\n        current_view_index++;\n\n            //handle looping\n        if(current_view_index > views.length-1) {\n            current_view_index = 0;\n        }\n\n            //now hide the last view\n        views[last_view_index].hide();\n            //store the new one\n        current_view = views[current_view_index];\n\n            //show the new one\n        current_view.show();\n\n    } //switch_view\n\n    var last_cursor_grab : Bool = false;\n\n    function set_visible(_value:Bool) {\n\n        #if no_debug_console\n            return visible = false;\n        #end\n\n        visible = _value;\n        overlay.visible = visible;\n\n        if(visible) {\n\n                //revert cursor grab\n            last_cursor_grab = app.screen.cursor.grab;\n            app.screen.cursor.grab = false;\n                //show views\n            current_view.show();\n            inspector.show();\n\n        } else {\n\n            if(last_cursor_grab != false) {\n                app.screen.cursor.grab = last_cursor_grab;\n            }\n\n            current_view.hide();\n            inspector.hide();\n\n        } //visible\n\n        return visible;\n\n    } //set_visible\n\n    function destroy() {\n\n        app.off(Ev.keyup, keyup);\n        app.off(Ev.keydown, keydown);\n        app.off(Ev.mouseup, mouseup);\n        app.off(Ev.mousedown, mousedown);\n        app.off(Ev.mousemove, mousemove);\n        app.off(Ev.mousewheel, mousewheel);\n\n        _debug('\\t debug shut down.');\n        shut_down = true;\n\n    } //destroy\n\n    function process() {\n\n        dt_average_accum += app.frame_delta;\n        dt_average_count++;\n\n        if(dt_average_count == dt_average_span - 1) {\n            dt_average = dt_average_accum/dt_average_span;\n            dt_average_accum = dt_average;\n            dt_average_count = 0;\n        }\n\n        if(!visible) {\n            return;\n        }\n\n            //update the title\n        inspector.title.text = '[${current_view.name}] / ${Math.round(1/dt_average)} / ${Maths.fixed(app.frame_delta,5)} / ${Maths.fixed(dt_average,5)}';\n\n        for(view in views) {\n            view.process();\n        }\n\n    } //process\n\n} //Debug\n\n","package luxe;\n\nimport luxe.Log.*;\nimport luxe.Color;\nimport phoenix.Batcher;\nimport phoenix.geometry.*;\n\n    //:todo: move text options to the options package\nimport phoenix.geometry.TextGeometry.TextGeometryOptions;\n\nimport luxe.options.GeometryOptions;\nimport luxe.options.DrawOptions;\n\n/**\n    The `draw` API class implementation.\n    This class handles quick access to drawing common geometry options,\n    and is a facilitator for higher level drawing. These can be used given to a `Visual` to convert\n    them into a higher level entity for use with the default scene.\n */\nclass Draw {\n\n//Public API\n\n        /** Draw a line geometry between points `p0` and `p1` with options */\n    public function line( options:DrawLineOptions ) {\n\n        assertnull(options.p0, 'draw.line requires p0:Vector, and p1:Vector');\n        assertnull(options.p1, 'draw.line requires p0:Vector, and p1:Vector');\n\n        def(options.id, 'line.geometry');\n        def(options.batcher, Luxe.renderer.batcher);\n\n            return new LineGeometry(options);\n\n    } // line\n\n        /** Draw a rectangle outline at the specified `x`,`y`,`w`,`h` with options */\n    public function rectangle( options:DrawRectangleOptions ) {\n\n        def(options.id, 'rectangle.geometry');\n        def(options.batcher, Luxe.renderer.batcher);\n\n        return new RectangleGeometry(options);\n\n    } //rectangle\n\n        /** Draw a solid rectangle box at the specified `x`,`y`,`w`,`h` with options */\n    public function box( options:DrawBoxOptions ) {\n\n        def(options.id, 'quad.geometry');\n        def(options.batcher, Luxe.renderer.batcher);\n\n        return new QuadGeometry(options);\n\n    } //box\n\n        /** Draw a circle outline at the specified `x`,`y` with radius `r` (or `rx`,`ry` optionally for an ellipse), with options */\n    public function ring( options:DrawRingOptions ) {\n\n        def(options.id, 'ring.geometry');\n        def(options.batcher, Luxe.renderer.batcher);\n\n        return new RingGeometry(options);\n\n    } //ring\n\n        /** Draw a solid circle at the specified `x`,`y` with radius `r` (or `rx`,`ry` optionally for an ellipse), with options */\n    public function circle( options:DrawCircleOptions ) {\n\n        def(options.id, 'circle.geometry');\n        def(options.batcher, Luxe.renderer.batcher);\n\n        return new CircleGeometry(options);\n\n    } //circle\n\n        /** Draw an arc (open circle) at the specified `x`,`y`, between `start_angle` and `end_angle` with radius `r` (or `rx`,`ry` optionally for an ellipsical arc), with options */\n    public function arc( options:DrawArcOptions ) {\n\n        def(options.id, 'arc.geometry');\n        def(options.batcher, Luxe.renderer.batcher);\n\n        return new ArcGeometry(options);\n\n    } //arc\n\n        /** Draw an n-sided polygon (3 sides for triangle, 6 for hexagon etc) at `x`,`y` with a radius `r` and `sides` with options  */\n    public function ngon( options:DrawNgonOptions ) : Geometry {\n\n        def(options.id, 'ngon.geometry');\n        def(options.batcher, Luxe.renderer.batcher);\n\n        var _sides : Int = 3;\n        var _radius : Float = 64;\n        var _solid : Bool = false;\n        var _x : Float = 0;\n        var _y : Float = 0;\n        var _angle : Float = 0;\n\n        if(options.sides != null) {\n            _sides = options.sides;\n        }\n\n        if(options.r != null) { _radius = options.r; }\n        if(options.x != null) { _x = options.x; }\n        if(options.y != null) { _y = options.y; }\n        if(options.angle != null) { _angle = options.angle; }\n        if(options.solid != null) { _solid = options.solid; }\n\n        if(!_solid) {\n            options.primitive_type = PrimitiveType.lines;\n        } else {\n            options.primitive_type = PrimitiveType.triangle_fan;\n        }\n\n        var _geometry = new Geometry(options);\n        var _two_pi : Float = 2 * Math.PI;\n        var _sides_over_pi : Float = Math.PI / _sides;\n        var _sides_over_twopi : Float = _two_pi / _sides;\n        var _angle_rad : Float = luxe.utils.Maths.radians(_angle);\n        var _color = options.color;\n\n        if(_solid) {\n                //add the center vertex\n            _geometry.add( new Vertex( new Vector( _x, _y ), _color ) );\n        }\n\n        var _count : Int = (_solid == false) ? _sides : _sides+1;\n        var _points:Array<Vector> = [];\n\n        for(i in 0 ... _count ) {\n\n            var __x   = (_radius * Math.sin(_angle_rad + (_sides_over_pi) + (i * (_sides_over_twopi))));\n            var __y   = (_radius * Math.cos(_angle_rad + (_sides_over_pi) + (i * (_sides_over_twopi))));\n            var __pos = new Vector( _x + __x, _y + __y, 0 );\n\n            _geometry.add( new Vertex( __pos, _color ) );\n\n            if(!_solid) {\n                if(i > 0) {\n                    var _last = _points[i - 1];\n                    _geometry.add( new Vertex( __pos, _color ) );\n                }\n            }\n\n            _points.push(__pos);\n\n        } //for all sides\n\n        if(!_solid) {\n            _geometry.add( new Vertex( _points[0], _color ) );\n        }\n\n        return _geometry;\n\n    } //ngon\n\n        /** Draw an arbitrary polygon of points with options.\n            Uses triangle fans (no additional verts added) for solid,\n            Uses lines for non-solid, adding verts as needed to form lines. */\n    public function poly( options:DrawPolygonOptions ) {\n\n        def(options.id, 'poly.geometry');\n        def(options.batcher, Luxe.renderer.batcher);\n        def(options.solid, true);\n        def(options.close, false);\n\n        var _default_col:Color = null;\n        var _has_colors = (options.colors != null);\n        if(!_has_colors) _default_col = def(options.color, new Color());\n\n        if(options.solid) {\n\n            def(options.primitive_type, PrimitiveType.triangle_fan);\n\n            var _geometry = new Geometry(options);\n\n            var _idx = 0;\n            var _l = options.points.length;\n            for(_point in options.points) {\n                var _color = _has_colors ? options.colors[_idx] : _default_col;\n                _geometry.add(new Vertex(_point, _color));\n                ++_idx;\n            }\n\n            return _geometry;\n\n        } else {\n\n            def(options.primitive_type, PrimitiveType.lines);\n\n            var _geometry = new Geometry(options);\n\n            var _idx = 0;\n            var _l = options.points.length;\n\n            for(_point in options.points) {\n                var _color = _has_colors ? options.colors[_idx] : _default_col;\n                _geometry.add(new Vertex(_point, _color));\n                if(_idx < _l-2) {\n                    var _color_next = _has_colors ? options.colors[_idx+1] : _default_col;\n                    _geometry.add(new Vertex(options.points[_idx+1], _color_next));\n                }\n                ++_idx;\n            }\n\n            if(options.close) {\n                var _last = options.points.length-1;\n                var _color1 = _has_colors ? options.colors[0] : _default_col;\n                var _color2 = _has_colors ? options.colors[_last] : _default_col;\n                _geometry.add(new Vertex(options.points[_last], _color1));\n                _geometry.add(new Vertex(options.points[0], _color2));\n            }\n\n            return _geometry;\n\n        }\n\n    } //poly\n\n        /** Draw a textured `box` with image `texture` at `x`,`y`,`w`,`h` OR with `pos` and `size`, and `uv` with options */\n    public function texture( options:DrawTextureOptions ) {\n\n        def(options.id, 'texture.geometry');\n        def(options.batcher, Luxe.renderer.batcher);\n\n        var _x : Float = 0;\n        var _y : Float = 0;\n        var _w : Float = 0;\n        var _h : Float = 0;\n\n            //this is an arbitrary default\n        var _tw : Int = 64;\n        var _th : Int = 64;\n\n            if(options.texture != null) {\n                _tw = options.texture.width;\n                _th = options.texture.height;\n\n                if(options.size == null) {\n                    _w = _tw;\n                    _h = _th;\n                }\n            }\n\n            if(options.pos != null) {\n                _x = options.pos.x;\n                _y = options.pos.y;\n            }\n            if(options.size != null) {\n                _w = options.size.x;\n                _h = options.size.y;\n            }\n\n            def(options.x, _x);\n            def(options.y, _y);\n            def(options.w, _w);\n            def(options.h, _h);\n\n            var _quad = new QuadGeometry(options);\n\n            var _ux : Float = 0;\n            var _uy : Float = 0;\n            var _uw : Float = _tw;\n            var _uh : Float = _th;\n\n            if(options.uv != null) {\n                _ux = options.uv.x;\n                _uy = options.uv.y;\n                _uw = options.uv.w;\n                _uh = options.uv.h;\n            }\n\n            _quad.uv( new Rectangle(_ux, _uy, _uw, _uh) );\n\n        return _quad;\n\n    } //texture\n\n        /** Draw `text` with options (default font used if none specified) */\n    public function text( options:TextGeometryOptions ) {\n\n        def(options.batcher, Luxe.renderer.batcher);\n\n        return new TextGeometry(options);\n\n    } //text\n\n//Internal API\n\n    var core : Engine;\n    @:allow(luxe.Engine)\n    function new( _core:Engine ) {\n\n        core = _core;\n\n    } //new\n\n\n} //Draw\n","package snow;\n\nimport snow.api.Debug.assertnull;\nimport snow.types.Types;\n\n\n/** The default type of snow application, with variable delta, update limit, render limit, timescale and more. \n    See the {App Guide} for complete details. */\n@:allow(snow)\nclass App {\n\n//Access to the snow API\n\n        /** use this to access the api features. *i.e* `app.assets.text(_id)` */\n    public var app : Snow;\n\n//Configurable values\n\n        /** the scale of time */\n    public var timescale : Float = 1;\n        /** if this is non zero this will be passed in */\n    public var fixed_delta : Float = 0;\n        /** if this is non zero, updates will be forced to this rate */\n    public var update_rate : Float = 0;\n\n//Timing information\n\n        /** The time at the start of this tick */\n    public var tick_start : Float = 1.0/60.0;\n        /** The time at the start of the previous tick */\n    public var tick_start_prev : Float = 0.0;\n        /** The amount of time the last tick took */\n    public var tick_delta : Float = 1.0/60;\n\n        /** The time at the start of this tick */\n    public var frame_start : Float = 1.0/60.0;\n        /** The time at the start of the previous frame */\n    public var frame_start_prev : Float = 0.0;\n        /** The amount of time the last frame took */\n    public var frame_delta : Float = 1.0/60;\n        /** the maximum frame time */\n    public var frame_max_delta : Float = 0.25;\n\n        /** the simulated time the last frame took to run, relative to scale etc */\n    public var sim_delta : Float = 1/60;\n        /** the current simulation time */\n    public var sim_time : Float = 0;\n\n//Specific to fixed timestep\n\n        /** the alpha time for a interpolating between frame updates */\n    public var fixed_alpha : Float = 1.0;\n        /** use a \"fix your timestep approach\" */\n    public var fixed_timestep : Bool = false;\n        /** fixed simulation update speed */\n    public var fixed_frame_time : Float = 0.0167;\n        /** the overflow of the updates. This is used internally, for you, to calculate the alpha time for rendering interpolation as follows `alpha = overflow / fixed_frame_time;` */\n    public var fixed_overflow : Float = 0.0;\n\n\n//Internal values\n\n        /** for update_rate, the time when the next tick should occur around */\n    var next_tick : Float = 0;\n\n//override these in your game class\n\n    /** Called by snow to request config changes, override this to change the defaults.\n            This happens before ready, so the values are available when ready is called. */\n    function config(_config:AppConfig) : AppConfig return _config;\n        /** Your entry point. Called for you when you can initialize your application */\n    function ready() {}\n        /** Your update loop. Called every frame for you. The dt value depends on the timing configuration (see the {App Guide}) */\n    function update(dt:Float) {}\n        /** The frame update loop. */\n    function tick(dt:Float) {}\n        /** Your exit point. Called for you when you should shut down your application */\n    function ondestroy() {}\n        /** Low level event handler from snow core. Often handled by the subsystems so check there first. */\n    function onevent(event:SystemEvent) {}\n\n        /** Called each frame *before* everything, the beginning of the frame. Use with understanding. */\n    function ontickstart() {}\n        /** Called each frame *after* everything, at the end of the frame. Use with understanding. */\n    function ontickend() {}\n\n        /** Called for you when a key is pressed down */\n    function onkeydown(keycode:Int, scancode:Int, repeat:Bool, mod:ModState, timestamp:Float, window_id:Int) {}\n        /** Called for you when a key is released */\n    function onkeyup(keycode:Int, scancode:Int, repeat:Bool, mod:ModState, timestamp:Float, window_id:Int) {}\n        /** Called for you when text input is happening. Use this for textfields, as it handles the complexity of unicode etc. */\n    function ontextinput( text:String, start:Int, length:Int, type:TextEventType, timestamp:Float, window_id:Int) {}\n\n        /** Called for you when a mouse button is pressed */\n    function onmousedown(x:Int, y:Int, button:Int, timestamp:Float, window_id:Int) {}\n        /** Called for you when a mouse button is released */\n    function onmouseup(x:Int, y:Int, button:Int, timestamp:Float, window_id:Int) {}\n        /** Called for you when the mouse wheel moves */\n    function onmousewheel(x:Float, y:Float, timestamp:Float, window_id:Int) {}\n        /** Called for you when the mouse moves */\n    function onmousemove(x:Int, y:Int, xrel:Int, yrel:Int, timestamp:Float, window_id:Int) {}\n\n        /** Called for you when a touch is released, use the `touch_id` to track which */\n    function ontouchdown(x:Float, y:Float, dx:Float, dy:Float, touch_id:Int, timestamp:Float) {}\n        /** Called for you when a touch is first pressed, use the `touch_id` to track which */\n    function ontouchup(x:Float, y:Float, dx:Float, dy:Float, touch_id:Int, timestamp:Float) {}\n        /** Called for you when a touch is moved, use the `touch_id` to track which */\n    function ontouchmove(x:Float, y:Float, dx:Float, dy:Float, touch_id:Int, timestamp:Float) {}\n\n        /** Called for you when a connected gamepad axis moves, use `which` to determine gamepad id */\n    function ongamepadaxis(gamepad:Int, axis:Int, value:Float, timestamp:Float) {}\n        /** Called for you when a connected gamepad button is pressed, use `which` to determine gamepad id */\n    function ongamepaddown(gamepad:Int, button:Int, value:Float, timestamp:Float) {}\n        /** Called for you when a connected gamepad button is released, use `which` to determine gamepad id */\n    function ongamepadup(gamepad:Int, button:Int, value:Float, timestamp:Float) {}\n        /** Called for you when a gamepad is connected or disconnected, use `which` to determine gamepad id. \n            `id` is the string name identifier for the controller, specified from the system. */\n    function ongamepaddevice(gamepad:Int, id:String, type:GamepadDeviceEventType, timestamp:Float) {}\n\n\n    function internal_init() {\n\n        sim_time = 0;\n        fixed_frame_time = 1.0/60.0;\n\n        tick_start = app.time;\n        tick_start_prev = tick_start - fixed_frame_time;\n        tick_delta = fixed_frame_time;\n\n        frame_start = app.time;\n        frame_start_prev = frame_start - fixed_frame_time;\n        frame_delta = sim_delta = fixed_frame_time;\n\n    } //internal_init\n\n    function internal_tick() {\n\n        ontickstart();\n\n        tick_start = app.time;\n        tick_delta = (tick_start - tick_start_prev);\n        tick_start_prev = tick_start;\n\n            if(fixed_timestep) {\n                internal_tick_fixed_timestep();\n            } else {\n                internal_tick_default();\n            }\n\n        tick(tick_delta);\n\n        ontickend();\n\n        #if (snow_native && !snow_native_no_tick_sleep)\n            Sys.sleep(0);\n        #end\n\n    } //internal_tick\n\n    //inline  //:todo: better handling of update_rate for inlining\n    function internal_tick_default() : Void {\n\n        if(update_rate != 0) {\n\n            if(app.time < next_tick) {\n                return;\n            }\n\n            next_tick = app.time + update_rate;\n\n        }\n\n        frame_start = tick_start;\n        frame_delta = (frame_start - frame_start_prev);\n        frame_start_prev = frame_start;\n\n        if(frame_delta > frame_max_delta) {\n            frame_delta = frame_max_delta;\n        }\n\n        var _used_delta = (fixed_delta == 0) ? frame_delta : fixed_delta;\n        _used_delta *= timescale;\n        sim_delta = _used_delta;\n\n        sim_time += _used_delta;\n        update(_used_delta);\n\n    } //internal_tick_default\n\n    inline function internal_tick_fixed_timestep() : Void {\n\n        frame_start = app.time;\n        frame_delta = (frame_start - frame_start_prev);\n        frame_start_prev = frame_start;\n\n        sim_delta = frame_delta * timescale;\n        if(sim_delta > frame_max_delta) {\n            sim_delta = frame_max_delta;\n        }\n\n        fixed_overflow += sim_delta;\n\n        var _slice = fixed_frame_time * timescale;\n        while(fixed_overflow >= fixed_frame_time) {\n\n            update(_slice);\n            sim_time += _slice;\n            fixed_overflow -= _slice;\n\n        }\n\n        fixed_alpha = fixed_overflow / fixed_frame_time;\n\n    } //internal_tick_fixed_timestep\n\n//Internal\n\n    //Main app entry point\n\n    #if !snow_no_main\n\n        static function main() {\n\n            new snow.Snow(new AppHost());\n\n        } //main\n\n    #end //!snow_no_main\n\n} //App\n","package luxe;\n\nimport snow.Snow;\nimport snow.types.Types;\nimport snow.systems.assets.Asset;\nimport snow.api.buffers.Uint8Array;\n\nimport Luxe;\nimport luxe.IO;\nimport luxe.Audio;\nimport luxe.Events;\nimport luxe.Emitter;\nimport luxe.Input;\nimport luxe.Scene;\nimport luxe.Debug;\nimport luxe.Timer;\nimport luxe.Physics;\nimport luxe.GameConfig;\nimport luxe.Resources;\n\nimport luxe.debug.ProfilerDebugView;\n\nimport phoenix.Renderer;\nimport phoenix.Texture;\nimport phoenix.Shader;\n\nimport luxe.Game;\nimport luxe.Log.*;\n\ntypedef UserConfig = Dynamic\n\n@:keep\n@:noCompletion\n@:log_as('luxe')\nclass Engine extends snow.App {\n\n        //the game object running the core\n    public var game : Game;\n    public var game_config : GameConfig;\n\n    public var version   : String = 'dev';\n    public var build     : String = luxe.macros.BuildVersion.latest();\n\n//Sub Systems, mostly in order of importance\n    public var emitter   : Emitter<luxe.Ev>;\n    public var debug     : Debug;\n    public var io        : IO;\n    public var draw      : Draw;\n    public var timer     : Timer;\n    public var events    : Events;\n    public var input     : Input;\n    public var audio     : Audio;\n    public var scene     : Scene;\n    public var resources : Resources;\n    public var renderer  : Renderer;\n    public var screen    : luxe.Screen;\n    public var physics   : Physics;\n\n//flags\n\n    public var shutting_down : Bool = false;\n    public var has_shutdown : Bool = false;\n    public var inited : Bool = false;\n    public var headless = false;\n    public var auto_render = true;\n\n    var running = false;\n\n        /** Create a new luxe engine instance.\n            Call run when you are ready for it to start up,\n            which allows you to attach to events in between. */\n    public function new(_game:Game) {\n\n        game = _game;\n\n            //Create internal stuff\n        emitter = new Emitter<luxe.Ev>();\n\n            //Set external references\n        Luxe.core = this;\n        Luxe.utils = new luxe.utils.Utils(this);\n\n    } //new\n\n//Public API\n\n        /** Runs the engine. Can only be called once.\n            Does not return until engine is shut down. */\n    public function run() {\n\n        assert(running == false);\n\n        running = true;\n\n        new snow.Snow(this);\n\n    } //run\n\n        /** Shut down the engine */\n    public function shutdown() {\n\n            //Make sure all systems know we are going down\n        shutting_down = true;\n\n            //shutdown snow, which calls ondestroy for us\n        snow.Snow.next(app.shutdown);\n\n    } //shutdown\n\n        /** Returns information about the runtime, like the build number, debug state, os, platform */\n    public inline function runtime_info() {\n\n        return '${build} / debug:${app.debug} / os:${app.os} / platform:${app.platform}';\n\n    } //runtime_info\n\n    // @:generic\n    inline\n    public function on<T>(event:luxe.Ev, handler:T->Void ) {\n        emitter.on(event, handler);\n    }\n\n    // @:generic\n    inline\n    public function off<T>(event:luxe.Ev, handler:T->Void ) {\n        return emitter.off(event, handler);\n    }\n\n    // @:generic\n    inline\n    public function emit<T>(event:luxe.Ev, ?data:T) {\n        return emitter.emit(event, data);\n    }\n\n//Internal\n\n    override function ready() {\n\n        if(luxe.Log.get_level() > 1) {\n            log('log / level to ${luxe.Log.get_level()}' );\n            log('log / filter : ${luxe.Log.get_filter()}');\n            log('log / exclude : ${luxe.Log.get_exclude()}');\n        }\n\n        version = haxe.Resource.getString('version');\n            //Don't change this, it matches semantic versioning http://semver.org/\n        build = version + haxe.Resource.getString('build');\n\n        log(runtime_info());\n\n            //:todo: I'm not happy about this but for now it will do\n        #if no_default_font\n\n            init(null);\n\n        #else\n\n            headless = game_config.headless;\n            if(!headless) {\n\n                var _font_name = 'default.png';\n                var _font_image = Uint8Array.fromBytes(haxe.Resource.getBytes(_font_name));\n                var _font_load = app.assets.image_from_bytes(_font_name, _font_image);\n\n                _font_load.then(function(asset:AssetImage) {\n                    init(asset);\n                }).error(function(error) {\n                    log(\"failed to load default font, things will probably not look right... $error\");\n                    init(null);\n                });\n\n            } else {\n\n                auto_render = false;\n                init(null);\n\n            }\n\n        #end //no_default_font\n\n    } //ready\n\n    override function ondestroy() {\n\n        shutting_down = true;\n\n        log('shutting down...');\n\n            //shutdown the default scene\n        emitter.emit(luxe.Ev.destroy);\n        game.ondestroy();\n\n            //Order is imporant here too\n        if(renderer != null) {\n            renderer.destroy();\n        }\n\n        physics.destroy();\n        input.destroy();\n        audio.destroy();\n        timer.destroy();\n        events.destroy();\n        debug.destroy();\n\n            //Clear up for GC\n        emitter = null;\n        input = null;\n        audio = null;\n        events = null;\n        timer = null;\n        debug = null;\n        Luxe.utils = null;\n\n            //Flag it\n        has_shutdown = true;\n\n        log('goodbye.');\n\n    } //ondestroy\n\n    var pixel_scale : Float = 1;\n\n    function init(asset:AssetImage) {\n\n        _debug('creating subsystems...');\n\n            //Order is important here\n\n        Luxe.debug = debug = new Debug(this);\n        Luxe.io = io = new IO(this);\n\n        draw    = new Draw(this);\n        timer   = new Timer(this);\n        events  = new Events();\n        audio   = new Audio(this);\n        input   = new Input(this);\n        physics = new Physics(this);\n\n        resources = new Resources();\n        Luxe.resources = resources;\n\n        if(!headless) {\n            renderer = new Renderer(this, asset);\n            Luxe.renderer = renderer;\n        }\n\n        var _render_w = app.runtime.window_width();\n        var _render_h = app.runtime.window_height();\n\n        #if luxe_no_device_pixel_scaling\n            screen = new luxe.Screen(this, _render_w, _render_h);\n        #else\n            pixel_scale = app.runtime.window_device_pixel_ratio();\n            screen = new luxe.Screen(this, Math.floor(_render_w/pixel_scale), Math.floor(_render_h/pixel_scale));\n        #end\n\n        debug.init();\n           io.init();\n        timer.init();\n        audio.init();\n        input.init();\n\n        if(!headless) {\n            renderer.init();\n        }\n\n        physics.init();\n\n        Luxe.audio  = audio;\n        Luxe.draw   = draw;\n        Luxe.events = events;\n        Luxe.timer  = timer;\n        Luxe.input  = input;\n\n        if(!headless) {\n            Luxe.camera = new luxe.Camera({ name:'default camera', view:renderer.camera });\n        }\n\n        Luxe.physics = physics;\n\n        scene = new Scene('default scene');\n        Luxe.scene = scene;\n\n        if(!headless) {\n            scene.add(Luxe.camera);\n            debug.create_debug_console();\n        }\n\n        internal_pre_ready();\n\n    } //init\n\n    function internal_pre_ready() {\n\n        if(!headless) {\n\n            _debug('ready. loading default parcel ' + game_config.preload);\n\n                //pre load config parcel\n            var _default_parcel = new Parcel({\n                id:         'default_parcel',\n                system:     resources,\n                bytes:      game_config.preload.bytes,\n                texts:      game_config.preload.texts,\n                jsons:      game_config.preload.jsons,\n                textures:   game_config.preload.textures,\n                fonts:      game_config.preload.fonts,\n                shaders:    game_config.preload.shaders,\n                sounds:     game_config.preload.sounds,\n                oncomplete: internal_ready,\n                onfailed: function(_error:Dynamic) {\n                    log('config / preload / failed to load');\n                    throw Error.error(_error);\n                }\n            });\n\n            _default_parcel.load();\n\n        } else {\n\n            internal_ready(null);\n\n        }\n\n    } //internal_pre_ready\n\n    function internal_ready(_) {\n\n        if(!headless) {\n\n            #if !luxe_noprofile\n                    //start called here, so that end is called first, in update/tick\n                debug.start(Tag.update, 50);\n                debug.start(Tag.tick, 50);\n            #end\n\n        } //!headless\n\n            //Call the main ready function\n            //and send the ready event to the game\n        game.ready();\n\n            //shutdown can come from the ready function\n        if(!shutting_down) {\n\n                //emit the init event\n                //so that scene and others can start up\n            emitter.emit(luxe.Ev.init);\n            inited = true;\n\n                //Reset the physics (starts the timer etc)\n            physics.reset();\n\n        } //!shutting down\n\n    } //internal_ready\n\n//System events\n\n    override function onevent(_event:snow.types.Types.SystemEvent) {\n\n        if(_event.window != null) {\n            window_event(_event.window);\n        }\n\n        game.onevent(_event);\n\n    } //onevent\n\n//Update events\n\n    override function update(_delta:Float) {\n\n        if(has_shutdown) return;\n        if(!inited) return;\n\n        //The order of end/start matters\n\n            #if !luxe_noprofile\n                debug.end(Tag.update);\n                debug.start(Tag.update);\n            #end\n\n        //Update all the subsystems, again, order important\n\n            //Timers first\n            #if luxe_fullprofile debug.start(Tag.timer); #end\n        timer.process();\n            #if luxe_fullprofile debug.end(Tag.timer); #end\n            //Input second\n            #if luxe_fullprofile debug.start(Tag.input); #end\n        input.process();\n            #if luxe_fullprofile debug.end(Tag.input); #end\n            //Audio\n            #if luxe_fullprofile debug.start(Tag.audio); #end\n        audio.process();\n            #if luxe_fullprofile debug.end(Tag.audio); #end\n            //Events\n            #if luxe_fullprofile debug.start(Tag.events); #end\n        events.process();\n            #if luxe_fullprofile debug.end(Tag.events); #end\n\n            //Physics\n            //note that this does not update the physics, simply processes the active engines\n        physics.process();\n\n            //Run update callbacks\n            #if !luxe_noprofile debug.start(Tag.updates); #end\n        emitter.emit(luxe.Ev.update, _delta);\n            #if !luxe_noprofile debug.end(Tag.updates); #end\n\n            //Update the game\n            #if !luxe_noprofile debug.start(Tag.game_update); #end\n        game.update(_delta);\n            #if !luxe_noprofile debug.end(Tag.game_update); #end\n\n            //And finally the debug stuff\n            #if luxe_fullprofile debug.start(Tag.debug); #end\n        debug.process();\n            #if luxe_fullprofile debug.end(Tag.debug); #end\n\n    } //update\n\n    override function tick(_delta:Float) {\n\n        if(shutting_down) return;\n        if(!inited) return;\n\n        #if !luxe_noprofile\n            debug.end(Tag.tick);\n            debug.start(Tag.tick);\n        #end\n\n        if(auto_render) {\n            render();\n        }\n\n    } //tick\n\n    @:noCompletion \n    public function render() {\n\n        #if !luxe_noprofile debug.start(Tag.render); #end\n\n        renderer.prerender();\n\n        emitter.emit(luxe.Ev.prerender);\n        game.onprerender();\n\n            emitter.emit(luxe.Ev.render);\n            game.onrender();\n            renderer.process();\n\n        emitter.emit(luxe.Ev.postrender);\n        game.onpostrender();\n\n        #if !luxe_noprofile debug.end(Tag.render); #end\n\n        debug.render();\n\n    } //render\n\n    override function ontickstart() {\n\n        if(!has_shutdown) {\n            emitter.emit(luxe.Ev.tickstart);\n        }\n\n    } //ontickstart\n\n    override function ontickend() {\n\n        if(!has_shutdown) {\n            emitter.emit(luxe.Ev.tickend);\n        }\n\n    } //ontickend\n\n//Window events\n\n    function window_event(_event:snow.types.Types.WindowEvent) {\n\n        if(shutting_down) return;\n        if(!inited) return;\n\n            //sizes from snow are in renderable pixels\n        var _render_w = _event.x;\n        var _render_h = _event.y;\n\n            //first ensure our pixel scale still matches\n        #if !luxe_no_device_pixel_scaling\n            pixel_scale = app.runtime.window_device_pixel_ratio();\n        #end\n        \n            //and then ensure that our event matches our expectations\n        _event.x = Math.floor(_render_w/pixel_scale);\n        _event.y = Math.floor(_render_h/pixel_scale);\n\n        emitter.emit(luxe.Ev.window, _event);\n\n        switch(_event.type) {\n\n            case we_moved : {\n                emitter.emit(luxe.Ev.windowmoved, _event);\n                game.onwindowmoved(_event);\n            } //moved\n\n            case we_resized : {\n                screen.internal_resized(_event.x, _event.y);\n                renderer.internal_resized(_render_w, _render_h);\n                emitter.emit(luxe.Ev.windowresized, _event);\n                game.onwindowresized(_event);\n            } //resized\n\n            case we_size_changed : {\n                screen.internal_resized(_event.x, _event.y);\n                renderer.internal_resized(_render_w, _render_h);\n                emitter.emit(luxe.Ev.windowsized, _event);\n                game.onwindowsized(_event);\n            } //size_changed\n\n            case we_minimized : {\n                emitter.emit(luxe.Ev.windowminimized, _event);\n                game.onwindowminimized(_event);\n            } //minimized\n\n            case we_restored : {\n                emitter.emit(luxe.Ev.windowrestored, _event);\n                game.onwindowrestored(_event);\n            } //restored\n\n            case _:\n\n        } //switch\n\n        _event = null;\n\n    } //window_event\n\n//Input events\n\n    //mouse\n\n        //input events come in renderable coord space\n        //so we take them to the right pixel scale if necessary.\n        //touch is 0...1 so that stays, and input events spawn from\n        //the input.* from the origin calls below, so they're fine\n\n        override function onmousedown(_x:Int, _y:Int, _button:Int, _timestamp:Float, _window_id:Int) {\n\n            if(!inited) return;\n\n            _x = Std.int(_x/pixel_scale);\n            _y = Std.int(_y/pixel_scale);\n\n            screen.cursor.set_internal(_x, _y);\n\n            input.onmousedown(_x, _y, _button, _timestamp, _window_id);\n\n        } //onmousedown\n\n        override function onmouseup(_x:Int, _y:Int, _button:Int, _timestamp:Float, _window_id:Int) {\n\n            if(!inited) return;\n\n            _x = Std.int(_x/pixel_scale);\n            _y = Std.int(_y/pixel_scale);\n\n            screen.cursor.set_internal(_x, _y);\n\n            input.onmouseup(_x, _y, _button, _timestamp, _window_id);\n\n        } //onmouseup\n\n        override function onmousemove(_x:Int, _y:Int, _x_rel:Int, _y_rel:Int, _timestamp:Float, _window_id:Int) {\n\n            if(!inited) return;\n\n            _x = Std.int(_x/pixel_scale);\n            _y = Std.int(_y/pixel_scale);\n\n            screen.cursor.set_internal(_x, _y);\n\n            input.onmousemove(_x, _y, _x_rel, _y_rel, _timestamp, _window_id);\n\n        } //onmousemove\n\n        override function onmousewheel(_x:Float, _y:Float, _timestamp:Float, _window_id:Int) {\n\n            if(!inited) return;\n\n            input.onmousewheel(_x, _y, _timestamp, _window_id);\n\n        } //onmousewheel\n\n    //keys\n\n        override function onkeydown(_keycode:Int, _scancode:Int, _repeat:Bool, _mod:ModState, _timestamp:Float, _window_id:Int) : Void {\n\n            if(!inited) return;\n\n            input.onkeydown(_keycode, _scancode, _repeat, _mod, _timestamp, _window_id);\n\n        } //onkeydown\n\n        override function onkeyup(_keycode:Int, _scancode:Int, _repeat:Bool, _mod:ModState, _timestamp:Float, _window_id:Int) : Void {\n\n            if(!inited) return;\n\n            input.onkeyup(_keycode, _scancode, _repeat, _mod, _timestamp, _window_id);\n\n        } //onkeyup\n\n        override function ontextinput(_text:String, _start:Int, _length:Int, _etype:snow.types.TextEventType, _timestamp:Float, _window_id:Int) : Void {\n\n            if(!inited) return;\n\n            input.ontextinput(_text, _start, _length, _etype, _timestamp, _window_id);\n\n        } //ontextinput\n\n    //touch\n\n        override function ontouchdown(_x:Float, _y:Float, _dx:Float, _dy:Float, _touch_id:Int, _timestamp:Float) {\n\n            if(!inited) return;\n\n            input.ontouchdown(_x, _y, _dx, _dy, _touch_id, _timestamp);\n\n        } //ontouchdown\n\n        override function ontouchup(_x:Float, _y:Float, _dx:Float, _dy:Float, _touch_id:Int, _timestamp:Float) {\n\n            if(!inited) return;\n\n             input.ontouchup(_x, _y, _dx, _dy, _touch_id, _timestamp);\n\n        } //ontouchup\n\n        override function ontouchmove(_x:Float, _y:Float, _dx:Float, _dy:Float, _touch_id:Int, _timestamp:Float) {\n\n            if(!inited) return;\n\n            input.ontouchmove(_x, _y, _dx, _dy, _touch_id, _timestamp);\n\n        } //ontouchmove\n\n    //input\n\n        public function oninputdown(_name:String, ?_key_event:KeyEvent, ?_mouse_event:MouseEvent, ?_touch_event:TouchEvent, ?_gamepad_event:GamepadEvent) {\n\n            if(!inited) return;\n\n            input.oninputdown(_name, _key_event, _mouse_event, _touch_event, _gamepad_event);\n\n        } //oninputdown\n\n        public function oninputup(_name:String, ?_key_event:KeyEvent, ?_mouse_event:MouseEvent, ?_touch_event:TouchEvent, ?_gamepad_event:GamepadEvent) {\n\n            if(!inited) return;\n\n            input.oninputup(_name, _key_event, _mouse_event, _touch_event, _gamepad_event);\n\n        } //oninputup\n\n    //gamepad\n\n        override function ongamepadaxis(_gamepad:Int, _axis:Int, _value:Float, _timestamp:Float) : Void {\n\n            if(!inited) return;\n\n            input.ongamepadaxis(_gamepad, _axis, _value, _timestamp);\n\n        } //ongamepadaxis\n\n        override function ongamepaddown(_gamepad:Int, _button:Int, _value:Float, _timestamp:Float) : Void {\n\n            if(!inited) return;\n\n            input.ongamepaddown(_gamepad, _button, _value, _timestamp);\n\n        } //ongamepadbuttondown\n\n        override function ongamepadup(_gamepad:Int, _button:Int, _value:Float, _timestamp:Float) : Void {\n\n            if(!inited) return;\n\n            input.ongamepadup(_gamepad, _button, _value, _timestamp);\n\n        } //ongamepadup\n\n        override function ongamepaddevice(_gamepad:Int, _id:String, _etype:GamepadDeviceEventType, _timestamp:Float) : Void {\n\n            if(!inited) return;\n\n            input.ongamepaddevice(_gamepad, _id, _etype, _timestamp);\n\n        } //ongamepaddevice\n\n\n//config handling\n\n        /** return what the game decides for runtime config */\n    override function config(_config:snow.types.Types.AppConfig) : snow.types.Types.AppConfig {\n\n        if(_config.user == null) _config.user = {};\n\n            //start with the snow default config\n        game_config = cast _config;\n\n            //assign the default luxe values\n        game_config.window.title = 'luxe game';\n        game_config.window.width = 960;\n        game_config.window.height = 640;\n        game_config.window.resizable = true;\n        game_config.window.fullscreen = #if mobile true #else false #end;\n        game_config.window.borderless = #if mobile true #else false #end;\n\n        game_config.preload = {\n            bytes:      [],\n            texts:      [],\n            jsons:      [],\n            textures:   [],\n            fonts:      [],\n            shaders:    [],\n            sounds:     []\n        };\n\n            //fetch the user updates to the config\n        game_config = game.config( game_config );\n\n            //return the snow config\n        return cast game_config;\n\n    } //config\n\n} //Engine\n\n\n/**\nA tag class for the string based values in the core.\nNote that these values are not inline intentionally, they avoid\nallocating strings each frame.\n*/\n@:noCompletion\n@:allow(luxe.Engine)\nclass Tag {\n    static var update       = 'update dt';\n    static var tick         = 'tick dt';\n    static var game_update  = 'game.update';\n    static var render       = 'core.render';\n    static var debug        = 'core.debug';\n    static var updates      = 'core.updates';\n    static var events       = 'core.events';\n    static var audio        = 'core.audio';\n    static var input        = 'core.input';\n    static var timer        = 'core.timer';\n    static var scene        = 'core.scene';\n}\n","package luxe;\n\nimport luxe.Engine;\nimport luxe.Log.*;\n\n\n/** An event system that handles queued, immediate or\n    scheduled event id's to be fired and listened for.\n    Multiple listeners can be connected to a single event id,\n    and when fired all listeners are informed. Events are not\n    retroactive, only listeners that are attached at the time\n    will recieve the event notifications. Don't forget to disconnect events. */\nclass Events {\n\n    @:noCompletion public var event_queue : Array<EventObject>;\n    @:noCompletion public var event_connections : Map<String, EventConnection>; //event id, connect\n    @:noCompletion public var event_slots : Map<String, Array<EventConnection> >; //event name, array of connections\n    @:noCompletion public var event_filters : Map<String, Array<EventConnection> >; //event name, array of connections\n    @:noCompletion public var event_schedules : Map<String, snow.api.Timer>; //event id, timer\n\n    var event_queue_count = 0;\n\n        /** Create a new instance for sending/receiving events. */\n    public inline function new( ) {\n\n            //create the queue, lists and map\n        event_connections = new Map();\n        event_slots = new Map();\n        event_filters = new Map();\n        event_queue = [];\n        event_schedules = new Map();\n\n    } //new\n\n        /** Destroy this `Events` instance */\n    public function destroy() {\n\n        clear();\n\n    } //destroy\n\n        /** Clear any scheduled or bound events. Called on destroy. */\n    public function clear() {\n\n        for(schedule in event_schedules) {\n            schedule.stop();\n            schedule = null;\n        }\n\n        for(connection in event_connections.keys()) {\n            event_connections.remove(connection);\n        }\n\n        for(filter in event_filters.keys()) {\n            event_filters.remove(filter);\n        }\n\n        for(slot in event_slots.keys()) {\n            event_slots.remove(slot);\n        }\n\n        var _count = event_queue.length;\n        while(_count > 0) {\n            event_queue.pop();\n            _count--;\n        }\n\n    }\n\n        /** Convenience. Exposed for learning/testing the filtering API. */\n    public function does_filter_event( _filter:String, _event:String ) {\n\n        var _replace_stars = ~/\\*/gi;\n        var _final_filter = _replace_stars.replace( _filter, '.*?' );\n        var _final_search = new EReg(_final_filter, 'gi');\n\n        return _final_search.match( _event );\n\n    } //does_filter_event\n\n\n        /** Bind a signal (listener) to a slot (event_name)\n            event_name : The event id\n            listener : A function handler that should get called on event firing */\n    public function listen<T>( _event_name : String, _listener : T -> Void ):String {\n\n            //we need an ID and a connection to store\n        var _id = Luxe.utils.uniqueid();\n        var _connection = new EventConnection( _id, _event_name, _listener );\n\n            //now we store it in the map\n        event_connections.set( _id, _connection );\n\n            //first check if the event name in question has a * wildcard,\n            //if it does we have to store it as a filtered event so it's more optimal\n            //to search through when events are fired\n        var _has_stars = ~/\\*/gi;\n        if(_has_stars.match(_event_name)) {\n\n                //also store the listener inside the slots\n            if(!event_filters.exists(_event_name)) {\n                    //no slot exists yet? make one!\n                event_filters.set(_event_name, [] );\n            }\n\n                //it should exist by now, lets store the connection by event name\n            event_filters.get(_event_name).push( _connection );\n\n        } else {\n\n                //also store the listener inside the slots\n            if(!event_slots.exists(_event_name)) {\n                    //no slot exists yet? make one!\n                event_slots.set(_event_name, [] );\n            }\n\n                //it should exist by now, lets store the connection by event name\n            event_slots.get(_event_name).push( _connection );\n\n        }\n\n            //return the id for unlistening\n        return _id;\n\n    } //listen\n\n        /**Disconnect a bound signal\n            The event connection id is returned from listen()\n            and returns true if the event existed and was removed. */\n    public function unlisten( event_id : String ) : Bool {\n\n        if(event_connections.exists(event_id)) {\n\n            var _connection = event_connections.get(event_id);\n            var _event_slot = event_slots.get(_connection.event_name);\n\n            if(_event_slot != null) {\n                _event_slot.remove(_connection);\n                return true;\n            } else {\n                var _event_filter = event_filters.get(_connection.event_name);\n                if(_event_filter != null) {\n                    _event_filter.remove(_connection);\n                    return true;\n                } else {\n                    return false;\n                } //event_filter != null\n            } //event_slot != null\n\n            return true;\n\n        } else {\n            return false;\n        }\n\n    } //unlisten\n\n        /*Queue an event in the next update loop\n            event_name : The event (register listeners with listen())\n            properties : A dynamic pass-through value to hand off data\n            returns : a String, the unique ID of the event */\n    public function queue<T>( event_name : String, ?properties : T ) : String {\n\n        var _id = Luxe.utils.uniqueid();\n\n            event_queue.push(new EventObject(_id, event_name, properties));\n\n        return _id;\n\n    } //queue\n\n        /** Remove an event from the queue by id returned from queue. */\n    public function dequeue( event_id: String ) {\n\n        //:todo: proper search, not string id's, etc\n        var _idx = 0;\n        var _count = event_queue.length;\n        do {\n\n            if(event_queue[_idx].id == event_id) {\n                event_queue.splice(_idx, 1);\n                return true;\n            }\n\n            ++_idx;\n\n        } while(_idx < _count);\n\n        return false;\n\n    } //dequeue\n\n        /** Process/update the events, firing any events in the queue.\n            if you create a custom instance, call this when you want to process. */\n    public function process() {\n\n            //fire each event in the queue\n        var _count = event_queue.length;\n        while(_count > 0) {\n            var _event = event_queue.shift();\n            fire(_event.name, _event.properties);\n            _count--;\n        }\n\n    } //update\n\n        /** Fire an event immediately, calling all listeners.\n            properties : An optional pass-through value to hand to the listener.\n            Returns true if event existed, false otherwise.\n            If the optional tag flag is set (default:false), the properties object will be modified\n            with some debug information, like _event_name_ and _event_connection_count_ */\n    public function fire<T>( _event_name : String, ?_properties : T, ?_tag:Bool=false ) : Bool {\n\n        var _fired = false;\n\n        //we have to check against our filters if this event matches anything\n        for(_filter in event_filters) {\n\n            if(_filter.length > 0) {\n\n                var _filter_name = _filter[0].event_name;\n                if(does_filter_event(_filter_name, _event_name)) {\n\n                    if(_tag) {\n                        _properties = tag_properties(_properties, _event_name, _filter.length);\n                    }\n\n                    for(_connection in _filter) {\n                        _connection.listener( cast _properties );\n                    } //each connection to this filter\n\n                    _fired = true;\n\n                } //if it actually fits this event filter\n            } //if there are any connections\n\n        } //for each of our filters\n\n        if(event_slots.exists( _event_name )) {\n\n                //we have an event by this name\n            var _connections = event_slots.get(_event_name);\n\n            if(_tag) {\n                _properties = tag_properties(_properties, _event_name, _connections.length);\n            }\n\n                //call each listener\n            for(connection in _connections) {\n                connection.listener( cast _properties );\n            }\n\n            _fired = true;\n\n        }\n\n        return _fired;\n\n    } //fire\n\n        /** Schedule and event in the future\n            event_name : The event (register listeners with listen())\n            properties : An optional pass-through value to hand to the listeners\n            Returns the ID of the schedule (for unschedule) */\n    public function schedule<T>( time:Float, event_name : String, ?properties : T ) : String {\n\n        var _id : String = Luxe.utils.uniqueid();\n\n            var _timer = Luxe.timer.schedule(time, fire.bind(event_name, properties));\n\n            event_schedules.set( _id, _timer );\n\n        return _id;\n\n    } //schedule\n\n        /** Unschedule a previously scheduled event\n            schedule_id : The id of the schedule (returned from schedule)\n            Returns false if fails, or event doesn't exist */\n    public function unschedule( schedule_id : String ) : Bool {\n\n        if(event_schedules.exists(schedule_id)) {\n                //find the timer\n            var _timer = event_schedules.get(schedule_id);\n                //kill it\n            _timer.stop();\n                //remove it from the list\n            event_schedules.remove(schedule_id);\n                //done\n            return true;\n        }\n\n        return false;\n\n    } //unschedule\n\n//Internal\n\n    function tag_properties(_properties:Dynamic, _name:String,_count:Int) {\n\n        def(_properties, {});\n\n            //tag these information slots, with _ so they don't clobber other stuff\n        Reflect.setField(_properties,'_event_name_', _name);\n            //tag a listener count\n        Reflect.setField(_properties,'_event_connection_count_', _count);\n\n        return _properties;\n\n    } //tag_properties\n\n} // Events\n\nprivate class EventConnection {\n\n\n    public var listener : Dynamic -> Void;\n    public var id : String;\n    public var event_name : String;\n\n\n    public function new( _id:String, _event_name:String, _listener : Dynamic -> Void ) {\n\n        id = _id;\n        listener = _listener;\n        event_name = _event_name;\n\n    } //new\n\n\n} //EventConnection\n\nprivate class EventObject {\n\n\n    public var id : String;\n    public var name:String;\n    public var properties : Dynamic;\n\n\n    public function new(_id:String, _event_name:String, _event_properties:Dynamic ) {\n\n        id = _id;\n        name = _event_name;\n        properties = _event_properties;\n\n    } //new\n\n\n} //EventObject\n","package luxe;\n\nimport luxe.Engine;\n\n@:allow(luxe.Engine)\nclass IO {\n\n    public var core : Engine;\n\n    function new( _core:Engine ) {\n        core = _core;\n    } //new\n\n//Path specifics\n#if luxe_native\n    public var app_path (get,never) : String;\n    public var app_path_prefs (get,never) : String;\n#end\n\n//Utility features\n\n        /** Open the system default browser with the given URL.\n            supported: mac/window/linux/iOS/web\n            pending: android https://github.com/underscorediscovery/snow/issues/25 */\n    public inline function url_open( _url:String ) {\n\n        core.app.io.url_open( _url );\n\n    } //url_open\n\n        /** Save a string value by key, with an optional slot.\n            To remove a saved key, pass value in as null.\n            Works on all targets as a simple save/load mechanism.\n            Data saved is plain text but obscured with basic encoding.\n            Any further obfuscation can be done on the value prior to saving.\n            Returns false if the save failed, errors being logged. */\n    public inline function string_save( _key:String, _value:String, _slot:Int = 0 ) : Bool {\n\n        return core.app.io.string_save(_key, _value, _slot);\n\n    } //string_save\n\n        /** Load a string value by key, with an optional slot.\n            Works on all targets as a simple save/load mechanism.\n            Returns the string or null if the key was invalid, or the slot was not found. */\n    public inline function string_load( _key:String, _slot:Int = 0 ) : String {\n\n        return core.app.io.string_load(_key, _slot);\n\n    } //string_load\n\n        /** Destroy a specific string slot, removing all values stored.\n            Does not ask for confirmation. Returns true if successful, false otherwise. */\n    public inline function string_destroy( _slot:Int = 0 ) : Bool {\n\n        return core.app.io.string_destroy(_slot);\n\n    } //string_destroy\n\n//Internal\n\n#if luxe_native\n\n    function get_app_path() {\n\n        return core.app.io.module.app_path();\n\n    } //get_app_path\n\n    function get_app_path_prefs() {\n\n        return core.app.io.module.app_path_prefs();\n\n    } //get_app_path\n\n#end\n\n    function init() {\n\n    } //init\n\n} //IO\n","package luxe;\n\nimport luxe.Engine;\nimport luxe.Log._debug;\nimport snow.types.Types;\n\n@:allow(luxe.Engine)\nclass Input {\n\n    var core : Engine;\n\n    @:noCompletion public var key_bindings : Map<String, Map<Int,Bool> >;\n    @:noCompletion public var mouse_bindings : Map<String, Map<Int,Bool> >;\n    @:noCompletion public var gamepad_bindings: Map<String, Map<Int, Null<Int>> >;\n\n    var _named_input_released : Map<String, Bool>;\n    var _named_input_pressed : Map<String, Bool>;\n    var _named_input_down : Map<String, Bool>;\n\n    var key_event: KeyEvent;\n    var text_event: TextEvent;\n    var mouse_event: MouseEvent;\n    var touch_event: TouchEvent;\n    var gamepad_event: GamepadEvent;\n    var input_event: InputEvent;\n//\n\n    function new( _core:Engine ) {\n\n        core = _core;\n\n        key_event = new KeyEvent();\n        text_event = new TextEvent();\n        mouse_event = new MouseEvent();\n        touch_event = new TouchEvent();\n        gamepad_event = new GamepadEvent();\n        input_event = new InputEvent();\n\n    } //new\n\n//Public API\n    //Input query\n\n        /** immediate query of the pressed state of a named input. only true if pressed within one frame */\n    public function inputpressed( _event:String ) : Bool {\n        return _named_input_pressed.exists( _event );\n    } //inputpressed\n\n        /** immediate query of the released state of a named input. only true if released within one frame */\n    public function inputreleased( _event:String ) : Bool {\n        return _named_input_released.exists( _event );\n    } //inputreleased\n\n        /** immediate query of the down state of a named input. only true while the key is down */\n    public function inputdown( _event:String ) : Bool {\n        return _named_input_down.exists( _event );\n    } //inputdown\n\n //Keys\n\n        /** immediate query of the pressed state of a `keycode`, use `Key` for named keycodes. only true if pressed within one frame */\n    public function keypressed( _code:Int ) : Bool {\n        return core.app.input.keypressed( _code );\n    } //keypressed\n\n        /** immediate query of the released state of a `keycode`, use `Key` for named keycodes. only true if released within one frame */\n    public function keyreleased( _code:Int ) : Bool{\n        return core.app.input.keyreleased( _code );\n    } //keyreleased\n\n        /** immediate query of the down state of a `keycode`, use `Key` for named keycodes. only true while the key is down */\n    public function keydown( _code:Int ) : Bool{\n        return core.app.input.keydown( _code );\n    } //keydown\n\n\n        /** immediate query of the pressed state of a `scancode`, use `Scan` for named scancodes. only true if pressed within one frame */\n    public function scanpressed( _code:Int ) : Bool {\n        return core.app.input.scanpressed( _code );\n    } //scanpressed\n\n        /** immediate query of the released state of a `scancode`, use `Scan` for named scancodes. only true if released within one frame */\n    public function scanreleased( _code:Int ) : Bool{\n        return core.app.input.scanreleased( _code );\n    } //scanreleased\n\n        /** immediate query of the down state of a `scancode`, use `Scan` for named scancodes. only true while the key is down */\n    public function scandown( _code:Int ) : Bool{\n        return core.app.input.scandown( _code );\n    } //scandown\n\n    //Mouse\n\n        /** immediate query of the pressed state of a mouse button. only true if pressed within one frame */\n    public function mousepressed( _button:MouseButton ) : Bool {\n        return core.app.input.mousepressed( _button );\n    } //mousepressed\n\n        /** immediate query of the released state of a mouse button. only true if released within one frame */\n    public function mousereleased( _button:MouseButton ) : Bool{\n        return core.app.input.mousereleased( _button );\n    } //mousereleased\n\n        /** immediate query of the down state of a mouse button. only true while the button is down. */\n    public function mousedown( _button:MouseButton ) : Bool{\n        return core.app.input.mousedown( _button );\n    } //mousedown\n\n    //Gamepad\n\n        /** immediate query of the pressed state of a gamepad button. only true if pressed within one frame */\n    public function gamepadpressed( _gamepad:Int, _button:Int ) : Bool {\n        return core.app.input.gamepadpressed( _gamepad, _button );\n    } //gamepadpressed\n\n        /** immediate query of the released state of a gamepad button. only true if released within one frame */\n    public function gamepadreleased( _gamepad:Int, _button:Int ) : Bool{\n        return core.app.input.gamepadreleased( _gamepad, _button );\n    } //gamepadreleased\n\n        /** immediate query of the down state of a gamepad button. only true while the button is down */\n    public function gamepaddown( _gamepad:Int, _button:Int ) : Bool{\n        return core.app.input.gamepaddown( _gamepad, _button );\n    } //gamepaddown\n\n        /** immediate query of the axis value of a gamepad axis. */\n    public function gamepadaxis( _gamepad:Int, _axis:Int ) : Float {\n        return core.app.input.gamepadaxis( _gamepad, _axis );\n    } //gamepadaxis\n\n\n//Named event handlers\n    //\n        /** Bind a named input binding to a `Key` keycode */\n    public function bind_key(_name:String, _key:Int) {\n\n        if( !key_bindings.exists(_name) ) {\n            key_bindings.set(_name, new Map<Int,Bool>() );\n        }\n\n        var _kb = key_bindings.get(_name);\n            _kb.set(_key, true);\n\n    } //bind_key\n\n        /** Unbind a previously bound named input binding to a `Key` keycode */\n    public function unbind_key(_name:String, _key:Int) {\n\n        if(!key_bindings.exists(_name)) return;\n\n        var _kb = key_bindings.get(_name);\n            _kb.remove(_key);\n\n    } //unbind_key\n\n        /** Bind a named input binding to a `MouseButton` */\n    public function bind_mouse(_name:String, _button:MouseButton) {\n\n        if( !mouse_bindings.exists(_name) ) {\n            mouse_bindings.set(_name, new Map<Int,Bool>());\n        }\n\n        var _mb = mouse_bindings.get(_name);\n            _mb.set(_button, true);\n\n    } //bind_mouse\n\n        /** Unbind a previously bound named input binding to a `MouseButton` */\n    public function unbind_mouse(_name:String, _button:MouseButton) {\n\n        if(!mouse_bindings.exists(_name)) return;\n\n        var _mb = mouse_bindings.get(_name);\n            _mb.remove(_button);\n\n    } //unbind_mouse\n\n    /** Bind a named input binding to a `Gamepad Button`. If no `Gamepad Id` is specified, any gamepad fires the named binding.*/\n    public function bind_gamepad(_name:String, _gamepad_button:Int, ?_gamepad_id:Null<Int> = null) {\n\n        if ( !gamepad_bindings.exists(_name) ) {\n            gamepad_bindings.set(_name, new Map<Int, Null<Int>>());\n        }\n\n        var _gp = gamepad_bindings.get(_name);\n            _gp.set(_gamepad_button, _gamepad_id);\n\n    } //bind_gamepad\n\n        /** Unbind a previously bound named input binding to a gamepad button */\n    public function unbind_gamepad(_name:String, _button:Int) {\n\n        if(!gamepad_bindings.exists(_name)) return;\n\n        var _gp = gamepad_bindings.get(_name);\n            _gp.remove(_button);\n\n    } //unbind_gamepad\n\n//Internal\n\n    function init() {\n\n        key_bindings = new Map();\n        mouse_bindings = new Map();\n        gamepad_bindings = new Map();\n\n        _named_input_down = new Map();\n        _named_input_pressed = new Map();\n        _named_input_released = new Map();\n\n        _debug('\\t input initialized.');\n\n    } //init\n\n    function destroy() {\n\n        _debug('\\t input shut down.');\n\n    } //destroy\n\n    function process() {\n        //\n\n           //remove any stale named pressed value\n            //unless it wasn't alive for a full frame yet,\n            //then flag it so that it may be\n        for(_event in _named_input_pressed.keys()){\n\n            if(_named_input_pressed.get(_event)){\n                _named_input_pressed.remove(_event);\n            } else {\n                _named_input_pressed.set(_event, true);\n            }\n\n        } //each _named_input_pressed\n\n            //remove any stale key released value\n            //unless it wasn't alive for a full frame yet,\n            //then flag it so that it may be\n        for(_event in _named_input_released.keys()){\n\n            if(_named_input_released.get(_event)){\n                _named_input_released.remove(_event);\n            } else {\n                _named_input_released.set(_event, true);\n            }\n\n        } //each _named_input_released\n\n    } //process\n\n//pass through events from core\n\n    //mouse\n\n        function onmousedown(_x:Int, _y:Int, _button:Int, _timestamp:Float, _window_id:Int) {\n\n            if(core.shutting_down) return;\n\n            mouse_event.set_press(_x, _y, _button, InteractState.down, _timestamp, _window_id);\n\n            check_named_mouse(mouse_event, true);\n\n            core.emit(luxe.Ev.mousedown, mouse_event);\n\n            core.game.onmousedown(mouse_event);\n\n        } //onmousedown\n\n        function onmouseup(_x:Int, _y:Int, _button:Int, _timestamp:Float, _window_id:Int) {\n\n            if(core.shutting_down) return;\n\n            mouse_event.set_press(_x, _y, _button, InteractState.up, _timestamp, _window_id);\n\n            check_named_mouse(mouse_event);\n\n            core.emit(luxe.Ev.mouseup, mouse_event);\n\n            core.game.onmouseup(mouse_event);\n\n        } //onmouseup\n\n        function onmousemove(_x:Int, _y:Int, _x_rel:Int, _y_rel:Int, _timestamp:Float, _window_id:Int) {\n\n            if(core.shutting_down) return;\n\n            mouse_event.set_move(_x, _y, _x_rel, _y_rel, _timestamp, _window_id);\n\n            core.emit(luxe.Ev.mousemove, mouse_event);\n\n            core.game.onmousemove(mouse_event);\n\n        } //onmousemove\n\n        function onmousewheel(_x:Float, _y:Float, _timestamp:Float, _window_id:Int) {\n\n            if(core.shutting_down) return;\n            \n            mouse_event.set_wheel(_x, _y, _timestamp, _window_id);\n\n            check_named_mouse(mouse_event, false);\n                \n            core.emit(luxe.Ev.mousewheel, mouse_event);\n\n            core.game.onmousewheel(mouse_event);\n\n        } //onmousewheel\n\n    //keys\n\n        function onkeydown(_keycode:Int, _scancode:Int, _repeat:Bool, _mod:ModState, _timestamp:Float, _window_id:Int) : Void {\n\n            if(core.shutting_down) return;\n\n            key_event.set(_keycode, _scancode, _repeat, _mod, InteractState.down, _timestamp, _window_id);\n\n            check_named_keys(key_event, true);\n\n            core.emit(luxe.Ev.keydown, key_event);\n\n            core.game.onkeydown(key_event);\n\n        } //onkeydown\n\n        function onkeyup(_keycode:Int, _scancode:Int, _repeat:Bool, _mod:ModState, _timestamp:Float, _window_id:Int) : Void {\n\n            if(core.shutting_down) return;\n\n            key_event.set(_keycode, _scancode, _repeat, _mod, InteractState.up, _timestamp, _window_id);\n\n            check_named_keys(key_event);\n\n            core.emit(luxe.Ev.keyup, key_event);\n\n            core.game.onkeyup(key_event);\n\n        } //onkeyup\n\n        function ontextinput(_text:String, _start:Int, _length:Int, _etype:snow.types.TextEventType, _timestamp:Float, _window_id:Int) : Void {\n            \n            if(core.shutting_down) return;\n\n            var _type = switch(_etype) {\n                case te_edit: TextEventType.edit;\n                case te_input: TextEventType.input;\n                case _: return;\n            }\n\n            text_event.set(_text, _start, _length, _type, _timestamp, _window_id);\n\n            core.emit(luxe.Ev.textinput, text_event);\n\n            core.game.ontextinput(text_event);\n\n        } //ontextinput\n\n    //touch\n\n        function ontouchdown(_x:Float, _y:Float, _dx:Float, _dy:Float, _touch_id:Int, _timestamp:Float) : Void {\n\n            if(core.shutting_down) return;\n\n            touch_event.set(_x, _y, _dx, _dy, _touch_id, InteractState.down, _timestamp);\n\n            core.emit(luxe.Ev.touchdown, touch_event);\n\n            core.game.ontouchdown(touch_event);\n\n        } //ontouchdown\n\n        function ontouchup(_x:Float, _y:Float, _dx:Float, _dy:Float, _touch_id:Int, _timestamp:Float) : Void {\n\n            if(core.shutting_down) return;\n\n            touch_event.set(_x, _y, _dx, _dy, _touch_id, InteractState.up, _timestamp);\n\n            core.emit(luxe.Ev.touchup, touch_event);\n\n            core.game.ontouchup(touch_event);\n\n        } //ontouchup\n\n        function ontouchmove(_x:Float, _y:Float, _dx:Float, _dy:Float, _touch_id:Int, _timestamp:Float) : Void {\n\n            if(core.shutting_down) return;\n\n            touch_event.set(_x, _y, _dx, _dy, _touch_id, InteractState.move, _timestamp);\n\n            core.emit(luxe.Ev.touchmove, touch_event);\n\n            core.game.ontouchmove(touch_event);\n\n        } //ontouchmove\n\n    //gamepad\n\n        function ongamepadaxis(_gamepad:Int, _axis:Int, _value:Float, _timestamp:Float) : Void {\n                \n            if(core.shutting_down) return;\n\n            gamepad_event.set_axis(_gamepad, _axis, _value, _timestamp);\n\n            core.emit(luxe.Ev.gamepadaxis, gamepad_event);\n\n            core.game.ongamepadaxis(gamepad_event);\n\n        } //ongamepadaxis\n\n        function ongamepaddown(_gamepad:Int, _button:Int, _value:Float, _timestamp:Float) : Void {\n                \n            if(core.shutting_down) return;\n\n            gamepad_event.set_button(_gamepad, _button, _value, InteractState.down, _timestamp);\n\n            check_named_gamepad_buttons(gamepad_event, true);\n\n            core.emit(luxe.Ev.gamepaddown, gamepad_event);\n\n            core.game.ongamepaddown(gamepad_event);\n\n        } //ongamepaddown\n\n        function ongamepadup(_gamepad:Int, _button:Int, _value:Float, _timestamp:Float) : Void {\n                \n            if(core.shutting_down) return;\n\n            gamepad_event.set_button(_gamepad, _button, _value, InteractState.up, _timestamp);\n\n            check_named_gamepad_buttons(gamepad_event, false);\n\n            core.emit(luxe.Ev.gamepadup, gamepad_event);\n\n            core.game.ongamepadup(gamepad_event);\n\n        } //ongamepadup\n\n        function ongamepaddevice(_gamepad:Int, _id:String, _etype:GamepadDeviceEventType, _timestamp:Float) : Void {\n                \n            if(core.shutting_down) return;\n\n            var _type = switch(_etype) {\n                case ge_device_added:    GamepadEventType.device_added;\n                case ge_device_removed:  GamepadEventType.device_removed;\n                case ge_device_remapped: GamepadEventType.device_remapped;\n                case _:                  GamepadEventType.unknown;\n            }\n\n            gamepad_event.set_device(_gamepad, _id, _type, _timestamp);\n\n            core.emit(luxe.Ev.gamepaddevice, gamepad_event);\n\n            core.game.ongamepaddevice(gamepad_event);\n\n        } //ongamepaddevice\n\n    //input bindings\n\n        function oninputdown(_name:String, ?_key_event:KeyEvent, ?_mouse_event:MouseEvent, ?_touch_event:TouchEvent, ?_gamepad_event:GamepadEvent) {\n            \n            if(core.shutting_down) return;\n\n            if(_key_event != null) {\n                input_event.set_key(_name, InteractState.down, _key_event);\n            }\n            else if(_mouse_event != null) {\n                input_event.set_mouse(_name, InteractState.down, _mouse_event);\n            }\n            else if(_touch_event != null) {\n                input_event.set_touch(_name, InteractState.down, _touch_event);\n            }\n            else if(_gamepad_event != null) {\n                input_event.set_gamepad(_name, InteractState.down, _gamepad_event);\n            }\n            else {\n                input_event.set_unknown(_name, InteractState.down);\n            }\n\n            core.emit(luxe.Ev.inputdown, input_event);\n\n            core.game.oninputdown(input_event);\n\n        } //oninputdown\n\n        function oninputup(_name:String, ?_key_event:KeyEvent, ?_mouse_event:MouseEvent, ?_touch_event:TouchEvent, ?_gamepad_event:GamepadEvent) {\n            \n            if(core.shutting_down) return;\n\n            if(_key_event != null) {\n                input_event.set_key(_name, InteractState.up, _key_event);\n            }\n            else if(_mouse_event != null) {\n                input_event.set_mouse(_name, InteractState.up, _mouse_event);\n            }\n            else if(_touch_event != null) {\n                input_event.set_touch(_name, InteractState.up, _touch_event);\n            }\n            else if(_gamepad_event != null) {\n                input_event.set_gamepad(_name, InteractState.up, _gamepad_event);\n            }\n            else {\n                input_event.set_unknown(_name, InteractState.up);\n            }\n\n            core.emit(luxe.Ev.inputup, input_event);\n\n            core.game.oninputup(input_event);\n\n        } //oninputup\n\n//internal\n\n    function check_named_keys( e:KeyEvent, _down:Bool=false ) {\n\n        var _fired : Array<String> = [];\n        for(_name in key_bindings.keys()) {\n\n            var _b = key_bindings.get(_name);\n            var _is_down_repeat = _down && e.repeat;\n            if(_b.exists(e.keycode) && !_is_down_repeat) {\n                if( !Lambda.has(_fired, _name)) {\n                    _fired.push(_name);\n                }\n            } //if the key fired is stored in a named binding\n\n        } //for each binding\n\n        for(_f in _fired) {\n            if(_down) {\n\n                    //down but not yet processed\n                _named_input_pressed.set(_f, false);\n                    //down is true immediate, cos up removes it\n                _named_input_down.set(_f, true);\n\n                oninputdown(_f, e);\n\n            } else {\n\n                    //up but not yet processed\n                _named_input_released.set(_f, false);\n                    //remove down state\n                _named_input_down.remove(_f);\n\n                oninputup(_f, e);\n\n            } //if _down\n        } //_f in _fired\n\n    } //check_named_keys\n\n    function check_named_mouse( e:MouseEvent, _down:Bool=false ) {\n\n        var _fired : Array<String> = [];\n        for(_name in mouse_bindings.keys()) {\n\n            var _b = mouse_bindings.get(_name);\n            if(_b.exists(e.button)) {\n                if( !Lambda.has(_fired, _name)) {\n                    _fired.push(_name);\n                }\n            } //if the key fired is stored in a named binding\n\n        } //for each binding\n\n        for(_f in _fired) {\n            if(_down) {\n\n                    //down but not yet processed\n                _named_input_pressed.set( _f, false);\n                    //down is true immediate, cos up removes it\n                _named_input_down.set( _f, true);\n\n                oninputdown(_f, e);\n\n            } else {\n\n                    //up but not yet processed\n                _named_input_released.set( _f, false);\n                    //remove down state\n                _named_input_down.remove( _f );\n\n                oninputup(_f, e);\n\n            }\n        } //_f in _fired\n\n    } //check_named_keys\n\n    function check_named_gamepad_buttons( e:GamepadEvent, _down:Bool=false ) {\n\n        var _fired : Array<String> = [];\n        for (_name in gamepad_bindings.keys()) {\n\n            var _b = gamepad_bindings.get(_name);\n            if (_b.exists(e.button)) {\n                var _kb = _b.get(e.button);\n                var _accepted_gamepad = _kb == null || _kb == e.gamepad;\n                if ( !Lambda.has(_fired, _name) && _accepted_gamepad) {\n                    _fired.push(_name);\n                }\n            } // if the button fired is stored in a named binding\n        }\n\n        for(_f in _fired) {\n            if (_down) {\n\n                //down but now yet processed\n                _named_input_pressed.set( _f, false);\n                // down is true immediate, because up removes it\n                _named_input_down.set( _f, true);\n\n                oninputdown(_f, e);\n\n            } else {\n\n                // up but not yet processed\n                _named_input_released.set( _f, false);\n                // remove down state\n                _named_input_down.remove( _f );\n\n                oninputup(_f, e);\n\n            }\n        } //_f in _fired\n\n    } //check_named_gamepad_buttons\n\n} //Input\n\n    /** A modifier state for key events */\ntypedef ModState        =   snow.types.Types.ModState;\n    /** A named list of keycodes. Use to compare against key event `keycode` values */\ntypedef Key             =   snow.systems.input.Keycodes.Keycodes;\n    /** A named list of scancodes. Use to compare against key event `scancode` values */\ntypedef Scan            =   snow.systems.input.Keycodes.Scancodes;\n\n/** A typed mouse button id */\n@:enum abstract MouseButton(Int) from Int to Int {\n\n/** no mouse buttons */\n    var none = 0;\n/** left mouse button */\n    var left = 1;\n/** middle mouse button */\n    var middle = 2;\n/** right mouse button */\n    var right = 3;\n/** extra button pressed (4) */\n    var extra1 = 4;\n/** extra button pressed (5) */\n    var extra2 = 5;\n\n} //MouseButton\n\n/** A typed state for mouse, touch, or pressed/similar */\nenum InteractState {\n\n/** An unknown state */\n    unknown;\n/** An none state */\n    none;\n/** In a pressed state */\n    down;\n/** In a released state */\n    up;\n/** In a moving state */\n    move;\n/** A mouse wheel state */\n    wheel;\n/** A gamepad axis state */\n    axis;\n\n} //MouseState\n\n/** A typed text event type */\nenum TextEventType {\n\n/** An unknown event */\n    unknown;\n/** An edit text typing event */\n    edit;\n/** An input text typing event */\n    input;\n\n} //TextEventType\n\n/** Information about a keyboard event */\nclass KeyEvent {\n\n    public function new() {\n\n    } //new\n\n        /** The `Scan` code value for this event */\n    public var scancode (default, null): Int;\n        /** The `Key` code value for this event */\n    public var keycode (default, null): Int;\n        /** The state of the key in this event */\n    public var state (default, null): InteractState;\n        /** The modifier state of this event */\n    public var mod (default, null): ModState;\n        /** If this value is bigger than 0 this is a key repeat event of a key held down */\n    public var repeat (default, null): Bool;\n        /** The time in seconds when this touch event occurred, use for deltas */\n    public var timestamp (default, null): Float;\n        /** The window id this event originated from */\n    public var window_id (default, null): Int;\n\n    @:noCompletion\n    public function set(_keycode:Int, _scancode:Int, _repeat:Bool, _mod:ModState, _state:InteractState, _timestamp:Float, _window_id:Int) {\n\n        mod = _mod;\n        state = _state;\n        repeat = _repeat;\n        keycode = _keycode;\n        scancode = _scancode;\n        timestamp = _timestamp;\n        window_id = _window_id;\n\n    } //set\n\n} //KeyEvent\n\n/** Information about a touch event */\nclass TouchEvent {\n\n    public function new() {\n\n        pos = new luxe.Vector();\n\n    } //new\n\n        /** The state this touch event is in */\n    public var state (default, null): InteractState;\n        /** The time in seconds when this touch event occurred, use for deltas */\n    public var timestamp (default, null): Float;\n        /** The id of the touch that this event comes from, a finger id */\n    public var touch_id (default, null): Int;\n        /** The x position in the window of the touch event */\n    public var x (default, null): Float;\n        /** The x position in the window of the touch event */\n    public var y (default, null): Float;\n        /** The delta x value of the touch event, if the state is `moving` */\n    public var dx (default, null): Float;\n        /** The delta y value of the touch event, if the state is `moving` */\n    public var dy (default, null): Float;\n        /** A convenience vector access of the x and y position */\n    public var pos (default, null): luxe.Vector;\n\n    @:noCompletion\n    public function set(_x:Float, _y:Float, _dx:Float, _dy:Float, _touch_id:Int, _state:InteractState, _timestamp:Float) {\n\n        x = _x;\n        y = _y;\n        dx = _dx;\n        dy = _dy;\n        touch_id = _touch_id;\n        timestamp = _timestamp;\n        state = _state;\n\n        pos.set_xy(_x, _y);\n\n    } //set_press\n\n} //TouchEvent\n\n/** Information about a text input event */\nclass TextEvent {\n\n    public function new() {\n\n    } //new\n\n        /** The text that this event has generated */\n    public var text (default, null) : String;\n        /** The type of text event */\n    public var type (default, null) : TextEventType;\n        /** The time in seconds when this touch event occurred, use for deltas */\n    public var timestamp (default, null) : Float;\n        /** The window id this event originated from */\n    public var window_id (default, null) : Int;\n        /** The start position, if the `type` is `edit` */\n    public var start (default, null) : Int;\n        /** The length position, if the `type` is `edit` */\n    public var length (default, null) : Int;\n\n    @:noCompletion\n    public function set(_text:String, _start:Int, _length:Int, _type:TextEventType, _timestamp:Float, _window_id:Int) {\n\n        text = _text;\n        start = _start;\n        length = _length;\n        type = _type;\n        timestamp = _timestamp;\n        window_id = _window_id;\n\n    } //set\n\n} //TextEvent\n\n/** A typed gamepad event type */\nenum GamepadEventType {\n\n    /** An unknown event */\n    unknown;\n    /** An axis change event */\n    axis;\n    /** A button event */\n    button;\n    /** A device added event */\n    device_added;\n    /** A device removed event */\n    device_removed;\n    /** A device was remapped */\n    device_remapped;\n\n} //GamepadEventType\n\n/** Information about a gamepad event */\nclass GamepadEvent {\n\n    public function new() {\n\n    } //new\n\n        /** The time in seconds when this gamepad event occurred, use for deltas */\n    public var timestamp (default, null): Float;\n        /** The type of gamepad event that this corresponds with */\n    public var type (default, null): GamepadEventType;\n        /** The state this event is in */\n    public var state (default, null): InteractState;\n        /** The id of the gamepad this event comes from */\n    public var gamepad (default, null): Int;\n        /** The button id, if the event `type` is `button` */\n    public var button (default, null): Int;\n        /** The axis id, if the event `type` is `axis` */\n    public var axis (default, null): Int;\n        /** The axis value, if the event `type` is `axis` */\n    public var value (default, null): Float;\n        /** The system id / name of the device, **only** if the event `type` is `device_added`,`device_removed` or `device_remapped` */\n    public var id (default, null): String;\n\n    @:noCompletion\n    public function set_axis(_gamepad:Int, _axis:Int, _value:Float, _timestamp:Float) {\n\n        id = null;\n        button = -1;\n        axis = _axis;\n        value = _value;\n        gamepad = _gamepad;\n        timestamp = _timestamp;\n        state = InteractState.axis;\n        type = GamepadEventType.axis;\n\n    } //set_axis\n\n    @:noCompletion\n    public function set_button(_gamepad:Int, _button:Int, _value:Float, _state:InteractState, _timestamp:Float) {\n\n        id = null;\n        axis = -1;\n        state = _state;\n        value = _value;\n        button = _button;\n        gamepad = _gamepad;\n        timestamp = _timestamp;\n        type = GamepadEventType.button;\n\n    } //set_button\n\n    @:noCompletion\n    public function set_device(_gamepad:Int, _id:String, _type:GamepadEventType, _timestamp:Float) {\n\n        id = _id;\n        axis = -1;\n        value = 0;\n        button = -1;\n        type = _type;\n        gamepad = _gamepad;\n        timestamp = _timestamp;\n        state = InteractState.none;\n\n    } //set_device\n\n} //GamepadEvent\n\n/** Information about a mouse event */\nclass MouseEvent {\n\n    public function new() {\n        pos = new luxe.Vector();\n    }\n\n        /** The time in seconds when this touch event occurred, use for deltas */\n    public var timestamp (default, null) : Float = 0.0;\n        /** The window id this event originated from */\n    public var window_id (default, null) : Int = 1;\n        /** The state this event is in */\n    public var state (default, null) : InteractState;\n        /** The button id, if the event `state` is `down` or `up` */\n    public var button (default, null) : MouseButton;\n        /** The x position in the window of the mouse event */\n    public var x (default, null) : Int = 0;\n        /** The y position in the window of the mouse event */\n    public var y (default, null) : Int = 0;\n        /** The relative x position if `state` is `move` or a window has grabbed state */\n    public var x_rel (default, null) : Int = 0;\n        /** The relative y position if `state` is `move` or a window has grabbed state */\n    public var y_rel (default, null) : Int = 0;\n        /** A convenience vector access of the x and y position */\n    public var pos (default, null) : luxe.Vector;\n\n    @:noCompletion\n    public function set_press(_x:Int, _y:Int, _button:MouseButton, _state:InteractState, _timestamp:Float, _window_id:Int) {\n\n        x = _x;\n        y = _y;\n        x_rel = 0;\n        y_rel = 0;\n        state = _state;\n        button = _button;\n        window_id = _window_id;\n        timestamp = _timestamp;\n\n        pos.set_xy(_x, _y);\n\n    } //set_press\n\n    @:noCompletion\n    public function set_move(_x:Int, _y:Int, _x_rel:Int, _y_rel:Int, _timestamp:Float, _window_id:Int) {\n\n        x = _x;\n        y = _y;\n        x_rel = _x_rel;\n        y_rel = _y_rel;\n        state = InteractState.move;\n        button = MouseButton.none;\n        window_id = _window_id;\n        timestamp = _timestamp;\n\n        pos.set_xy(_x, _y);\n\n    } //set_move\n\n    @:noCompletion\n    public function set_wheel(_x:Float, _y:Float, _timestamp:Float, _window_id:Int) {\n\n            //:todo: mouse wheel float value\n        x = Math.floor(_x);\n        y = Math.floor(_y);\n        x_rel = 0;\n        y_rel = 0;\n        state = InteractState.wheel;\n        button = MouseButton.none;\n        window_id = _window_id;\n        timestamp = _timestamp;\n\n    } //set_wheel\n\n} //MouseEvent\n\n/** A type for a named input event */\nenum InputEventType {\n\n        /** An unknown input event */\n    unknown;\n        /** A mouse input event */\n    mouse;\n        /** A touch input event */\n    touch;\n        /** A key input event */\n    key;\n        /** A gamepad input event */\n    gamepad;\n\n} //InputEventType\n\n/** Information about a named input event */\nclass InputEvent {\n\n    public function new() {\n\n    } //new\n\n        /** The name of the input event */\n    public var name (default, null): String;\n        /** The type of input this event was generated for */\n    public var type (default, null): InputEventType;\n        /** The state of the event */\n    public var state (default, null): InteractState;\n        /** null, unless type is `mouse` */\n    public var mouse_event (default, null): MouseEvent;\n        /** null, unless type is `key` */\n    public var key_event (default, null): KeyEvent;\n        /** null, unless type is `touch` */\n    public var touch_event (default, null): TouchEvent;\n        /** null, unless type is `gamepad` */\n    public var gamepad_event (default, null): GamepadEvent;\n\n    @:noCompletion\n    public function set_key(_name:String, _state:InteractState, _key_event:KeyEvent) {\n        set_common(_name, InputEventType.key, _state);\n        set_events(_key_event, null, null, null);\n    } //set_key\n\n    @:noCompletion\n    public function set_mouse(_name:String, _state:InteractState, _mouse_event:MouseEvent) {\n        set_common(_name, InputEventType.mouse, _state);\n        set_events(null, _mouse_event, null, null);\n    } //set_mouse\n\n    @:noCompletion\n    public function set_touch(_name:String, _state:InteractState, _touch_event:TouchEvent) {\n        set_common(_name, InputEventType.touch, _state);\n        set_events(null, null, _touch_event, null);\n    } //set_touch\n\n    @:noCompletion\n    public function set_gamepad(_name:String, _state:InteractState, _gamepad_event:GamepadEvent) {\n        set_common(_name, InputEventType.gamepad, _state);\n        set_events(null, null, null, _gamepad_event);\n    } //set_gamepad\n\n    @:noCompletion\n    public function set_unknown(_name:String, _state:InteractState) {\n        set_common(_name, InputEventType.unknown, _state);\n        set_events(null, null, null, null);\n    } //set_unknown\n\n    function set_common(_name:String, _type:InputEventType, _state:InteractState) {\n        name = _name;\n        type = _type;\n        state = _state;\n    } //set_common\n\n    function set_events(_key_event:KeyEvent, _mouse_event:MouseEvent, _touch_event:TouchEvent, _gamepad_event:GamepadEvent) {\n        key_event = _key_event;\n        mouse_event = _mouse_event;\n        touch_event = _touch_event;\n        gamepad_event = _gamepad_event;\n    } //set_events\n\n} //InputEvent\n","package luxe;\n\nimport luxe.Color;\nimport luxe.Entity;\nimport luxe.Vector;\nimport luxe.Rectangle;\nimport luxe.utils.Maths;\nimport luxe.resource.Resource;\n\nimport phoenix.geometry.Geometry;\nimport phoenix.geometry.QuadGeometry;\n\nimport phoenix.Shader;\nimport phoenix.Batcher;\nimport phoenix.Quaternion;\nimport phoenix.Texture;\n\nimport luxe.options.VisualOptions;\n\nimport luxe.Log.*;\n\nclass Visual extends Entity {\n\n\n        /** the size of this geometry (only makes sense for QuadGeometry) */\n    @:isVar public var size         (default,set) : Vector;\n        /** the geometry this visual contains */\n    @:isVar public var geometry     (default,set) : Geometry;\n        /** the geometry static flag. This is a hint on how to render the geometry for performance */\n    @:isVar public var locked       (default,set) : Bool = false;\n        /** the texture for the geometry */\n    @:isVar public var texture      (default,set) : Texture;\n        /** the shader for the geometry */\n    @:isVar public var shader       (default,set) : Shader;\n        /** the base color */\n    @:isVar public var color        (default,set) : Color;\n        /** the visibility */\n    @:isVar public var visible      (default,set) : Bool = true;\n        /** the geometry depth value (see guides)*/\n    @:isVar public var depth        (default,set) : Float = 0.0;\n        /** If not null, the geometry will be clipped to this rectangle region (in window viewport space). */\n    @:isVar public var clip_rect    (default,set) : Rectangle;\n        /** convenience: controls the rotation around the z axis, in radians. */\n    @:isVar public var radians      (get,set) : Float = 0.0;\n        /** convenience: controls the rotation around the z axis, in degrees. */\n    public var rotation_z           (get,set) : Float;\n\n        /** Set whether or not blending is disabled for this visual. */\n    public var blend_disabled        (get, set) : Bool;\n        /** Set the per geometry source blending. \n        This sets blend_src_alpha and blend_src_rgb,\n        and returns blend_src_alpha (the get isn't really logical) */\n    public var blend_src            (get, set) : BlendMode;\n        /** Set the per geometry source blending. \n        This sets blend_dest_alpha and blend_dest_rgb \n        and returns blend_dest_alpha (the get isn't really logical) */\n    public var blend_dest           (get, set) : BlendMode;\n        /** Set the per geometry source blending, for the alpha component */\n    public var blend_src_alpha      (get, set) : BlendMode;\n        /** Set the per geometry source blending, for the rgb components */\n    public var blend_src_rgb        (get, set) : BlendMode;\n        /** Set the per geometry destination blending, for the alpha component */\n    public var blend_dest_alpha     (get, set) : BlendMode;\n        /** Set the per geometry destination blending, for the rgb components */\n    public var blend_dest_rgb       (get, set) : BlendMode;\n\n        //private\n    var _rotation_euler : Vector;\n    var _rotation_quat : Quaternion;\n    var _has_custom_origin : Bool = false;\n\n        /** Create a new visual based on the given options */\n    public function new( _options:VisualOptions #if luxe_visual_pos, ?_pos_info:haxe.PosInfos #end ) {\n\n        assertnull(_options, 'Visual requires non-null options');\n\n            //cached values\n            //these need to be before super\n        _rotation_euler = new Vector();\n        _rotation_quat = new Quaternion();\n\n            //call the entity constructor\n        super( _options #if luxe_visual_pos, _pos_info #end);\n\n            //create the position value so we can exploit it a bit\n        color = new Color();\n        size = new Vector();\n\n            //texture\n        if(options.texture != null) {\n            texture = options.texture;\n        }\n            //shader\n        if(options.shader != null) {\n            shader = options.shader;\n        }\n            //color\n        if(options.color != null) {\n            color = options.color;\n        }\n            //depth\n        if(options.depth != null) {\n            depth = options.depth;\n        }\n            //visible\n        if(options.visible != null) {\n            visible = options.visible;\n        }\n\n            //size is interesting, as it's possibly based on texture\n\n            //user specified a size\n        if(options.size != null) {\n\n            size = options.size;\n                //the size is explicit, so make the geometry\n            _create_geometry();\n\n        } else {\n\n                //if the texture isn't invalid entirely\n            if(texture != null) {\n\n                size = new Vector(texture.width, texture.height);\n                _create_geometry();\n\n            } else {\n\n                    //default to a value big enough to see\n                size = new Vector(64,64);\n                _create_geometry();\n\n            } //texture !=null\n\n        } //\n\n    } //new\n\n    var _creating_geometry : Bool = false;\n    @:noCompletion public function _create_geometry() {\n\n            //if they give a geometry, don't create one\n        if(options.geometry == null) {\n\n            if(options.no_geometry == null || options.no_geometry == false) {\n\n                _creating_geometry = true;\n\n                var _batcher : Batcher = null;\n                if(options.no_batcher_add == null || options.no_batcher_add == false) {\n                    if(options.batcher != null) {\n                        _batcher = options.batcher;\n                    } else {\n                        _batcher = Luxe.renderer.batcher;\n                    }\n                }\n\n                    geometry = new QuadGeometry({\n                        id:name + '.visual',\n                        x:0,\n                        y:0,\n                        w:size.x,\n                        h:size.y,\n                        scale: new Vector(1,1,1),\n                        texture : texture,\n                        color : color,\n                        shader : shader,\n                        batcher : _batcher,\n                        depth : (options.depth == null) ? 0 : options.depth,\n                        visible : (options.visible == null) ? visible : options.visible\n                    });\n\n                _creating_geometry = false;\n\n                    //call the geometry create listener\n                on_geometry_created();\n\n            } //no_geometry is not present\n\n        } else {\n\n            geometry = options.geometry;\n\n        }\n\n            //default to the visual name\n        if(geometry != null) {\n            geometry.id = name + \".visual\";\n            geometry.transform.id = name + \".visual.transform\";\n        }\n\n            //custom provided origin will override any until now\n        if(options.origin != null) {\n            _has_custom_origin = true;\n            origin = options.origin;\n        }\n\n            //apply the rotation if any\n        if(options.rotation_z != null) {\n            rotation_z = options.rotation_z;\n        }\n\n    } //create_geometry\n\n    override public function ondestroy() {\n\n            //drop the geometry\n        if(geometry != null && geometry.added ) {\n            geometry.drop( true );\n        }\n\n            //clear our references to these\n        transform = null;\n        options = null;\n        geometry = null;\n        texture = null;\n        shader = null;\n        color = null;\n        size = null;\n        clip_rect = null;\n        _rotation_euler = null;\n        _rotation_quat = null;\n\n    } //ondestroy\n\n    function on_geometry_created() {\n\n        // geometry.transform.parent = transform;\n\n    } //on_geometry_created\n\n//Visibility properties\n\n    function set_visible(_v:Bool) {\n\n        visible = _v;\n\n            //careful\n        if(geometry != null) {\n            geometry.visible = visible;\n        }\n\n        return visible;\n\n    } //set_visible\n\n    function set_depth(_v:Float) {\n\n        if(geometry != null) {\n            geometry.depth = _v;\n        } //geometry\n\n        return depth = _v;\n\n    } //set_depth\n\n//Color properties\n\n    function set_color(_c:Color) {\n\n        if(color != null && geometry != null) {\n            geometry.color = _c;\n        }\n\n        return color = _c;\n\n    } //set_color\n\n    function set_texture(_t:Texture) {\n\n        if(geometry != null && geometry.texture != _t) {\n            geometry.texture = _t;\n        } //geometry!=null\n\n        return texture = _t;\n    }\n\n    function set_shader(_s:Shader) {\n\n        if(geometry != null && geometry.shader != _s) {\n            geometry.shader = _s;\n        } //geometry!=null\n\n        return shader = _s;\n    }\n\n//Geometry\n\n    var ignore_texture_on_geometry_change : Bool = false;\n\n    function set_geometry(_g:Geometry) : Geometry {\n\n            //same geometry?\n        if(geometry == _g) {\n            return geometry;\n        }\n\n            //kill the existing geometry first\n        if(geometry != null) {\n            geometry.drop();\n        }\n\n            //store the new one\n        geometry = _g;\n\n            //rebind it's colors and whatever else\n        if(geometry != null) {\n\n                //make sure it's attached\n            geometry.transform.parent = transform;\n\n            _verbose('    assign geometry transform as child : $geometry.id to $name');\n\n                //:todo: This block is dumb\n                //and was solving some obscure issue\n                //and needs to be redone as it\n                //causes more issues than it solves.\n                {\n                    if(_creating_geometry == false) {\n\n                        geometry.color = color;\n                        geometry.depth = depth;\n                        geometry.visible = visible;\n                        // geometry.shader = shader;\n\n                        if(!ignore_texture_on_geometry_change) {\n                            // geometry.texture = texture;\n                        }\n\n                    } //_creating_geometry == false\n                }\n\n        } //geometry != null\n\n        return geometry;\n\n    } //set_geometry\n\n\n//Transforms\n\n    override function set_parent_from_transform( _parent:Transform ) {\n\n        super.set_parent_from_transform( _parent );\n\n        if(geometry != null) {\n                //make sure it's attached\n            geometry.transform.parent = transform;\n        }\n\n    } //set_parent_from_transform\n\n    override function set_rotation_from_transform( _rotation:Quaternion ) {\n\n        super.set_rotation_from_transform(_rotation);\n\n            //update caches\n        _rotation_euler.setEulerFromQuaternion(_rotation);\n        _rotation_quat.copy(_rotation);\n\n    } //set_rotation_from_transform\n\n//Size\n\n    function set_size( _v:Vector ) : Vector {\n\n        size = _v;\n\n        if(size != null)\n            Vector.Listen( size, _size_change );\n\n        return size;\n\n    } //set_size\n\n//Blending\n    \n    inline function get_blend_disabled() : Bool          return geometry.blend_disabled;\n    inline function get_blend_src() : BlendMode         return geometry.blend_src_alpha;\n    inline function get_blend_dest() : BlendMode        return geometry.blend_dest_alpha;\n    inline function get_blend_src_alpha() : BlendMode   return geometry.blend_src_alpha;\n    inline function get_blend_src_rgb() : BlendMode     return geometry.blend_src_rgb;\n    inline function get_blend_dest_alpha() : BlendMode  return geometry.blend_dest_alpha;\n    inline function get_blend_dest_rgb() : BlendMode    return geometry.blend_dest_rgb;\n    \n    inline function set_blend_disabled(val:Bool)  {\n        geometry.blend_disabled = val;\n        return val;\n    }\n\n    inline function set_blend_src(val:BlendMode)  {\n        geometry.blend_src_alpha = val;\n        geometry.blend_src_rgb = val;\n        return val;\n    }\n\n    inline function set_blend_dest(val:BlendMode) {\n        geometry.blend_dest_alpha = val;\n        geometry.blend_dest_rgb = val;\n        return val;\n    }\n\n    inline function set_blend_src_alpha(val:BlendMode)  {\n        geometry.blend_src_alpha = val;\n        return val;\n    }\n\n    inline function set_blend_src_rgb(val:BlendMode)    {\n        geometry.blend_src_rgb = val;\n        return val;\n    }\n\n    inline function set_blend_dest_alpha(val:BlendMode) {\n        geometry.blend_dest_alpha = val;\n        return val;\n    }\n\n    inline function set_blend_dest_rgb(val:BlendMode)   {\n        geometry.blend_dest_rgb = val;\n        return val;\n    }\n\n\n//Rotation\n\n    function get_rotation_z() : Float {\n\n        return Maths.degrees(radians);\n\n    } //get_rotation\n\n    function set_rotation_z( _degrees:Float ) : Float {\n\n        radians = Maths.radians(_degrees);\n\n        return _degrees;\n\n    } //set_rotation_z\n\n    function set_radians(_r:Float) : Float {\n\n        _rotation_euler.z = _r;\n        _rotation_quat.setFromEuler( _rotation_euler );\n\n        rotation = _rotation_quat.clone();\n\n        return radians = _r;\n\n    } //set_radians\n\n    function get_radians() : Float {\n        return radians;\n    } //get_radians\n\n//Locked\n\n    function set_locked(_l:Bool) : Bool {\n\n        if(geometry != null) {\n            geometry.locked = _l;\n        }\n\n        return locked = _l;\n\n    } //set_locked\n\n\n//Geometry properties\n//Clip rect\n    function set_clip_rect(_val : Rectangle) : Rectangle {\n\n        if(geometry != null) {\n            geometry.clip_rect = _val;\n        }\n\n        return clip_rect = _val;\n    }\n\n//Size\n\n        //An internal callback for when x y or z on a size changes\n    function _size_change( _v:Float ) { this.set_size( size ); }\n\n} //Visual\n","package phoenix;\n\nimport luxe.utils.Maths;\nimport luxe.Log.*;\n\nclass Vector {\n\n    @:isVar public var x (default, set) : Float = 0;\n    @:isVar public var y (default, set) : Float = 0;\n    @:isVar public var z (default, set) : Float = 0;\n    @:isVar public var w (default, default) : Float = 0;\n\n    @:isVar public var length        (get, set) : Float;\n    @:isVar public var lengthsq      (get, null) : Float;\n    @:isVar public var angle2D       (get, set) : Float;\n    @:isVar public var normalized    (get, null) : Vector;\n    @:isVar public var inverted      (get, null) : Vector;\n\n    public var ignore_listeners : Bool = false;\n\n    @:isVar public var listen_x(default,default) : Float -> Void;\n    @:isVar public var listen_y(default,default) : Float -> Void;\n    @:isVar public var listen_z(default,default) : Float -> Void;\n\n    var _construct = false;\n\n    inline public function new( _x:Float = 0, _y:Float = 0, _z:Float = 0, _w:Float = 0 ) {\n\n        _construct = true;\n\n            x = _x;\n            y = _y;\n            z = _z;\n            w = _w;\n\n        _construct = false;\n\n    } //new\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function copy_from( _other:Vector ) {\n\n        set( _other.x, _other.y, _other.z, _other.w );\n\n        return this;\n\n    } //copy_from\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function set( _x:Float, _y:Float, _z:Float, _w:Float ) {\n\n        var prev = ignore_listeners;\n\n        ignore_listeners = true;\n\n            x = _x;\n            y = _y;\n            z = _z;\n            w = _w;\n\n        ignore_listeners = prev;\n\n        if(listen_x != null && !ignore_listeners) listen_x(x);\n        if(listen_y != null && !ignore_listeners) listen_y(y);\n        if(listen_z != null && !ignore_listeners) listen_z(z);\n\n        return this;\n\n    } //set\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function set_xy( _x:Float, _y:Float ) {\n\n        var prev = ignore_listeners;\n\n        ignore_listeners = true;\n\n            x = _x;\n            y = _y;\n\n        ignore_listeners = prev;\n\n        if(listen_x != null && !ignore_listeners) listen_x(x);\n        if(listen_y != null && !ignore_listeners) listen_y(y);\n\n        return this;\n\n    } //set_xy\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function set_xyz( _x:Float, _y:Float, _z:Float ) {\n\n        var prev = ignore_listeners;\n\n        ignore_listeners = true;\n\n            x = _x;\n            y = _y;\n            z = _z;\n\n        ignore_listeners = prev;\n\n        if(listen_x != null && !ignore_listeners) listen_x(x);\n        if(listen_y != null && !ignore_listeners) listen_y(y);\n        if(listen_z != null && !ignore_listeners) listen_z(z);\n\n        return this;\n\n    } //set_xyz\n\n        //_t is between 0 and 1\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function lerp_xy( _dest_x:Float, _dest_y:Float, _t: Float ) {\n\n        set_xy(\n            Maths.lerp(x, _dest_x, _t),\n            Maths.lerp(y, _dest_y, _t)\n        );\n\n        return this;\n\n    } //lerp_xy\n\n        //_t is between 0 and 1\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function lerp_xyz( _dest_x:Float, _dest_y:Float, _dest_z:Float, _t: Float ) {\n\n        set_xyz(\n            Maths.lerp(x, _dest_x, _t),\n            Maths.lerp(y, _dest_y, _t),\n            Maths.lerp(z, _dest_z, _t)\n        );\n\n        return this;\n\n    } //lerp_xyz\n\n        //_t is between 0 and 1\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function lerp( _other:Vector, _t: Float ) {\n\n        set_xyz(\n            Maths.lerp(x, _other.x, _t),\n            Maths.lerp(y, _other.y, _t),\n            Maths.lerp(z, _other.z, _t)\n        );\n\n        return this;\n\n    } //lerp\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function weighted_average_xy( _dest_x:Float, _dest_y:Float, _slowness:Float ) {\n\n        set_xy(\n            Maths.weighted_avg(x, _dest_x, _slowness),\n            Maths.weighted_avg(y, _dest_y, _slowness)\n        );\n\n        return this;\n\n    } //weighted_average_xy\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function weighted_average_xyz( _dest_x:Float, _dest_y:Float, _dest_z:Float, _slowness:Float ) {\n\n        set_xyz(\n            Maths.weighted_avg(x, _dest_x, _slowness),\n            Maths.weighted_avg(y, _dest_y, _slowness),\n            Maths.weighted_avg(z, _dest_z, _slowness)\n        );\n\n        return this;\n\n    } //weighted_average_xyz\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function int() {\n\n        set_xyz( Math.round(x), Math.round(y), Math.round(z) );\n\n        return this;\n\n    } //int\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function int_x() {\n\n        x = Math.round(x);\n\n        return this;\n\n    } //int_z\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function int_y() {\n\n        y = Math.round(y);\n\n        return this;\n\n    } //int_y\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function int_z() {\n\n        z = Math.round(z);\n\n        return this;\n\n    } //int_y\n\n    inline function toString() {\n\n        return \"{ x:\"+x + \", y:\" + y + \", z:\" + z  + \" }\" ;\n\n    } //toString\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function equals(other:Vector) {\n        return (x == other.x && y == other.y && z == other.z && w == other.w);\n    }\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function clone() {\n        return new Vector(x, y, z, w);\n    } //clone\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function normalize() {\n        return divideScalar( length );\n    } //normalize\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function dot(other:Vector) {\n\n        return x * other.x + y * other.y + z * other.z;\n\n    } //dot\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function cross( a:Vector, b:Vector ) {\n\n        set_xyz( a.y * b.z - a.z * b.y,\n                 a.z * b.x - a.x * b.z,\n                 a.x * b.y - a.y * b.x );\n\n        return this;\n\n    } //cross\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function invert() : Vector {\n\n            set_xyz(-x, -y, -z);\n\n        return this;\n\n    } //invert\n\n//Static Functions\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public static function Add(a:Vector, b:Vector) {\n        return new Vector(\n            a.x + b.x,\n            a.y + b.y,\n            a.z + b.z\n        );\n    } //Add\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public static function Subtract(a:Vector, b:Vector) {\n        return new Vector(\n            a.x - b.x,\n            a.y - b.y,\n            a.z - b.z\n        );\n    } //Subtract\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public static function MultiplyVector(a:Vector, b:Vector) : Vector {\n        return new Vector(\n            a.x * b.x,\n            a.y * b.y,\n            a.z * b.z\n        );\n    } //MultiplyVector\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public static function DivideVector(a:Vector, b:Vector) {\n        return new Vector(\n            a.x / b.x,\n            a.y / b.y,\n            a.z / b.z\n        );\n    } //DivideVector\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public static function Multiply(a:Vector, b:Float) {\n        return new Vector(\n            a.x * b,\n            a.y * b,\n            a.z * b\n        );\n    } //Multiply\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public static function Divide(a:Vector, b:Float) {\n        return new Vector(\n            a.x / b,\n            a.y / b,\n            a.z / b\n        );\n    } //Divide\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public static function AddScalar(a:Vector, b:Float) {\n        return new Vector(\n            a.x + b,\n            a.y + b,\n            a.z + b\n        );\n    } //AddScalar\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public static function SubtractScalar(a:Vector, b:Float) {\n        return new Vector(\n            a.x - b,\n            a.y - b,\n            a.z - b\n        );\n    } //SubtractScalar\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public static function Cross(a:Vector, b:Vector) {\n        return new Vector(\n             a.y * b.z - a.z * b.y,\n             a.z * b.x - a.x * b.z,\n             a.x * b.y - a.y * b.x\n        );\n    } //Cross\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public static function RotationTo(a:Vector,b:Vector) {\n\n        return a.rotationTo(b);\n\n    } //RotationTo\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public static function Listen( _v:Vector, listener ) {\n\n        _v.listen_x = listener;\n        _v.listen_y = listener;\n        _v.listen_z = listener;\n\n    } //Listen\n\n        //_t is between 0 and 1\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public static function Lerp( a:Vector, b:Vector, t: Float ) {\n\n        return new Vector(\n            Maths.lerp(a.x, b.x, t),\n            Maths.lerp(a.y, b.y, t),\n            Maths.lerp(a.z, b.z, t)\n        );\n\n    } //Lerp\n\n// Operations\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function add(other:Vector) {\n\n        assertnull(other);\n\n        set_xyz( x + other.x, y + other.y, z + other.z );\n\n        return this;\n\n    } //add\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function add_xyz( _x:Float = 0, _y:Float = 0, _z:Float = 0 ) {\n\n        set_xyz( x + _x, y + _y, z + _z);\n\n        return this;\n\n    } //add_xyz\n\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function subtract(other:Vector) {\n\n        assertnull(other);\n\n        set_xyz( x - other.x, y - other.y, z - other.z );\n\n        return this;\n\n    } //subtract\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function subtract_xyz( _x:Float = 0, _y:Float = 0, _z:Float = 0 ) {\n\n        set_xyz( x - _x, y - _y, z - _z);\n\n        return this;\n\n    } //subtract_xyz\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function multiply(other:Vector) {\n\n        assertnull(other);\n\n        set_xyz( x * other.x, y * other.y, z * other.z );\n\n        return this;\n\n    } //multiply\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function multiply_xyz( _x:Float = 1, _y:Float = 1, _z:Float = 1 ) {\n\n        set_xyz( x * _x, y * _y, z * _z);\n\n        return this;\n\n    } //multiply_xyz\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function divide(other:Vector) {\n\n        assertnull(other);\n        assert(other.x != 0, 'Vector: division by zero (other.x)');\n        assert(other.y != 0, 'Vector: division by zero (other.y)');\n\n        set_xyz( x / other.x, y / other.y, z / other.z );\n\n        return this;\n\n    } //divide\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function divide_xyz( _x:Float = 1, _y:Float = 1, _z:Float = 1 ) {\n\n        assert(_x != 0, 'Vector.divide_xyz: division by zero (x)');\n        assert(_y != 0, 'Vector.divide_xyz: division by zero (y)');\n        assert(_z != 0, 'Vector.divide_xyz: division by zero (z)');\n\n        set_xyz( x / _x, y / _y, z / _z);\n\n        return this;\n\n    } //multiply_xyz\n\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function addScalar( v:Float ) {\n\n        set_xyz( x + v, y + v, z + v );\n\n        return this;\n\n    } //addScalar\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function subtractScalar( v:Float ) {\n\n        set_xyz( x - v, y - v, z - v );\n\n        return this;\n\n    } //subtractScalar\n\n     #if !luxe_no_hotpath_inline @:extern inline #end\n     public function multiplyScalar( v:Float ) {\n\n        set_xyz( x * v, y * v, z * v );\n\n        return this;\n\n    } //multiplyScalar\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function divideScalar( v:Float ) : Vector {\n\n        if ( v != 0 ) {\n\n            set_xyz( x / v, y / v, z / v );\n\n        } else {\n\n            set_xyz(0, 0, 0);\n\n        }\n\n        return this;\n\n    } //divideScalar\n\n\n//Properties\n\n    #if !luxe_no_hotpath_inline @:extern #end\n    inline function set_length( value:Float ) : Float {\n\n        normalize().multiplyScalar( value );\n\n        return value;\n\n    } //set_length\n\n    #if !luxe_no_hotpath_inline @:extern #end\n    inline function get_length() : Float {\n\n        return Math.sqrt( x * x + y * y + z * z );\n\n    } //get_length\n\n\n    #if !luxe_no_hotpath_inline @:extern #end\n    inline function get_lengthsq() : Float {\n\n        return x * x + y * y + z * z;\n\n    } //get_lengthsq\n\n    #if !luxe_no_hotpath_inline @:extern #end\n    inline function get_normalized() {\n\n        return Vector.Divide( this, length );\n\n    } //get_normalized\n\n    // #if !luxe_no_hotpath_inline @:extern #end\n    inline function set_x(_x:Float) : Float {\n\n        x = _x;\n\n        if(_construct) return x;\n\n            if(listen_x != null && !ignore_listeners) listen_x(_x);\n\n        return x;\n\n    } //set_x\n\n    // #if !luxe_no_hotpath_inline @:extern #end\n    inline function set_y(_y:Float) : Float {\n\n        y = _y;\n\n        if(_construct) return y;\n\n            if(listen_y != null && !ignore_listeners) listen_y(_y);\n\n        return y;\n\n    } //set_y\n\n    // #if !luxe_no_hotpath_inline @:extern #end\n    inline function set_z(_z:Float) : Float {\n\n        z = _z;\n\n        if(_construct) return z;\n\n            if(listen_z != null && !ignore_listeners) listen_z(_z);\n\n        return z;\n\n    } //set_z\n\n    #if !luxe_no_hotpath_inline @:extern #end\n    inline function get_inverted() : Vector {\n\n        return new Vector(-x,-y,-z);\n\n    } //get_inverted\n\n\n        //Changes the angle of the vector.\n        //X and Y will change, length stays the same.\n    // #if !luxe_no_hotpath_inline @:extern #end\n    inline function set_angle2D( value : Float ) : Float {\n\n        var len:Float = length;\n\n            set_xy(Math.cos(value) * len, Math.sin(value) * len);\n\n        return value;\n    }\n\n        //Get the angle of this vector.\n    #if !luxe_no_hotpath_inline @:extern #end\n    inline function get_angle2D():Float {\n\n        return Math.atan2(y, x);\n\n    }\n\n//Convenience functions\n\n        //Sets the length under the given value.\n        //Nothing is done if the vector is already shorter.\n        //max The max length this vector can be.\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function truncate( max:Float ) : Vector {\n\n        length = Math.min(max, length);\n\n        return this;\n\n    } //truncate\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function rotationTo( other:Vector ) : Float {\n        var theta =  Math.atan2(  other.x - x , other.y - y );\n        var r = -(180.0 + (theta*180.0/Math.PI));\n        return r;\n    }\n\n//Transforms\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function applyQuaternion( q:Quaternion ) : Vector {\n\n        var qx = q.x;\n        var qy = q.y;\n        var qz = q.z;\n        var qw = q.w;\n\n        var ix = qw * x + qy * z - qz * y;\n        var iy = qw * y + qz * x - qx * z;\n        var iz = qw * z + qx * y - qy * x;\n        var iw = -qx * x - qy * y - qz * z;\n\n            set_xyz( ix * qw + iw * -qx + iy * -qz - iz * -qy,\n                     iy * qw + iw * -qy + iz * -qx - ix * -qz,\n                     iz * qw + iw * -qz + ix * -qy - iy * -qx );\n\n        return this;\n\n    } //applyQuaternion\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function applyProjection( m:Matrix ) : Vector {\n\n        var e = m.elements;\n        var x = this.x, y = this.y, z = this.z;\n        var d:Float = 1 / (e[3] * x + e[7] * y + e[11] * z + e[15]);\n\n            set_xyz( (e[0] * x + e[4] * y + e[8] * z + e[12]) * d,\n                     (e[1] * x + e[5] * y + e[9] * z + e[13]) * d,\n                     (e[2] * x + e[6] * y + e[10] * z + e[14]) * d );\n\n        return this;\n\n    } //applyProjection\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function transform( _m:Matrix ) : Vector {\n\n        var _x = x;\n        var _y = y;\n        var _z = z;\n\n        var e = _m.elements;\n\n            set_xyz( e[0] * _x + e[4] * _y + e[8]  * _z + e[12],\n                     e[1] * _x + e[5] * _y + e[9]  * _z + e[13],\n                     e[2] * _x + e[6] * _y + e[10] * _z + e[14] );\n\n        return this;\n\n    } //transform\n    \n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function transformDirection( m:Matrix ) : Vector {\n\n        var e = m.elements;\n        var x = this.x, y = this.y, z = this.z;\n\n            set_xyz( e[0] * x + e[4] * y + e[8] * z,\n                     e[1] * x + e[5] * y + e[9] * z,\n                     e[2] * x + e[6] * y + e[10] * z );\n\n        normalize();\n\n        return this;\n\n    } //transformDirection\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function setEulerFromRotationMatrix (m:Matrix, order:ComponentOrder = XYZ) : Vector {\n\n        var te = m.elements;\n        var m11 = te[0], m12 = te[4], m13 = te[8];\n        var m21 = te[1], m22 = te[5], m23 = te[9];\n        var m31 = te[2], m32 = te[6], m33 = te[10];\n\n        var _x = x;\n        var _y = y;\n        var _z = z;\n\n        if (order == XYZ) {\n\n            _y = Math.asin( Maths.clamp( m13, -1, 1 ) );\n\n            if (Math.abs(m13) < 0.99999)\n            {\n                _x = Math.atan2( -m23, m33);\n                _z = Math.atan2( -m12, m11);\n            } else {\n                _x = Math.atan2( m32, m22 );\n                _z = 0;\n            }\n\n        }  else if ( order == YXZ ) {\n\n            _x = Math.asin( -Maths.clamp( m23, -1, 1 ) );\n\n            if ( Math.abs( m23 ) < 0.99999 ) {\n                _y = Math.atan2( m13, m33 );\n                _z = Math.atan2( m21, m22 );\n            } else {\n                _y = Math.atan2( -m31, m11 );\n                _z = 0;\n            }\n\n        } else if ( order == ZXY ) {\n\n            _x = Math.asin( Maths.clamp( m32, -1, 1 ) );\n\n            if ( Math.abs( m32 ) < 0.99999 ) {\n                _y = Math.atan2( -m31, m33 );\n                _z = Math.atan2( -m12, m22 );\n            } else {\n                _y = 0;\n                _z = Math.atan2( m21, m11 );\n            }\n\n        } else if ( order == ZYX ) {\n\n            _y = Math.asin( -Maths.clamp( m31, -1, 1 ) );\n\n            if ( Math.abs( m31 ) < 0.99999 ) {\n                _x = Math.atan2( m32, m33 );\n                _z = Math.atan2( m21, m11 );\n            } else {\n                _x = 0;\n                _z = Math.atan2( -m12, m22 );\n            }\n\n        } else if ( order == YZX ) {\n\n            _z = Math.asin( Maths.clamp( m21, -1, 1 ) );\n\n            if ( Math.abs( m21 ) < 0.99999 ) {\n                _x = Math.atan2( -m23, m22 );\n                _y = Math.atan2( -m31, m11 );\n            } else {\n                _x = 0;\n                _y = Math.atan2( m13, m33 );\n            }\n\n        } else if ( order == XZY ) {\n\n            _z = Math.asin( -Maths.clamp( m12, -1, 1 ) );\n\n            if ( Math.abs( m12 ) < 0.99999 ) {\n                _x = Math.atan2( m32, m22 );\n                _y = Math.atan2( m13, m11 );\n            } else {\n                _x = Math.atan2( -m23, m33 );\n                _y = 0;\n            }\n\n        } //order\n\n        set_xyz(_x, _y, _z);\n\n        return this;\n\n    } //setEulerFromRotationMatrix\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function setEulerFromQuaternion (q:Quaternion, order:ComponentOrder = XYZ) : Vector {\n\n        var sqx : Float = q.x * q.x;\n        var sqy : Float = q.y * q.y;\n        var sqz : Float = q.z * q.z;\n        var sqw : Float = q.w * q.w;\n\n        var _x = x;\n        var _y = y;\n        var _z = z;\n\n        if (order == XYZ) {\n            _x = Math.atan2( 2 * ( q.x * q.w - q.y * q.z ), ( sqw - sqx - sqy + sqz ) );\n            _y = Math.asin(  Maths.clamp( 2 * ( q.x * q.z + q.y * q.w ), -1, 1 ) );\n            _z = Math.atan2( 2 * ( q.z * q.w - q.x * q.y ), ( sqw + sqx - sqy - sqz ) );\n        } else if ( order ==  YXZ ) {\n            _x = Math.asin(  Maths.clamp( 2 * ( q.x * q.w - q.y * q.z ), -1, 1 ) );\n            _y = Math.atan2( 2 * ( q.x * q.z + q.y * q.w ), ( sqw - sqx - sqy + sqz ) );\n            _z = Math.atan2( 2 * ( q.x * q.y + q.z * q.w ), ( sqw - sqx + sqy - sqz ) );\n        } else if ( order == ZXY ) {\n            _x = Math.asin(  Maths.clamp( 2 * ( q.x * q.w + q.y * q.z ), -1, 1 ) );\n            _y = Math.atan2( 2 * ( q.y * q.w - q.z * q.x ), ( sqw - sqx - sqy + sqz ) );\n            _z = Math.atan2( 2 * ( q.z * q.w - q.x * q.y ), ( sqw - sqx + sqy - sqz ) );\n        } else if ( order == ZYX ) {\n            _x = Math.atan2( 2 * ( q.x * q.w + q.z * q.y ), ( sqw - sqx - sqy + sqz ) );\n            _y = Math.asin(  Maths.clamp( 2 * ( q.y * q.w - q.x * q.z ), -1, 1 ) );\n            _z = Math.atan2( 2 * ( q.x * q.y + q.z * q.w ), ( sqw + sqx - sqy - sqz ) );\n        } else if ( order == YZX ) {\n            _x = Math.atan2( 2 * ( q.x * q.w - q.z * q.y ), ( sqw - sqx + sqy - sqz ) );\n            _y = Math.atan2( 2 * ( q.y * q.w - q.x * q.z ), ( sqw + sqx - sqy - sqz ) );\n            _z = Math.asin(  Maths.clamp( 2 * ( q.x * q.y + q.z * q.w ), -1, 1 ) );\n        } else if ( order == XZY ) {\n            _x = Math.atan2( 2 * ( q.x * q.w + q.y * q.z ), ( sqw - sqx + sqy - sqz ) );\n            _y = Math.atan2( 2 * ( q.x * q.z + q.y * q.w ), ( sqw + sqx - sqy - sqz ) );\n            _z = Math.asin(  Maths.clamp( 2 * ( q.z * q.w - q.x * q.y ), -1, 1 ) );\n        } //order\n\n        set_xyz(_x,_y,_z);\n\n        return this;\n\n    } //setEulerFromQuaternion\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function degrees() : Vector {\n\n        set_xyz( Maths.degrees(x), Maths.degrees(y), Maths.degrees(z) );\n\n        return this;\n\n    } //degrees\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function radians() : Vector {\n\n        set_xyz( Maths.radians(x), Maths.radians(y), Maths.radians(z) );\n\n        return this;\n\n    } //radians\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public static function Degrees( _radian_vector:Vector ) : Vector {\n\n        return _radian_vector.clone().degrees();\n\n    } //Degrees\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public static function Radians( _degree_vector:Vector ) : Vector {\n\n        return _degree_vector.clone().radians();\n\n    } //Radians\n\n} //Vector class\n\n\n\n@:enum abstract ComponentOrder(Int) from Int to Int {\n\n    var XYZ = 0;\n    var YXZ = 1;\n    var ZXY = 2;\n    var ZYX = 3;\n    var YZX = 4;\n    var XZY = 5;\n\n} //ComponentOrder\n\n\n@:forward\nabstract Vec(Vector) from Vector to Vector {\n\n    inline public function new(?_x,?_y,?_z,?_w) {\n        this = new Vector(_x,_y,_z,_w);\n    }\n//multiply\n    @:communitative @:op(A * B) static inline function _multiply(lhs:Vec, rhs:Vec) : Vec {\n        return Vector.MultiplyVector(lhs, rhs);\n    }\n    @:communitative @:op(A * B) static inline function _multiply_scalar(lhs:Vec, rhs:Float) : Vec {\n        return Vector.Multiply(lhs, rhs);\n    }\n    @:communitative @:op(A * B) static inline function _multiply_scalar_int(lhs:Vec, rhs:Int) : Vec {\n        return Vector.Multiply(lhs, rhs);\n    }\n// divide\n    @:communitative @:op(A / B) static inline function _divide(lhs:Vec, rhs:Vec) : Vec {\n        return Vector.DivideVector(lhs, rhs);\n    }\n    @:communitative @:op(A / B) static inline function _divide_scalar(lhs:Vec, rhs:Float) : Vec {\n        return Vector.Divide(lhs, rhs);\n    }\n    @:communitative @:op(A / B) static inline function _divide_scalar_int(lhs:Vec, rhs:Int) : Vec {\n        return Vector.Divide(lhs, rhs);\n    }\n// add\n    @:communitative @:op(A + B) static inline function _add(lhs:Vec, rhs:Vec) : Vec {\n        return Vector.Add(lhs, rhs);\n    }\n    @:communitative @:op(A + B) static inline function _add_scalar(lhs:Vec, rhs:Float) : Vec {\n        return Vector.AddScalar(lhs, rhs);\n    }\n    @:communitative @:op(A + B) static inline function _add_scalar_int(lhs:Vec, rhs:Int) : Vec {\n        return Vector.AddScalar(lhs, rhs);\n    }\n// subract\n    @:communitative @:op(A - B) static inline function _subtract(lhs:Vec, rhs:Vec) : Vec {\n        return Vector.Subtract(lhs,rhs);\n    }\n    @:communitative @:op(A - B) static inline function _subtract_scalar(lhs:Vec, rhs:Float) : Vec {\n        return Vector.SubtractScalar(lhs,rhs);\n    }\n    @:communitative @:op(A - B) static inline function _subtract_scalar_int(lhs:Vec, rhs:Int) : Vec {\n        return Vector.SubtractScalar(lhs,rhs);\n    }\n} //Vec\n","package luxe;\n\nimport luxe.Color;\nimport luxe.Rectangle;\nimport luxe.Sprite;\nimport luxe.Vector;\nimport phoenix.Batcher;\nimport phoenix.geometry.QuadPackGeometry;\nimport phoenix.geometry.QuadGeometry;\nimport phoenix.geometry.TextureCoord;\n\nimport luxe.options.NineSliceOptions;\n\nprivate typedef Slice = {\n    pos : Vector,\n    width : Float,\n    height : Float,\n    source_x : Float,\n    source_y : Float,\n    source_width : Float,\n    source_height : Float,\n    geometry_id : Int\n};\n\n/** A nineslice based sprite, for scaling */\nclass NineSlice extends luxe.Visual {\n\n    public var top : Float = 32;\n    public var left : Float = 32;\n    public var right : Float = 32;\n    public var width : Float = 0.0;\n    public var bottom : Float = 32;\n    public var height : Float = 0.0;\n    public var source_x : Float = 0.0;\n    public var source_y : Float = 0.0;\n    public var source_w : Float = 0.0;\n    public var source_h : Float = 0.0;\n    public var is_set : Bool = false;\n\n    @:noCompletion public var midwidth : Float = 0.0;\n    @:noCompletion public var midheight : Float = 0.0;\n    @:noCompletion public var slices : Array<Slice>;\n    @:noCompletion public var added : Bool = false;\n    @:noCompletion public var nineslice_options : NineSliceOptions;\n    @:noCompletion public var _geometry : QuadPackGeometry;\n\n    var _batcher : Batcher;\n\n        /** create a new nineslice with given options */\n    public function new( _options:NineSliceOptions ) {\n\n            //default to internal batcher\n        slices = [];\n\n            //we need to tell the visual not to create geometry ,\n            //because we create our own from here.\n        if(_options == null) {\n            _options = {\n                no_geometry : true,\n            }\n        } else {\n            _options.no_geometry = true;\n        }\n\n        nineslice_options = _options;\n\n        if(_options.batcher != null) {\n            _batcher = _options.batcher;\n        } else {\n            _batcher = Luxe.renderer.batcher;\n        }\n\n            //visual options to parent\n        super(_options);\n\n            //now local options\n        if(_options.top != null) top = _options.top;\n        if(_options.left != null) left = _options.left;\n        if(_options.right != null) right = _options.right;\n        if(_options.bottom != null) bottom = _options.bottom;\n\n        if(_options.source_x != null) { source_x = _options.source_x; }\n        if(_options.source_y != null) { source_y = _options.source_y; }\n        if(_options.source_w != null) {\n            source_w = _options.source_w;\n        } else {\n            source_w = texture.width;\n        }\n\n        if(_options.source_h != null) {\n            source_h = _options.source_h;\n        } else {\n            source_h = texture.height;\n        }\n\n        geometry = null;\n\n    } //new\n\n    public function lock() {\n        if(is_set && _geometry != null) {\n            _geometry.locked = true;\n        }\n    } //lock\n\n    public function dirty() {\n        if(is_set && _geometry != null) {\n            _geometry.dirty = true;\n        }\n    } //dirty\n\n    @:noCompletion public function update_size(_width:Float, _height:Float) {\n\n        width = _width;\n        height = _height;\n\n        midwidth = Math.abs(width - left - right);\n        midheight = Math.abs(height - top - bottom);\n\n        //top left\n        slices[0].source_width  = left;\n        slices[0].source_height = top;\n        slices[0].source_x = source_x;\n        slices[0].source_y = source_y;\n        slices[0].pos.set_xy(0,0);\n        slices[0].width = left;\n        slices[0].height = top;\n\n        //top middle\n        slices[1].source_width  = source_w - left - right;\n        slices[1].source_height = top;\n        slices[1].source_x = source_x+left;\n        slices[1].source_y = source_y;\n        slices[1].pos.set_xy(left,0);\n        slices[1].width = width - left - right;\n        slices[1].height = top;\n\n        //top right\n        slices[2].source_width  = right;\n        slices[2].source_height = top;\n        slices[2].source_x = source_x+ (source_w - right);\n        slices[2].source_y = source_y;\n        slices[2].pos.set_xy(left + midwidth,0);\n        slices[2].width = right;\n        slices[2].height = top;\n\n\n        //middle left\n        slices[3].source_width  = left;\n        slices[3].source_height = source_h - top - bottom;\n        slices[3].source_x = source_x;\n        slices[3].source_y = source_y+top;\n        slices[3].pos.set_xy(0,top);\n        slices[3].width = left;\n        slices[3].height = height - top - bottom;\n\n        //middle middle\n        slices[4].source_width  = source_w - left - right;\n        slices[4].source_height = source_h - top - bottom;\n        slices[4].source_x = source_x+left;\n        slices[4].source_y = source_y+top;\n        slices[4].pos.set_xy(left,top);\n        slices[4].width = width - left - right;\n        slices[4].height = height - top - bottom;\n\n        //middle right\n        slices[5].source_width  = right;\n        slices[5].source_height = source_h - top - bottom;\n        slices[5].source_x = source_x+(source_w - right);\n        slices[5].source_y = source_y+top;\n        slices[5].pos.set_xy(left + midwidth,top);\n        slices[5].width = right;\n        slices[5].height = height - top - bottom;\n\n\n        //bottom left\n        slices[6].source_width  = left;\n        slices[6].source_height = bottom;\n        slices[6].source_x = source_x;\n        slices[6].source_y = source_y+ (source_h - bottom);\n        slices[6].pos.set_xy(0,top + midheight);\n        slices[6].width = left;\n        slices[6].height = bottom;\n\n        //bottom middle\n        slices[7].source_width  = source_w - left - right;\n        slices[7].source_height = bottom;\n        slices[7].source_x = source_x+left;\n        slices[7].source_y = source_y+(source_h - bottom);\n        slices[7].pos.set_xy(left,top + midheight);\n        slices[7].width = width - left - right;\n        slices[7].height = bottom;\n\n        //bottom right\n        slices[8].source_width  = right;\n        slices[8].source_height = bottom;\n        slices[8].source_x = source_x+(source_w - right);\n        slices[8].source_y = source_y+(source_h - bottom);\n        slices[8].pos.set_xy(left + midwidth, top + midheight);\n        slices[8].width = right;\n        slices[8].height = bottom;\n\n    } //update_size\n\n    @:noCompletion public function set(_width:Float, _height:Float) {\n\n        if(added) {\n            _geometry.drop();\n            added = false;\n        }\n\n            //clear the slices\n        slices.splice(0,slices.length);\n        width = _width;\n        height = _height;\n\n        midwidth = Math.abs(width - left - right);\n        midheight = Math.abs(height - top - bottom);\n\n            //top left\n        slices.push({\n            source_width  : left,\n            source_height : top,\n            source_x : source_x,\n            source_y : source_y,\n            pos : new Vector(0,0),\n            width : left,\n            height : top,\n            geometry_id : 0\n        });\n            //top middle\n        slices.push({\n            source_width  : source_w - left - right,\n            source_height : top,\n            source_x : source_x+left,\n            source_y : source_y,\n            pos : new Vector(left,0),\n            width : width - left - right,\n            height : top,\n            geometry_id : 0\n        });\n            //top right\n        slices.push({\n            source_width  : right,\n            source_height : top,\n            source_x : source_x+ (source_w - right),\n            source_y : source_y,\n            pos : new Vector(left + midwidth,0),\n            width : right,\n            height : top,\n            geometry_id : 0\n        });\n\n\n            //middle left\n        slices.push({\n            source_width  : left,\n            source_height : source_h - top - bottom,\n            source_x : source_x,\n            source_y : source_y+top,\n            pos : new Vector(0,top),\n            width : left,\n            height : height - top - bottom,\n            geometry_id : 0\n        });\n            //middle middle\n        slices.push({\n            source_width  : source_w - left - right,\n            source_height : source_h - top - bottom,\n            source_x : source_x+left,\n            source_y : source_y+top,\n            pos : new Vector(left,top),\n            width : width - left - right,\n            height : height - top - bottom,\n            geometry_id : 0\n        });\n            //middle right\n        slices.push({\n            source_width  : right,\n            source_height : source_h - top - bottom,\n            source_x : source_x+(source_w - right),\n            source_y : source_y+top,\n            pos : new Vector(left + midwidth,top),\n            width : right,\n            height : height - top - bottom,\n            geometry_id : 0\n        });\n\n\n            //bottom left\n        slices.push({\n            source_width  : left,\n            source_height : bottom,\n            source_x : source_x,\n            source_y : source_y+ (source_h - bottom),\n            pos : new Vector(0,top + midheight),\n            width : left,\n            height : bottom,\n            geometry_id : 0\n        });\n            //bottom middle\n        slices.push({\n            source_width  : source_w - left - right,\n            source_height : bottom,\n            source_x : source_x+left,\n            source_y : source_y+(source_h - bottom),\n            pos : new Vector(left,top + midheight),\n            width : width - left - right,\n            height : bottom,\n            geometry_id : 0\n        });\n            //bottom right\n        slices.push({\n            source_width  : right,\n            source_height : bottom,\n            source_x : source_x+(source_w - right),\n            source_y : source_y+(source_h - bottom),\n            pos : new Vector(left + midwidth, top + midheight),\n            width : right,\n            height : bottom,\n            geometry_id : 0\n        });\n\n        is_set = true;\n\n    } //set\n\n    override function set_size( _v : Vector ) {\n\n        if(_v == null) {\n            return super.set_size(_v);\n        }\n\n        if(!is_set) {\n            return super.set_size(_v);\n        }\n\n            //update the values\n        update_size(_v.x, _v.y);\n            //update the vertices\n        for(slice in slices) {\n            if(_geometry != null) {\n                _geometry.quad_resize(slice.geometry_id , new Rectangle( slice.pos.x, slice.pos.y, slice.width, slice.height ));\n            } //_geometry\n        }\n\n        return super.set_size(_v);\n\n    } //set_size\n\n    function _create(_pos:Vector, _w:Float, _h:Float, ?_reset:Bool = false) {\n\n        if(!is_set || _reset) {\n            set(_w, _h);\n        }\n\n        var _color = new Color();\n\n        _geometry = new QuadPackGeometry({\n            texture : texture,\n            color : _color,\n            depth : nineslice_options.depth,\n            visible : nineslice_options.visible,\n            batcher : _batcher\n        });\n\n        for(slice in slices) {\n\n            slice.geometry_id = _geometry.quad_add({\n                x: slice.pos.x,\n                y: slice.pos.y,\n                w: slice.width,\n                h: slice.height,\n                color: nineslice_options.color,\n                uv: new Rectangle(slice.source_x, slice.source_y, slice.source_width, slice.source_height)\n            });\n\n            // _geometry.quad_pos( slice.geometry_id, new Vector(slice.pos.x, slice.pos.y) );\n\n        } //each slice\n\n        _geometry.id = name + '.NineSlice.' + _geometry.id;\n        geometry = _geometry;\n        pos = _pos;\n\n        added = true;\n        is_set = true;\n\n    } // _create\n\n    public function create( _pos:Vector, _w:Float, _h:Float, ?_reset:Bool = false ) {\n\n        if(texture != null) {\n            _create(_pos,_w,_h,_reset);\n        }\n\n    } //create\n\n\n} //NineSlice\n","package luxe;\n\nimport luxe.Emitter;\nimport luxe.Resources;\nimport luxe.resource.Resource;\nimport luxe.options.ResourceOptions;\nimport luxe.options.ParcelOptions;\nimport snow.api.Promise;\nimport phoenix.Texture;\nimport luxe.Log.*;\n\n@:enum abstract ParcelEvent(Int) from Int to Int {\n    var unknown     = 0;\n    var load        = 1;\n    var unload      = 2;\n    var progress    = 3;\n    var complete    = 4;\n    var failed      = 5;\n}\n\ntypedef ParcelChange = {\n    load_id: String,\n    id: String,\n    index: Int,\n    total: Int,\n    ? error: Dynamic,\n    ? resource: Resource,\n}\n\ntypedef ItemInfo = {\n    id: String\n}\n\ntypedef BytesInfo = ItemInfo;\ntypedef TextInfo = ItemInfo;\ntypedef JSONInfo = ItemInfo;\n\ntypedef TextureInfo = {\n    > ItemInfo,\n    > LoadTextureOptions,\n}\n\ntypedef ShaderInfo = {\n    > ItemInfo,\n    > LoadShaderOptions,\n}\n\ntypedef SoundInfo = {\n    > ItemInfo,\n    is_stream: Bool\n}\n\ntypedef BitmapFontInfo = {\n    > ItemInfo,\n    > LoadFontOptions,\n}\n\ntypedef ParcelList = {\n    bytes: Array<BytesInfo>,\n    texts: Array<TextInfo>,\n    jsons: Array<JSONInfo>,\n    textures: Array<TextureInfo>,\n    fonts: Array<BitmapFontInfo>,\n    shaders: Array<ShaderInfo>,\n    sounds: Array<SoundInfo>,\n}\n\n@:enum abstract ParcelState(Int) from Int to Int {\n    var unloaded = 0;\n    var loading = 1;\n    var loaded = 2;\n}\n\nclass Parcel {\n\n        /** The parent Resources system this Parcel is contained by. */\n    public var system: Resources;\n        /** The id of this `Parcel`. */\n    public var id : String;\n        /** The list of the resource infos within this parcel, used at load/unload time. */\n    public var list: ParcelList;\n        /** A list of resource ids that are loaded in this parcel, i.e that have a reference to the resource id */\n    public var loaded: Array<String>;\n        /** A list of resource ids that are known to this parcel */\n    public var listed (get, never): Array<String>;\n        /** Return the number of resources listed in this Parcel */\n    public var length (get, never) : Int;\n        /** The time in seconds the last load took */\n    public var time_to_load : Float = 0.0;\n        /** The current parcel state.\n            Set to unloaded by default,\n            changed to loading when calling `load`,\n            changed to loaded when complete,\n            changed to unloaded when `unload` completes */\n    public var state : ParcelState;\n\n    var emitter: Emitter<ParcelEvent>;\n    var oncomplete: Parcel->Void;\n    var onprogress: ParcelChange->Void;\n    var onfailed: ParcelChange->Void;\n    var start_load: Float = 0.0;\n    var load_time_spacing: Float = 1/20;\n    var load_start_delay: Float = 0.2;\n\n    public function new( ?_options:ParcelOptions ) {\n\n        def(_options, {});\n        def(_options.system, Luxe.resources);\n        def(_options.id, Luxe.utils.uniqueid());\n\n        if(_options.oncomplete != null)         oncomplete = _options.oncomplete;\n        if(_options.onprogress != null)         onprogress = _options.onprogress;\n        if(_options.onfailed != null)           onfailed = _options.onfailed;\n\n        if(_options.load_time_spacing != null)  load_time_spacing = _options.load_time_spacing;\n        if(_options.load_start_delay != null)   load_start_delay = _options.load_start_delay;\n\n        state = ParcelState.unloaded;\n        loaded = [];\n        emitter = new Emitter();\n        system = _options.system;\n        id = _options.id;\n        list = empty_list();\n\n            if(_options.bytes    != null) list.bytes    = _options.bytes;\n            if(_options.texts    != null) list.texts    = _options.texts;\n            if(_options.jsons    != null) list.jsons    = _options.jsons;\n            if(_options.textures != null) list.textures = _options.textures;\n            if(_options.fonts    != null) list.fonts    = _options.fonts;\n            if(_options.shaders  != null) list.shaders  = _options.shaders;\n            if(_options.sounds   != null) list.sounds   = _options.sounds;\n\n        system.track(this);\n\n    } //new\n\n//Public event handling\n\n    public inline function on<T>( ev:ParcelEvent, handler:T->Void ) emitter.on(ev, handler);\n    public inline function off<T>( ev:ParcelEvent, handler:T->Void ) emitter.off(ev, handler);\n    public inline function emit<T>( ev:ParcelEvent, data:T ) emitter.emit(ev, data);\n\n//Public load API\n\n    public inline function is_loaded( _id:String ) return loaded.indexOf(_id) != -1;\n\n        /** Load this parcel contents with the optional load id, which is added to events. */\n    public function load( ?_load_id:String ) {\n\n        emitter.emit(ParcelEvent.load, this);\n\n        state = ParcelState.loading;\n\n        Luxe.timer.schedule(load_start_delay, function() {\n\n            start_load = Luxe.time;\n\n            def(_load_id, id);\n\n            _debug('$id / $_load_id / loading $length items');\n            _debug('   bytes: ${list.bytes.length}');\n            _debug('   texts: ${list.texts.length}');\n            _debug('   jsons: ${list.jsons.length}');\n            _debug('   textures: ${list.textures.length}');\n            _debug('   fonts: ${list.fonts.length}');\n            _debug('   shaders: ${list.shaders.length}');\n            _debug('   sounds: ${list.sounds.length}');\n\n            if(length == 0) {\n                _debug('nothing to load for `$id` / `$_load_id`, skip');\n                do_complete(_load_id);\n                return;\n            }\n\n            var _index = 0;\n            var _load_index = 0;\n\n            inline function _handle(_item_id:String, _load:Promise) {\n                _load.then(function(_res) {\n                    one_loaded(_item_id, _load_id, _res, ++_index, length);\n                }, function(_err:Dynamic){\n                    one_failed(_item_id, _load_id, _err, ++_index, length);\n                });\n            }\n\n            //bytes\n\n                for(_bytes in list.bytes) {\n\n                    ++_load_index;\n\n                    if(!is_loaded(_bytes.id)) {\n\n                        loaded.push(_bytes.id);\n                        Luxe.timer.schedule(load_time_spacing*_load_index, function() {\n\n                            _handle( _bytes.id, system.load_bytes( _bytes.id ) );\n\n                        }); //timer\n\n                    } else { //!loaded\n                        log('$id / already had ${_bytes.id} loaded, skipped');\n                        one_loaded(_bytes.id, _load_id, system.get(_bytes.id), ++_index, length);\n                    }\n\n                } //each bytes\n\n            //text\n\n                for(_text in list.texts) {\n\n                    ++_load_index;\n\n                    if(!is_loaded(_text.id)) {\n\n                        loaded.push(_text.id);\n                        Luxe.timer.schedule(load_time_spacing*_load_index, function() {\n\n                            _handle( _text.id, system.load_text( _text.id ) );\n\n                        }); //timer\n\n                    } else { //!loaded\n                        log('$id / already had ${_text.id} loaded, skipped');\n                        one_loaded(_text.id, _load_id, system.get(_text.id), ++_index, length);\n                    }\n\n                } //each texts\n\n            //json\n\n                for(_json in list.jsons) {\n\n                    ++_load_index;\n\n                    if(!is_loaded(_json.id)) {\n\n                        loaded.push(_json.id);\n                        Luxe.timer.schedule(load_time_spacing*_load_index, function() {\n\n                            _handle( _json.id, system.load_json( _json.id ) );\n\n                        });\n\n                    } else { //!loaded\n                        log('$id / already had ${_json.id} loaded, skipped');\n                        one_loaded(_json.id, _load_id, system.get(_json.id), ++_index, length);\n                    }\n\n                } //each jsons\n\n            //texture\n\n                for(_texture in list.textures) {\n\n                    ++_load_index;\n\n                    if(!is_loaded(_texture.id)) {\n\n                        loaded.push(_texture.id);\n                        Luxe.timer.schedule(load_time_spacing*_load_index, function() {\n\n                            var _load = system.load_texture( _texture.id, {\n                                load_premultiply_alpha:_texture.load_premultiply_alpha,\n                                filter_min:_texture.filter_min,\n                                filter_mag:_texture.filter_mag,\n                                clamp_s:_texture.clamp_s,\n                                clamp_t:_texture.clamp_t\n                            });\n\n                            _handle(_texture.id, _load);\n\n                        }); //timer\n\n                    } else { //!loaded\n                        log('$id / already had ${_texture.id} loaded, skipped');\n                        one_loaded(_texture.id, _load_id, system.get(_texture.id), ++_index, length);\n                    }\n\n                } //each textures\n\n            //font\n\n                for(_font in list.fonts) {\n\n                    ++_load_index;\n\n                    if(!is_loaded(_font.id)) {\n\n                        loaded.push(_font.id);\n                        Luxe.timer.schedule(load_time_spacing*_load_index, function() {\n\n                            var _load = system.load_font( _font.id, {\n                                texture_path:_font.texture_path\n                            });\n\n                            _handle(_font.id, _load);\n\n                        }); //timer\n\n                    } else { //!loaded\n                        log('$id / already had ${_font.id} loaded, skipped');\n                        one_loaded(_font.id, _load_id, system.get(_font.id), ++_index, length);\n                    }\n\n                } //each fonts\n\n            //shader\n\n                for(_shader in list.shaders) {\n\n                    ++_load_index;\n\n                    if(!is_loaded(_shader.id)) {\n\n                        loaded.push(_shader.id);\n                        Luxe.timer.schedule(load_time_spacing*_load_index, function() {\n\n                            var _load = system.load_shader( _shader.id, {\n                                frag_id: _shader.frag_id,\n                                vert_id: _shader.vert_id\n                            });\n\n                            _handle(_shader.id, _load);\n\n                        }); //timer\n\n                    } else { //!loaded\n                        log('$id / already had ${_shader.id} loaded, skipped');\n                        one_loaded(_shader.id, _load_id, system.get(_shader.id), ++_index, length);\n                    }\n\n                } //each shaders\n\n            //audio\n\n                for(_sound in list.sounds) {\n\n                    ++_load_index;\n\n                    if(!is_loaded(_sound.id)) {\n\n                        loaded.push(_sound.id);\n                        Luxe.timer.schedule(load_time_spacing*_load_index, function() {\n\n                            var _load = system.load_audio( _sound.id, {\n                                is_stream: _sound.is_stream\n                            });\n\n                            _handle(_sound.id, _load);\n\n                        }); //timer\n\n                    } else { //!loaded\n                        log('$id / already had ${_sound.id} loaded, skipped');\n                        one_loaded(_sound.id, _load_id, system.get(_sound.id), ++_index, length);\n                    }\n\n                } //each sounds\n\n        }); //start delay timer\n\n    } //load\n\n        /** Unload this parcel contents, telling the system to remove the reference we have to them.\n            Optionally the list can be emptied out, but will be kept around for reloading the parcel again. */\n    public function unload( ?_empty_list:Bool = false ) {\n\n        emitter.emit(ParcelEvent.unload, this);\n\n        inline function _remove(_id) {\n            _debug('$_id / removing');\n            system.destroy(_id);\n            loaded.remove(_id);\n        }\n\n        for(item in list.bytes)     _remove(item.id);\n        for(item in list.texts)     _remove(item.id);\n        for(item in list.jsons)     _remove(item.id);\n        for(item in list.textures)  _remove(item.id);\n        for(item in list.fonts)     _remove(item.id);\n        for(item in list.shaders)   _remove(item.id);\n        for(item in list.sounds)    _remove(item.id);\n\n        if(_empty_list) {\n            list = null;\n            list = empty_list();\n        }\n\n        state = ParcelState.unloaded;\n\n    } //unload\n\n    public function from_json( _json_object:Dynamic ) {\n\n        assertnull(_json_object);\n\n        if(_json_object.bytes != null) {\n            var _bytes : Array<BytesInfo> = cast _json_object.bytes;\n            for(item in _bytes) {\n                if(item != null) {\n                    assertnull(item);\n                    assertnull(item.id);\n\n                    list.bytes.push(item);\n                } //item != null\n            } //each bytes\n        } //json object bytes\n\n        if(_json_object.text != null) {\n            var _texts : Array<TextInfo> = cast _json_object.text;\n            for(item in _texts) {\n                if(item != null) {\n                    assertnull(item);\n                    assertnull(item.id);\n\n                    list.texts.push(item);\n                } //item != null\n            } //each text\n        } //json object text\n\n        if(_json_object.json != null) {\n            var _jsons : Array<JSONInfo> = cast _json_object.json;\n            for(item in _jsons) {\n                if(item != null) {\n                    assertnull(item);\n                    assertnull(item.id);\n\n                    list.jsons.push(item);\n                } //item != null\n            } //each json\n        } //json object json\n\n        if(_json_object.textures != null) {\n            var _textures : Array<Dynamic> = cast _json_object.textures;\n            for(item in _textures) {\n                assertnull(item);\n                assertnull(item.id);\n\n                inline function _get_filter(_filter_type:String) : Null<FilterType> {\n                    if(_filter_type == null) return null;\n                    assert(_filter_type == 'nearest' || _filter_type == 'linear');\n                    return switch(_filter_type) {\n                        case 'nearest': FilterType.nearest;\n                        case 'linear': FilterType.linear;\n                        default: null;\n                    }\n                }\n\n                inline function _get_clamp(_clamp_type:String) : Null<ClampType> {\n                    if(_clamp_type == null) return null;\n                    assert(_clamp_type == 'edge' || _clamp_type == 'repeat' || _clamp_type == 'mirror');\n                    return switch(_clamp_type) {\n                        case 'edge':    ClampType.edge;\n                        case 'mirror':  ClampType.mirror;\n                        case 'repeat':  ClampType.repeat;\n                        default: null;\n                    }\n                }\n\n                list.textures.push({\n                    id: item.id,\n                    filter_min: _get_filter(item.filter_min),\n                    filter_mag: _get_filter(item.filter_mag),\n                    clamp_s: _get_clamp(item.clamp_s),\n                    clamp_t: _get_clamp(item.clamp_t),\n                    load_premultiply_alpha: item.load_premultiply_alpha\n                });\n\n            } //item in textures\n        } //json object textures\n\n        if(_json_object.fonts != null) {\n            var _fonts : Array<BitmapFontInfo> = cast _json_object.fonts;\n            for(item in _fonts) {\n                if(item != null) {\n                    assertnull(item);\n                    assertnull(item.id);\n\n                    list.fonts.push(item);\n                } //item != null\n            } //item in fonts\n        } //json object fonts\n\n        if(_json_object.shaders != null) {\n            var _shaders : Array<ShaderInfo> = cast _json_object.shaders;\n            for(item in _shaders) {\n                if(item != null) {\n                    assertnull(item);\n                    assertnull(item.id);\n                    assertnull(item.frag_id);\n                    assertnull(item.vert_id);\n\n                    list.shaders.push(item);\n                } //item != null\n            } //item in shaders\n        } //json object shaders\n\n        if(_json_object.sounds != null) {\n            var _sounds : Array<SoundInfo> = cast _json_object.sounds;\n            for(item in _sounds) {\n                if(item != null) {\n                    assertnull(item);\n                    assertnull(item.id);\n\n                    // if(item.is_stream == null) item.is_stream = false;\n\n                    list.sounds.push(item);\n                } //item != null\n            } //each sounds\n        } //json object sounds\n\n    } //from_json\n\n//Internal\n\n    function one_loaded( _item_id:String, _load_id:String, _resource:Resource, _index:Int, _total:Int ) {\n\n        _debug('loaded $_index / $_item_id / $_total for $_load_id / ' + Std.string(_resource) );\n\n        var _state : ParcelChange = {\n            id: _item_id,\n            load_id: _load_id,\n            resource: _resource,\n            index: _index,\n            total: _total\n        };\n\n        emitter.emit(ParcelEvent.progress, _state);\n\n        if(onprogress != null) {\n            onprogress(_state);\n        }\n\n        if(_index == _total) {\n            do_complete(_load_id);\n        }\n\n    } //one_loaded\n\n    function one_failed( _item_id:String, _load_id:String, _error:Dynamic, _index:Int, _total:Int ) {\n\n        _debug('failed $_index / $_item_id / $_total for $_load_id / ${_error}');\n\n        var _state : ParcelChange = {\n            id: _item_id,\n            load_id: _load_id,\n            error: _error,\n            index: _index,\n            total: _total\n        };\n\n        emitter.emit(ParcelEvent.failed, _state);\n\n        if(onfailed != null) {\n            onfailed(_state);\n        }\n\n    } //one_failed\n\n        //\n    inline function get_listed() : Array<String> {\n        var _result = [];\n\n        for(item in list.bytes)     _result.push(item.id);\n        for(item in list.texts)     _result.push(item.id);\n        for(item in list.jsons)     _result.push(item.id);\n        for(item in list.textures)  _result.push(item.id);\n        for(item in list.fonts)     _result.push(item.id);\n        for(item in list.shaders)   _result.push(item.id);\n        for(item in list.sounds)    _result.push(item.id);\n\n        return _result;\n    }\n\n    inline function get_length() {\n        return\n            list.bytes.length +\n            list.texts.length +\n            list.jsons.length +\n            list.textures.length +\n            list.shaders.length +\n            list.fonts.length +\n            list.sounds.length;\n    }\n\n        //do_complete\n    inline function do_complete( _load_id:String ) {\n\n        state = ParcelState.loaded;\n        time_to_load = Luxe.time - start_load;\n\n        _debug('completed load $_load_id in $time_to_load');\n\n        emitter.emit(ParcelEvent.complete, this);\n\n        if(oncomplete != null) {\n            oncomplete(this);\n        }\n\n    } //do_complete\n\n    function empty_list() : ParcelList {\n        return {\n            bytes:[],\n            texts:[],\n            jsons:[],\n            textures:[],\n            fonts:[],\n            shaders:[],\n            sounds:[],\n        };\n    }\n\n} //Parcel\n","package luxe;\n\nimport luxe.Ev;\nimport luxe.Engine;\nimport luxe.Vector;\nimport snow.api.Timer;\n\n#if deflect\n    import luxe.physics.deflect.PhysicsDeflect;\n#end //deflect\n\n#if nape\n    import luxe.physics.nape.PhysicsNape;\n#end //nape\n\n\nclass Physics {\n\n\n    #if deflect\n        public var deflect : PhysicsDeflect;\n    #end //deflect\n\n    #if nape\n        public var nape : PhysicsNape;\n    #end //nape\n\n    public var core : Engine;\n    public var engines : Array<PhysicsEngine>;\n\n        //how often to update\n    public var step_rate (default,set) : Float = 1/60;\n        //how much is a single step. This is set from step_rate initially, but can be changed manually\n    public var step_delta : Float = 1/60;\n\n//Physics fixed updates\n    @:noCompletion public var timer : Timer;\n\n    var emitter : luxe.Emitter<PhysicsEvent>;\n\n    public function new( _core:Engine ) {\n\n        core = _core;\n        emitter = new Emitter();\n\n    } //new\n\n    public function init() {\n\n        engines = [];\n\n        #if deflect\n            deflect = add_engine(PhysicsDeflect);\n        #end //deflect\n\n        #if nape\n            nape = add_engine(PhysicsNape);\n        #end //nape\n\n    } //init\n\n    public function reset() {\n\n            //stop any existing loop\n        if(timer != null) {\n            timer.stop();\n            timer = null;\n        }\n\n        if(step_rate != 0) {\n\n                //Start the physics update loop\n            timer = Luxe.timer.schedule( step_rate, fixed_update, true );\n\n        } //only if there is a step rate\n\n    } //reset\n\n    static var tag_physics : String = 'physics';\n\n        //called by the timer at a fixed rate\n    function fixed_update() {\n\n            #if !luxe_noprofile Luxe.debug.start(tag_physics); #end\n\n            //calculated because the values will change\n        emit(ph_fixed_update, step_delta * Luxe.timescale);\n\n        update();\n\n        emit(ph_fixed_update_post, step_delta * Luxe.timescale);\n\n            #if !luxe_noprofile Luxe.debug.end(tag_physics); #end\n\n    } //fixed_update\n\n        /** Add a physics engine type to be run by this class. */\n    public function add_engine<T1,T2>( type:Class<T1>, ?_data:T2 ) : T1 {\n\n        var _engine_instance = Type.createInstance( type, [ _data ] );\n        var _physics_engine : PhysicsEngine = cast _engine_instance;\n\n            //start with init\n        _physics_engine.init();\n\n            //push the engine into the list to be updated\n        engines.push( _physics_engine );\n\n            //return typed instance\n        return _engine_instance;\n\n    } //add_engine\n\n        /** Only call this manually if step_rate is 0! */\n    public function update() {\n        for(engine in engines) {\n            engine.update();\n        }\n    }\n\n    public function process() {\n        for(engine in engines) {\n            engine.process();\n        }\n    } //process\n\n    public function render() {\n        for(engine in engines) {\n            engine.render();\n        }\n    } //render\n\n    public function destroy() {\n\n        if(timer != null) {\n            timer.stop();\n        }\n\n        timer = null;\n\n        for(engine in engines) {\n            engine.destroy();\n        }\n\n    } //destroy\n\n//Events\n\n    public inline function on(_event:PhysicsEvent, _handler:Float->Void) : Void {\n        emitter.on(_event, _handler);\n    }\n\n    public inline function off(_event:PhysicsEvent, _handler:Float->Void) : Bool {\n        return emitter.off(_event, _handler);\n    }\n\n    public inline function emit(_event:PhysicsEvent, _float:Float) : Void {\n        emitter.emit(_event, _float);\n    }\n\n//Internal\n\n        //on changing the fixed rate, update the physics timer\n    function set_step_rate( _rate:Float ) {\n\n            //update the step size\n        step_rate = _rate;\n        step_delta = step_rate;\n\n            //reset the timer so it runs at the new rate\n        reset();\n\n        return step_rate;\n\n    } //set_step_rate\n\n\n} //Physics\n\n\n/** :todo:WIP: This api is work in progress, and might change a bit */\n@:enum abstract PhysicsEvent(Int) from Int to Int {\n\n        /** An unknown physics engine event */\n    var ph_unknown           = 0;\n        /** Emitted at the start of the fixed update, before the world is updated */\n    var ph_fixed_update      = 1;\n        /** Emitted at the end of the fixed update, after the world is updated */\n    var ph_fixed_update_post = 2;\n\n} //PhysicsEvent\n\n    //base class for simple physics world\n    //updates and access\nclass PhysicsEngine {\n\n    public var name : String = 'engine';\n\n    @:isVar public var paused (get,set) : Bool = false;\n    @:isVar public var gravity (get,set) : Vector;\n    @:isVar public var draw (get,set) : Bool = true;\n\n    public function new() {\n\n        gravity = new Vector(0, -9.8, 0);\n        Luxe.on(Ev.render, _render);\n\n    } //new\n\n    public function init() {\n\n    } //init\n\n    function _render(_) {\n\n        render();\n\n    } //_render\n\n    public function process() {\n\n    } //process\n\n    public function update() {\n\n    } //update\n\n    public function render() {\n\n    } //render\n\n    public function destroy() {\n\n    } //destroy\n\n//Properties\n\n    function get_paused() : Bool {\n\n        return paused;\n\n    } //get_paused\n\n    function set_paused( ?_pause:Bool ) {\n\n        return paused = _pause;\n\n    } //set_paused\n\n    function get_draw() : Bool {\n\n        return draw;\n\n    } //get_draw\n\n    function set_draw( _draw:Bool ) : Bool {\n\n        return draw = _draw;\n\n    } //set_draw\n\n    function get_gravity() : Vector {\n\n        return gravity;\n\n    } //get_gravity\n\n    function set_gravity( _gravity:Vector ) {\n\n        return gravity = _gravity;\n\n    } //set_gravity\n\n} //PhysicsEngine\n","package luxe;\n\nimport luxe.Log.*;\nimport luxe.resource.Resource;\nimport luxe.Parcel;\nimport luxe.options.ResourceOptions;\nimport phoenix.Texture;\nimport phoenix.BitmapFont;\nimport phoenix.Shader;\nimport snow.api.Promise;\n\nclass Resources {\n\n        /** The Parcel set that this system contains. */\n    public var parcels : Array<Parcel>;\n        /** The resource cache, stored by `Resource` id.\n            All resources in a `Parcel` contained by this system, will be here. */\n    public var cache: Map<String, Resource>;\n\n        /** General statistics about this system. */\n    public var stats : ResourceStats;\n\n//Internal vars\n\n    @:allow(luxe.Parcel)\n    var emitter: Emitter<ResourceEvent>;\n\n//\n\n    public function new() {\n        parcels = [];\n        emitter = new Emitter();\n        cache = new Map();\n        stats = new ResourceStats();\n    }\n\n//Public `Parcel` tracking\n\n    public function track(_cache:Parcel) {\n\n        assertnull(_cache);\n        assert(parcels.indexOf(_cache) == -1);\n\n        parcels.push(_cache);\n        emit(ResourceEvent.cache_tracked, _cache);\n\n    } //track\n\n    public function untrack(_cache:Parcel) {\n\n        assertnull(_cache);\n\n        var _removed = parcels.remove(_cache);\n\n        if(_removed) {\n            emit(ResourceEvent.cache_untracked, _cache);\n        }\n\n    } //untrack\n\n//Public Resource list\n\n        /** Add a resource to be tracked by this system. */\n    public function add(resource:Resource) {\n\n        assert(!cache.exists(resource.id));\n\n        cache.set(resource.id, resource);\n\n        emit(ResourceEvent.listed, resource);\n\n        update_stats(resource, 1);\n\n    } //add\n\n        /** Remove a resource being tracked by this system. */\n    public function remove(resource:Resource #if luxe_resource_pos, ?_pos:haxe.PosInfos #end) : Bool {\n\n        assert(cache.exists(resource.id));\n\n        emit(ResourceEvent.unlisted, resource);\n\n        update_stats(resource, -1);\n\n        return cache.remove(resource.id);\n\n    } //remove\n\n        /** Destroy a resource by id. Returns false if the resource wasn't found. */\n    public function destroy(_id:String, ?_force:Bool=false) : Bool {\n\n        var _resource = get(_id);\n\n        if(_resource == null) return false;\n\n        _resource.destroy(_force);\n\n        return true;\n\n    } //destroy\n\n        /** Invalidate a resource by id. Returns false if the resource wasn't found. */\n    public function invalidate(_id:String) : Bool {\n\n        var _resource = get(_id);\n\n        if(_resource == null) return false;\n\n        _resource.invalidate();\n\n        return true;\n\n    } //invalidate\n\n//Public event handling\n\n    public function on<T>(ev:ResourceEvent, handler:T->Void) {\n\n        emitter.on(ev, handler);\n\n    } //on\n\n    public function off<T>(ev:ResourceEvent, handler:T->Void) {\n\n        emitter.off(ev, handler);\n\n    } //off\n\n    public function emit<T>(ev:ResourceEvent, data:T) {\n\n        emitter.emit(ResourceEvent.any, data);\n        emitter.emit(ev, data);\n\n    } //emit\n\n\n//Public load api\n\n    public function load_bytes(_id:String) : Promise {\n\n        assertnull(_id);\n\n        var _resource = bytes(_id);\n\n        if(_resource != null) {\n            _debug('bytes / existed / $_id');\n            _resource.ref++;\n            return Promise.resolve(_resource);\n        }\n\n        _debug('bytes / loading / $_id');\n\n        _resource = new BytesResource({\n            id: _id,\n            system: this,\n            asset: null\n        });\n\n        add(_resource);\n\n        return _resource.reload();\n\n    } //load_bytes\n\n    public function load_text(_id:String) : Promise {\n\n        assertnull(_id);\n\n        var _resource = text(_id);\n\n        if(_resource != null) {\n            _debug('text / existed / $_id');\n            _resource.ref++;\n            return Promise.resolve(_resource);\n        }\n\n        _debug('text / loading / $_id');\n\n        _resource = new TextResource({\n            id: _id,\n            system: this,\n            asset: null\n        });\n\n        add(_resource);\n\n        return _resource.reload();\n\n    } //load_text\n\n    public function load_json(_id:String) : Promise {\n\n        assertnull(_id);\n\n        var _resource = json(_id);\n\n        if(_resource != null) {\n            _debug('json / existed / $_id');\n            _resource.ref++;\n            return Promise.resolve(_resource);\n        }\n\n        _debug('json / loading / $_id');\n\n        _resource = new JSONResource({\n            id: _id,\n            system: this,\n            asset: null\n        });\n\n        add(_resource);\n\n        return _resource.reload();\n\n    } //load_json\n\n    public function load_texture(_id:String, ?_options:LoadTextureOptions) : Promise {\n\n        assertnull(_id);\n\n        var _resource = texture(_id);\n\n        if(_resource != null) {\n            _debug('texture / existed / $_id');\n            _resource.ref++;\n            return Promise.resolve(_resource);\n        }\n\n        _debug('texture / loading / $_id');\n\n        //options\n\n            var _filter_min = null;\n            var _filter_mag = null;\n            var _clamp_s = null;\n            var _clamp_t = null;\n            var _premultiply = null;\n\n            if(_options != null) {\n                _filter_min  = _options.filter_min;\n                _filter_mag  = _options.filter_mag;\n                _clamp_s     = _options.clamp_s;\n                _clamp_t     = _options.clamp_t;\n                _premultiply = _options.load_premultiply_alpha;\n            }\n\n        _resource = new Texture({\n            id: _id,\n            system: this,\n            filter_min: _filter_min,\n            filter_mag: _filter_mag,\n            clamp_s: _clamp_s,\n            clamp_t: _clamp_t,\n            load_premultiply_alpha: _premultiply\n        });\n\n        add(_resource);\n\n        return _resource.reload();\n\n    } //load_texture\n\n    public function load_font(_id:String, ?_options:LoadFontOptions) : Promise {\n\n        assertnull(_id);\n\n        var _resource = font(_id);\n\n        if(_resource != null) {\n            _debug('font / existed / $_id');\n            _resource.ref++;\n            return Promise.resolve(_resource);\n        }\n\n        _debug('font / loading / $_id');\n\n        var _texture_path = null;\n        if(_options != null) {\n            _texture_path = _options.texture_path;\n        }\n\n        _resource = new BitmapFont({\n            id: _id,\n            system: this,\n            texture_path: _texture_path\n        });\n\n        add(_resource);\n\n        return _resource.reload();\n\n    } //load_font\n\n    public function load_shader(_id:String, _options:LoadShaderOptions) : Promise {\n\n        assertnull(_id);\n\n        var _resource = shader(_id);\n\n        if(_resource != null) {\n            _debug('shader / existed / $_id');\n            _resource.ref++;\n            return Promise.resolve(_resource);\n        }\n\n        _debug('shader / loading / $_id');\n\n        _resource = new Shader({\n            id: _id,\n            system: this,\n            frag_id: _options.frag_id,\n            vert_id: _options.vert_id\n        });\n\n        add(_resource);\n\n        return _resource.reload();\n\n    } //load_shader\n\n\n    public function load_audio(_id:String, ?_options:LoadAudioOptions) : Promise {\n\n        assertnull(_id);\n\n        var _resource = audio(_id);\n\n        if(_resource != null) {\n            _debug('audio / existed / $_id');\n            _resource.ref++;\n            return Promise.resolve(_resource);\n        }\n\n        _debug('audio / loading / $_id');\n\n        var _is_stream = false;\n        if(_options != null) {\n            _is_stream = _options.is_stream;\n        }\n\n        _resource = new AudioResource({\n            id: _id,\n            system: this,\n            asset: null,\n            is_stream: _is_stream\n        });\n\n        add(_resource);\n\n        return _resource.reload();\n\n    } //load_audio\n\n//Public fetch API\n\n    public inline function has      (_id:String) : Bool           return cache.exists(_id);\n    public inline function get      (_id:String) : Resource       return fetch(_id);\n    public inline function bytes    (_id:String) : BytesResource  return fetch(_id);\n    public inline function text     (_id:String) : TextResource   return fetch(_id);\n    public inline function json     (_id:String) : JSONResource   return fetch(_id);\n    public inline function texture  (_id:String) : Texture        return fetch(_id);\n    public inline function font     (_id:String) : BitmapFont     return fetch(_id);\n    public inline function shader   (_id:String) : Shader         return fetch(_id);\n    public inline function audio    (_id:String) : AudioResource  return fetch(_id);\n\n//Internal\n\n    inline function fetch<T>(_id:String) : T {\n        return cast cache.get(_id);\n    } //fetch\n\n    inline function update_stats(_res:Resource, _offset:Int) {\n\n        switch(_res.resource_type) {\n            case ResourceType.unknown:          stats.unknown   += _offset;\n            case ResourceType.bytes:            stats.bytes     += _offset;\n            case ResourceType.text:             stats.texts     += _offset;\n            case ResourceType.json:             stats.jsons     += _offset;\n            case ResourceType.texture:          stats.textures  += _offset;\n            case ResourceType.render_texture:   stats.rtt       += _offset;\n            case ResourceType.font:             stats.fonts     += _offset;\n            case ResourceType.shader:           stats.shaders   += _offset;\n            case ResourceType.audio:            stats.audios    += _offset;\n        }\n\n        stats.total += _offset;\n\n    }\n\n} //Resources\n\n\n\n/** The state a resource can be in. The state is\n    mutually exclusive (only one at a time), and states\n    that lead to other states should always change in a fixed order.\n    In other words, state can never go from unknown to loaded, without\n    first passing through listed and loading. */\n@:enum abstract ResourceState(Int) from Int to Int {\n    //\n        /** This resource id is not known to the system,\n            either it wasn't added or was subsequently removed */\n    var unknown     = 0;\n\n        /** This id is known, but is not loaded.\n            unloaded resources go back to this state unless removed. */\n    var listed      = 1;\n\n        /** The resource is pending a load completion or timeout. */\n    var loading     = 2;\n\n        /** The resource is loaded and stored for query/fetching. */\n    var loaded      = 3;\n\n        /** The resource has failed to be created. */\n    var failed      = 4;\n\n        /** The resource has been invalidated, either manually or\n            from an event (change on disk, graphics context lost, etc)\n            and needs to be reloaded from the source data if desired. */\n    var invalidated = 5;\n\n        /** The resource has been destroyed. If the asset is in this\n            state it should not be considered for reuse and will assert on use it */\n    var destroyed   = 6;\n\n} //ResourceState\n\n@:enum abstract ResourceEvent(Int) from Int to Int {\n\n    var unknown             = 0;\n    var any                 = 1;\n    var listed              = 2;\n    var loading             = 3;\n    var loaded              = 4;\n    var failed              = 5;\n    var invalidated         = 6;\n    var unlisted            = 7;\n    var destroyed           = 8;\n    var reference           = 9;\n    var dereference         = 10;\n    var cache_tracked       = 11;\n    var cache_untracked     = 12;\n\n} //ResourceEvent\n\n\n@:enum\nabstract ResourceType(Int) from Int to Int {\n    var unknown         = 0;\n    var text            = 1;\n    var json            = 2;\n    var bytes           = 3;\n    var texture         = 4;\n    var render_texture  = 5;\n    var font            = 6;\n    var shader          = 7;\n    var audio           = 8;\n}\n\n\nclass ResourceStats {\n\n    public var total : Int = 0;\n    public var fonts : Int = 0;\n    public var textures : Int = 0;\n    public var rtt : Int = 0;\n    public var shaders : Int = 0;\n    public var texts : Int = 0;\n    public var jsons : Int = 0;\n    public var bytes : Int = 0;\n    public var audios : Int = 0;\n    public var unknown : Int = 0;\n\n    public function new() {\n\n    } //new\n\n    function toString() {\n\n        return\n            'Resource Statistics\\n' +\n            '\\ttotal : ' + total + '\\n' +\n            '\\ttexture : ' + textures + ' \\n' + '' +\n            '\\trender texture : ' + rtt + ' \\n' +\n            '\\tfont : ' + fonts + '\\n' +\n            '\\tshader : ' + shaders + '\\n' +\n            '\\ttext : ' + texts + '\\n' +\n            '\\tjson : ' + jsons + '\\n' +\n            '\\tbytes : ' + bytes + '\\n' +\n            '\\taudios : ' + audios + '\\n' +\n            '\\tunknown : ' + unknown;\n\n    } //toString\n\n    public function reset() {\n\n        total = 0;\n        fonts = 0;\n        textures = 0;\n        rtt = 0;\n        shaders = 0;\n        texts = 0;\n        jsons = 0;\n        bytes = 0;\n        audios = 0;\n        unknown = 0;\n\n    } //reset\n\n\n} //ResourceStats\n","package luxe;\n\nimport luxe.Ev;\nimport luxe.Input;\nimport luxe.Screen;\nimport luxe.options.EntityOptions;\n\nimport luxe.Log.*;\n\nclass Scene extends Objects {\n\n        /** The list of entities within this `Scene` */\n    public var entities : Map<String,Entity>;\n        /** Whether or not the `Scene` has called init */\n    public var inited : Bool = false;\n        /** Whether or not the `Scene` has called reset */\n    public var started : Bool = false;\n        /** The number of entities in this `Scene` */\n    public var length(get, null) : Int = 0;\n        /** whether or not this scene has been destroyed */\n    public var destroyed : Bool = false;\n\n//internal\n    \n    @:allow(luxe.Entity)\n    var _delayed_init_entities : Array<Entity>;\n\n    @:allow(luxe.Entity)\n    var _delayed_reset_entities : Array<Entity>;\n\n    @:allow(luxe.Entity)\n    @:allow(luxe.debug.SceneDebugView)\n    var _has_changed: Bool = false;\n\n//\n\n    public function new( ?_name:String='untitled scene' ) {\n\n        super(_name);\n\n        entities = new Map<String,Entity>();\n\n        _delayed_init_entities = [];\n        _delayed_reset_entities = [];\n\n        Luxe.core.on(Ev.init, init);\n        Luxe.core.on(Ev.destroy, _destroy);\n        Luxe.core.on(Ev.update, update);\n\n        Luxe.core.on(Ev.prerender, prerender);\n        Luxe.core.on(Ev.postrender, postrender);\n        Luxe.core.on(Ev.render, render);\n\n        Luxe.core.on(Ev.keydown, keydown);\n        Luxe.core.on(Ev.keyup, keyup);\n        Luxe.core.on(Ev.textinput, textinput);\n\n        Luxe.core.on(Ev.inputup, inputup);\n        Luxe.core.on(Ev.inputdown, inputdown);\n\n        Luxe.core.on(Ev.mouseup, mouseup);\n        Luxe.core.on(Ev.mousedown, mousedown);\n        Luxe.core.on(Ev.mousemove, mousemove);\n        Luxe.core.on(Ev.mousewheel, mousewheel);\n\n        Luxe.core.on(Ev.touchup, touchup);\n        Luxe.core.on(Ev.touchdown, touchdown);\n        Luxe.core.on(Ev.touchmove, touchmove);\n\n        Luxe.core.on(Ev.gamepadup, gamepadup);\n        Luxe.core.on(Ev.gamepaddown, gamepaddown);\n        Luxe.core.on(Ev.gamepadaxis, gamepadaxis);\n        Luxe.core.on(Ev.gamepaddevice, gamepaddevice);\n\n        Luxe.core.on(Ev.windowmoved, windowmoved);\n        Luxe.core.on(Ev.windowresized, windowresized);\n        Luxe.core.on(Ev.windowsized, windowsized);\n        Luxe.core.on(Ev.windowminimized, windowminimized);\n        Luxe.core.on(Ev.windowrestored, windowrestored);\n\n            //if we have already missed the internal init\n        if(Luxe.core.inited) {\n            init(null);\n        }\n\n        var _view:luxe.debug.SceneDebugView = Luxe.core.debug.get_view('Scenes');\n        if(_view != null) {\n            _view.add_scene(this);\n        }\n\n    } //new\n\n    @:allow(luxe.Entity)\n    inline function handle_duplicate_warning(_name:String) {\n        if(entities.exists(_name)) {\n            log('${name} / adding a second entity named $_name!\n                This will replace the existing one, possibly leaving the previous one in limbo.');\n        }\n    }\n\n        /** add given entity to this scene */\n    var entity_count : Int = 0;\n    public function add( entity:Entity #if luxe_scene_pos, ?pos:haxe.PosInfos #end ) {\n\n        assertnull(entity, 'can\\'t put entity in a scene if the entity is null.');\n\n            _debug('${name} / adding ${entity.name} with id : ${entity.id}');\n\n        handle_duplicate_warning(entity.name);\n\n        entity.scene = this;\n        entity.scene_root = this;\n        entities.set( entity.name, entity );\n        entity_count++;\n\n\n            if(inited) {\n                _debug('adding a delayed entity to init list ' + entity.name);\n                _delayed_init_entities.push(entity);\n            } //inited\n\n            if(started) {\n                _debug('adding a delayed entity to reset list ' + entity.name);\n                _delayed_reset_entities.push(entity);\n            } //started\n\n        _has_changed = true;\n\n    } //add\n\n        /** removes given entity from this scene */\n    public function remove( entity:Entity ) : Bool {\n\n        assertnull(entity, 'can\\'t remove entity from a scene if the entity is null.');\n\n        _has_changed = true;\n\n        if(entity.scene == this) {\n\n            _debug('${name} / removing ${entity.name} with id : ${entity.id}');\n            entity.scene = null;\n            entity_count--;\n            return entities.remove( entity.name );\n\n        } else {\n\n            log('can\\'t remove the entity(`${entity.name}`) from this scene(`$name`), it is not mine (entity.scene != this)');\n            return false;\n\n        }\n\n        return false;\n\n    } //remove\n\n    public inline function get<T:(Entity)>(_name:String) : T {\n\n        return cast entities.get(_name);\n\n    } //get\n\n        /** Destroy all entities in this scene.\n            There is one exception: If `entity == Luxe.camera`,\n            it will not be destroyed. Call Luxe.camera.destroy()\n            explicitly. This exception will change in future,\n            but saves a lot of confusion for and improves workflow. */\n    public function empty() {\n\n        _debug('$name / empty');\n\n        if(entity_count > 0) {\n            #if luxe_camera_is_not_special\n                for(entity in entities) {\n                    if(entity != null) {\n                        // remove( entity );\n                        entity.destroy();\n                        entity = null;\n                    }\n                } //each entity\n            #else\n                for(entity in entities) {\n                    if(entity != null && entity != Luxe.camera) {\n                        // remove( entity );\n                        entity.destroy();\n                        entity = null;\n                    }\n                } //each entity\n            #end\n        } //entity_count > 0\n\n    } //empty\n\n        /**\n            Return a list of similarly named entities in the scene.\n            For example, enemy.1 enemy.2 enemy.3 with 'enemy' will return all of these.\n            Useful for the EntityOptions name_unique flag.\n            Iterates all entities in the scene, use carefully.\n            Note that this is a function that will likely become a part of a set of functions so it may change slightly.\n            Current behavior works based on (name.)* from the beginning of the name only.\n            `enemy.1` will match, `enemy` will not (no .), `this.enemy.name` will not.\n            `^((?:enemy)[.]{1})`\n        */\n    public function get_named_like(_name:String, into:Array<Entity> ) {\n\n        if(entity_count > 0) {\n            var _filter : EReg = new EReg('^((?:' + _name + ')[.]{1})', 'g');\n            for(_entity in entities) {\n                if( _filter.match(_entity.name) ) {\n                    into.push(_entity);\n                }\n            }\n        }\n\n        return into;\n\n    } //get_named_like\n\n//render\n\n    function render(_) {\n\n        emit(Ev.render);\n\n    } //render\n\n    function prerender(_) {\n\n        emit(Ev.prerender);\n\n    } //prerender\n\n    function postrender(_) {\n\n        emit(Ev.postrender);\n\n    } //postrender\n\n//Keys\n\n    function keydown(e:KeyEvent) {\n\n        _verboser('$name / key down / $e');\n\n        emit(Ev.keydown, e);\n\n    } //keydown\n\n    function keyup(e:KeyEvent) {\n\n        _verboser('$name / key up / $e');\n\n        emit(Ev.keyup, e);\n\n    } //keyup\n\n    function textinput(e:TextEvent) {\n\n        _verboser('$name / text event / $e');\n\n        emit(Ev.textinput, e);\n\n    } //textinput\n\n//Mouse\n\n    function mousedown(e:MouseEvent) {\n\n        _verboser('$name / mousedown / $e');\n\n        emit(Ev.mousedown, e);\n\n    } //onmousedown\n\n    function mousewheel(e:MouseEvent) {\n\n        _verboser('$name / mousewheel / $e');\n\n        emit(Ev.mousewheel, e);\n\n    } //onmousewheel\n\n    function mouseup(e:MouseEvent) {\n\n        _verboser('$name / mouseup / $e');\n\n        emit(Ev.mouseup, e);\n\n    } //onmouseup\n\n    function mousemove(e:MouseEvent) {\n\n        _verboser('$name / mousemove / $e');\n\n        emit(Ev.mousemove, e);\n\n    } //onmousemove\n\n//Touch\n\n    function touchdown( event : TouchEvent ) {\n\n        emit(Ev.touchdown, event);\n\n    } //ontouchdown\n\n    function touchup( event : TouchEvent ) {\n\n        emit(Ev.touchup, event);\n\n    } //ontouchup\n\n    function touchmove( event : TouchEvent ) {\n\n        emit(Ev.touchmove, event);\n\n    } //ontouchmove\n\n//Gamepad\n\n    function gamepadaxis( event:GamepadEvent ) {\n\n        emit(Ev.gamepadaxis, event);\n\n    } //gamepadaxis\n\n    function gamepadup( event:GamepadEvent ) {\n\n        emit(Ev.gamepadup, event);\n\n    } //gamepadup\n\n    function gamepaddown( event:GamepadEvent ) {\n\n        emit(Ev.gamepaddown, event);\n\n    } //gamepaddown\n\n    function gamepaddevice( event:GamepadEvent ) {\n\n        emit(Ev.gamepaddevice, event);\n\n    } //gamepaddown\n\n\n//windowing\n\n    function windowmoved( event:WindowEvent ) {\n\n        emit(Ev.windowmoved, event);\n\n    } //windowmoved\n\n    function windowresized( event:WindowEvent ) {\n\n        emit(Ev.windowresized, event);\n\n    } //windowresized\n\n    function windowsized( event:WindowEvent ) {\n\n        emit(Ev.windowsized, event);\n\n    } //windowsized\n\n    function windowminimized( event:WindowEvent ) {\n\n        emit(Ev.windowminimized, event);\n\n    } //windowminimized\n\n    function windowrestored( event:WindowEvent ) {\n\n        emit(Ev.windowrestored, event);\n\n    } //windowrestored\n\n//Input\n\n    function inputdown(_event:InputEvent) {\n\n        emit(Ev.inputdown, _event);\n\n    } //inputdown\n\n    function inputup(_event:InputEvent) {\n\n        emit(Ev.inputup, _event);\n\n    } //inputup\n\n//Cleanup\n\n    function _destroy(_) {\n\n        destroy();\n\n    } //destroy\n\n    public function destroy() {\n\n        assert(destroyed == false, 'scene / destroying repeatedly `$name`');\n\n        _debug('destroy / `$name` with $length entities / $id');\n\n        destroyed = true;\n\n        Luxe.core.off(Ev.init, init);\n        Luxe.core.off(Ev.destroy, _destroy);\n        Luxe.core.off(Ev.update, update);\n\n        Luxe.core.off(Ev.prerender, prerender);\n        Luxe.core.off(Ev.postrender, postrender);\n        Luxe.core.off(Ev.render, render);\n\n        Luxe.core.off(Ev.keydown, keydown);\n        Luxe.core.off(Ev.keyup, keyup);\n        Luxe.core.off(Ev.textinput, textinput);\n\n        Luxe.core.off(Ev.inputup, inputup);\n        Luxe.core.off(Ev.inputdown, inputdown);\n\n        Luxe.core.off(Ev.mouseup, mouseup);\n        Luxe.core.off(Ev.mousedown, mousedown);\n        Luxe.core.off(Ev.mousemove, mousemove);\n        Luxe.core.off(Ev.mousewheel, mousewheel);\n\n        Luxe.core.off(Ev.touchup, touchup);\n        Luxe.core.off(Ev.touchdown, touchdown);\n        Luxe.core.off(Ev.touchmove, touchmove);\n\n        Luxe.core.off(Ev.gamepadup, gamepadup);\n        Luxe.core.off(Ev.gamepaddown, gamepaddown);\n        Luxe.core.off(Ev.gamepadaxis, gamepadaxis);\n        Luxe.core.off(Ev.gamepaddevice, gamepaddevice);\n\n        Luxe.core.off(Ev.windowmoved, windowmoved);\n        Luxe.core.off(Ev.windowresized, windowresized);\n        Luxe.core.off(Ev.windowsized, windowsized);\n        Luxe.core.off(Ev.windowminimized, windowminimized);\n        Luxe.core.off(Ev.windowrestored, windowrestored);\n\n        emit(Ev.destroy);\n\n        var _view : luxe.debug.SceneDebugView = Luxe.core.debug.get_view('Scenes');\n        if(_view != null) {\n            _view.remove_scene(this);\n        }\n\n    } //destroy\n\n    function _do_init() : Bool {\n\n        var _before_count = length;\n\n        if(entity_count > 0) {\n            for(entity in entities) {\n                if(entity != null) {\n                    if(!entity.inited) {\n                        _verbose('calling init on an entity : ' + entity.name);\n                        entity._init();\n                    }\n                }\n            }\n        }\n\n        var _after_count = length;\n\n        return _before_count != _after_count;\n\n    } // _do_init\n\n        //Entities themselves can create entities\n        //inside of their init so we have to keep checking\n    public function init(_) {\n\n        var _keep_going = true;\n        \n        while(_keep_going) {\n            _keep_going = _do_init();\n        }\n\n        inited = true;\n\n        emit(Ev.init);\n\n        reset();\n\n    } //init\n\n        /** reset this scene, allowing all entities, children and attached components to be notified of the reset */\n    public function reset() {\n\n        started = false;\n\n            emit(Ev.reset);\n\n        started = true;\n\n    } //reset\n\n    function update(dt:Float) {\n\n        #if !luxe_noprofile Luxe.core.debug.start('scene.' + name); #end\n\n            //late scene additions get init'ed and start'ed\n        handle_delayed_additions();\n            //just in case, as the entities are called directly\n        emit(Ev.update, dt);\n\n            //finally update them\n        if(entity_count > 0) {\n            for(entity in entities) {\n                if(entity != null) {\n                    entity._update(dt);\n                }\n            } //for each entity\n        }\n\n        #if !luxe_noprofile Luxe.core.debug.end('scene.' + name); #end\n\n    } //update\n\n    function handle_delayed_additions() {\n\n        if(_delayed_init_entities.length != 0 || _delayed_reset_entities.length != 0) {\n            _debug(\"delayed entities in scene will init/reset now! \" + _delayed_init_entities.length + ' / ' + _delayed_reset_entities.length);\n        }\n\n        if(_delayed_init_entities.length > 0) {\n            for(entity in _delayed_init_entities) {\n                if(entity.destroyed) continue;\n                if(!entity.inited) {\n                    _debug('\\t handling late entity init ' + entity.name);\n                    entity._init();\n                } else {\n                    _debug('\\t skipped late entity init, already inited ' + entity.name);\n                }\n            }\n            _delayed_init_entities = null;\n            _delayed_init_entities = [];\n        }\n\n        if(_delayed_reset_entities.length > 0) {\n            for(entity in _delayed_reset_entities) {\n                if(entity.destroyed) continue;\n                _debug('\\t handling late entity reset ' + entity.name);\n                entity._reset(null);\n            }\n            _delayed_reset_entities = null;\n            _delayed_reset_entities = [];\n        }\n\n    } //handle_delayed_additions\n\n    function get_length() : Int {\n\n        return Lambda.count(entities);\n\n    } //get_length\n\n    function toString() {\n\n        return 'luxe Scene: $name / $length entities / id: $id';\n\n    } //toString\n\n\n} //Scene\n","package luxe;\n\nimport luxe.Rectangle;\nimport luxe.Vector;\n\n\ntypedef WindowEventType = snow.types.Types.WindowEventType;\n\n/** The data related to the specific window event. */\ntypedef WindowEventData = {\n        /** The x data for the event, if applicable */\n    @:optional var x:Int;\n        /** The y data for the event, if applicable */\n    @:optional var y:Int;\n\n} //WindowEventData\n\n\n/** A window event */\ntypedef WindowEvent = snow.types.Types.WindowEvent;\n\n\n\n@:allow(luxe.Engine)\n@:allow(luxe.Cursor)\nclass Screen {\n\n        /** Convenience: Returns *a new vector*, the middle of the screen, rounded as (w/2, h/2) */\n    public var mid (get,null) : Vector;\n        /** Convenience: Returns *a new vector*, the size of the screen */\n    public var size (get,null) : Vector;\n        /** Convenience: Returns *a new rectangle*, the bounds of the screen (0, 0, w, h) */\n    public var bounds (get,null) : Rectangle;\n\n        /** Returns the screen width as an Int */\n    public var w (get,null) : Int;\n        /** Returns the screen height as an Int */\n    public var h (get,null) : Int;\n        /** Returns the device pixel ratio, a scaling factor for high DPI devices.\n            There are two sizes to consider, the \"renderable pixels\" that you draw, and the device pixels (i.e window size).\n            If `luxe_no_device_pixel_scaling` is defined,  API returns renderable pixels, if not it returns device pixels.\n            This value can be used to convert from one to the other.\n            For device -> renderable, `device * device_pixel_ratio`.\n            For renderable -> device, `pixels / device_pixel_ratio`  */\n    public var device_pixel_ratio (get,null) : Float;\n\n        /** Convenience: Returns the screen width as a Float */\n    @:isVar public var width (default,null) : Float;\n        /** Convenience: Returns the screen height as a Float */\n    @:isVar public var height (default,null) : Float;\n\n        /** Access to the mouse cursor, position, visibility, locking etc. */\n    public var cursor : Cursor;\n\n    var core : Engine;\n\n    @:allow(luxe.Engine)\n    function new(_core:Engine, _w:Int, _h:Int) {\n\n        core = _core;\n        cursor = new Cursor(this);\n\n        width = _w;\n        height = _h;\n\n    } //new\n\n    function toString() {\n        return 'luxe.Screen({ w:$w, h:$h })';\n    }\n\n//Public API\n\n        /** Returns true if the given point falls within the bounds of the w/h of the screen. */\n    public function point_inside( _p:Vector ) {\n\n        if( _p.x < 0 )  return false;\n        if( _p.y < 0 )  return false;\n        if( _p.x > width )  return false;\n        if( _p.y > height )  return false;\n\n        return true;\n\n    } //point_inside\n\n        /** Returns true if the given point as floats fall within the bounds of the w/h of the screen. */\n    public function point_inside_xy( _x:Float, _y:Float ) {\n\n        if( _x < 0 )  return false;\n        if( _y < 0 )  return false;\n        if( _x > width )  return false;\n        if( _y > height )  return false;\n\n        return true;\n\n    } //point_inside_xy\n\n//Internal\n\n    function internal_resized(_w:Float, _h:Float) {\n\n        width = _w;\n        height = _h;\n\n    } //set_size\n\n//getters/setters\n\n        //:todo:immutable: create immutable types, that way these can be cached instead of new\n\n    function get_mid() : Vector return new Vector( Math.round(w/2), Math.round(h/2) );\n    function get_size() : Vector return new Vector( w, h );\n    function get_bounds() : Rectangle return new Rectangle( 0, 0, w, h );\n    function get_w() : Int return Std.int(width);\n    function get_h() : Int return Std.int(height);\n    function get_device_pixel_ratio() return core.app.runtime.window_device_pixel_ratio();\n\n} //Screen\n\n\n\n\n\n\nclass Cursor {\n\n        /** Locking the cursor hides it, and enables the `x_rel`/`y_rel`   \n            values on the mouse move events. This changes the mouse to   \n            allow movement without it stopping at the bounds.   \n            On `web`, this must come from a user initiated action, and asks their permission. (get/set) */\n    @:isVar public var grab (get,set): Bool = false;\n        /** The current mouse position. `read only` */\n    @:isVar public var pos (get,null): Vector;\n\n        /** The screen this cursor relates to. */\n    var screen : Screen;\n    var ignore : Bool = false;\n\n    @:allow(luxe.Screen)\n    function new( _screen:Screen ) {\n\n        screen = _screen;\n        pos = new Vector();\n\n    } //new\n\n    @:allow(luxe.Engine)\n    inline function set_internal(_x:Float, _y:Float) {\n\n            //this has to be a new value because if it's cached,\n            //it sends in references that get kept by user code\n            //or accidentally modified by .operation calls\n            //this is temporary till embers immutable stuff\n            //:todo:immutable: Vector types\n        ignore = true;\n\n            pos = new luxe.Vector(_x, _y);\n\n        ignore = false;\n\n    } //set_internal\n\n//getters/setters\n\n    function get_grab() : Bool {\n\n        return grab;\n\n    } //get_grab\n\n    function set_grab( _grab:Bool ) : Bool {\n\n        screen.core.app.runtime.window_grab(_grab);\n\n        return grab = _grab;\n\n    } //set_grab\n\n    function get_pos() : Vector {\n\n        return pos;\n\n    } //get_pos\n\n} //Cursor\n","package luxe;\n\nimport luxe.Log.*;\nimport luxe.Visual;\nimport luxe.Vector;\nimport luxe.Rectangle;\n\nimport luxe.Resources;\nimport phoenix.geometry.Geometry;\nimport phoenix.geometry.QuadGeometry;\n\nimport luxe.options.SpriteOptions;\n\nclass Sprite extends Visual {\n\n\n    @:isVar public var centered     (default, set) : Bool = true;\n    @:isVar public var flipx        (default, set) : Bool = false;\n    @:isVar public var flipy        (default, set) : Bool = false;\n    @:isVar public var uv           (default, set) : Rectangle;\n\n    public var geometry_quad : QuadGeometry;\n\n\n    public function new( options:SpriteOptions ) {\n\n        uv = new Rectangle();\n\n        assertnull(options, 'Sprite requires non-null options');\n\n            //centered\n        if(options.centered != null) {\n            centered = options.centered;\n        }\n\n            //flipx\n        if(options.flipx != null) {\n            flipx = options.flipx;\n        }\n\n            //flipy\n        if(options.flipy != null) {\n            flipy = options.flipy;\n        }\n\n            //create visual\n        super( options );\n\n    }\n\n    override function on_geometry_created() {\n\n        super.on_geometry_created();\n\n        if(texture != null) {\n\n                //because the default is 0,0,1,1 uv for the quad, we don't want that when\n                //textures are padded (like on web)\n            uv = def(options.uv, new Rectangle(0,0,texture.width,texture.height));\n\n                //if texture is render target, flipy\n            if(texture.resource_type == ResourceType.render_texture) {\n                flipy = true;\n            }\n\n        } //texture !null\n\n            //set the origin and centered once created\n        centered = !!centered;\n            //and re assign the flip values\n        flipx = !!flipx;\n        flipy = !!flipy;\n\n    } //on_geometry_created\n\n    override function set_geometry( _g:Geometry ) {\n\n        geometry_quad = cast _g;\n        return super.set_geometry(_g);\n\n    } //set_geometry\n\n    override public function ondestroy() {\n\n        uv = null;\n        geometry_quad = null;\n\n        super.ondestroy();\n\n    }\n\n//Helper functions\n\n        /** Returns true if a point is inside the sprite, takes into account the sprite transform,\n            which includes more cost than simple AABB like `point_inside_AABB` */\n    public function point_inside( _p:Vector ) : Bool {\n\n        if(geometry == null) return false;\n\n        return Luxe.utils.geometry.point_in_geometry(_p, geometry);\n\n    } //point_inside\n\n        /** Returns true if a point is inside the AABB unrotated */\n    public function point_inside_AABB(_p:Vector) : Bool {\n\n        if(pos == null) return false;\n        if(size == null) return false;\n\n            //scaled size\n        var _s_x = size.x * scale.x;\n        var _s_y = size.y * scale.y;\n\n        if(centered) {\n            var _hx = _s_x / 2;\n            var _hy = _s_y / 2;\n            if(_p.x < pos.x - _hx) return false;\n            if(_p.y < pos.y - _hy) return false;\n            if(_p.x > pos.x+_s_x - _hx) return false;\n            if(_p.y > pos.y+_s_y - _hy) return false;\n        } else {\n            if(_p.x < pos.x) return false;\n            if(_p.y < pos.y) return false;\n            if(_p.x > pos.x+_s_x) return false;\n            if(_p.y > pos.y+_s_y) return false;\n        }\n\n        return true;\n\n    } //point_inside_AABB\n\n//Properties\n\n\n//UV / source rect\n\n    function set_uv(_uv:Rectangle) : Rectangle {\n\n        if(_uv == null) return uv = _uv;\n\n        if(geometry_quad != null) {\n            geometry_quad.uv(_uv);\n        }\n\n        uv = _uv;\n\n        Rectangle.listen( uv, _uv_change );\n\n        return uv;\n    }\n\n//Flipping\n\n    function set_flipy(_v:Bool) {\n\n        if(_v == flipy) {\n            return flipy;\n        }\n\n        if(geometry_quad != null) {\n            geometry_quad.flipy = _v;\n        }\n\n        return flipy = _v;\n\n    } //set_flipy\n\n    function set_flipx(_v:Bool) {\n\n        if(_v == flipx) {\n            return flipx;\n        }\n\n        if(geometry_quad != null) {\n            geometry_quad.flipx = _v;\n        }\n\n        return flipx = _v;\n\n    } //set_flipv\n\n//Size\n\n    override function set_size( _v:Vector ) : Vector {\n\n            //resize the mesh vertices themselves, as scale is relative to this size\n            //if explicitly set\n        if(geometry_quad != null) {\n\n            geometry_quad.resize( new Vector( _v.x, _v.y ) );\n\n                //If the user doesn't specify a custom origin, we try and work with the center\n            if(!_has_custom_origin) {\n                if(centered) {\n                        //half of the new size\n                    origin = _v.clone().divideScalar(2);\n                }\n            }\n\n        }\n\n            //done\n        return super.set_size(_v);\n\n    } //set_size\n\n//Centered\n\n    function set_centered(_c:Bool) : Bool {\n\n            //centered geometry affects the origin directly\n        if(size != null) {\n            if(_c) {\n                origin = new Vector(size.x/2, size.y/2);\n            } else {\n                origin = new Vector();\n            }\n        } //size != null\n\n        return centered = _c;\n\n    } //set_centered\n\n\n        //An internal callback for when x y or w or h on a transform changes\n    function _uv_change(_v:Float) { this.set_uv(uv); }\n\n} //Sprite\n","package luxe;\n\nimport luxe.Rectangle;\nimport luxe.Vector;\nimport luxe.Visual;\nimport luxe.options.VisualOptions;\nimport luxe.options.TextOptions;\n\nimport phoenix.Batcher;\nimport phoenix.BitmapFont;\nimport phoenix.geometry.TextGeometry;\n\ntypedef TextAlign = phoenix.BitmapFont.TextAlign;\n\nclass Text extends Visual {\n\n        public var geom : TextGeometry;\n\n    //regular font stuff\n\n        public var text (get,set) : String;\n            function get_text() return geom.text;\n            function set_text(_s) return geom.text = _s;\n        public var font (get,set) : BitmapFont;\n            function get_font() return geom.font;\n            function set_font(_f) return geom.font = _f;\n        public var point_size (get,set) : Float;\n            function get_point_size() return geom.point_size;\n            function set_point_size(_s) return geom.point_size = _s;\n        public var letter_spacing (get,set) : Float;\n            function get_letter_spacing() return geom.letter_spacing;\n            function set_letter_spacing(_s) return geom.letter_spacing = _s;\n        public var line_spacing (get,set) : Float;\n            function get_line_spacing() return geom.line_spacing;\n            function set_line_spacing(_s) return geom.line_spacing = _s;\n\n        public var bounds (get,set) : Rectangle;\n            function get_bounds() return geom.bounds;\n            function set_bounds(_b) return geom.bounds = _b;\n        public var bounds_wrap (get,set) : Bool;\n            function get_bounds_wrap() return geom.bounds_wrap;\n            function set_bounds_wrap(_b) return geom.bounds_wrap = _b;\n\n        public var align (get,set) : TextAlign;\n            function get_align() return geom.align;\n            function set_align(_a) return geom.align = _a;\n        public var align_vertical (get,set) : TextAlign;\n            function get_align_vertical() return geom.align_vertical;\n            function set_align_vertical(_a) return geom.align_vertical = _a;\n\n    //distance field specific\n\n        public var sdf (get,set) : Bool;\n            function get_sdf() return geom.sdf;\n            function set_sdf(_s) return geom.sdf = _s;\n\n        public var smoothness (get,set) : Float;\n            function get_smoothness() return geom.smoothness;\n            function set_smoothness(_s) return geom.smoothness = _s;\n        public var thickness (get,set) : Float;\n            function get_thickness() return geom.thickness;\n            function set_thickness(_t) return geom.thickness = _t;\n\n        public var outline (get,set) : Float;\n            function get_outline() return geom.outline;\n            function set_outline(_o) return geom.outline = _o;\n        public var outline_color (get,set) : Color;\n            function get_outline_color() return geom.outline_color;\n            function set_outline_color(_c) return geom.outline_color = _c;\n\n        public var glow_threshold (get,set) : Float;\n            function get_glow_threshold() return geom.glow_threshold;\n            function set_glow_threshold(_s) return geom.glow_threshold = _s;\n        public var glow_amount (get,set) : Float;\n            function get_glow_amount() return geom.glow_amount;\n            function set_glow_amount(_e) return geom.glow_amount = _e;\n        public var glow_color (get,set) : Color;\n            function get_glow_color() return geom.glow_color;\n            function set_glow_color(_c) return geom.glow_color = _c;\n\n    public var text_options : TextOptions;\n\n    public function new( _options : TextOptions #if luxe_text_pos, ?_pos_info:haxe.PosInfos #end ) {\n\n            //store for later\n        text_options = _options;\n        text_bounds = new Rectangle();\n\n        var _batcher : Batcher = null;\n        if(_options.no_batcher_add == null || _options.no_batcher_add == false) {\n            if(_options.batcher != null) {\n                _batcher = _options.batcher;\n            } else {\n                _batcher = Luxe.renderer.batcher;\n            }\n        }\n\n            //create the text geometry\n        geom = new TextGeometry({\n\n                //render properties\n            batcher: _batcher,\n            depth : _options.depth,\n            visible : _options.visible,\n            immediate : _options.immediate,\n                //transform properties\n            // pos : _options.pos,\n            // rotation : _options.rotation,\n            // scale : _options.scale,\n            // origin : _options.origin,\n                //geometry specific\n            color : _options.color,\n            shader : _options.shader,\n            texture : _options.texture,\n                //text geometry specific\n            text: _options.text,\n            font: _options.font,\n            point_size: _options.point_size,\n            line_spacing: _options.line_spacing,\n            letter_spacing: _options.letter_spacing,\n\n            bounds : _options.bounds,\n            bounds_wrap : _options.bounds_wrap,\n            align : _options.align,\n            align_vertical : _options.align_vertical,\n\n            sdf: _options.sdf,\n            smoothness: _options.smoothness,\n            thickness: _options.thickness,\n\n            outline: _options.outline,\n            outline_color: _options.outline_color,\n\n            glow_threshold: _options.glow_threshold,\n            glow_amount: _options.glow_amount,\n            glow_color: _options.glow_color\n\n        });\n\n        geom.emitter.on(EvTextGeometry.update_text, on_geom_text_update);\n\n        _options.geometry = geom;\n        _options.shader = geom.shader;\n\n            //create the visual\n        super(_options #if luxe_text_pos, _pos_info #end);\n            //flush\n        _update_bounds();\n\n    } //new\n\n//Public API\n\n    public function point_inside( p:Vector ) {\n\n        _update_bounds();\n        return text_bounds.point_inside(p);\n\n    } //point_inside\n\n//Internal\n\n    override function set_pos_from_transform( _p:Vector ) {\n\n        super.set_pos_from_transform(_p);\n        _update_bounds();\n        text_options.pos = pos;\n\n    } //set_pos_from_transform\n\n//\n\n        //:todo: This is being considered overall, for the best fit.\n        //for now, for basic behavior that was there before, it'll do.\n    @:noCompletion\n    public var text_bounds : Rectangle;\n\n    function on_geom_text_update(_) {\n        _update_bounds();\n    }\n\n    @:noCompletion\n    inline function _update_bounds() {\n\n        var _x = pos.x;\n        var _y = pos.y;\n        var _tw = geom.text_width;\n        var _th = geom.text_height;\n        var _bw = geom.text_width;\n        var _bh = geom.text_height;\n\n        if(bounds != null) {\n            _bh = bounds.h;\n            _bw = bounds.w;\n            _x = bounds.x;\n            _y = bounds.y;\n\n            _x += switch(align) {\n                case center: _tw/2;\n                case right: _tw;\n                case _: 0.0;\n            }\n\n            _y += switch(align_vertical) {\n                case center: (_bh/2)-(_th/2);\n                case bottom: _bh - _th;\n                case _: 0.0;\n            }\n\n        } else {\n\n            _x -= switch(align) {\n                case center: _tw/2;\n                case right: _tw;\n                case _: 0.0;\n            }\n\n            _y -= switch(align_vertical) {\n                case center: _th/2;\n                case bottom: _th;\n                case _: 0.0;\n            }\n\n        } //bounds based\n\n        text_bounds.set( _x, _y, _tw, _th );\n\n    } //_update_bounds\n\n\n    override public function ondestroy() {\n\n        geom = null;\n        text_options = null;\n        text_bounds = null;\n\n        super.ondestroy();\n\n    }\n\n} //Text\n","package luxe;\n\nimport luxe.Engine;\nimport haxe.Timer;\nimport luxe.Log._debug;\n\nclass Timer {\n\n\n    @:noCompletion public var core : Engine;\n    @:noCompletion public var timers : Array<snow.api.Timer>;\n\n\n    @:noCompletion public function new( _core:Engine ) {\n        core = _core;\n        timers = [];\n    } //new\n\n    @:noCompletion public function init() {\n\n        _debug('\\t timer initialized.');\n\n    } //init\n\n    @:noCompletion public function destroy() {\n\n        reset();\n        _debug('\\t timer shut down.');\n\n    } //destroy\n\n    @:noCompletion public function process() {\n\n    } //process\n\n        /** Kill all existing scheduled timers created through `schedule` */\n    public function reset() {\n\n        for( t in timers ) {\n            t.stop();\n            t = null;\n        }\n\n        timers = null;\n        timers = [];\n\n    } //reset\n\n    public function schedule( _time_in_seconds:Float, _on_time:Void->Void, ?repeat:Bool = false ) : snow.api.Timer {\n\n        var t = new snow.api.Timer( _time_in_seconds );\n\n        t.run = function () {\n            if(!repeat) {\n                t.stop ();\n                timers.remove(t);\n            }\n            _on_time();\n        };\n\n        timers.push(t);\n\n        return t;\n\n    } //schedule\n\n\n} //Timer\n","package luxe.components;\n\nimport luxe.Quaternion;\nimport luxe.structural.OrderedMap;\n\nimport luxe.Log._debug;\nimport luxe.Log._verbose;\n\n\n@:noCompletion class Components {\n\n        //the list of attached components\n    public var components : OrderedMap<String, Component>;\n        //the root entity\n    public var entity : Entity;\n\n    public function new( _entity:Entity ) {\n\n        var _map = new Map<String,Component>();\n        components = new OrderedMap(_map);\n        entity = _entity;\n\n    } //new\n\n    public function destroy() {\n\n        components.map = null;\n        components = null;\n        entity = null;\n\n    }\n\n    public function add<T:Component>( _component:T ) : T {\n\n        if(_component == null) {\n            trace('attempt to add null component to ${entity.name}' );\n            return _component;\n        }\n\n        _component.entity = entity;\n\n        components.set( _component.name, _component );\n\n            _debug('    entity ${entity.name} added component ${_component.name}, now at ${Lambda.count(components)} components');\n            _debug('    entity ${entity.name} added component, calling added() on ${_component.name}');\n\n        _component.onadded();\n\n            //now check against the entity already being init'ed and reset'ed\n            //and if so, call them manually\n        if(entity.inited) {\n            _debug('\\t entity ${entity.name} adding component after init, so doing init on ${_component.name}' );\n            _component.init();\n        }\n\n        if(entity.started) {\n            _debug('\\t entity ${entity.name} adding component after reset, so doing reset on ${_component.name}' );\n            _component.onreset();\n        }\n\n        return _component;\n\n    } //add component\n\n    public function remove( _name:String ) : Bool {\n\n            //doesn't exist?\n        if(!components.exists(_name)) {\n            trace('attempt to remove $_name from ${entity.name} failed because that component was not attached to this entity');\n            return false;\n        }\n\n        _debug('\\t entity ${entity.name} removing component $_name');\n\n        var _component = components.get( _name );\n            _component.onremoved();\n\n            //we also set the entity to null\n            _component.entity = null;\n\n        return components.remove(_name);\n\n    } //remove\n\n    public function get<T>(_name:String, ?in_children:Bool = false ) : T {\n\n        _debug('looking for all of ' + _name + ' in children : ' + in_children );\n\n        if(!in_children) {\n\n            return cast components.get(_name);\n\n        } else {\n\n                //if found in the root entity\n            var in_this_entity = components.get( _name );\n            if( in_this_entity != null ) {\n                return cast in_this_entity;\n            }\n\n            _debug('check each of our children for the component');\n\n                //check each child of our entity\n            for(_child in entity.children) {\n\n                _debug('looking at ' + _child.name + ' for ' + _name );\n\n                var found : T = _child.get( _name, true );\n\n                if(found != null) {\n                    return cast found;\n                } //found\n\n            } //for each child\n\n            return null;\n\n        } //if in children\n\n        return null;\n\n    } //get\n\n    public function get_any<T>(_name:String, ?in_children:Bool = false, ?first_only:Bool = true ) : Array<T> {\n\n        _debug('looking for all of ' + _name + ' in children : ' + in_children + ' first only ; ' + first_only);\n\n        var results : Array<T> = [];\n\n        if(!in_children) {\n\n            return [cast components.get(_name)];\n\n        } else {\n\n            var in_this_entity = components.get( _name );\n            if( in_this_entity != null ) {\n                if(first_only) {\n                    return [cast in_this_entity];\n                } else {\n                    results.push( cast in_this_entity );\n                }\n            } //if found in the root entity\n\n            _debug('check each of our children for the component');\n\n                //check each child of our entity\n            for(_child in entity.children) {\n\n                _debug('looking at ' + _child.name + ' for ' + _name );\n\n                var found : Array<T> = _child.get_any( _name, true, first_only );\n\n                if(found != null) {\n\n                        //only want the first result, i.e not a list\n                    if(first_only && found.length > 0) {\n                        return [cast found[0]];\n                    } else {\n                        results.concat(found);\n                    } //append to the list\n\n                } //found\n\n            } //for each child\n\n        } //if in children\n\n        return results;\n\n    } //get_any\n\n    public function has(_name:String) : Bool {\n        return components.exists(_name);\n    } //has\n\n} //Components\n","package luxe.debug;\n\nimport luxe.Input.KeyEvent;\nimport luxe.Input.MouseEvent;\nimport luxe.Input.TouchEvent;\nimport luxe.Screen.WindowEvent;\n\n\nclass DebugView extends luxe.Objects {\n        \n    public var debug: luxe.Debug;\n    public var visible : Bool = false;\n\n    public function new(_debug:luxe.Debug) {\n        super();\n        debug = _debug;\n    }\n\n    public function refresh() {}\n    public function process() {}\n    public function ontouchdown(e:TouchEvent) {}\n    public function ontouchup(e:TouchEvent) {}\n    public function ontouchmove(e:TouchEvent) {}\n    public function onmousedown(e:MouseEvent) {}\n    public function onmouseup(e:MouseEvent) {}\n    public function onmousemove(e:MouseEvent) {}\n    public function onmousewheel(e:MouseEvent) {}\n    public function onkeydown(e:KeyEvent) {}\n    public function onkeyup(e:KeyEvent) {}\n    public function onwindowsized(e:WindowEvent) {}\n    public function create() {}\n    public function show() {\n        visible = true;\n    }\n    public function hide() {\n        visible = false;\n    }\n}\n","package luxe.debug;\n\nimport luxe.Text;\nimport luxe.NineSlice;\nimport phoenix.Batcher;\n\ntypedef DebugInspectorOptions = {\n    ? batcher : Batcher,\n    ? pos : Vector,\n    ? size : Vector,\n}\n\n@:noCompletion class Inspector {\n\n    @:isVar public var pos (default,set): Vector;\n    @:isVar public var size (default,set): Vector;\n\n    public var title : Text;\n    public var version : Text;\n    public var window : Sprite;\n    public var batcher : Batcher;\n\n    public var onrefresh : Void->Void;\n\n    public function new( _options:DebugInspectorOptions ) {\n\n        size = new Vector(Std.int(Luxe.screen.w*0.2), Std.int(Luxe.screen.h*0.6));\n        pos = new Vector((Luxe.screen.w/2) - (size.x/2), (Luxe.screen.h/2) - (size.y/2));\n\n            //default to the internal batcher\n        batcher = Luxe.renderer.batcher;\n\n        if(_options != null) {\n\n            if(_options.batcher != null) batcher = _options.batcher;\n            if(_options.size != null) size = _options.size;\n            if(_options.pos != null) pos = _options.pos;\n\n        } //_options != null\n\n    } //new\n\n    public function refresh() {\n\n        if(window == null) {\n            create_window();\n        }\n\n        if(onrefresh != null) {\n            onrefresh();\n        }\n\n    } //refresh\n\n    public function show() {\n        refresh();\n        window.visible = true;\n        title.visible = true;\n        version.visible = true;\n    }\n\n    public function hide() {\n        window.visible = false;\n        title.visible = false;\n        version.visible = false;\n    }\n\n    function set_size(_size:Vector) {\n\n        if(_size != null && window != null) {\n            window.size = _size;\n            window.geometry.dirty = true;\n        }\n\n        if(version != null) {\n            version.pos = new Vector( pos.x+(_size.x-14), pos.y+6 );\n        }\n\n        return size = _size;\n\n    } //set_size\n\n    function set_pos(_pos:Vector) {\n\n        if(_pos != null && window != null) {\n            window.pos = _pos;\n            window.geometry.dirty = true;\n        }\n\n        if(title != null) {\n            title.pos = new Vector( _pos.x+14, _pos.y+6 );\n        }\n\n        if(version != null) {\n            version.pos = new Vector( _pos.x+(size.x-14), _pos.y+6 );\n        }\n\n        return pos = _pos;\n\n    } //set_pos\n\n    function create_window() {\n\n        window = new Sprite({\n            name: 'debug.window',\n            batcher: batcher,\n            no_scene: true,\n            depth: 999.1,\n            visible: false,\n            color: new Color().rgb(0x161619),\n            centered: false,\n            size: size,\n            pos: pos,\n        });\n\n        title = new Text({\n            name: 'debug.title',\n            batcher: batcher,\n            no_scene: true,\n            depth: 999.2,\n            visible: false,\n            color: new Color().rgb(0xf6007b),\n            pos: new Vector( pos.x+14, pos.y+6 ),\n\n            text: 'Inspector',\n            point_size: 15,\n            align: TextAlign.left\n        });\n\n        version = new Text({\n            name: 'debug.version',\n            batcher: batcher,\n            no_scene: true,\n            depth: 999.2,\n            visible: false,\n            color: new Color().rgb(0x545459),\n            pos: new Vector( pos.x+(size.x-14), pos.y+6 ),\n\n            text: '${Luxe.core.runtime_info()}',\n            point_size: 13,\n            align: TextAlign.right,\n        });\n\n        window.locked = true;\n        window.geometry.id = 'debug.Inspector';\n        title.geometry.id = 'debug.title.text';\n        version.geometry.id = 'debug.version.text';\n\n    }\n\n}\n","package phoenix;\n\nimport luxe.tween.Actuate;\nimport luxe.tween.actuators.SimpleActuator;\n\n//Pieces of the color conversion code come from\n// http://haxe.org/doc/snip/colorconverter\nimport luxe.options.ColorOptions;\n\nclass Color {\n\n    @:isVar public var r (default, set) : Float = 1.0;\n    @:isVar public var g (default, set) : Float = 1.0;\n    @:isVar public var b (default, set) : Float = 1.0;\n\n    public var a : Float = 1.0;\n\n    var is_hsl : Bool = false;\n    var is_hsv : Bool = false;\n    var refreshing : Bool = false;\n\n    public function new( _r:Float = 1.0, _g:Float = 1.0, _b:Float = 1.0, _a:Float = 1.0 ) {\n\n        r = _r;\n        g = _g;\n        b = _b;\n        a = _a;\n\n    }\n\n    function set_r(_r:Float) {\n        r = _r;\n\n        if(!refreshing) {\n            if(is_hsl) {\n                var colorhsl : ColorHSL = cast this;\n                colorhsl.fromColor(this);\n            } else if(is_hsv) {\n                var colorhsv : ColorHSV = cast this;\n                colorhsv.fromColor(this);\n            }\n        } //refreshing\n\n        return r;\n    }\n    function set_g(_g:Float) {\n        g = _g;\n\n        if(!refreshing) {\n            if(is_hsl) {\n                var colorhsl : ColorHSL = cast this;\n                colorhsl.fromColor(this);\n            } else if(is_hsv) {\n                var colorhsv : ColorHSV = cast this;\n                colorhsv.fromColor(this);\n            }\n        } //!refreshing\n\n        return g;\n    }\n    function set_b(_b:Float) {\n        b = _b;\n\n        if(!refreshing) {\n            if(is_hsl) {\n                var colorhsl : ColorHSL = cast this;\n                colorhsl.fromColor(this);\n            } else if(is_hsv) {\n                var colorhsv : ColorHSV = cast this;\n                colorhsv.fromColor(this);\n            }\n        } //refreshing\n\n        return b;\n    }\n\n\n    public static function random(?_include_alpha:Bool=false) : Color {\n        return new Color(Math.random(), Math.random(), Math.random(), _include_alpha ? Math.random() : 1.0 );\n    }\n\n    public function set( ?_r : Float, ?_g : Float, ?_b : Float, ?_a : Float ) : Color {\n\n        var _setr = r;\n        var _setg = g;\n        var _setb = b;\n        var _seta = a;\n\n            //assign new values\n        if(_r != null) _setr = _r;\n        if(_g != null) _setg = _g;\n        if(_b != null) _setb = _b;\n        if(_a != null) _seta = _a;\n\n        r = _setr;\n        g = _setg;\n        b = _setb;\n        a = _seta;\n\n        return this;\n    }\n\n    public function maxRGB() : Float {\n        return Math.max(r, Math.max(g, b));\n    }\n\n    public function minRGB() : Float {\n        return Math.min(r, Math.min(g, b));\n    }\n\n    public function tween( ?_time_in_seconds:Float = 0.5, ?_properties_to_tween:ColorOptions = null, _override:Bool = true ) {\n\n        if(_properties_to_tween != null) {\n\n            var _dest_r = r;\n            var _dest_g = g;\n            var _dest_b = b;\n            var _dest_a = a;\n\n            var _change_r = false;\n            var _change_g = false;\n            var _change_b = false;\n            var _change_a = false;\n\n            if(Std.is(_properties_to_tween, Color)) {\n\n                _dest_r = _properties_to_tween.r;\n                _dest_g = _properties_to_tween.g;\n                _dest_b = _properties_to_tween.b;\n                _dest_a = _properties_to_tween.a;\n\n                _change_r = true;\n                _change_g = true;\n                _change_b = true;\n                _change_a = true;\n\n            } else {\n\n                if(_properties_to_tween.r != null) { _dest_r = _properties_to_tween.r; _change_r = true; }\n                if(_properties_to_tween.g != null) { _dest_g = _properties_to_tween.g; _change_g = true; }\n                if(_properties_to_tween.b != null) { _dest_b = _properties_to_tween.b; _change_b = true; }\n                if(_properties_to_tween.a != null) { _dest_a = _properties_to_tween.a; _change_a = true; }\n\n            }\n\n            var _properties : Dynamic = {};\n\n            if(_change_r) _properties.r = _dest_r;\n            if(_change_g) _properties.g = _dest_g;\n            if(_change_b) _properties.b = _dest_b;\n            if(_change_a) _properties.a = _dest_a;\n\n            return Actuate.tween( this, _time_in_seconds, _properties, _override );\n\n        } else { //dest is null?\n            throw \" Warning: Color.tween passed a null destination \";\n        }\n\n    } //tween\n\n    public function clone() : Color {\n        return new Color(r,g,b,a);\n    } //clone\n\n    public function rgb(_rgb:Int = 0xFFFFFF) : Color {\n        from_int(_rgb);\n        return this;\n    } //rgb\n\n    public function toColorHSL() : ColorHSL {\n        return new ColorHSL().fromColor(this);\n    } //toColorHSL\n\n    public function toColorHSV() : ColorHSV {\n        return new ColorHSV().fromColor(this);\n    } //toColorHSV\n\n    public function fromColorHSV( _color_hsv:ColorHSV ) {\n\n        var d:Float = (_color_hsv.h%360) / 60;\n\n        if (d < 0) {\n            d += 6;\n        }\n\n        var hf:Int = Math.floor(d);\n        var hi:Int = hf % 6;\n        var f:Float = d - hf;\n\n        var v:Float = _color_hsv.v;\n        var p:Float = _color_hsv.v * (1 - _color_hsv.s);\n        var q:Float = _color_hsv.v * (1 - f * _color_hsv.s);\n        var t:Float = _color_hsv.v * (1 - (1 - f) * _color_hsv.s);\n\n        switch(hi) {\n            case 0: { r = v; g = t; b = p; };\n            case 1: { r = q; g = v; b = p; };\n            case 2: { r = p; g = v; b = t; };\n            case 3: { r = p; g = q; b = v; };\n            case 4: { r = t; g = p; b = v; };\n            case 5: { r = v; g = p; b = q; };\n        }\n\n        a = _color_hsv.a;\n\n    } //fromColorHSV\n\n    public function fromColorHSL( _color_hsl:ColorHSL ) : Color {\n\n        var q:Float = 1;\n\n        if (_color_hsl.l < 1 / 2) {\n            q = _color_hsl.l * (1 + _color_hsl.s);\n        } else {\n            q = _color_hsl.l + _color_hsl.s - (_color_hsl.l * _color_hsl.s);\n        }\n\n        var p:Float = 2 * _color_hsl.l - q;\n        var hk:Float = (_color_hsl.h % 360) / 360;\n\n        var tr:Float = hk + 1 / 3;\n        var tg:Float = hk;\n        var tb:Float = hk - 1 / 3;\n\n        var tc:Array<Float> = [ tr, tg, tb ];\n\n            for (n in 0...tc.length) {\n\n                var t:Float = tc[n];\n\n                if (t < 0) t += 1;\n                if (t > 1) t -= 1;\n\n                tc[n] = if (t < 1 / 6) {\n                    p + ((q - p) * 6 * t);\n                } else if (t < 1 / 2) {\n                    q;\n                } else if (t < 2 / 3) {\n                    p + ((q - p) * 6 * (2 / 3 - t));\n                } else {\n                    p;\n                }\n\n            } //for each in tc\n\n            //store in rgb\n        r = tc[0];\n        g = tc[1];\n        b = tc[2];\n            //alpha is passed straight through\n        a = _color_hsl.a;\n\n        return this;\n\n    } // fromColorHSL\n\n        //make it traceable\n    function toString() : String {\n        return \"{ r:\"+r+\" , g:\"+g+\" , b:\"+b+\" , a:\"+a+\" }\";\n    }\n\n    function from_int(_i:Int) {\n\n        var _r = _i >> 16;\n        var _g = _i >> 8 & 0xFF;\n        var _b = _i & 0xFF;\n\n            //convert to 0-1\n        r = _r / 255;\n        g = _g / 255;\n        b = _b / 255;\n\n            //alpha not specified in 0xFFFFFF\n            //but we don't need to clobber it,\n            //it was set in the member list\n        // a = 1.0;\n    }\n\n} //Color\n\nclass ColorHSL extends Color {\n\n    @:isVar public var h (default,set) : Float = 0.0;\n    @:isVar public var s (default,set) : Float = 1.0;\n    @:isVar public var l (default,set) : Float = 1.0;\n\n    function set_h(_h:Float) {\n        h = _h;\n        _refresh();\n        return _h;\n    }\n    function set_s(_s:Float) {\n        s = _s;\n        _refresh();\n        return _s;\n    }\n    function set_l(_l:Float) {\n        l = _l;\n        _refresh();\n        return _l;\n    }\n\n    public function new( _h:Float = 0.0, _s:Float = 1.0, _l:Float = 1.0, _a:Float = 1.0 ) {\n\n        super();\n\n        is_hsl = true;\n\n        h = _h;\n        s = _s;\n        l = _l;\n        a = _a;\n\n        _refresh();\n\n    } //new\n\n    public override function set( ?_h : Float, ?_s : Float, ?_l : Float, ?_a : Float ) : ColorHSL {\n\n        var _seth = h;\n        var _sets = s;\n        var _setl = l;\n        var _seta = a;\n\n            //assign new values\n        if(_h != null) _seth = _h;\n        if(_s != null) _sets = _s;\n        if(_l != null) _setl = _l;\n        if(_a != null) _seta = _a;\n\n            h = _seth;\n            s = _sets;\n            l = _setl;\n            a = _seta;\n\n        _refresh();\n\n        return this;\n\n    } //set\n\n    public override function tween( ?_time_in_seconds:Float = 0.5, ?_dest:ColorOptions = null, _override:Bool = true ) {\n\n        super.tween(_time_in_seconds, _dest, _override);\n\n        if(_dest != null) {\n\n            var _dest_h = h;\n            var _dest_s = s;\n            var _dest_l = l;\n            var _dest_a = a;\n\n            var _change_h = false;\n            var _change_s = false;\n            var _change_l = false;\n            var _change_a = false;\n\n            if(Std.is(_dest, ColorHSL)) {\n\n                _dest_h = _dest.h;\n                _dest_s = _dest.s;\n                _dest_l = _dest.l;\n                _dest_a = _dest.a;\n\n                _change_h = true;\n                _change_s = true;\n                _change_l = true;\n                _change_a = true;\n\n            } else {\n\n                if(_dest.h != null) { _dest_h = _dest.h; _change_h = true; }\n                if(_dest.s != null) { _dest_s = _dest.s; _change_s = true; }\n                if(_dest.l != null) { _dest_l = _dest.l; _change_l = true; }\n                if(_dest.a != null) { _dest_a = _dest.a; _change_a = true; }\n\n            }\n\n            var _properties : Dynamic = {};\n\n            if(_change_h) _properties.h = _dest_h;\n            if(_change_s) _properties.s = _dest_s;\n            if(_change_l) _properties.l = _dest_l;\n            if(_change_a) _properties.a = _dest_a;\n\n            return Actuate.tween( this, _time_in_seconds, _properties, _override );\n\n        } else { //dest is null?\n            throw \" Warning: Color.tween passed a null destination \";\n        }\n\n    } //tween\n\n    public function _refresh() : ColorHSL {\n\n        refreshing = true;\n            super.fromColorHSL(this);\n        refreshing = false;\n\n        return this;\n    } //_refresh\n\n    public override function clone() : ColorHSL {\n        return new ColorHSL(h,s,l,a);\n    } //clone\n\n    public function toColor() : Color {\n        return cast _refresh();\n    } //toColor\n\n    public function fromColor( _color:Color ) : ColorHSL {\n\n        var max:Float = _color.maxRGB();\n        var min:Float = _color.minRGB();\n        var add:Float = max + min;\n        var sub:Float = max - min;\n\n        var _h:Float = 0;\n        if (max == min) {\n            _h = 0;\n        } else if (max == _color.r) {\n            _h = ((60 * (_color.g - _color.b) / sub + 360) % 360);\n        } else if (max == _color.g) {\n            _h = (60 * (_color.b - _color.r) / sub + 120);\n        } else if (max == _color.b) {\n            _h = (60 * (_color.r - _color.g) / sub + 240);\n        }\n\n        var _l:Float = add / 2;\n\n        var _s:Float = if (max == min) {\n            0;\n        } else if (l <= 1 / 2) {\n            sub / add;\n        } else {\n            sub / (2 - add);\n        }\n\n            h = _h;\n            s = _s;\n            l = _l;\n            a = _color.a;\n\n        return this;\n\n    } //fromColor\n\n    public override function toString() : String {\n        return \"{ h:\"+h+\" , s:\"+s+\" , l:\"+l+\" , a:\"+a+\" }\";\n    }\n\n\n} //ColorHSL\n\n\nclass ColorHSV extends Color {\n\n    @:isVar public var h (default,set) : Float = 0.0;\n    @:isVar public var s (default,set) : Float = 0.0;\n    @:isVar public var v (default,set) : Float = 1.0;\n\n    function set_h(_h:Float) {\n        h = _h;\n        _refresh();\n        return _h;\n    }\n    function set_s(_s:Float) {\n        s = _s;\n        _refresh();\n        return s;\n    }\n    function set_v(_v:Float) {\n        v = _v;\n        _refresh();\n        return v;\n    }\n\n    public function new( _h:Float = 0.0, _s:Float = 0.0, _v:Float = 1.0, _a:Float = 1.0 ) {\n\n        super();\n\n        is_hsv = true;\n\n        h = _h;\n        s = _s;\n        v = _v;\n        a = _a;\n\n        _refresh();\n\n    } //new\n\n    public override function set( ?_h : Float, ?_s : Float, ?_v : Float, ?_a : Float ) : Color {\n\n        var _seth = h;\n        var _sets = s;\n        var _setv = v;\n        var _seta = a;\n\n            //assign new values\n        if(_h != null) _seth = _h;\n        if(_s != null) _sets = _s;\n        if(_v != null) _setv = _v;\n        if(_a != null) _seta = _a;\n\n            h = _seth;\n            s = _sets;\n            v = _setv;\n            a = _seta;\n\n            //update parent rgba values\n        _refresh();\n\n        return this;\n\n    } //set\n\n    public override function tween( ?_time_in_seconds:Float = 0.5, ?_dest:ColorOptions = null, _override:Bool = true ) {\n\n        super.tween(_time_in_seconds, _dest, _override);\n\n        if(_dest != null) {\n\n            var _dest_h = h;\n            var _dest_s = s;\n            var _dest_v = v;\n            var _dest_a = a;\n\n            var _change_h = false;\n            var _change_s = false;\n            var _change_v = false;\n            var _change_a = false;\n\n            if(Std.is(_dest, ColorHSV)) {\n\n                _dest_h = _dest.h;\n                _dest_s = _dest.s;\n                _dest_v = _dest.v;\n                _dest_a = _dest.a;\n\n                _change_h = true;\n                _change_s = true;\n                _change_v = true;\n                _change_a = true;\n\n            } else {\n\n                if(_dest.h != null) { _dest_h = _dest.h; _change_h = true; }\n                if(_dest.s != null) { _dest_s = _dest.s; _change_s = true; }\n                if(_dest.v != null) { _dest_v = _dest.v; _change_v = true; }\n                if(_dest.a != null) { _dest_a = _dest.a; _change_a = true; }\n\n            }\n\n            var _properties : Dynamic = {};\n\n            if(_change_h) _properties.h = _dest_h;\n            if(_change_s) _properties.s = _dest_s;\n            if(_change_v) _properties.v = _dest_v;\n            if(_change_a) _properties.a = _dest_a;\n\n            return Actuate.tween( this, _time_in_seconds, _properties, _override );\n\n        } else { //dest is null?\n            throw \" Warning: Color.tween passed a null destination \";\n        }\n\n    } //tween\n\n    public function _refresh() {\n\n        refreshing = true;\n            super.fromColorHSV(this);\n        refreshing = false;\n\n        return this;\n    }\n\n    public override function clone() : ColorHSV {\n        return new ColorHSV(h,s,v,a);\n    } //clone\n\n    public function toColor() : Color {\n        //make sure the values are passed up to parent color\n        return cast _refresh();\n    } //toColor\n\n    public override function toColorHSL() : ColorHSL {\n        _refresh();\n        return super.toColorHSL();\n    } //to hsl\n\n    public override function fromColorHSL( _color_hsl:ColorHSL ) : ColorHSV {\n            //make sure that it it's updated in the parent\n        _color_hsl._refresh();\n        return fromColor( cast _color_hsl );\n    } //from hsl\n\n    public function fromColor( _color:Color ) : ColorHSV {\n\n        var max:Float = _color.maxRGB();\n        var min:Float = _color.minRGB();\n        var add:Float = max + min;\n        var sub:Float = max - min;\n\n        var _h:Float = 0;\n\n        if (max == min) {\n            _h = 0;\n        } else if (max == _color.r) {\n            _h = (60 * (_color.g - _color.b) / sub + 360) % 360;\n        } else if (max == _color.g) {\n            _h = 60 * (_color.b - _color.r) / sub + 120;\n        } else if (max == _color.b) {\n            _h = 60 * (_color.r - _color.g) / sub + 240;\n        }\n\n        var _s:Float = if (max == 0) {\n            0;\n        } else {\n            1 - min / max;\n        }\n\n        h = _h;\n        s = _s;\n        v = max;\n        a = _color.a;\n\n        return this;\n\n    } //fromColor\n\n    public override function toString() : String {\n        return \"{ h:\"+h+\" , s:\"+s+\" , v:\"+v+\" , a:\"+a+\" }\";\n    }\n\n} //ColorHSV\n","package luxe.debug;\n\nimport luxe.Input.MouseEvent;\nimport luxe.Rectangle;\nimport luxe.Text;\nimport luxe.utils.Maths;\nimport luxe.Vector;\nimport phoenix.Batcher.PrimitiveType;\nimport phoenix.geometry.Geometry;\nimport phoenix.geometry.QuadGeometry;\nimport phoenix.geometry.Vertex;\n\nclass ProfilerDebugView extends luxe.debug.DebugView {\n\n    public static var lists:Map<String,ProfilerValue>;\n\n    public static var color_red : Color = new Color().rgb(0xcc0000);\n    public static var color_green : Color = new Color().rgb(0x228844);\n    public static var color_normal : Color = new Color().rgb(0xf0f0f0);\n\n    #if cpp\n        public var memgraph:ProfilerGraph;\n        public var memgraph2:ProfilerGraph;\n        public var memgraph3:ProfilerGraph;\n        public var memgraph4:ProfilerGraph;\n        public var memtext:Text;\n    #end //cpp\n\n    public function new(_debug:luxe.Debug) {\n\n        super(_debug);\n\n        name = 'Profiler';\n        lists = new Map();\n\n    } //new\n\n    var margin = 32;\n    override function create() {\n\n        #if cpp\n\n            var debug = Luxe.debug;\n\n            var viewrect = new Rectangle(\n                debug.inspector.pos.x + (margin/2),\n                debug.inspector.pos.y + (margin*1.5),\n                debug.inspector.size.x - margin,\n                debug.inspector.size.y - margin - (margin*1.5)\n            );\n\n            memgraph = new ProfilerGraph('usage');\n            memgraph2 = new ProfilerGraph('current',false);\n            memgraph3 = new ProfilerGraph('large',false);\n            memgraph4 = new ProfilerGraph('reserved',false);\n\n            var gh = 48;\n            var gp = new Vector(viewrect.x, viewrect.h );\n            var gw = viewrect.w;//Luxe.screen.w-(Luxe.debug.padding.x*4);\n\n                memgraph.color = new Color().rgb(0xf6007b);\n                memgraph2.color = new Color().rgb(0x007bf6);\n                memgraph3.color = new Color(0,0,0,0.5).rgb(0xf6001a);\n                memgraph4.color = new Color(0,0,0,0.5).rgb(0x00f67b);\n\n                memgraph.history = memgraph2.history = memgraph3.history = memgraph4.history = 256;\n                memgraph.height = memgraph2.height = memgraph3.height = memgraph4.height = gh;\n                memgraph.width = memgraph2.width = memgraph3.width = memgraph4.width = gw;\n\n            memgraph.create();\n            memgraph2.create();\n            memgraph3.create();\n            memgraph4.create();\n\n            memgraph.pos = memgraph2.pos = memgraph3.pos = memgraph4.pos = gp;\n\n            memtext = new Text({\n                no_scene : true,\n                name : 'profiler.memgraph',\n                pos : gp.clone().add_xyz(0, -gh),\n                color : ProfilerDebugView.color_normal.clone(),\n                point_size : 12,\n                depth : 999.3,\n                text : '1 mb',\n                batcher : Luxe.debug.batcher,\n                visible: false,\n            });\n\n            memtext.color.a = 0.4;\n\n        #end //cpp\n\n    } //create\n\n    var tickamount = 0.017;\n    var nexttick = 0.0;\n    var peak = 1.0;\n    var minpeak = 1.0;\n    var _byte_levels = ['bytes', 'Kb', 'MB', 'GB', 'TB'];\n\n    function update_graph(graph:ProfilerGraph, val:Float) {\n\n        var _byte_index = Math.floor( Math.log(val) / Math.log(1024) );\n        var _byte_value = ( val / Math.pow(1024, _byte_index) );\n\n        if(_byte_value > peak) {\n            peak = Math.ceil(_byte_value + (_byte_value*0.1));\n        }\n\n        if(_byte_value < minpeak) {\n            minpeak = Math.floor(_byte_value - (_byte_value*0.1));\n        }\n\n        if(graph.max != peak) {\n            graph.max = peak;\n        }\n\n        graph.ping = Maths.fixed(_byte_value,4);\n\n    } //update_graph\n\n    override function process() {\n\n        #if cpp\n\n            var u = cpp.vm.Gc.memInfo(cpp.vm.Gc.MEM_INFO_USAGE);\n            var c = cpp.vm.Gc.memInfo(cpp.vm.Gc.MEM_INFO_CURRENT);\n            var l = cpp.vm.Gc.memInfo(cpp.vm.Gc.MEM_INFO_LARGE);\n            var r = cpp.vm.Gc.memInfo(cpp.vm.Gc.MEM_INFO_RESERVED);\n\n            update_graph(memgraph,  u);\n            update_graph(memgraph2, c);\n            update_graph(memgraph3, l);\n            update_graph(memgraph4, r);\n\n            var _index = Math.floor( Math.log(u) / Math.log(1024) );\n            var s = _byte_levels[_index];\n\n            memtext.text =\n                '(y axis) ${memgraph.max} $s\\n'+\n                'usage/pink: ${memgraph.ping} $s  |  '+\n                'current/blue: ${memgraph2.ping} $s\\n'+\n                'large/red: ${memgraph3.ping} $s  |  '+\n                'reserved/green: ${memgraph4.ping} $s\\n';\n\n        #end //cpp\n\n    }\n\n    var _setup : Bool = false;\n\n    public static function add_offset(_id:String, _offset:String) {\n        var _item = lists.get(_id);\n        var _offsetitem = lists.get(_offset);\n        if(_item != null && _offsetitem != null) {\n            _item.offsets.push(_offsetitem);\n        } else {\n            trace(\"not found for \" + _id + \" or \" + _offset);\n            trace(_item + \" / \" + _offsetitem);\n        }\n    }\n\n    public static function hide_item(_id:String) {\n        var _item = lists.get(_id);\n        if(_item != null) {\n            _item.hidden = true;\n            _item.bar.hide();\n        }\n    } //hide_item\n\n    public static function show_item(_id:String) {\n        var _item = lists.get(_id);\n        if(_item != null) {\n            _item.hidden = false;\n            _item.bar.show();\n        }\n    } //show_item\n\n    public static function start(_id:String, ?_max:Float) {\n\n        var _item = lists.get(_id);\n\n        if(_item == null) {\n            //create it\n            _item = new ProfilerValue(_id, new ProfilerBar(_id, _max, new Color().rgb(0xf6007b) ));\n            _item.bar.pos = new Vector(Luxe.debug.padding.x*2,(Luxe.debug.padding.y*3) + (Lambda.count(lists) * 20) );\n            lists.set(_id, _item);\n        }\n\n        _item.start = Luxe.time;\n\n    } //start\n\n    public static function end(_id:String) {\n\n        var _item = lists.get(_id);\n\n        if(_item!=null) {\n            _item.set();\n        } else {\n            throw \"Debug / profile end called for \" + _id + \" but no start called\";\n        }\n\n    } //end\n\n    public override function show() {\n\n        for(_item in lists) {\n            if(!_item.hidden) {\n                _item.bar.show();\n            }\n        }\n\n        #if cpp\n            memgraph.show();\n            memgraph2.show();\n            memgraph3.show();\n            memgraph4.show();\n            memtext.visible = true;\n        #end //cpp\n\n        if(!_setup) {\n            // ProfilerDebugView.add_offset('core.render' , 'batch.debug_batcher');\n            // ProfilerDebugView.add_offset('core.render' , 'batch.debug_batcher_view');\n            // ProfilerDebugView.hide_item('batch.debug_batcher');\n            // ProfilerDebugView.hide_item('batch.debug_batcher_view');\n            _setup = true;\n        }\n\n    } //show\n\n    public override function hide() {\n\n        for(_item in lists) {\n            _item.bar.hide();\n        }\n\n        #if cpp\n            memgraph.hide();\n            memgraph2.hide();\n            memgraph3.hide();\n            memgraph4.hide();\n            memtext.visible = false;\n        #end\n\n    } //hide\n\n}\n\nprivate class ProfilerValue {\n\n    public var offsets : Array<ProfilerValue>;\n    public var bar : ProfilerBar;\n    public var name : String;\n    public var start : Float = 0.0;\n    public var history : Array<Float>;\n    public var avg : Int = 10;\n    public var hidden : Bool = false;\n    var count : Int = 0;\n    var accum : Float = 0;\n\n    public function new(_name:String, _bar:ProfilerBar) {\n        name = _name; bar = _bar;\n        history = [];\n        offsets = [];\n    }\n\n    public function set() {\n\n        var _t = Luxe.time - start;\n\n            //adjust by any offsets\n        for(_offset in offsets) {\n            _t -= _offset.history[_offset.history.length-1];\n        }\n\n            //push the value into history\n        history.push(_t);\n            //drop old values\n        if(history.length > avg) {\n            history.shift();\n        }\n\n        count++;\n            //reset if maxed average\n        if(count == avg) {\n            var __t = accum / avg;\n            bar.value = __t;\n            accum = 0;\n            count = 0;\n        }\n\n        accum += _t;\n\n        if(bar.visible) {\n            bar.text = Std.string(Maths.fixed(_t*1000,4));\n        }\n\n    }\n\n}\n\nprivate class ProfilerGraph {\n\n    public var graphbg_geometry : QuadGeometry;\n    public var graph_geometry : Geometry;\n    public var name : String;\n\n    var bg : Bool = true;\n\n    public var width : Float = 128;\n    public var height : Float = 8;\n    public var height2 : Float = 8;\n    public var history:Int = 33;\n    public var visible:Bool = false;\n    public var color:Color;\n\n    @:isVar public var max (default,set) : Float;\n    @:isVar public var ping (default,set) : Float;\n    @:isVar public var pos (default,set) : Vector;\n\n    var segment : Float;\n\n    public function new(_name:String, _bg:Bool=true){\n\n        bg = _bg;\n        name = _name;\n        color = new Color();\n        max = Maths.fixed((1/60) * 1000, 2);\n\n    } //new\n\n    public function create() {\n\n        segment = (width/history);\n        height2 = height*2;\n\n        if(bg) {\n            graphbg_geometry = Luxe.draw.box({\n                color : new Color().rgb(0x101010),\n                depth : 999.3,\n                batcher : Luxe.debug.batcher,\n                x:0, y:0, w:width-segment, h:height2\n            });\n        }\n\n        graph_geometry = new Geometry({\n            color : color,\n            depth : 999.33,\n            batcher : Luxe.debug.batcher\n        });\n\n        for(i in 0 ... history) {\n            var _b = new Vertex(new Vector(segment*i, height2), color);\n            graph_geometry.add( _b );\n        }\n\n        graph_geometry.primitive_type = PrimitiveType.line_strip;\n\n        hide();\n\n    }\n\n        //when changing the max we adjust\n        //all the values in the history to reflect\n    function set_max(_v:Float) {\n\n        var oldmax = max;\n        max = _v;\n\n        if(graph_geometry != null) {\n            var ratio = 1.0;\n            if(oldmax != 0) {\n                ratio = oldmax/_v;\n            }\n            for(v in graph_geometry.vertices) {\n                if(v != null) {\n                    //get the value out as 0 - 1\n                    var vp = 1.0 - (v.pos.y / height2);\n                    //multiply it by the old max to get the value\n                    var vv = vp * oldmax;\n                    //get the new % over new max\n                    vp = vv / max;\n                    //and then set the new y pos\n                    v.pos.y = height2*(1.0-vp);\n                }\n            }\n        }\n\n        return max;\n    }\n\n    function set_ping(_v:Float) {\n\n        var _vv = Maths.fixed(_v,4);\n        var _p = _vv/max;\n\n            //shift every vertex left\n        for(i in 0 ... history) {\n            //copy x from the next one\n            var v = graph_geometry.vertices[i];\n            if(i < (history-1)) {\n                var v1 = graph_geometry.vertices[i+1];\n                if(v1 != null) {\n                    v.pos.y = Math.floor(v1.pos.y);\n                    v.color = v1.color;\n                }\n            }\n        }\n\n        _p = Maths.clamp(_p, 0.001, 1);\n\n        if(_p > 1) {\n            graph_geometry.vertices[history-1].color = ProfilerDebugView.color_red;\n        } else if(_p < 0.2) {\n            graph_geometry.vertices[history-1].color = ProfilerDebugView.color_green;\n        } else {\n            graph_geometry.vertices[history-1].color = color;\n        }\n\n        graph_geometry.vertices[history-1].pos.y = Math.floor(((height2)*(1.0-_p)));\n\n        return ping = _v;\n\n    } //set_ping\n\n    public function hide() {\n        visible = false;\n        graph_geometry.visible = false;\n        if(graphbg_geometry != null) graphbg_geometry.visible = false;\n    }\n\n    public function show() {\n        visible = true;\n        graph_geometry.visible = true;\n        if(graphbg_geometry != null) graphbg_geometry.visible = true;\n    }\n\n    function set_pos(_p:Vector) {\n\n        if(graphbg_geometry != null) graphbg_geometry.transform.pos.copy_from(_p);\n        graph_geometry.transform.pos.copy_from(_p);\n\n        return pos = _p;\n\n    } //set_pos\n\n} //ProfilerGraph\n\nprivate class ProfilerBar {\n\n    public var bar_geometry : QuadGeometry;\n    public var bg_geometry : QuadGeometry;\n    public var graph : ProfilerGraph;\n\n    public var text_item : Text;\n    public var name : String;\n\n    public var visible:Bool = false;\n    public var height : Float = 8;\n    public var max : Float = 16.7;\n\n    @:isVar public var text (default,set) : String;\n    @:isVar public var pos (default,set) : Vector;\n    @:isVar public var value (default,set) : Float;\n\n    public function new(_name:String, ?_max:Float, _color:Color) {\n\n        name = _name;\n\n        graph = new ProfilerGraph(_name);\n        graph.create();\n        if(_max != null) graph.max = _max;\n\n        text_item = new Text({\n            no_scene : true,\n            name : 'profiler.text.' + _name,\n            pos : new Vector(0,0),\n            color : _color,\n            point_size : height*1.8,\n            depth : 999.3,\n            text : '',\n            batcher : Luxe.debug.batcher\n        });\n\n        bg_geometry = Luxe.draw.box({\n            color : new Color().rgb(0x090909),\n            depth : 999.3,\n            batcher : Luxe.debug.batcher,\n            x:0, y:0, w:graph.width, h:graph.height\n        });\n\n        bar_geometry = Luxe.draw.box({\n            color : _color,\n            depth : 999.33,\n            batcher : Luxe.debug.batcher,\n            x:1, y:1, w:graph.width-2, h:graph.height-2\n        });\n\n        hide();\n\n    } //new\n\n    public function hide() {\n        visible = false;\n        bar_geometry.visible = false;\n        bg_geometry.visible = false;\n        text_item.visible = false;\n        graph.hide();\n    }\n\n    public function show() {\n        visible = true;\n        bar_geometry.visible = true;\n        bg_geometry.visible = true;\n        text_item.visible = true;\n        graph.show();\n    }\n\n    function set_value(_v:Float) {\n\n        graph.ping = _v * 1000;\n\n        if(!this.visible) return value = _v;\n\n        var _vv = Maths.fixed(_v*1000,4);\n        var _p = _vv/max;\n\n        _p = Maths.clamp(_p, 0.005, 1);\n\n        if(_p > 1) {\n            bar_geometry.color = ProfilerDebugView.color_red;\n        } else if(_p < 0.15) {\n            bar_geometry.color = ProfilerDebugView.color_green;\n        } else {\n            bar_geometry.color = ProfilerDebugView.color_normal;\n        }\n\n        var nx = (graph.width-2) * _p;\n        bar_geometry.resize_xy(nx, graph.height-2);\n\n        return value = _v;\n\n    } //set_value\n\n    function set_pos(_p:Vector) {\n        bg_geometry.transform.pos = _p;\n        bar_geometry.transform.pos.set_xy(_p.x+1, _p.y+1);\n        text_item.pos.set_xy(_p.x+(graph.width*2)+10, _p.y-6);\n        graph.pos = _p.clone().add_xyz(graph.width+2, -graph.height+4);\n        return pos = _p;\n    }\n\n    function set_text(_t:String) {\n        text_item.text = '$name (${graph.max}ms) | ${_t}ms';\n        return text = _t;\n    }\n\n} //ProfilerBar\n","package luxe.debug;\n\nimport luxe.Text;\nimport luxe.utils.Maths;\nimport luxe.Vector;\nimport luxe.Input;\nimport luxe.Screen.WindowEvent;\nimport luxe.Log.*;\n\nclass SceneDebugView extends luxe.debug.DebugView  {\n\n    var items_list : luxe.Text;\n\n    public function new(_debug:luxe.Debug) {\n\n        super(_debug);\n\n        name = 'Scenes';\n        scenes = [];\n\n    }\n\n    var margin = 32;\n    var font_size = 15.0;\n    public override function create() {\n\n        var debug = Luxe.debug;\n\n        items_list = new luxe.Text({\n            name: 'debug.scene.list',\n            depth : 999.3,\n            no_scene : true,\n            color : new Color(0,0,0,1).rgb(0xf6007b),\n            pos : new Vector(0,0),\n            font : Luxe.renderer.font,\n            text : get_list(),\n            point_size : font_size,\n            batcher : debug.batcher,\n            visible : false,\n        });\n\n        items_list.geometry.id = 'debug.scene.list.geometry';\n\n        resize();\n\n    }\n\n    var scenes : Array<luxe.Scene>;\n\n    public function add_scene(_scene:luxe.Scene) : Void {\n\n        assert(scenes.indexOf(_scene) == -1);\n\n        scenes.push(_scene);\n\n    } //add_scene\n\n    public function remove_scene(_scene:luxe.Scene) : Bool {\n\n            //maybe this isn't as handy\n        assert(scenes.indexOf(_scene) != -1);\n\n        var _result = scenes.remove(_scene);\n\n        refresh();\n\n        return _result;\n\n    } //remove_scene\n\n    public override function onkeydown(e:KeyEvent) {\n\n        if(e.keycode == Key.key_2 && visible) {\n            toggle_ids();\n        }\n\n    } //onkeydown\n\n    var hide_ids : Bool = true;\n    function toggle_ids() {\n        hide_ids = !hide_ids;\n        refresh();\n    }\n\n\n    inline function tabs(_d:Int) {\n        var res = '';\n        for(i in 0 ... _d) res += '    ';\n        return res;\n    }\n\n    inline function list_entity(_list:String, e:luxe.Entity, _depth:Int = 1) : String {\n\n        var _active = (e.active) ? '' : '/ inactive';\n        var _pre = (_depth == 1) ? tabs(_depth) : tabs(_depth)+'> ';\n        var _id = hide_ids ? '' : e.id;\n        var _comp_count = Lambda.count(e.components);\n        var _comp = '• ' + _comp_count;\n        var _childs = '> ${e.children.length}';\n\n        _list += '${_pre}$_id ${e.name} $_childs $_comp $_active\\n';\n\n        for(_name in e.components.keys()) {\n            var comp = e.components.get(_name);\n            var _comp_id = hide_ids ? '' : ' '+comp.id;\n            _list += tabs(_depth+1) + '•$_comp_id ${comp.name}\\n';\n        }\n\n        for(_child in e.children) {\n            _list = list_entity(_list, _child, _depth+2);\n        }\n\n        return _list;\n    }\n\n    inline function get_list() : String {\n\n        var _result = '';\n\n            for(_scene in scenes) {\n                var _id = hide_ids ? '' : '${_scene.id} ';\n\n                _result += _id;\n                _result += '${_scene.name} ';\n                _result += '( ${_scene.length} )\\n';\n                for(_entity in _scene.entities) {\n                    _result = list_entity(_result, _entity);\n                }\n            }\n\n        return _result;\n\n    } //get_list\n\n    public override function refresh() {\n\n        items_list.text = get_list();\n\n    } //refresh\n\n    public override function process() {\n\n        if(!visible) return;\n\n        var _has_changed = false;\n\n        for(_scene in scenes) {\n            if(_scene._has_changed) {\n                _has_changed = true;\n                _scene._has_changed = false;\n            }\n        } //each scene\n\n        if(_has_changed) {\n\n            refresh();\n\n        } //_has_changed\n\n    } //process\n\n#if (desktop || web)\n    //:wip:\n    override function onmousewheel(e:MouseEvent) {\n        var h = items_list.text_bounds.h;\n        var vh = Luxe.debug.inspector.size.y - margin;\n        var diff = h - vh;\n\n        var new_y = items_list.pos.y;\n        var max_y = Luxe.debug.padding.y +(margin*1.5);\n        var min_y = max_y;\n\n        if(diff > 0) {\n            min_y = (max_y - (diff+(margin*2)));\n        }\n\n        new_y -= (margin/2) * e.y;\n        new_y = Maths.clamp(new_y, min_y, max_y);\n        items_list.pos.y = new_y;\n    }\n#end\n\n//state\n    public override function show() {\n\n        super.show();\n        refresh();\n        items_list.visible = true;\n\n    } //show\n\n    public override function hide() {\n\n        super.hide();\n        items_list.visible = false;\n\n    } //hide\n\n//sizing\n\n    function resize() {\n\n        var debug = Luxe.debug;\n\n        var viewrect = new Rectangle(\n            debug.inspector.pos.x + (margin/2),\n            debug.inspector.pos.y + (margin*1.5),\n            debug.inspector.size.x - margin,\n            debug.inspector.size.y - margin - (margin*1.5)\n        );\n\n        var left = debug.padding.x + margin;\n        var top = debug.padding.y +(margin*1.5);\n\n        if(items_list != null) {\n            items_list.pos = new Vector(left, top);\n            items_list.clip_rect = viewrect;\n        }\n\n    }\n    override function onwindowsized(e:WindowEvent) resize();\n\n}\n","package luxe.importers.bitmapfont;\n\nimport luxe.importers.bitmapfont.BitmapFontData;\n\nclass BitmapFontParser {\n\n    //public api\n\n        public static function parse( _font_data:String ) : BitmapFontData {\n\n            if(_font_data.length == 0) {\n                throw \"BitmapFont:Parser: _font_data is 0 length\";\n            }\n\n            var _info : BitmapFontData = {\n                face : null,\n                chars : new Map(),\n                point_size : 0, base_size : 0,\n                char_count : 0, line_height : 0,\n                pages : [], kernings : new Map()\n            };\n\n            var _lines : Array<String> = _font_data.split(\"\\n\");\n\n            if(_lines.length == 0) {\n                throw \"BitmapFont; invalid font data specified for parser.\";\n            }\n\n            var _first = _lines[0];\n            if(StringTools.ltrim(_first).substr(0, 4) != 'info') {\n                throw \"BitmapFont; invalid font data specified for parser. Format should be plain ascii text .fnt file only currently.\";\n            }\n\n            for(_line in _lines) {\n                var _tokens = _line.split(\" \");\n                for(_current in _tokens) {\n                    parse_token(_current, _tokens, _info);\n                }\n                _tokens = null;\n            }\n\n            _lines = null;\n\n            return _info;\n\n        } //parse\n\n    //internal\n\n        static function parse_token( _token:String, _tokens:Array<String>, _info:BitmapFontData ) {\n\n                //remove the first token\n            _tokens.shift();\n                //fetch the items from the line\n            var _items = tokenize_line(_tokens);\n\n            switch (_token) {\n\n                case 'info': {\n                    _info.face = unquote(_items['face']);\n                    _info.point_size = Std.parseFloat(_items['size']);\n                }\n\n                case 'common': {\n                    _info.line_height = Std.parseFloat(_items['lineHeight']);\n                    _info.base_size = Std.parseFloat(_items['base']);\n                }\n\n                case 'page': {\n                    _info.pages.push({\n                        id : Std.parseInt(_items['id']),\n                        file : trim(unquote(_items['file']))\n                    });\n                }\n\n                case 'chars': {\n                    _info.char_count = Std.parseInt(_items[\"count\"]);\n                }\n\n                case 'char': {\n\n                    var _char : Character = {\n                        id : Std.parseInt(_items[\"id\"]),\n                        x : Std.parseFloat(_items[\"x\"]),\n                        y : Std.parseFloat(_items[\"y\"]),\n                        width : Std.parseFloat(_items[\"width\"]),\n                        height : Std.parseFloat(_items[\"height\"]),\n                        xoffset : Std.parseFloat(_items[\"xoffset\"]),\n                        yoffset : Std.parseFloat(_items[\"yoffset\"]),\n                        xadvance : Std.parseFloat(_items[\"xadvance\"]),\n                        page : Std.parseInt(_items[\"page\"])\n                    }\n\n                    _info.chars.set(_char.id, _char);\n\n                }\n\n                case 'kerning': {\n\n                    var _first = Std.parseInt(_items[\"first\"]);\n                    var _second = Std.parseInt(_items[\"second\"]);\n                    var _amount = Std.parseFloat(_items[\"amount\"]);\n\n                    var _map = _info.kernings.get(_first);\n                    if(_map == null) {\n                        _map = new Map();\n                        _info.kernings.set(_first, _map);\n                    }\n\n                    _map.set(_second, _amount);\n\n                }\n\n                default:\n            }\n\n            _items = null;\n\n        } //parse_token\n\n        static function tokenize_line( _tokens:Array<String> ) {\n\n            var _item_map : Map<String, String> = new Map();\n\n                for(_token in _tokens) {\n                    var _items = _token.split(\"=\");\n                    _item_map.set( _items[0], _items[1] );\n                    _items = null;\n                }\n\n            return _item_map;\n\n        } //tokenize_line\n\n        inline static function trim(_s:String) { return StringTools.trim(_s); }\n        inline static function unquote(_s:String) {\n            if(_s.indexOf('\"') != -1) {\n                _s = StringTools.replace(_s,'\"', '');\n            } return _s;\n        } //unquote\n\n} //BitmapFontParser\n","package luxe.macros;\n\nimport haxe.macro.Expr;\nimport haxe.macro.Context;\n\nimport haxe.io.Bytes;\nimport haxe.io.Path;\n\n\n#if macro\nimport sys.io.File;\nimport sys.FileSystem;\n#end\n\n@:noCompletion class BuildVersion {\n\n    public static var _save : Bool = false;\n\n    macro public static function save() : haxe.macro.Expr {\n\n        _save = true;\n\n        return macro null;\n\n    } //save\n\n        //This is always called from Luxe.hx in the root folder,\n        //which contains the .git repo, and build file directly\n    macro public static function latest() {\n\n        var location : String = Context.getPosInfos(Context.currentPos()).file;\n        var root : String = Path.addTrailingSlash(Path.directory(location));\n        var out : String = Path.join([root,'build']);\n\n        var build : String = try_git( root );\n\n        if(build != '') {\n\n                //the + is for semantic versioning\n            build = '+' + build.substr(0,10);\n\n            if(_save) {\n                File.saveContent(out, build);\n            }\n\n            Context.addResource('build', Bytes.ofString(build));\n        }\n\n        return Context.makeExpr(build, Context.currentPos());\n\n    } //latest\n\n    static function try_git(root:String) {\n\n\n        #if macro\n            var git_path : String = Path.join([root,'../.git/']);\n                git_path = Path.normalize(git_path);\n\n            if(FileSystem.exists(git_path) && FileSystem.isDirectory(git_path)) {\n                var ref_file = Path.normalize(Path.join([git_path,'refs/heads/master']));\n                if(FileSystem.exists(ref_file)) {\n                    return File.getContent(ref_file);\n                } else {\n                    return '';\n                }\n            }\n        #end\n\n        return '';\n\n    } //try_git\n\n} //BuildVersion\n","package luxe.structural;\n\n\n/**\n    Copyright 2014-2016 Sven Bergström\n\n    A balanced binary search tree,\n    implemented based on various stack overflow answers,\n    wikipedia articles and books read over the years.\n    some other references : https://github.com/polygonal/ds\n\n    Part of the structural library for haxe\n    http://github.com/underscorediscovery/structural\n\n    MIT License\n*/\n\n#if !display @:generic #end\n@:allow(luxe.structural.BalancedBSTIterator)\nclass BalancedBST<K,T> {\n\n        /** The tree root node */\n    public var root : BalancedBSTNode<K,T>;\n        /** The current comparison function */\n    public var compare : K->K->Int;\n        /** Whether or not the tree is empty (i.e root == null) */\n    public var empty (get, null) : Bool;\n\n        /** Create a new balanced BST with the given comparison function */\n    public function new( compare_function : K->K->Int ) {\n\n        compare = compare_function;\n\n    } //new\n\n//Public API\n\n        /** Return the number of nodes in the tree */\n    public inline function size() {\n\n        return node_count(root);\n\n    } //size\n\n        /** Return the depth of the tree */\n    public inline function depth() {\n\n        return node_depth(root);\n\n    } //depth\n\n        /** Insert a node into the tree */\n    public inline function insert( _key:K, _value:T ) {\n\n        root = node_insert( root, _key, _value );\n        root.color = NodeColor.black;\n\n    } //insert\n\n        /** Returns true if the tree contains the key for this node */\n    public function contains( _key:K ) : Bool {\n\n            //if the find functions returns non-null it's here\n        return find(_key) != null;\n\n    } //contains\n\n        /** Returns a node by key, if found. null otherwise */\n    public function find( _key:K ) : T {\n\n        return node_find( root, _key );\n\n    } //find\n\n        /** Return the number of nodes to the left of this node, by key.\n            http://en.wikipedia.org/wiki/Order_statistic_tree */\n    public function rank( _key:K ) : Int {\n\n        return node_rank(_key, root);\n\n    } //rank\n\n        /** Find a key by rank in the tree, i.e given a number of nodes, the key at this point.\n            http://en.wikipedia.org/wiki/Order_statistic_tree */\n    public function select( _rank:Int ) : K {\n\n        var _node = node_select(root,_rank);\n\n        if(_node != null) {\n            return _node.key;\n        } else {\n            return null;\n        }\n\n    } //select\n\n        /** return the smallest node (key) in the tree (most left) */\n    public function smallest() : K {\n\n        var _node = node_smallest(root);\n\n        if(_node != null) {\n            return _node.key;\n        } else {\n            return null;\n        }\n\n    } //smallest\n\n        /** return the largest node (key) in the tree (most right)*/\n   public function largest() : K {\n\n        var _node = node_largest(root);\n\n        if(_node != null) {\n            return _node.key;\n        } else {\n            return null;\n        }\n\n    } //largest\n\n        /** remove a node by key. return false if the operation fails (i.e the node is not stored in this tree) */\n    public function remove( _key:K ) : Bool {\n\n        if( !is_red(root.left) && !is_red(root.right) ) {\n            root.color = NodeColor.red;\n        }\n\n        if(!contains(_key)) {\n            return false;\n        }\n\n        root = node_remove(root, _key);\n\n        if( root != null  ) {\n            root.color = NodeColor.black;\n        }\n\n        return true;\n\n    } //remove\n\n        /** remove the smallest node in the tree (most left) */\n    public function remove_smallest() {\n\n        if( !is_red(root.left) && !is_red(root.right) ) {\n            root.color = NodeColor.red;\n        }\n\n        root = node_remove_smallest(root);\n\n        if(root != null) {\n            root.color = NodeColor.black;\n        }\n\n        return true;\n\n    } //remove_smallest\n\n        /** remove the largest node in the tree (most right) */\n    public function remove_largest() {\n\n            // if both children of root are black, set root to red\n        if (!is_red(root.left) && !is_red(root.right)) {\n            root.color = NodeColor.red;\n        }\n\n        root = node_remove_largest(root);\n\n        if(root != null ) {\n            root.color = NodeColor.black;\n        }\n\n        return true;\n\n    } //remove_largest\n\n        /** tree floor http://en.wikipedia.org/wiki/Floor_and_ceiling_functions */\n    public function floor( _key:K ) : Null<K> {\n\n        var _node = node_floor(root, _key);\n\n        if(_node == null) {\n            return null;\n        }\n\n        return _node.key;\n\n    } //floor\n\n        /** tree ceiling http://en.wikipedia.org/wiki/Floor_and_ceiling_functions */\n    public function ceil( _key:K ) : Null<K> {\n\n        var _node = node_ceil( root, _key );\n\n        if (_node == null) {\n            return null;\n        }\n\n        return _node.key;\n\n    } //ceil\n\n        /** return an array of the values in this tree */\n    public function toArray() : Array<T> {\n\n        var a:Array<T> = [];\n\n        traverse_node( root, order_retain, function( _node : BalancedBSTNode<K,T> ) {\n            a.push( _node.value );\n        });\n\n        return a;\n\n    } //toArray\n\n        /** Return an array of the keys in this tree */\n    public function keys() : Array<K> {\n\n        var a:Array<K> = [];\n\n        traverse_node( root, order_retain, function( _node : BalancedBSTNode<K,T> ) {\n            a.push( _node.key );\n        });\n\n        return a;\n\n    } //keys\n\n        /** returns an iterator from a conversion to array of this tree. Usable as `for(item in tree)` */\n    // inline // :todo: inlining breaks things on 3.4, https://github.com/HaxeFoundation/haxe/issues/5855\n    public function iterator() {\n\n        return new BalancedBSTIterator<K,T>(this);\n\n    } //iterator\n\n        /** Traverse a node with the given method, and call the given function for each node traversed */\n    public function traverse_node( _node:BalancedBSTNode<K,T>, _method:BalancedBSTTraverseMethod, _on_traverse : BalancedBSTNode<K,T> ->Void ) {\n\n        if (_node != null) {\n\n            switch(_method) {\n\n                case order_pre:\n                    _on_traverse(_node);\n                    traverse_node(_node.left, _method, _on_traverse);\n                    traverse_node(_node.right, _method, _on_traverse);\n\n                case order_retain:\n                    traverse_node(_node.left, _method, _on_traverse);\n                    _on_traverse(_node);\n                    traverse_node(_node.right, _method, _on_traverse);\n\n                case order_post:\n                    traverse_node(_node.left, _method, _on_traverse);\n                    traverse_node(_node.right, _method, _on_traverse);\n                    _on_traverse(_node);\n\n            } //_method\n\n        } //_node\n\n    } //traverse\n\n//Internal API\n\n        //getter\n    function get_empty() {\n\n        return root == null;\n\n    }\n\n        /** the depth of a single node */\n    function node_depth( _node:BalancedBSTNode<K,T>  ) {\n\n        if (_node == null) {\n            return 0;\n        }\n\n        var _n_depth = Math.max(\n                         node_depth(_node.left),\n                         node_depth(_node.right)\n                       );\n\n        return 1 + Std.int( _n_depth );\n\n    } //node_depth\n\n        /** the node count/children of a single node */\n    inline function node_count( _node:BalancedBSTNode<K,T> ) {\n\n        return _node == null ? 0 : _node.nodecount;\n\n    } //node_count\n\n        /** insert a single node */\n    function node_insert( _node:BalancedBSTNode<K,T>, _key:K, _value:T ) : BalancedBSTNode<K,T> {\n\n        if(_node == null) {\n\n            return new BalancedBSTNode<K,T>(_key, _value, 1, NodeColor.red);\n\n        } //_node\n\n            var comparison = compare(_key, _node.key);\n\n            if(comparison < 0) {\n\n                _node.left = node_insert(_node.left, _key, _value);\n\n            } else if(comparison > 0) {\n\n                _node.right = node_insert(_node.right, _key, _value);\n\n            } else {\n\n                _node.value = _value;\n\n            }\n\n            if(is_red(_node.right) && !is_red(_node.left)) {\n                _node = rotate_left(_node);\n            }\n\n            if(is_red(_node.left) && is_red(_node.left.left)) {\n                _node = rotate_right(_node);\n            }\n\n            if(is_red(_node.left) && is_red(_node.right)) {\n                swap_color(_node);\n            }\n\n            node_update_count(_node);\n\n        return _node;\n\n    } //node_insert\n\n        /* make sure the node count is up to date on a given node */\n    inline function node_update_count( _node:BalancedBSTNode<K,T> ) {\n\n        _node.nodecount = node_count(_node.left) + node_count(_node.right) + 1;\n\n        return _node;\n\n    } //node_update_count\n\n        /** find a single node */\n    function node_find( _node:BalancedBSTNode<K,T>, _key:K ) : T {\n\n        if(_node == null) {\n            return null;\n        }\n\n        var comparison = compare( _key, _node.key );\n\n        if(comparison < 0) {\n            return node_find(_node.left, _key);\n        } else if(comparison > 0) {\n            return node_find(_node.right, _key);\n        } else { //comparison > 0\n            return _node.value;\n        }\n\n    } //node_find\n\n        /** find rank of single node */\n    function node_rank( _key:K, _node:BalancedBSTNode<K,T> ) : Int {\n\n        if(_node == null) {\n            return 0;\n        }\n\n        var comparison = compare(_key, _node.key);\n\n        if(comparison < 0) {\n            return node_rank(_key, _node.left);\n        } else if(comparison > 0) {\n            return 1 + node_count(_node.left) + node_rank( _key, _node.right );\n        } else {\n            return node_count(_node.left);\n        }\n\n    } //node_rank\n\n        /** find key of node by rank */\n    function node_select( _node:BalancedBSTNode<K,T>, _rank:Int ) : BalancedBSTNode<K,T> {\n\n        if(_node == null) {\n            return null;\n        }\n\n        var _r = node_count(_node.left);\n\n        if(_r > _rank) {\n            return node_select(_node.left, _rank);\n        } else if(_r < _rank) {\n            return node_select(_node.right, _rank - _r - 1);\n        } else {\n            return _node;\n        }\n\n    } //node_select\n\n        /** find smallest of the given node */\n    function node_smallest( _node:BalancedBSTNode<K,T> ) : BalancedBSTNode<K,T> {\n\n        if(_node.left == null) {\n            return _node;\n        }\n\n        return node_smallest( _node.left );\n\n    } //node_smallest\n\n        /** find largest of the given node */\n    function node_largest( _node : BalancedBSTNode<K,T> ) : BalancedBSTNode<K,T> {\n\n        if (_node.right == null) {\n            return _node;\n        } else {\n            return node_largest(_node.right);\n        }\n\n    } //node_largest\n\n        /** node floor http://en.wikipedia.org/wiki/Floor_and_ceiling_functions */\n    function node_floor(_node:BalancedBSTNode<K,T>, _key:K ) : BalancedBSTNode<K,T> {\n\n        if(_node == null) {\n            return null;\n        }\n\n        var comparison = compare(_key, _node.key);\n\n        if(comparison == 0) {\n            return _node;\n        } else if(comparison < 0) {\n            return node_floor(_node.left, _key);\n        }\n\n        var _n = node_floor(_node.right, _key);\n\n        if(_n != null) {\n            return _n;\n        } else {\n            return _node;\n        }\n\n    } //node_floor\n\n        /** node ceiling http://en.wikipedia.org/wiki/Floor_and_ceiling_functions */\n    function node_ceil( _node:BalancedBSTNode<K,T> , _key:K ) : BalancedBSTNode<K,T> {\n\n        if (_node == null) {\n            return null;\n        }\n\n        var comparison = compare(_key, _node.key);\n\n        if(comparison == 0) {\n\n            return _node;\n\n        } else if(comparison < 0) {\n\n            var _n = node_ceil(_node.left, _key);\n\n            if (_n != null) {\n                return _n;\n            } else {\n                return _node;\n            }\n\n        } //comparison < 0\n\n        return node_ceil(_node.right, _key);\n\n    } //node_ceil\n\n        /** remove the smallest node in the tree (most left) */\n    function node_remove_smallest( _node:BalancedBSTNode<K,T> ) : BalancedBSTNode<K,T> {\n\n        if(_node.left == null) {\n            return null;\n        }\n\n        if( !is_red(_node.left) && !is_red(_node.left.left)) {\n            _node = move_red_left( _node );\n        }\n\n        _node.left = node_remove_smallest(_node.left);\n        node_update_count(_node);\n\n        return balance(_node);\n\n    } //remove_smallest\n\n        /** remove the largest node in the tree (most right) */\n    function node_remove_largest( _node:BalancedBSTNode<K,T> ) : BalancedBSTNode<K,T> {\n\n        if( is_red(_node.left) ) {\n            _node = rotate_right(_node);\n        }\n\n        if (_node.right == null) {\n            return null;\n        }\n\n        if( !is_red(_node.right) && !is_red(_node.right.left) ) {\n            _node = move_red_right(_node);\n        }\n\n        _node.right = node_remove_largest(_node.right);\n        node_update_count(_node);\n\n        return balance(_node);\n\n    } //node_remove_largest\n\n        /** remove a single node by key */\n    function node_remove( _node:BalancedBSTNode<K,T>, _key:K ) : BalancedBSTNode<K,T> {\n\n        var comparison = compare( _key, _node.key );\n\n        if( comparison < 0 )  {\n\n            if( !is_red(_node.left) && !is_red(_node.left.left) ) {\n                _node = move_red_left(_node);\n            }\n\n            _node.left = node_remove(_node.left, _key);\n\n        } else {\n\n            if( is_red(_node.left) ) {\n                _node = rotate_right(_node);\n            }\n\n            var comparison = compare( _key, _node.key );\n\n            if ((comparison == 0) && (_node.right == null)) {\n                return null;\n            }\n\n            if (!is_red(_node.right) && !is_red(_node.right.left)) {\n                _node = move_red_right(_node);\n            }\n\n            var comparison = compare( _key, _node.key );\n            if(comparison == 0) {\n\n                var _n = node_smallest(_node.right);\n                    _node.key = _n.key;\n                    _node.value = _n.value;\n\n                _node.right = node_remove_smallest(_node.right);\n\n            } else {\n                _node.right = node_remove(_node.right, _key);\n            }\n\n        }\n\n        return balance(_node);\n\n    } //_delete\n\n    inline function is_red( _node:BalancedBSTNode<K,T> ) {\n\n        if(_node == null) {\n            return NodeColor.black;\n        }\n\n        return _node.color == NodeColor.red;\n\n    } //is_red\n\n    @:noCompletion public function rotate_left( _node:BalancedBSTNode<K,T> ) {\n\n        var _n = _node.right;\n\n                //update colors\n            _n.color = _node.color;\n            _node.color = NodeColor.red;\n                //swap the right with left node\n            _node.right = _n.left;\n            _n.left = _node;\n\n                //update the node count values\n            _n.nodecount = _node.nodecount;\n            node_update_count(_node);\n\n        return _n;\n\n    } //rotate_left\n\n    @:noCompletion public function rotate_right( _node:BalancedBSTNode<K,T> ) {\n\n        var _n = _node.left;\n\n                //update node colors\n            _n.color = _node.color;\n            _node.color = NodeColor.red;\n                //swap the left and right node\n            _node.left = _n.right;\n            _n.right = _node;\n\n                //update the nodecount values\n            _n.nodecount = _node.nodecount;\n            node_update_count(_node);\n\n        return _n;\n\n    } //rotate_left\n\n    @:noCompletion public function swap_color( _node:BalancedBSTNode<K,T> ) {\n\n        _node.color = !_node.color;\n        _node.left.color = !_node.left.color;\n        _node.right.color = !_node.right.color;\n\n    } //swap_color\n\n    inline function move_red_left( _node:BalancedBSTNode<K,T> ) : BalancedBSTNode<K,T> {\n\n        swap_color(_node);\n\n        if( is_red(_node.right.left) ) {\n            _node.right = rotate_right(_node.right);\n            _node = rotate_left(_node);\n        }\n\n        return _node;\n    }\n\n    inline function move_red_right( _node:BalancedBSTNode<K,T> ) : BalancedBSTNode<K,T> {\n\n        swap_color(_node);\n\n        if (is_red(_node.left.left)) {\n            _node = rotate_right(_node);\n        }\n\n        return _node;\n    }\n\n    inline function balance( _node:BalancedBSTNode<K,T> ) : BalancedBSTNode<K,T> {\n\n        if (is_red(_node.right))    {\n            _node = rotate_left(_node);\n        }\n\n        if (is_red(_node.left) && is_red(_node.left.left)) {\n            _node = rotate_right(_node);\n        }\n\n        if (is_red(_node.left) && is_red(_node.right)) {\n            swap_color(_node);\n        }\n\n        node_update_count(_node);\n\n        return _node;\n\n    } //balance\n\n} //BalancedBST\n\n\n#if !display @:generic #end\nclass BalancedBSTIterator<K,T> {\n\n    var tree : BalancedBST<K,T>;\n    var current : BalancedBSTNode<K,T>;\n    var rightest : BalancedBSTNode<K,T>;\n\n    public inline function new(_tree:BalancedBST<K,T>) {\n\n        if(_tree == null) return;\n        if(_tree.root == null) return;\n\n        tree = _tree;\n        current = _min(tree.root);\n        rightest = _max(tree.root);\n\n    } //new\n\n    public inline function hasNext():Bool {\n\n        if(current == null || rightest == null) return false;\n\n        return tree.compare(current.key, rightest.key) <= 0;\n\n    } //hasNext\n\n    public inline function next() {\n        var _temp = current;\n        current = update_next();\n        return _temp.value;\n    }\n\n    inline function update_next() {\n\n        if(!hasNext()) return null;\n        if(current.right!=null) return _min(current.right);\n\n            var _next = null;\n            var _temp = tree.root;\n            while(_temp != null) {\n\n                var _comp = tree.compare(current.key, _temp.key);\n                if(_comp < 0) {\n                    _next = _temp;\n                    _temp = _temp.left;\n                } else if(_comp > 0){\n                    _temp = _temp.right;\n                } else {\n                    current = _next;\n                    break;\n                }\n\n            } //while\n\n        return _next;\n\n    } //update_next\n\n    inline function _min(_node:BalancedBSTNode<K,T>) {\n\n        while(_node.left != null) _node = _node.left;\n\n        return _node;\n\n    } //_min\n\n    inline function _max(_node:BalancedBSTNode<K,T>) {\n\n        while(_node.right != null) _node = _node.right;\n\n        return _node;\n\n    } //_max\n\n} //BalancedBSTIterator\n\n\n@:noCompletion\nprivate class NodeColor {\n    public static inline var red = true;\n    public static inline var black = false;\n}\n\n    /** A balanced binary search tree node by `K` key and `T` value (type) */\n#if !display @:generic #end\nclass BalancedBSTNode<K,T> {\n\n\n        /** The node left of this node (less than) */\n    public var left         : BalancedBSTNode<K,T>;\n        /** The node right of this node (bigger than) */\n    public var right        : BalancedBSTNode<K,T>;\n        /** The node count of this node, including itself */\n    public var nodecount    : Int;\n        /** The node color, red or black, for maintaining balance */\n    public var color        : Bool;\n\n        /** The key used to compare this node */\n    public var key          : K;\n        /** The value this node holds */\n    public var value        : T;\n\n        /** Create a new node with given key, value, count and color. Use `insert` on the tree instead. */\n    public function new( _key:K, _value:T, _node_count:Int, _color:Bool ) {\n\n        left = null;\n        right = null;\n\n        key = _key;\n        value = _value;\n\n        nodecount = _node_count;\n        color = _color;\n\n    } //new\n\n\n} //BalancedBSTNode\n\n    /** A traversal method for iterating a node in the tree */\nenum BalancedBSTTraverseMethod {\n\n    order_pre;\n    order_retain;\n    order_post;\n\n} //enum\n","package luxe.structural;\n\n/**\n    Copyright 2014-2016 Sven Bergström\n\n    A simple ordered map implementation using a keys array\n\n    Part of the structural library for haxe\n    http://github.com/underscorediscovery/structural\n\n    MIT License\n*/\n\nimport Map;\n\n@:generic\nclass OrderedMapIterator<K,V> {\n\n    var map : OrderedMap<K,V>;\n    var index : Int = 0;\n\n    public inline function new(omap:OrderedMap<K,V>)\n        map = omap;\n    public inline function hasNext() : Bool\n        return index < map._keys.length;\n    public inline function next() : V\n        return map.get( map._keys[index++] );\n\n} //OrderedMapIterator\n\n@:generic\nclass OrderedMap<K, V> implements IMap<K, V> {\n\n    @:noCompletion public var map:Map<K, V>;\n    var idx = 0;\n\n    @:allow(luxe.structural.OrderedMapIterator)\n    var _keys:Array<K>;\n\n    public inline function new(_map) {\n       _keys = [];\n       map = _map;\n    }\n\n    public inline function set(key:K, value:V) {\n        if (!map.exists(key)) _keys.push(key);\n        map[key] = value;\n    }\n\n    public inline function toString() {\n        var _ret = ''; var _cnt = 0; var _len = _keys.length;\n        for(k in _keys) _ret += '$k => ${map.get(k)}${(_cnt++<_len-1?\", \":\"\")}';\n        return '{$_ret}';\n    }\n\n    public inline function iterator()          return new OrderedMapIterator<K,V>(this);\n    public inline function remove(key)         return map.remove(key) && _keys.remove(key);\n    public inline function exists(key)         return map.exists(key);\n    public inline function get(key)            return map.get(key);\n    public inline function keys()              return _keys.iterator();\n\n} //OrderedMap\n","/**\r\n  @author Joshua Granick   \r\n  @version 1.2   \r\n */\r\n\r\n\r\npackage luxe.tween.actuators;\r\n\r\n\r\nimport luxe.tween.easing.IEasing;\r\nimport luxe.tween.Actuate;\r\n\r\n\r\n@:keepSub\r\nclass GenericActuator implements IGenericActuator {\r\n\r\n\r\n    public var duration:Float;\r\n    public var id:String;\r\n    public var properties:Dynamic;\r\n    public var target:Dynamic;\r\n\r\n    var _autoVisible:Bool;\r\n    var _delay:Float;\r\n    var _ease:IEasing;\r\n    var _onComplete:Dynamic;\r\n    var _onCompleteParams:Array <Dynamic>;\r\n    var _onRepeat:Dynamic;\r\n    var _onRepeatParams:Array <Dynamic>;\r\n    var _onUpdate:Dynamic;\r\n    var _onUpdateParams:Array <Dynamic>;\r\n    var _reflect:Bool;\r\n    var _repeat:Int;\r\n    var _reverse:Bool;\r\n    var _smartRotation:Bool;\r\n    var _snapping:Bool;\r\n    var special:Bool;\r\n\r\n\r\n    public function new (target:Dynamic, duration:Float, properties:Dynamic) {\r\n\r\n        _autoVisible = true;\r\n        _delay = 0;\r\n        _reflect = false;\r\n        _repeat = 0;\r\n        _reverse = false;\r\n        _smartRotation = false;\r\n        _snapping = false;\r\n        special = false;\r\n\r\n        this.target = target;\r\n        this.properties = properties;\r\n        this.duration = duration;\r\n\r\n        _ease = Actuate.defaultEase;\r\n\r\n    }\r\n\r\n\r\n    public function apply ():Void {\r\n\r\n        for (i in Reflect.fields (properties)) {\r\n\r\n            if (#if flash false && #end Reflect.hasField (target, i)) {\r\n\r\n                Reflect.setField (target, i, Reflect.field (properties, i));\r\n\r\n            } else {\r\n\r\n                Reflect.setProperty (target, i, Reflect.field (properties, i));\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    /**\r\n      Sometimes drawing performs faster when objects are set to visible = false rather than only alpha = 0. autoVisible toggles automatically based on alpha values   \r\n      @param   value       Whether autoVisible should be enabled (Default is true)   \r\n      @return      The current actuator instance   \r\n     */\r\n    public function autoVisible (?value:Null<Bool>):IGenericActuator {\r\n\r\n        if (value == null) {\r\n\r\n            value = true;\r\n\r\n        }\r\n\r\n        _autoVisible = value;\r\n\r\n        return this;\r\n\r\n    }\r\n\r\n\r\n    inline function callMethod (method:Dynamic, params:Array<Dynamic> = null):Dynamic {\r\n\r\n        if (params == null) {\r\n\r\n            params = [];\r\n\r\n        }\r\n\r\n        #if neko\r\n\r\n        var diff = untyped ($nargs)(method) - params.length;\r\n\r\n        if (diff > 0) {\r\n\r\n            params = params.copy ();\r\n\r\n            for (i in 0...diff) {\r\n\r\n                params.push (null);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        #end\r\n\r\n        return Reflect.callMethod (method, method, params);\r\n\r\n    }\r\n\r\n\r\n    function change ():Void {\r\n\r\n        if (_onUpdate != null) {\r\n\r\n            callMethod (_onUpdate, _onUpdateParams);\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    function complete (sendEvent:Bool = true):Void {\r\n\r\n        if (sendEvent) {\r\n\r\n            change ();\r\n\r\n            if (_onComplete != null) {\r\n\r\n                callMethod (_onComplete, _onCompleteParams);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        Actuate.unload (this);\r\n\r\n    }\r\n\r\n\r\n    /**\r\n      Increases the delay before a tween is executed   \r\n      @param   duration        The amount of seconds to delay   \r\n      @return      The current actuator instance   \r\n     */\r\n    public function delay (duration:Float):IGenericActuator {\r\n\r\n        _delay = duration;\r\n\r\n        return this;\r\n\r\n    }\r\n\r\n\r\n    /**\r\n      Sets the easing which is used when running the tween   \r\n      @param   easing      An easing equation, like Elastic.easeIn or Quad.easeOut   \r\n      @return      The current actuator instance   \r\n     */\r\n    public function ease (easing:IEasing):IGenericActuator {\r\n\r\n        _ease = easing;\r\n\r\n        return this;\r\n\r\n    }\r\n\r\n\r\n    public function move ():Void {\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    /**\r\n      Specify whether this should be scaled by the global timescale   \r\n      @param   _value      Whether or not it should be   \r\n      @return      The current actuator instance   \r\n     */\r\n\r\n    public var timescaled : Bool = false;\r\n    public function timescale( _value:Bool = true ):IGenericActuator {\r\n        timescaled = _value;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n      Defines a function which will be called when the tween finishes   \r\n      @param   handler     The function you would like to be called   \r\n      @param   parameters      Parameters you would like to pass to the handler function when it is called   \r\n      @return      The current actuator instance   \r\n     */\r\n    public function onComplete (handler:Dynamic, parameters:Array <Dynamic> = null):IGenericActuator {\r\n\r\n        _onComplete = handler;\r\n\r\n        if (parameters == null) {\r\n\r\n            _onCompleteParams = [];\r\n\r\n        } else {\r\n\r\n            _onCompleteParams = parameters;\r\n\r\n        }\r\n\r\n        if (duration == 0) {\r\n\r\n            complete ();\r\n\r\n        }\r\n\r\n        return this;\r\n\r\n    }\r\n\r\n\r\n    /**\r\n      Defines a function which will be called when the tween repeats   \r\n      @param   handler     The function you would like to be called   \r\n      @param   parameters      Parameters you would like to pass to the handler function when it is called   \r\n      @return      The current actuator instance   \r\n     */\r\n    public function onRepeat (handler:Dynamic, parameters:Array <Dynamic> = null):IGenericActuator {\r\n\r\n        _onRepeat = handler;\r\n\r\n        if (parameters == null) {\r\n\r\n            _onRepeatParams = [];\r\n\r\n        } else {\r\n\r\n            _onRepeatParams = parameters;\r\n\r\n        }\r\n\r\n        return this;\r\n\r\n    }\r\n\r\n\r\n    /**\r\n      Defines a function which will be called when the tween updates   \r\n      @param   handler     The function you would like to be called   \r\n      @param   parameters      Parameters you would like to pass to the handler function when it is called   \r\n      @return      The current actuator instance   \r\n     */\r\n    public function onUpdate (handler:Dynamic, parameters:Array <Dynamic> = null):IGenericActuator {\r\n\r\n        _onUpdate = handler;\r\n\r\n        if (parameters == null) {\r\n\r\n            _onUpdateParams = [];\r\n\r\n        } else {\r\n\r\n            _onUpdateParams = parameters;\r\n\r\n        }\r\n\r\n        return this;\r\n\r\n    }\r\n\r\n\r\n    public function pause ():Void {\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    /**\r\n      Automatically changes the reverse value when the tween repeats. Repeat must be enabled for this to have any effect   \r\n      @param   value       Whether reflect should be enabled (Default is true)   \r\n      @return      The current actuator instance   \r\n     */\r\n    public function reflect (?value:Null<Bool>):IGenericActuator {\r\n\r\n        if (value == null) {\r\n\r\n            value = true;\r\n\r\n        }\r\n\r\n        _reflect = value;\r\n        special = true;\r\n\r\n        return this;\r\n\r\n    }\r\n\r\n\r\n    /**\r\n      Repeats the tween after it finishes   \r\n      @param   times       The number of times you would like the tween to repeat, or -1 if you would like to repeat the tween indefinitely (Default is -1)   \r\n      @return      The current actuator instance   \r\n     */\r\n    public function repeat (?times:Null<Int>):IGenericActuator {\r\n\r\n        if (times == null) {\r\n\r\n            times = -1;\r\n\r\n        }\r\n\r\n        _repeat = times;\r\n\r\n        return this;\r\n\r\n    }\r\n\r\n\r\n    public function resume ():Void {\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    /**\r\n      Sets if the tween should be handled in reverse   \r\n      @param   value       Whether the tween should be reversed (Default is true)   \r\n      @return      The current actuator instance   \r\n     */\r\n    public function reverse (?value:Null<Bool>):IGenericActuator {\r\n\r\n        if (value == null) {\r\n\r\n            value = true;\r\n\r\n        }\r\n\r\n        _reverse = value;\r\n        special = true;\r\n\r\n        return this;\r\n\r\n    }\r\n\r\n\r\n    /**\r\n      Enabling smartRotation can prevent undesired results when tweening rotation values   \r\n      @param   value       Whether smart rotation should be enabled (Default is true)   \r\n      @return      The current actuator instance   \r\n     */\r\n    public function smartRotation (?value:Null<Bool>):IGenericActuator {\r\n\r\n        if (value == null) {\r\n\r\n            value = true;\r\n\r\n        }\r\n\r\n        _smartRotation = value;\r\n        special = true;\r\n\r\n        return this;\r\n\r\n    }\r\n\r\n\r\n    /**\r\n      Snapping causes tween values to be rounded automatically   \r\n      @param   value       Whether tween values should be rounded (Default is true)   \r\n      @return      The current actuator instance   \r\n     */\r\n    public function snapping (?value:Null<Bool>):IGenericActuator {\r\n\r\n        if (value == null) {\r\n\r\n            value = true;\r\n\r\n        }\r\n\r\n        _snapping = value;\r\n        special = true;\r\n\r\n        return this;\r\n\r\n    }\r\n\r\n\r\n    public function stop (properties:Dynamic, complete:Bool, sendEvent:Bool):Void {\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n@:noCompletion interface IGenericActuator {\r\n\r\n    /**\r\n      Flash performs faster when objects are set to visible = false rather than only alpha = 0. autoVisible toggles automatically based on alpha values   \r\n      @param   value       Whether autoVisible should be enabled (Default is true)   \r\n      @return      The current actuator instance   \r\n     */\r\n    public function autoVisible (?value:Null<Bool>):IGenericActuator;\r\n\r\n    /**\r\n      Increases the delay before a tween is executed   \r\n      @param   duration        The amount of seconds to delay   \r\n      @return      The current actuator instance   \r\n     */\r\n    public function delay (duration:Float):IGenericActuator;\r\n\r\n    /**\r\n      Sets the easing which is used when running the tween   \r\n      @param   easing      An easing equation, like Elastic.easeIn or Quad.easeOut   \r\n      @return      The current actuator instance   \r\n     */\r\n    public function ease (easing:IEasing):IGenericActuator;\r\n\r\n    /**\r\n      Defines a function which will be called when the tween finishes   \r\n      @param   handler     The function you would like to be called   \r\n      @param   parameters      Parameters you would like to pass to the handler function when it is called   \r\n      @return      The current actuator instance   \r\n     */\r\n    public function onComplete (handler:Dynamic, ?parameters:Array <Dynamic>):IGenericActuator;\r\n\r\n    /**\r\n      Defines a function which will be called when the tween repeats   \r\n      @param   handler     The function you would like to be called   \r\n      @param   parameters      Parameters you would like to pass to the handler function when it is called   \r\n      @return      The current actuator instance   \r\n     */\r\n    public function onRepeat (handler:Dynamic, ?parameters:Array <Dynamic>):IGenericActuator;\r\n\r\n    /**\r\n      Defines a function which will be called when the tween updates   \r\n      @param   handler     The function you would like to be called   \r\n      @param   parameters      Parameters you would like to pass to the handler function when it is called   \r\n      @return      The current actuator instance   \r\n     */\r\n    public function onUpdate (handler:Dynamic, ?parameters:Array <Dynamic>):IGenericActuator;\r\n\r\n    /**\r\n      Automatically changes the reverse value when the tween repeats. Repeat must be enabled for this to have any effect   \r\n      @param   value       Whether reflect should be enabled (Default is true)   \r\n      @return      The current actuator instance   \r\n     */\r\n    public function reflect (?value:Null<Bool>):IGenericActuator;\r\n\r\n    /**\r\n      Repeats the tween after it finishes   \r\n      @param   times       The number of times you would like the tween to repeat, or -1 if you would like to repeat the tween indefinitely (Default is -1)   \r\n      @return      The current actuator instance   \r\n     */\r\n    public function repeat (?times:Null<Int>):IGenericActuator;\r\n\r\n    /**\r\n      Sets if the tween should be handled in reverse   \r\n      @param   value       Whether the tween should be reversed (Default is true)   \r\n      @return      The current actuator instance   \r\n     */\r\n    public function reverse (?value:Null<Bool>):IGenericActuator;\r\n\r\n    /**\r\n      Specify whether this should be scaled by the global timescale   \r\n      @param   _value      Whether or not it should be   \r\n      @return      The current actuator instance   \r\n     */\r\n\r\n    public function timescale( _value:Bool = true ):IGenericActuator;\r\n    /**\r\n      Enabling smartRotation can prevent undesired results when tweening rotation values   \r\n      @param   value       Whether smart rotation should be enabled (Default is true)   \r\n      @return      The current actuator instance   \r\n     */\r\n    public function smartRotation (?value:Null<Bool>):IGenericActuator;\r\n\r\n    /**\r\n      Snapping causes tween values to be rounded automatically   \r\n      @param   value       Whether tween values should be rounded (Default is true)   \r\n      @return      The current actuator instance   \r\n     */\r\n    public function snapping (?value:Null<Bool>):IGenericActuator;\r\n\r\n}\r\n","package luxe.tween.actuators;\r\n\r\n\r\nimport luxe.tween.actuators.GenericActuator;\r\n\r\n#if neko\r\nimport haxe.Log;\r\nimport haxe.PosInfos;\r\n#end\r\nimport haxe.Timer;\r\n\r\n\r\n\r\n/**\r\n  @author Joshua Granick   \r\n  @version 1.2   \r\n */\r\nclass SimpleActuator extends GenericActuator {\r\n\r\n\r\n    var timeOffset:Float;\r\n\r\n    static var actuators:Array <SimpleActuator> = new Array <SimpleActuator> ();\r\n    static var actuatorsLength:Int = 0;\r\n    static var addedEvent:Bool = false;\r\n\r\n    static var timer:Timer;\r\n\r\n    var active:Bool;\r\n    var cacheVisible:Bool;\r\n    var detailsLength:Int;\r\n    var initialized:Bool;\r\n    var paused:Bool;\r\n    var pauseTime:Float;\r\n    var propertyDetails:Array <PropertyDetails>;\r\n    var sendChange:Bool;\r\n    var setVisible:Bool;\r\n    var startTime:Float;\r\n    var toggleVisible:Bool;\r\n\r\n    var has_timescaled_starttime : Bool = false;\r\n\r\n    public function new (target:Dynamic, duration:Float, properties:Dynamic) {\r\n\r\n        active = true;\r\n        propertyDetails = new Array <PropertyDetails> ();\r\n        sendChange = false;\r\n        paused = false;\r\n        cacheVisible = false;\r\n        initialized = false;\r\n        setVisible = false;\r\n        toggleVisible = false;\r\n\r\n        startTime = Luxe.time;\r\n\r\n        super (target, duration, properties);\r\n\r\n        if (!addedEvent) {\r\n\r\n            addedEvent = true;\r\n            Luxe.on(luxe.Ev.tickstart, on_internal_update);\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    /**\r\n      @inheritDoc   \r\n     */\r\n    public override function autoVisible (?value:Null<Bool>):IGenericActuator {\r\n\r\n        if (value == null) {\r\n\r\n            value = true;\r\n\r\n        }\r\n\r\n        _autoVisible = value;\r\n\r\n        if (!value) {\r\n\r\n            toggleVisible = false;\r\n\r\n            if (setVisible) {\r\n\r\n                setField (target, \"visible\", cacheVisible);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        return this;\r\n\r\n    }\r\n\r\n\r\n    /**\r\n      @inheritDoc   \r\n     */\r\n    public override function delay (duration:Float):IGenericActuator {\r\n\r\n        _delay = duration;\r\n        timeOffset = startTime + duration;\r\n\r\n        return this;\r\n\r\n    }\r\n\r\n\r\n    inline function getField (target:Dynamic, propertyName:String):Dynamic {\r\n\r\n\r\n        var value = null;\r\n\r\n        if (Reflect.hasField (target, propertyName)) {\r\n\r\n            value = Reflect.field (target, propertyName);\r\n\r\n        } else {\r\n\r\n            value = Reflect.getProperty (target, propertyName);\r\n\r\n        }\r\n\r\n        return value;\r\n\r\n    }\r\n\r\n\r\n    function initialize ():Void {\r\n\r\n        var details:PropertyDetails;\r\n        var start:Float;\r\n\r\n        for (i in Reflect.fields (properties)) {\r\n\r\n            var isField = true;\r\n\r\n            if ( Reflect.hasField (target, i)\r\n                    #if web && (!target.__properties__ || untyped !target.__properties__[\"set_\" + i]) #end\r\n               ) {\r\n\r\n                start = Reflect.field (target, i);\r\n\r\n            } else {\r\n\r\n                isField = false;\r\n                start = Reflect.getProperty (target, i);\r\n\r\n            }\r\n\r\n\r\n            if (Std.is (start, Float)) {\r\n\r\n                details = new PropertyDetails (target, i, start, getField (properties, i) - start, isField);\r\n            propertyDetails.push (details);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        detailsLength = propertyDetails.length;\r\n        initialized = true;\r\n\r\n    }\r\n\r\n\r\n    public override function move ():Void {\r\n\r\n        toggleVisible = (Reflect.hasField (properties, \"alpha\") && Reflect.hasField (properties, \"visible\"));\r\n\r\n        if (toggleVisible && properties.alpha != 0 && !getField (target, \"visible\")) {\r\n\r\n            setVisible = true;\r\n            cacheVisible = getField (target, \"visible\");\r\n            setField (target, \"visible\", true);\r\n\r\n        }\r\n\r\n        timeOffset = startTime;\r\n        actuators.push (this);\r\n        ++actuatorsLength;\r\n\r\n    }\r\n\r\n\r\n    /**\r\n      @inheritDoc   \r\n     */\r\n    public override function onUpdate (handler:Dynamic, parameters:Array <Dynamic> = null):IGenericActuator {\r\n\r\n        _onUpdate = handler;\r\n\r\n        if (parameters == null) {\r\n\r\n            _onUpdateParams = [];\r\n\r\n        } else {\r\n\r\n        _onUpdateParams = parameters;\r\n\r\n        }\r\n\r\n        sendChange = true;\r\n\r\n        return this;\r\n\r\n    }\r\n\r\n\r\n    public override function pause ():Void {\r\n\r\n        paused = true;\r\n\r\n        pauseTime = timescaled ? update_timer : current_time;//haxe.Timer.stamp ();\r\n\r\n    }\r\n\r\n\r\n    public override function resume ():Void {\r\n\r\n        if (paused) {\r\n\r\n            paused = false;\r\n\r\n            timeOffset += ( (timescaled ? update_timer : current_time) - pauseTime);\r\n            // timeOffset += (haxe.Timer.stamp () - pauseTime) / 1000;\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    inline function setField (target:Dynamic, propertyName:String, value:Dynamic):Void {\r\n\r\n        if (Reflect.hasField (target, propertyName)) {\r\n\r\n            Reflect.setField (target, propertyName, value);\r\n\r\n        } else {\r\n\r\n            Reflect.setProperty (target, propertyName, value);\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    inline function setProperty (details:PropertyDetails, value:Dynamic):Void {\r\n\r\n        if (details.isField) {\r\n\r\n            Reflect.setProperty (details.target, details.propertyName, value);\r\n\r\n        } else {\r\n\r\n            Reflect.setProperty (details.target, details.propertyName, value);\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    public override function stop (properties:Dynamic, complete:Bool, sendEvent:Bool):Void {\r\n\r\n        if (active) {\r\n\r\n            if (properties == null) {\r\n\r\n                active = false;\r\n\r\n                if (complete) {\r\n\r\n                    apply ();\r\n\r\n                }\r\n\r\n                this.complete (sendEvent);\r\n                return;\r\n\r\n            }\r\n\r\n            for (i in Reflect.fields (properties)) {\r\n\r\n                if (Reflect.hasField (this.properties, i)) {\r\n\r\n                    active = false;\r\n\r\n                    if (complete) {\r\n\r\n                        apply ();\r\n\r\n                    }\r\n\r\n                    this.complete (sendEvent);\r\n                    return;\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    function update( currentTime:Float ):Void {\r\n\r\n\r\n        if (!paused) {\r\n\r\n            var details:PropertyDetails;\r\n            var easing:Float;\r\n            var i:Int;\r\n\r\n            var tweenPosition:Float = (currentTime - timeOffset) / duration;\r\n\r\n            if (tweenPosition > 1) {\r\n\r\n                tweenPosition = 1;\r\n\r\n            }\r\n\r\n            if (!initialized) {\r\n\r\n                initialize ();\r\n\r\n            }\r\n\r\n            if (!special) {\r\n\r\n                easing = _ease.calculate (tweenPosition);\r\n\r\n                for (i in 0...detailsLength) {\r\n\r\n                    details = propertyDetails[i];\r\n                    setProperty (details, details.start + (details.change * easing));\r\n\r\n                }\r\n\r\n            } else {\r\n\r\n                if (!_reverse) {\r\n\r\n                    easing = _ease.calculate (tweenPosition);\r\n\r\n                } else {\r\n\r\n                    easing = _ease.calculate (1 - tweenPosition);\r\n\r\n                }\r\n\r\n                var endValue:Float;\r\n\r\n                for (i in 0...detailsLength) {\r\n\r\n                    details = propertyDetails[i];\r\n\r\n                    if (_smartRotation && (details.propertyName == \"rotation\" || details.propertyName == \"rotationX\" || details.propertyName == \"rotationY\" || details.propertyName == \"rotationZ\")) {\r\n\r\n                        var rotation:Float = details.change % 360;\r\n\r\n                        if (rotation > 180) {\r\n\r\n                            rotation -= 360;\r\n\r\n                        } else if (rotation < -180) {\r\n\r\n                            rotation += 360;\r\n\r\n                        }\r\n\r\n                        endValue = details.start + rotation * easing;\r\n\r\n                    } else {\r\n\r\n                        endValue = details.start + (details.change * easing);\r\n\r\n                    }\r\n\r\n                    if (!_snapping) {\r\n\r\n                        setProperty (details, endValue);\r\n\r\n                    } else {\r\n\r\n                        setProperty (details, Math.round (endValue));\r\n\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n\r\n            if (tweenPosition == 1) {\r\n\r\n                if (_repeat == 0) {\r\n\r\n                    active = false;\r\n\r\n                    if (toggleVisible && getField (target, \"alpha\") == 0) {\r\n\r\n                        setField (target, \"visible\", false);\r\n\r\n                    }\r\n\r\n                    complete (true);\r\n                    return;\r\n\r\n                } else {\r\n\r\n                    if (_onRepeat != null) {\r\n\r\n                        callMethod (_onRepeat, _onRepeatParams);\r\n\r\n                    }\r\n\r\n                    if (_reflect) {\r\n\r\n                        _reverse = !_reverse;\r\n\r\n                    }\r\n\r\n                    startTime = currentTime;\r\n                    timeOffset = startTime + _delay;\r\n\r\n                    if (_repeat > 0) {\r\n\r\n                        _repeat --;\r\n\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n\r\n            if (sendChange) {\r\n\r\n                change ();\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    // Event Handlers\r\n\r\n    static var update_timer : Float = 0;\r\n    static var current_time : Float = 0;\r\n    static function on_internal_update(_) : Void {\r\n\r\n        update_timer += Luxe.dt;\r\n        current_time = Luxe.time;\r\n\r\n        var currentTime = current_time;\r\n\r\n        var actuator:SimpleActuator;\r\n\r\n        var j:Int = 0;\r\n        var cleanup = false;\r\n\r\n        for (i in 0...actuatorsLength) {\r\n\r\n            actuator = actuators[j];\r\n\r\n            if (actuator != null && actuator.active) {\r\n\r\n                currentTime = actuator.timescaled ? update_timer : current_time;\r\n\r\n                if(actuator.timescaled && !actuator.has_timescaled_starttime) {\r\n                    actuator.has_timescaled_starttime = true;\r\n                    actuator.startTime = update_timer;\r\n                    actuator.timeOffset = actuator.startTime;\r\n                }\r\n\r\n                if(currentTime > actuator.timeOffset) {\r\n                    actuator.update( currentTime );\r\n                }\r\n\r\n                j++;\r\n\r\n            } else {\r\n\r\n                actuators.splice (j, 1);\r\n                --actuatorsLength;\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n}\r\n","/**\r\n * @author Joshua Granick\r\n * @author Robert Penner / http://www.robertpenner.com/easing_terms_of_use.html\r\n */\r\n\r\n\r\npackage luxe.tween.easing;\r\n\r\n\r\n\r\nclass Quad {\r\n\r\n\r\n    static public var easeIn (get_easeIn, never):IEasing;\r\n    static public var easeInOut (get_easeInOut, never):IEasing;\r\n    static public var easeOut (get_easeOut, never):IEasing;\r\n\r\n\r\n    static function get_easeIn ():IEasing {\r\n\r\n        return new QuadEaseIn ();\r\n\r\n    }\r\n\r\n\r\n    static function get_easeInOut ():IEasing {\r\n\r\n        return new QuadEaseInOut ();\r\n\r\n    }\r\n\r\n\r\n    static function get_easeOut ():IEasing {\r\n\r\n        return new QuadEaseOut ();\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nclass QuadEaseIn implements IEasing {\r\n\r\n\r\n    public function new () {\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    public function calculate (k:Float):Float {\r\n\r\n        return k * k;\r\n\r\n    }\r\n\r\n\r\n    public function ease (t:Float, b:Float, c:Float, d:Float):Float {\r\n\r\n        return c * (t /= d) * t + b;\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nclass QuadEaseInOut implements IEasing {\r\n\r\n\r\n    public function new () {\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    public function calculate (k:Float):Float {\r\n\r\n        if ((k *= 2) < 1) {\r\n            return 1 / 2 * k * k;\r\n        }\r\n        return -1 / 2 * ((k - 1) * (k - 3) - 1);\r\n\r\n    }\r\n\r\n\r\n    public function ease (t:Float, b:Float, c:Float, d:Float):Float {\r\n\r\n        if ((t /= d / 2) < 1) {\r\n            return c / 2 * t * t + b;\r\n        }\r\n        return -c / 2 * ((t - 1) * (t - 3) - 1) + b;\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nclass QuadEaseOut implements IEasing {\r\n\r\n\r\n    public function new () {\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    public function calculate (k:Float):Float {\r\n\r\n        return -k * (k - 2);\r\n\r\n    }\r\n\r\n\r\n    public function ease (t:Float, b:Float, c:Float, d:Float):Float {\r\n\r\n        return -c * (t /= d) * (t - 2) + b;\r\n\r\n    }\r\n\r\n\r\n}\r\n","/**\r\n  @author Joshua Granick   \r\n */\r\npackage luxe.tween;\r\n\r\n\r\nimport luxe.tween.actuators.GenericActuator;\r\nimport luxe.tween.actuators.MethodActuator;\r\nimport luxe.tween.actuators.MotionPathActuator;\r\nimport luxe.tween.actuators.SimpleActuator;\r\nimport luxe.tween.easing.IEasing;\r\nimport luxe.tween.easing.Quad;\r\n\r\nclass Actuate {\r\n\r\n\r\n    public static var defaultActuator:Class <GenericActuator> = SimpleActuator;\r\n    public static var defaultEase:IEasing = Quad.easeOut;\r\n    static var targetLibraries:ObjectHash <Array <GenericActuator>> = new ObjectHash <Array <GenericActuator>> ();\r\n\r\n\r\n    /**\r\n      Copies properties from one object to another. Conflicting tweens are stopped automatically   \r\n      @example     <code>Actuate.apply (MyClip, { alpha: 1 } );</code>   \r\n      @param   target      The object to copy to   \r\n      @param   properties      The object to copy from   \r\n      @param   customActuator      A custom actuator to use instead of the default (Optional)   \r\n      @return      The current actuator instance, which can be used to apply properties like onComplete or onUpdate handlers   \r\n     */\r\n    public static function apply (target:Dynamic, properties:Dynamic, customActuator:Class <GenericActuator> = null):IGenericActuator {\r\n\r\n        stop (target, properties);\r\n\r\n        if (customActuator == null) {\r\n\r\n            customActuator = defaultActuator;\r\n\r\n        }\r\n\r\n        var actuator = Type.createInstance (customActuator, [ target, 0, properties ]);\r\n        actuator.apply ();\r\n\r\n        return actuator;\r\n\r\n    }\r\n\r\n\r\n    static function getLibrary (target:Dynamic, allowCreation:Bool = true):Array <GenericActuator> {\r\n\r\n        if (!targetLibraries.exists (target) && allowCreation) {\r\n\r\n            targetLibraries.set (target, new Array <GenericActuator> ());\r\n\r\n        }\r\n\r\n        return targetLibraries.get (target);\r\n\r\n    }\r\n\r\n\r\n    /**\r\n      Creates a new MotionPath tween   \r\n      @param   target      The object to tween   \r\n      @param   duration        The length of the tween in seconds   \r\n      @param   properties      An object containing a motion path for each property you wish to tween   \r\n      @param   overwrite       Sets whether previous tweens for the same target and properties will be overwritten (Default is true)   \r\n      @return      The current actuator instance, which can be used to apply properties like ease, delay, onComplete or onUpdate   \r\n     */\r\n    public static function motionPath (target:Dynamic, duration:Float, properties:Dynamic, overwrite:Bool = true):IGenericActuator {\r\n\r\n        return tween (target, duration, properties, overwrite, MotionPathActuator);\r\n\r\n    }\r\n\r\n\r\n    /**\r\n      Pauses tweens for the specified target objects   \r\n      @param   ... targets     The target objects which will have their tweens paused. Passing no value pauses tweens for all objects   \r\n     */\r\n    //public static function pause (... targets:Array):void {\r\n    public static function pause (target:Dynamic):Void {\r\n\r\n        if (Std.is (target, GenericActuator)) {\r\n\r\n            cast (target, GenericActuator).pause ();\r\n\r\n        } else {\r\n\r\n            var library:Array <GenericActuator> = getLibrary (target, false);\r\n\r\n            if (library != null) {\r\n\r\n            for (actuator in library) {\r\n\r\n                actuator.pause ();\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    }\r\n\r\n\r\n    public static function pauseAll ():Void {\r\n\r\n        for (library in targetLibraries) {\r\n\r\n            for (actuator in library) {\r\n\r\n                actuator.pause ();\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    /**\r\n      Resets Actuate by stopping and removing tweens for all objects   \r\n     */\r\n    public static function reset ():Void {\r\n\r\n        for (library in targetLibraries) {\r\n\r\n            var i = library.length - 1;\r\n            while (i >= 0) {\r\n                library[i].stop (null, false, false);\r\n                i--;\r\n            }\r\n\r\n        }\r\n\r\n        targetLibraries = new ObjectHash <Array <GenericActuator>> ();\r\n\r\n    }\r\n\r\n\r\n    /**\r\n      Resumes paused tweens for the specified target objects   \r\n      @param   ... targets     The target objects which will have their tweens resumed. Passing no value resumes tweens for all objects   \r\n     */\r\n    public static function resume (target:Dynamic):Void {\r\n\r\n        if (Std.is (target, GenericActuator)) {\r\n\r\n            cast (target, GenericActuator).resume ();\r\n\r\n        } else {\r\n\r\n            var library:Array <GenericActuator> = getLibrary (target, false);\r\n\r\n            if (library != null) {\r\n\r\n            for (actuator in library) {\r\n\r\n                actuator.resume ();\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    public static function resumeAll ():Void {\r\n\r\n        for (library in targetLibraries) {\r\n\r\n            for (actuator in library) {\r\n\r\n                actuator.resume ();\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    /**\r\n      Stops all tweens for an individual object   \r\n      @param   target      The target object which will have its tweens stopped, or a generic actuator instance   \r\n      @param   properties      A string, array or object which contains the properties you wish to stop, like \"alpha\", [ \"x\", \"y\" ] or { alpha: null }. Passing no value removes all tweens for the object (Optional)   \r\n      @param   complete        If tweens should apply their final target values before stopping. Default is false (Optional)   \r\n      @param   sendEvent   If a complete() event should be dispatched for the specified target. Default is true (Optional)   \r\n     */\r\n    public static function stop (target:Dynamic, properties:Dynamic = null, complete:Bool = false, sendEvent:Bool = true):Void {\r\n\r\n        if (target != null) {\r\n\r\n            if (Std.is (target, GenericActuator)) {\r\n\r\n                cast (target, GenericActuator).stop (null, complete, sendEvent);\r\n\r\n            } else {\r\n\r\n                var library:Array <GenericActuator> = getLibrary (target, false);\r\n\r\n                if (library != null) {\r\n\r\n                if (Std.is (properties, String)) {\r\n\r\n                    var temp = { };\r\n                    Reflect.setField (temp, properties, null);\r\n                    properties = temp;\r\n\r\n                } else if (Std.is (properties, Array)) {\r\n\r\n                    var temp = {};\r\n\r\n                    for (property in cast (properties, Array <Dynamic>)) {\r\n\r\n                        Reflect.setField (temp, property, null);\r\n\r\n                    }\r\n\r\n                    properties = temp;\r\n\r\n                }\r\n\r\n                var i = library.length - 1;\r\n                while (i >= 0) {\r\n                    library[i].stop (properties, complete, sendEvent);\r\n                    i--;\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    }\r\n\r\n\r\n    /**\r\n      Creates a tween-based timer, which is useful for synchronizing function calls with other animations   \r\n      @example     <code>Actuate.timer (1).onComplete (trace, [ \"Timer is now complete\" ]);</code>   \r\n      @param   duration        The length of the timer in seconds   \r\n      @param   customActuator      A custom actuator to use instead of the default (Optional)   \r\n      @return      The current actuator instance, which can be used to apply properties like onComplete or to gain a reference to the target timer object   \r\n     */\r\n    public static function timer (duration:Float, customActuator:Class <GenericActuator> = null):IGenericActuator {\r\n\r\n        return tween (new TweenTimer (0), duration, new TweenTimer (1), false, customActuator);\r\n\r\n    }\r\n\r\n\r\n\r\n    /**\r\n      Creates a new tween   \r\n      @example     <code>Actuate.tween (MyClip, 1, { alpha: 1 } ).onComplete (trace, [ \"MyClip is now visible\" ]);</code>   \r\n      @param   target      The object to tween   \r\n      @param   duration        The length of the tween in seconds   \r\n      @param   properties      The end values to tween the target to   \r\n      @param   overwrite           Sets whether previous tweens for the same target and properties will be overwritten (Default is true)   \r\n      @param   customActuator      A custom actuator to use instead of the default (Optional)   \r\n      @return      The current actuator instance, which can be used to apply properties like ease, delay, onComplete or onUpdate   \r\n     */\r\n    public static function tween (target:Dynamic, duration:Float, properties:Dynamic, overwrite:Bool = true, customActuator:Class <GenericActuator> = null):IGenericActuator {\r\n\r\n        if (target != null) {\r\n\r\n            if (duration > 0) {\r\n\r\n                if (customActuator == null) {\r\n\r\n                    customActuator = defaultActuator;\r\n\r\n                }\r\n\r\n                var actuator = Type.createInstance (customActuator, [ target, duration, properties ]);\r\n                var library = getLibrary (actuator.target);\r\n\r\n                if (overwrite) {\r\n\r\n                    var i = library.length - 1;\r\n\r\n                    while (i >= 0) {\r\n                        library[i].stop (actuator.properties, false, false);\r\n                        i--;\r\n                    }\r\n\r\n                    library = getLibrary (actuator.target);\r\n\r\n                }\r\n\r\n                library.push (actuator);\r\n                actuator.move ();\r\n\r\n                /*var actuator:GenericActuator = createInstance (customActuator, target, duration, properties);\r\n\r\n                if (overwrite) {\r\n\r\n                    stop (target, properties, false, false);\r\n\r\n                }\r\n\r\n                var library:Array <GenericActuator> = getLibrary (target);\r\n                library.push (actuator);\r\n\r\n                actuator.move ();*/\r\n\r\n                return actuator;\r\n\r\n            } else {\r\n\r\n                return apply (target, properties, customActuator);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        return null;\r\n\r\n    }\r\n\r\n\r\n    public static function unload (actuator:GenericActuator):Void {\r\n\r\n        var target = actuator.target;\r\n\r\n        if (targetLibraries.exists (target)) {\r\n\r\n            targetLibraries.get (target).remove (actuator);\r\n\r\n            if (targetLibraries.get (target).length == 0) {\r\n\r\n                targetLibraries.remove (target);\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    /**\r\n      Creates a new tween that updates a method rather than setting the properties of an object   \r\n      @example     <code>Actuate.update (trace, 1, [\"Value: \", 0], [\"\", 1]).onComplete (trace, [ \"Finished tracing values between 0 and 1\" ]);</code>   \r\n      @param   target      The method to update   \r\n      @param   duration        The length of the tween in seconds   \r\n      @param   start       The starting parameters of the method call. You may use both numeric and non-numeric values   \r\n      @param   end     The ending parameters of the method call. You may use both numeric and non-numeric values, but the signature should match the start parameters   \r\n      @param   overwrite       Sets whether previous tweens for the same target and properties will be overwritten (Default is true)   \r\n      @return      The current actuator instance, which can be used to apply properties like ease, delay, onComplete or onUpdate   \r\n     */\r\n    public static function update (target:Dynamic, duration:Float, start:Array <Dynamic> = null, end:Array <Dynamic> = null, overwrite:Bool = true):IGenericActuator {\r\n\r\n        var properties:Dynamic = { start: start, end: end };\r\n\r\n        return tween (target, duration, properties, overwrite, MethodActuator);\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n@:noCompletion private class TweenTimer {\r\n\r\n\r\n    public var progress:Float;\r\n\r\n\r\n    public function new (progress:Float):Void {\r\n\r\n        this.progress = progress;\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\ntypedef ObjectHash<T> = haxe.ds.ObjectMap<Dynamic, T>;\r\n","package luxe.tween;\r\n\r\n\r\n/**\r\n  @author Joshua Granick   \r\n  @author Aleš Tomeček (for RotationPath)   \r\n */\r\nclass MotionPath {\r\n\r\n\r\n    public var rotation (get_rotation, null):RotationPath;\r\n    public var x (get_x, null):IComponentPath;\r\n    public var y (get_y, null):IComponentPath;\r\n\r\n    var _rotation:RotationPath;\r\n    var _x:ComponentPath;\r\n    var _y:ComponentPath;\r\n\r\n\r\n    public function new () {\r\n\r\n        _x = new ComponentPath ();\r\n        _y = new ComponentPath ();\r\n\r\n        _rotation = null;\r\n\r\n    }\r\n\r\n\r\n    /**\r\n      Adds a bezier curve to the current motion path   \r\n      @param   x       The x position of the end point for the curve   \r\n      @param   y       The y position of the end point for the curve   \r\n      @param   controlX        The x position of the control point for the curve, which affects the angle and midpoint   \r\n      @param   controlX        The x position of the control point for the curve, which affects the angle and midpoint   \r\n      @param   strength        The degree of emphasis that should be placed on this segment. If a motion path contains multiple segments with the same strength, they all receive equal emphasis (Default is 1)   \r\n      @return      The current motion path instance   \r\n     */\r\n    public function bezier (x:Float, y:Float, controlX:Float, controlY:Float, strength:Float = 1):MotionPath {\r\n\r\n        _x.addPath (new BezierPath (x, controlX, strength));\r\n        _y.addPath (new BezierPath (y, controlY, strength));\r\n\r\n        return this;\r\n\r\n    }\r\n\r\n\r\n    /**\r\n      Adds a line to the current motion path   \r\n      @param   x       The x position of the end point for the line   \r\n      @param   x       The y position of the end point for the line   \r\n      @param   strength        The degree of emphasis that should be placed on this segment . If a motion path contains multiple segments with the same strength, they all receive equal emphasis (Default is 1)   \r\n      @return      The current motion path instance   \r\n     */\r\n    public function line (x:Float, y:Float, strength:Float = 1):MotionPath {\r\n\r\n        _x.addPath (new LinearPath (x, strength));\r\n        _y.addPath (new LinearPath (y, strength));\r\n\r\n        return this;\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    // Get & Set Methods\r\n\r\n\r\n\r\n\r\n    function get_rotation ():RotationPath {\r\n\r\n        if (_rotation == null) {\r\n\r\n            _rotation = new RotationPath (_x, _y);\r\n\r\n        }\r\n\r\n        return _rotation;\r\n\r\n    }\r\n\r\n\r\n    function get_x ():IComponentPath {\r\n\r\n        return _x;\r\n\r\n    }\r\n\r\n\r\n    function get_y ():IComponentPath {\r\n\r\n        return _y;\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nclass ComponentPath implements IComponentPath {\r\n\r\n\r\n    public var start:Float;\r\n    public var end (get_end, null):Float;\r\n\r\n    var paths:Array <BezierPath>;\r\n    var totalStrength:Float;\r\n\r\n\r\n    public function new () {\r\n\r\n        paths = new Array <BezierPath> ();\r\n        start = 0;\r\n        totalStrength = 0;\r\n\r\n    }\r\n\r\n\r\n    public function addPath (path:BezierPath):Void {\r\n\r\n        paths.push (path);\r\n        totalStrength += path.strength;\r\n\r\n    }\r\n\r\n\r\n    public function calculate (k:Float):Float {\r\n\r\n        if (paths.length == 1) {\r\n\r\n            return paths[0].calculate (start, k);\r\n\r\n        } else {\r\n\r\n            var ratio = k * totalStrength;\r\n            var lastEnd = start;\r\n\r\n            for (path in paths) {\r\n\r\n                if (ratio > path.strength) {\r\n\r\n                    ratio -= path.strength;\r\n                    lastEnd = path.end;\r\n\r\n                } else {\r\n\r\n                    return path.calculate (lastEnd, ratio / path.strength);\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        return 0;\r\n\r\n    }\r\n\r\n\r\n\r\n    // Get & Set Methods\r\n\r\n\r\n\r\n\r\n    function get_end ():Float {\r\n\r\n        if (paths.length > 0) {\r\n\r\n            var path = paths[paths.length - 1];\r\n            return path.end;\r\n\r\n        } else {\r\n\r\n            return start;\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n@:noCompletion interface IComponentPath {\r\n\r\n\r\n    var end (get_end, null):Float;\r\n    var start:Float;\r\n\r\n    function calculate (k:Float):Float;\r\n\r\n\r\n}\r\n\r\n\r\nclass BezierPath {\r\n\r\n\r\n    public var control:Float;\r\n    public var end:Float;\r\n    public var strength:Float;\r\n\r\n\r\n    public function new (end:Float, control:Float, strength:Float) {\r\n\r\n        this.end = end;\r\n        this.control = control;\r\n        this.strength = strength;\r\n\r\n    }\r\n\r\n\r\n    public function calculate (start:Float, k:Float):Float {\r\n\r\n        return (1 - k) * (1 - k) * start + 2 * (1 - k) * k * control + k * k * end;\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nclass LinearPath extends BezierPath {\r\n\r\n\r\n    public function new (end:Float, strength:Float) {\r\n\r\n        super (end, 0, strength);\r\n\r\n    }\r\n\r\n\r\n    public override function calculate (start:Float, k:Float):Float {\r\n\r\n        return start + k * (end - start);\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nclass RotationPath implements IComponentPath {\r\n\r\n\r\n    public var end (get_end, null):Float;\r\n    public var offset:Float;\r\n    public var start:Float;\r\n\r\n    var step = 0.01;\r\n    var _x:ComponentPath;\r\n    var _y:ComponentPath;\r\n\r\n\r\n    public function new (x:ComponentPath, y:ComponentPath) {\r\n\r\n        _x = x;\r\n        _y = y;\r\n\r\n        offset = 0;\r\n\r\n        start = calculate (0.0);\r\n\r\n    }\r\n\r\n\r\n    public function calculate (k:Float):Float {\r\n\r\n        var dX = _x.calculate (k) - _x.calculate (k + step);\r\n        var dY = _y.calculate (k) - _y.calculate (k + step);\r\n\r\n        var angle = Math.atan2(dY, dX) * (180 / Math.PI);\r\n        angle = (angle + offset) % 360;\r\n\r\n        return angle;\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    // Get & Set Methods\r\n\r\n\r\n\r\n\r\n    public function get_end ():Float {\r\n\r\n        return calculate (1.0);\r\n\r\n    }\r\n\r\n\r\n}\r\n","package luxe.tween.actuators;\r\n\r\n\r\n/**\r\n * @author Joshua Granick\r\n * @version 1.2\r\n */\r\nclass MethodActuator extends SimpleActuator {\r\n\r\n\r\n    var currentParameters:Array <Dynamic>;\r\n    var tweenProperties:Dynamic;\r\n\r\n\r\n    public function new (target:Dynamic, duration:Float, properties:Dynamic) {\r\n\r\n        currentParameters = new Array <Dynamic> ();\r\n        tweenProperties = { };\r\n\r\n        super (target, duration, properties);\r\n\r\n        if (!Reflect.hasField (properties, \"start\")) {\r\n\r\n            this.properties.start = new Array <Dynamic> ();\r\n\r\n        }\r\n\r\n        if (!Reflect.hasField (properties, \"end\")) {\r\n\r\n            this.properties.end = this.properties.start;\r\n\r\n        }\r\n\r\n        for (i in 0...this.properties.start.length) {\r\n\r\n            currentParameters.push (null);\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    public override function apply ():Void {\r\n\r\n        callMethod (target, properties.end);\r\n\r\n    }\r\n\r\n\r\n    override function complete (sendEvent:Bool = true):Void {\r\n\r\n        for (i in 0...properties.start.length) {\r\n\r\n            currentParameters[i] = Reflect.field (tweenProperties, \"param\" + i);\r\n\r\n        }\r\n\r\n        callMethod (target, currentParameters);\r\n\r\n        super.complete (sendEvent);\r\n\r\n    }\r\n\r\n\r\n    override function initialize ():Void {\r\n\r\n        var details:PropertyDetails;\r\n        var propertyName:String;\r\n        var start:Dynamic;\r\n\r\n        for (i in 0...properties.start.length) {\r\n\r\n            propertyName = \"param\" + i;\r\n            start = properties.start[i];\r\n\r\n            Reflect.setField (tweenProperties, propertyName, start);\r\n\r\n            if (Std.is (start, Float) || Std.is (start, Int)) {\r\n\r\n                details = new PropertyDetails (tweenProperties, propertyName, start, properties.end[i] - start);\r\n                propertyDetails.push (details);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        detailsLength = propertyDetails.length;\r\n        initialized = true;\r\n\r\n    }\r\n\r\n\r\n    override function update (currentTime:Float):Void {\r\n\r\n        super.update (currentTime);\r\n\r\n        if (active) {\r\n\r\n            for (i in 0...properties.start.length) {\r\n\r\n                currentParameters[i] = Reflect.field (tweenProperties, \"param\" + i);\r\n\r\n            }\r\n\r\n            callMethod (target, currentParameters);\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n}\r\n","package luxe.tween.actuators;\r\n\r\n\r\nimport luxe.tween.MotionPath;\r\n\r\n\r\n/**\r\n * @author Joshua Granick\r\n */\r\nclass MotionPathActuator extends SimpleActuator {\r\n\r\n\r\n    public function new (target:Dynamic, duration:Float, properties:Dynamic) {\r\n\r\n        super (target, duration, properties);\r\n\r\n    }\r\n\r\n\r\n    public override function apply ():Void {\r\n\r\n        for (propertyName in Reflect.fields (properties)) {\r\n\r\n            if (#if flash false && #end Reflect.hasField (target, propertyName)) {\r\n\r\n                Reflect.setField (target, propertyName, cast (Reflect.field (properties, propertyName), IComponentPath).end);\r\n\r\n            } else {\r\n\r\n                Reflect.setProperty (target, propertyName, cast (Reflect.field (properties, propertyName), IComponentPath).end);\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    override function initialize ():Void {\r\n\r\n        var details:PropertyPathDetails;\r\n        var path:IComponentPath;\r\n\r\n        for (propertyName in Reflect.fields (properties)) {\r\n\r\n            path = cast (Reflect.field (properties, propertyName), IComponentPath);\r\n\r\n            if (path != null) {\r\n\r\n                var isField = true;\r\n\r\n                if (#if flash false && #end Reflect.hasField (target, propertyName)) {\r\n\r\n                    path.start = Reflect.field (target, propertyName);\r\n\r\n                } else {\r\n\r\n                    isField = false;\r\n                    path.start = Reflect.getProperty (target, propertyName);\r\n\r\n                }\r\n\r\n\r\n                details = new PropertyPathDetails (target, propertyName, path, isField);\r\n                propertyDetails.push (details);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        detailsLength = propertyDetails.length;\r\n        initialized = true;\r\n\r\n    }\r\n\r\n\r\n    override function update (currentTime:Float):Void {\r\n\r\n        if (!paused) {\r\n\r\n            var details:PropertyPathDetails;\r\n            var easing:Float;\r\n\r\n            var tweenPosition = (currentTime - timeOffset) / duration;\r\n\r\n            if (tweenPosition > 1) {\r\n\r\n                tweenPosition = 1;\r\n\r\n            }\r\n\r\n            if (!initialized) {\r\n\r\n                initialize ();\r\n\r\n            }\r\n\r\n            if (!special) {\r\n\r\n                easing = _ease.calculate (tweenPosition);\r\n\r\n                for (details in propertyDetails) {\r\n\r\n                    if (details.isField) {\r\n\r\n                        Reflect.setField (details.target, details.propertyName, cast (details, PropertyPathDetails).path.calculate (easing));\r\n\r\n                    } else {\r\n\r\n                        Reflect.setProperty (details.target, details.propertyName, cast (details, PropertyPathDetails).path.calculate (easing));\r\n\r\n                    }\r\n\r\n                }\r\n\r\n            } else {\r\n\r\n                if (!_reverse) {\r\n\r\n                    easing = _ease.calculate (tweenPosition);\r\n\r\n                } else {\r\n\r\n                    easing = _ease.calculate (1 - tweenPosition);\r\n\r\n                }\r\n\r\n                var endValue:Float;\r\n\r\n                for (details in propertyDetails) {\r\n\r\n                    if (!_snapping) {\r\n\r\n                        if (details.isField) {\r\n\r\n                            Reflect.setField (details.target, details.propertyName, cast (details, PropertyPathDetails).path.calculate (easing));\r\n\r\n                        } else {\r\n\r\n                            Reflect.setProperty (details.target, details.propertyName, cast (details, PropertyPathDetails).path.calculate (easing));\r\n\r\n                        }\r\n\r\n                    } else {\r\n\r\n                        if (details.isField) {\r\n\r\n                            Reflect.setField (details.target, details.propertyName, Math.round (cast (details, PropertyPathDetails).path.calculate (easing)));\r\n\r\n                        } else {\r\n\r\n                            Reflect.setProperty (details.target, details.propertyName, Math.round (cast (details, PropertyPathDetails).path.calculate (easing)));\r\n\r\n                        }\r\n\r\n\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n\r\n            if (tweenPosition == 1) {\r\n\r\n                if (_repeat == 0) {\r\n\r\n                    active = false;\r\n\r\n                    if (toggleVisible && getField (target, \"alpha\") == 0) {\r\n\r\n                        setField (target, \"visible\", false);\r\n\r\n                    }\r\n\r\n                    complete (true);\r\n                    return;\r\n\r\n                } else {\r\n\r\n                    if (_reflect) {\r\n\r\n                        _reverse = !_reverse;\r\n\r\n                    }\r\n\r\n                    startTime = currentTime;\r\n                    timeOffset = startTime + _delay;\r\n\r\n                    if (_repeat > 0) {\r\n\r\n                        _repeat --;\r\n\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n\r\n            if (sendChange) {\r\n\r\n                change ();\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n#if !haxe3\r\nimport com.eclecticdesignstudio.motion.MotionPath;\r\n#end\r\n\r\n\r\nclass PropertyPathDetails extends PropertyDetails {\r\n\r\n\r\n    public var path:IComponentPath;\r\n\r\n\r\n    public function new (target:Dynamic, propertyName:String, path:IComponentPath, isField:Bool = true) {\r\n\r\n        super (target, propertyName, 0, 0, isField);\r\n\r\n        this.path = path;\r\n\r\n    }\r\n\r\n\r\n}\r\n","﻿/**\r\n * @author Joshua Granick\r\n */\r\n\r\n\r\npackage luxe.tween.actuators;\r\n\r\n\r\nclass PropertyDetails {\r\n    \r\n    \r\n    public var change:Float;\r\n    public var isField:Bool;\r\n    public var propertyName:String;\r\n    public var start:Float;\r\n    public var target:Dynamic;\r\n    \r\n    \r\n    public function new (target:Dynamic, propertyName:String, start:Float, change:Float, isField:Bool = true):Void {\r\n        \r\n        this.target = target;\r\n        this.propertyName = propertyName;\r\n        this.start = start;\r\n        this.change = change;\r\n        this.isField = isField;\r\n        \r\n    }\r\n    \r\n    \r\n}","package luxe.utils;\n\nimport luxe.Log.*;\nimport luxe.Vector;\nimport phoenix.geometry.Geometry;\n\n\nclass GeometryUtils {\n\n    static inline var two_pi : Float = 6.283185307179586;\n\n    @:allow(luxe.utils.Utils)\n    function new() {\n        _v_cache = new Vector();\n    }\n\n    public function segments_for_smooth_circle( _radius:Float, _smooth:Float = 5 ) : Int {\n\n        return Std.int(_smooth * Math.sqrt( _radius ));\n\n    } //segments_for_smooth_circle\n\n    public function random_point_in_unit_circle() : Vector {\n\n            //first get a smoothly distributed point in the radius\n        var _r:Float = Math.sqrt( Math.random() );\n            //then rotate that point randomly around 360 degrees,\n            //the -1 + 2 * means that it shifts from -1 + [0..2] = -1,1 range\n            //this centers it around the origin\n        var _t:Float = (-1 + (2 * Math.random())) * two_pi;\n\n            //finally, work out the x and y\n        return new Vector( _r*Math.cos(_t), _r*Math.sin(_t) );\n\n    } //random_point_in_unit_circle\n\n    public function point_in_polygon(_point:Vector, _offset:Vector, _verts:Array<Vector> ) : Bool {\n\n        def(_offset, new Vector());\n\n        var c : Bool = false;\n        var nvert : Int = _verts.length;\n        var j : Int = nvert - 1;\n\n        for(i in 0 ... nvert) {\n\n            if ((( (_verts[i].y+_offset.y) > _point.y) != ((_verts[j].y+_offset.y) > _point.y)) &&\n               (_point.x < ( (_verts[j].x+_offset.x) - (_verts[i].x+_offset.x)) * (_point.y - (_verts[i].y+_offset.y))\n                 / ( (_verts[j].y+_offset.y) - (_verts[i].y+_offset.y)) + (_verts[i].x+_offset.x)) ) {\n                c = !c;\n            }\n\n            j = i;\n        }\n\n        return c;\n\n    } //point_in_polygon\n\n        //:todo : Note this function assumes _geometry is a 2D polygon,\n        //and is currently slightly less efficient due to geometry not keeping\n        //a transformed vert cache in it, which will be needed later\n    var _v_cache : Vector;\n    public function point_in_geometry( _point:Vector, _geometry:Geometry ) : Bool {\n\n        var c = false;\n        var nvert = _geometry.vertices.length;\n        var j = nvert - 1;\n\n        var _px = _point.x;\n        var _py = _point.y;\n\n        for(i in 0 ... nvert) {\n\n            var _vert_i = _geometry.vertices[i].pos;\n            var _vert_j = _geometry.vertices[j].pos;\n\n            _v_cache.set_xy(_vert_i.x, _vert_i.y);\n            _v_cache.transform(_geometry.transform.world.matrix);\n\n            var _vert_i_x = _v_cache.x;\n            var _vert_i_y = _v_cache.y;\n\n            _v_cache.set_xy(_vert_j.x, _vert_j.y);\n            _v_cache.transform(_geometry.transform.world.matrix);\n\n            var _vert_j_x = _v_cache.x;\n            var _vert_j_y = _v_cache.y;\n\n            if ((( (_vert_i_y) > _point.y) != ((_vert_j_y) > _point.y)) &&\n               (_point.x < ( (_vert_j_x) - (_vert_i_x)) * (_point.y - (_vert_i_y))\n                 / ( (_vert_j_y) - (_vert_i_y)) + (_vert_i_x)) ) {\n                c = !c;\n            }\n\n            j = i;\n\n        }\n\n        return c;\n\n    } //point_in_geometry\n\n\n        //plane_point is a point on the plane (anywhere) , can be 0,0,0 for infinite plane.\n    public function intersect_ray_plane( _ray_start:Vector, _ray_dir:Vector, _plane_normal:Vector, _plane_point:Vector ) : Vector {\n\n            //T = [planeNormal•(pointOnPlane - rayOrigin)]/planeNormal•rayDirection;\n            //pointInPlane = rayOrigin + (rayDirection * T);\n\n            //for [ ]\n        var part1 = _plane_normal.dot( Vector.Subtract(_plane_point, _ray_start) );\n        var part2 = _plane_normal.dot( _ray_dir );\n\n        var T = part1 / part2;\n\n        return Vector.Add(_ray_start, Vector.Multiply(_ray_dir, T));\n\n    } //intersect_ray_plane\n\n\n } //GeometryUtils\n","package luxe.utils;\n\n//Portions ported from Three.js http://github.com/mrdoob/three.js\n\nclass Maths {\n\n    function new() {}\n\n    static inline public function fixed( value:Float, precision:Int ) {\n\n        var n = Math.pow( 10, precision );\n        return ( Std.int(value * n) / n );\n\n    } //fixed'\n\n    static inline public function lerp( value:Float, target:Float, t:Float ) {\n\n        t = clamp(t, 0, 1);\n\n        return (value + t * (target - value));\n\n    } //lerp\n\n    static inline public function weighted_avg( value:Float, target:Float, slowness:Float ) {\n\n            //:todo: use an epsilon\n        if( slowness == 0 ) { slowness = 0.00000001; }\n\n        return ((value * (slowness - 1)) + target) / slowness;\n\n    } //weighted_avg\n\n    static inline public function clamp( value:Float, a:Float, b:Float ) : Float {\n        return ( value < a ) ? a : ( ( value > b ) ? b : value );\n    } //clamp\n\n    static inline public function clampi( value:Int, a:Int, b:Int ) : Int {\n        return ( value < a ) ? a : ( ( value > b ) ? b : value );\n    } //clamp\n\n    static inline public function clamp_bottom(value:Float, a:Float) : Float {\n        return value < a ? a : value;\n    } //clamp_bottom\n\n    static inline public function within_range(value:Float, start_range:Float, end_range:Float ) {\n        return value >= start_range && value <= end_range;\n    } //within_range\n\n    public static inline function wrap_angle( degrees:Float, lower:Float, upper:Float ) {\n\n        var _radians:Float = radians(degrees);\n        var _distance:Float = upper - lower;\n        var _times:Float = Math.floor((degrees - lower) / _distance);\n\n        return degrees - (_times * _distance);\n\n    } //wrap_angle\n\n    public static inline function nearest_power_of_two(_value:Int) {\n\n        _value--;\n        _value |= _value >> 1;\n        _value |= _value >> 2;\n        _value |= _value >> 4;\n        _value |= _value >> 8;\n        _value |= _value >> 16;\n        _value++;\n\n        return _value;\n\n    } //nearest_power_of_two\n\n    static inline public function map_linear( value:Float, a1:Float, a2:Float, b1:Float, b2:Float ) : Float {\n        return b1 + ( value - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n    } //map_linear\n\n    static inline public function smoothstep( x:Float, min:Float, max:Float ) : Float {\n\n        if (x <= min) {\n            return 0;\n        }\n\n        if (x >= max) {\n            return 1;\n        }\n\n        x = ( x - min ) / ( max - min );\n\n        return x * x * ( 3 - 2 * x );\n\n    } //smoothstep\n\n    static inline public function smootherstep( x:Float, min:Float, max:Float ) : Float {\n\n        if (x <= min) {\n            return 0;\n        }\n\n        if (x >= max) {\n            return 1;\n        }\n\n        x = ( x - min ) / ( max - min );\n\n        return x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n    } //smootherstep\n\n        /** Return the sign of a number, `1` if >= 0 and `-1` if < 0 */\n    static inline public function sign( x:Float ) : Int {\n        return (x >= 0) ? 1 : -1;\n    } //sign\n\n        /** Return the sign of a number, `0` is returned as `0`, `1` if > `0` and `-1` if < `0` */\n    static inline public function sign0( x:Float ) : Int {\n        return (x < 0) ? -1 : ((x > 0) ? 1 : 0);\n    } //sign\n\n        /** Convert a number from degrees to radians */\n    static inline public function radians( degrees:Float ) : Float {\n        return degrees * _PI_OVER_180;\n    } //radians\n\n        /** Convert a number from radians to degrees */\n    static inline public function degrees( radians:Float ) : Float {\n        return radians * _180_OVER_PI;\n    } //degrees\n\n        /** Get the length squared of a vector by components */\n    static inline public function vec_lengthsq(x:Float, y:Float) : Float {\n        return x * x + y * y;\n    }\n\n        /** Get the length of a vector by components */\n    static inline public function vec_length(x:Float, y:Float) : Float {\n        return Math.sqrt(vec_lengthsq(x,y));\n    }\n\n        /** Normalize the component of a vector based on it's length */\n    static inline public function vec_normalize(length:Float, component:Float) : Float {\n        if(length == 0) return 0;\n        return component /= length;\n    }\n\n        /** Returns the dot product between two vectors by components */\n    static inline public function vec_dot(x:Float, y:Float, otherx:Float, othery:Float) : Float {\n        return x * otherx + y * othery;\n    }\n\n//Internal constants\n\n        /** Used by `degrees()` and `radians()`, use those to convert, unless needed */\n    static inline public var _PI_OVER_180:Float = 3.14159265358979 / 180;\n        /** Used by `degrees()` and `radians()`, use those to convert, unless needed */\n    static inline public var _180_OVER_PI:Float = 180 / 3.14159265358979;\n\n} //Maths\n","package luxe.utils;\n\nimport luxe.Log.*;\n\n//Adapted from code by Grant Skinner,\n//see bottom of file for license information and sources.\n\n/**\n Given an `initial` value for the seed, subsequent generated numbers will be predictable,\n and the `seed` value updated to reflect the current seed which can be used to resume predictability\n from an ongoing set. Uses a Park–Miller pseudo random number generator.\n\n Accessible through Luxe.utils.random.get(), or used as a class in your own code.\n*/\nclass Random {\n\n    public function new( _initial_seed:Float ) {\n\n        #if !luxe_random_allow_negative_seed\n            assert(\n                _initial_seed > 0,\n                'initial negative seed will return negative random results, if this was intentional, define luxe_random_allow_negative_seed'\n            );\n        #end\n\n        seed = initial = _initial_seed;\n\n    } //new\n\n//Public API\n\n        /** Returns a float number between [0,1) */\n    public inline function get() : Float {\n        return (seed = (seed * 16807) % 0x7FFFFFFF)/0x7FFFFFFF+0.000000000233;\n    }\n\n        /** Returns a number between [min,max).\n            max is optional, returning a number between [0,min) */\n    public inline function float( min:Float, ?max:Null<Float>=null ) : Float {\n        if(max == null) { max = min; min = 0; }\n        return get() * ( max - min ) + min;\n    }\n\n        /** Return a number between [min, max).\n            max is optional, returning a number between [0,min) */\n    public inline function int( min:Float, ?max:Null<Float>=null ) : Int {\n        if(max == null) { max = min; min=0; }\n        return Math.floor( float(min,max) );\n    }\n\n        /** Returns true or false based on a chance of [0..1] percent.\n            Given 0.5, 50% chance of true, with 0.9, 90% chance of true and so on. */\n    public inline function bool( chance:Float = 0.5 ) : Bool {\n        return (get() < chance);\n    }\n\n        /** Returns 1 or -1 based on a chance of [0..1] percent.\n            Given 0.5, 50% chance of 1, with 0.9, 90% chance of 1 and so on. */\n    public inline function sign( chance:Float = 0.5) : Int {\n        return (get() < chance) ? 1 : -1;\n    }\n\n        /** Returns 1 or 0 based on a chance of [0..1] percent.\n            Given 0.5, 50% chance of 1, with 0.9, 90% chance of 1 and so on. */\n    public inline function bit( chance:Float = 0.5) : Int {\n        return (get() < chance) ? 1 : 0;\n    }\n\n        /** Reset the initial value to that of the current seed. */\n    public inline function reset() {\n        var s = seed;\n        initial = s;\n    }\n\n        /** get the current seed (read only, change via `initial`)*/\n    @:isVar public var seed (default,null): Float;\n        /** get/set the initial base seed */\n    @:isVar public var initial (default,set): Float;\n\n        inline function set_initial( _initial : Float ) {\n            initial = seed = _initial;\n            return initial;\n        }\n\n} //Random\n\n\n//Based on code from http://blog.gskinner.com/archives/2008/01/source_code_see.html\n//With license:\n\n/**\n* Rndm by Grant Skinner. Jan 15, 2008\n* Visit www.gskinner.com/blog for documentation, updates and more free code.\n*\n* Incorporates implementation of the Park Miller (1988) \"minimal standard\" linear\n* congruential pseudo-random number generator by Michael Baczynski, www.polygonal.de.\n* (seed * 16807) % 2147483647\n*\n*\n*\n* Copyright (c) 2008 Grant Skinner\n*\n* Permission is hereby granted, free of charge, to any person\n* obtaining a copy of this software and associated documentation\n* files (the \"Software\"), to deal in the Software without\n* restriction, including without limitation the rights to use,\n* copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the\n* Software is furnished to do so, subject to the following\n* conditions:\n*\n* The above copyright notice and this permission notice shall be\n* included in all copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n* OTHER DEALINGS IN THE SOFTWARE.\n*/\n","package luxe.utils;\n\nimport luxe.Engine;\n\nimport haxe.CallStack;\nimport snow.api.buffers.Uint8Array;\n\nclass Utils {\n\n    public var geometry : luxe.utils.GeometryUtils;\n    public var random : luxe.utils.Random;\n\n    @:noCompletion public var core:Engine;\n\n    var _byte_levels : Array<String>;\n\n    @:allow(luxe.Engine)\n    function new( _luxe:Engine ) {\n\n            //store the reference\n        core = _luxe;\n            //initialise the helpers\n        geometry = new luxe.utils.GeometryUtils();\n        random = new luxe.utils.Random(Math.random()*0x7FFFFFFF);\n            //initialize the byte text helpers\n        _byte_levels = ['bytes', 'Kb', 'MB', 'GB', 'TB'];\n\n    }  //new\n\n        /** Return a formatted string from a PosInfos */\n    public function pos_info( pos:haxe.PosInfos ) {\n        return '${pos.fileName}:${pos.lineNumber}:(${pos.className}:${pos.methodName})';\n    }\n\n        /** Generate a short, unique string ID for use (\"base62\"). */\n    #if release inline #end\n    public function uniqueid(?val:Null<Int>) : String {\n\n        // http://www.anotherchris.net/csharp/friendly-unique-id-generation-part-2/#base62\n\n        if(val == null) {\n            val = Std.random(0x7fffffff);\n        }\n\n        function to_char(value:Int) : String {\n            if (value > 9) {\n                var ascii = (65 + (value - 10));\n                if (ascii > 90) { ascii += 6; }\n                return String.fromCharCode(ascii);\n            } else return Std.string(value).charAt(0);\n        } //to_char\n\n        var r = Std.int(val % 62);\n        var q = Std.int(val / 62);\n        if (q > 0) return uniqueid(q) + to_char(r);\n        else return Std.string(to_char(r));\n\n    } //uniqueid\n\n        /** Generates and returns a uniqueid converted to a hashed integer for convenience.\n            Uses the default `uniqueid` and `hash` implementation detail. */\n    #if release inline #end\n    public function uniquehash() : UInt {\n        return hash( uniqueid() );\n    } //uniquehash\n\n        /** Generates a integer hash from a string using the default algorithm (murmur3) */\n    #if release inline #end\n    public function hash( string:String ) : UInt {\n        return hashdjb2( string );\n    } //hash\n\n        /** Generates an integer hash of a string using the djb2 algorithm */\n    #if release inline #end\n    public function hashdjb2(string:String) : UInt {\n\n            //http://www.cse.yorku.ca/~oz/hash.html\n        var _hash : Int = 5381;\n        for(i in 0...string.length) {\n            _hash = ((_hash << 5) + _hash) + string.charCodeAt(i);\n        }\n\n        return _hash;\n\n    } //hashdjb2\n\n    #if release inline #end\n    public function uniqueid2() : String {\n\n        return haxe.crypto.Md5.encode(Std.string(Luxe.time*Math.random()));\n\n    } //uniqueid2\n\n    #if release inline #end\n    public function stacktrace( ?_depth:Int = 100 ) : String {\n\n        var result = '\\n';\n\n            var stack = haxe.CallStack.callStack();\n\n            stack.shift();\n            stack.reverse();\n\n            var total : Int = Std.int(Math.min(stack.length, _depth));\n\n            for(i in 0 ... total) {\n                var stackitem : haxe.CallStack.StackItem = stack[i];\n\n                switch(stack[i]) {\n                    case FilePos(s, file, line):\n                        switch(s) {\n                            case Method(classname, method):\n                                result += '   at $file:$line: $classname.$method';\n                            case _:\n                        }\n                    case _:{}\n                }\n\n                if(i != total - 1) {\n                    result += '\\n';\n                }\n            } //total\n\n        return result;\n\n    } //stacktrace\n\n    #if release inline #end\n    public function path_is_relative(_path:String) {\n\n        return _path.charAt(0) != \"#\"\n            && _path.charAt(0) != \"/\"\n            && _path.indexOf(\":\\\\\") == -1\n            && _path.indexOf(\":/\") == -1\n\n          && ( _path.indexOf(\"//\") == -1\n            || _path.indexOf(\"//\") > _path.indexOf(\"#\")\n            || _path.indexOf(\"//\") > _path.indexOf(\"?\"));\n\n    } //path_is_relative\n\n    public function find_assets_sequence( _name:String, _ext:String='.png', _start:String='1' ) : Array<String> {\n\n        var _final : Array<String> = [];\n\n            var _sequence_type = '';\n            var _pattern_regex : EReg = null;\n\n                //these are not using string interpolation to prevent confusing the regex\n            var _type0 = _name + _start + _ext;\n            var _type0_re : EReg = new EReg('('+_name+')(\\\\d+\\\\b)', 'gi');\n            var _type1 = _name + '_' + _start + _ext;\n            var _type1_re : EReg  = new EReg('('+_name+'_)(\\\\d+\\\\b)', 'gi');\n            var _type2 = _name + '-' + _start + _ext;\n            var _type2_re : EReg  = new EReg('('+_name+'-)(\\\\d+\\\\b)', 'gi');\n\n                //check name0 ->\n            if(Luxe.resources.has(_type0)) {\n                _sequence_type = _type0;\n                _pattern_regex = _type0_re;\n            } else if(Luxe.resources.has(_type1)) {\n                _sequence_type = _type1;\n                _pattern_regex = _type1_re;\n            } else if(Luxe.resources.has(_type2)) {\n                _sequence_type = _type2;\n                _pattern_regex = _type2_re;\n            } else {\n                trace(\"Sequence requested from \" + _name + \" but no assets found like `\" + _type0 + \"` or `\" + _type1 + \"` or `\" + _type2 + \"`\" );\n            }\n\n        if(_sequence_type != '') {\n            for(_asset in core.resources.cache) {\n                    //check for continuations of the sequence, \n                    //matching by pattern rather than just brute force, \n                    //so we can catch gaps/missing frames etc\n                if(_pattern_regex.match(_asset.id)) {\n                    _final.push( _asset.id );\n                }\n            }\n\n            _final.sort(function(a:String, b:String):Int { \n                \n                if(a == b) return 0;\n                \n                _pattern_regex.match(a);\n                var _a_index = Std.parseInt(_pattern_regex.matched(2));\n                \n                _pattern_regex.match(b);\n                var _b_index = Std.parseInt(_pattern_regex.matched(2));\n                \n                if(_a_index < _b_index) return -1;\n\n                return 1;\n\n            }); //sort\n\n        }\n\n        return _final;\n\n    } //find_assets_sequence\n\n        /** :WIP: Wrap text using a knuth plass algorithm for column breaking. */\n    #if release inline #end\n    public function text_wrap_column_knuth_plass( _string:String, _column:Int=80) {\n\n        var result = [];\n\n        inline function splitwords(_str:String, _into:Array<String>) {\n            var s = _str;\n            var rgx = new EReg('(\\\\b[^\\\\s]+\\\\b)', 'gm');\n            while (rgx.match(s)) {\n                _into.push(rgx.matched(1));\n                s = rgx.matchedRight();\n            }\n                //no matches?\n            if(_into.length == 0) _into.push(_str);\n            return _into;\n        } //splitwords\n\n        inline function findlen(_lens:Array<Int>, _start:Int, _end:Int) {\n            var total = 0;\n            for(i in (_start-1) ... _end) total += _lens[i];\n            return total + (_end - _start + 1);\n        } //findlen\n\n        inline function getmin(_from:Map<Int,Int>):Int {\n            var min = 0x3FFFFFFF;\n            for(item in _from.keys()) if(item < min) min = item;\n            return min;\n        } //getmin\n\n        var words = [];\n        var lengths = [];\n        var badness = [ 0 => 0 ];\n        var extra = new Map<Int,Int>();\n\n        splitwords(_string, words);\n        words.map(function(w){ lengths.push(w.length); });\n\n        var n = words.length;\n\n        for( i in 1 ... n+1 ) {\n\n            var sums = new Map<Int,Int>();\n            var k = i;\n\n            while( findlen(lengths, k, i) <= _column && k > 0) {\n                var a = (_column - findlen(lengths, k, i));\n                sums[ Std.int(Math.pow(a,3) + badness[k - 1]) ] = k;\n                k -= 1;\n            }\n\n            var mn = getmin(sums);\n            badness[i] = mn;\n            extra[i] = sums[mn];\n\n        } //each word\n\n        var line = 1;\n        while(n > 1) {\n            result.unshift( words.slice(extra[n]-1, n).join(' ') );\n            n = extra[n] - 1;\n            line += 1;\n        }\n\n        if(result.length == 0) result.push(_string);\n        return result;\n\n    } //text_wrap_column_knuth\n\n        /** Soft wrap a string by maximum character count. brk default:'\\n', col default:80 */\n    #if release inline #end\n    public function text_wrap_column( _text:String, _brk:String='\\n', _column:Int=80) {\n\n            //based on http://blog.macromates.com/2006/wrapping-text-with-regular-expressions/\n            //take note that the ${_column} is string interpolation, not part of the regex.\n            //i.e (.{1,80})( +|$)\\n?|(.{80})\n\n        var result = new EReg('(.{1,${_column}})(?: +|$)\\n?|(.{${_column}})','gimu').replace(_text, '$1$2${_brk}');\n\n        return StringTools.rtrim(result);\n\n    } //text_wrap_column\n\n    #if release inline #end\n    public function bytes_to_string( bytes:Int, ?precision:Int=3 ) : String {\n\n        var index = bytes == 0 ? 0 : Math.floor(Math.log(bytes) / Math.log(1024));\n        var _byte_value = bytes / Math.pow(1024, index);\n            _byte_value = luxe.utils.Maths.fixed(_byte_value, precision);\n\n        return _byte_value + ' ' + _byte_levels[index];\n\n    } //bytes_to_string\n\n    #if release inline #end\n    public function array_to_bytes(array:Array<Int>):haxe.io.Bytes {\n\n        if (array == null) return null;\n        var bytes:haxe.io.Bytes = haxe.io.Bytes.alloc(array.length);\n        for (n in 0 ... bytes.length) bytes.set(n, array[n]);\n\n        return bytes;\n\n    } //array_to_bytes\n\n        /** Multiply the pixels in the array by their alpha value.\n            This means the format of the pixels is RGBA, with values  [0...255].\n            Modifies the given array and returns it.  */\n    public function premultiply_alpha( _pixels:Uint8Array ) : Uint8Array {\n\n        var count = _pixels.length;\n        var read = _pixels[0];\n        var index = 0;\n\n        while(index < count) {\n\n            var r = _pixels[index+0];\n            var g = _pixels[index+1];\n            var b = _pixels[index+2];\n            var a = _pixels[index+3] / 255.0;\n\n            _pixels[index+0] = Std.int(r*a);\n            _pixels[index+1] = Std.int(g*a);\n            _pixels[index+2] = Std.int(b*a);\n\n            index += 4;\n\n        } // while\n\n        return _pixels;\n\n    } //premultiply_alpha\n\n        /** Multiply the pixels in the array by their alpha value.\n            This means the format of the pixels is RGBA with values  [0...1].\n            Modifies the given array and returns it.  */\n    public function premultiply_alpha_normalized( _pixels:Uint8Array ) : Uint8Array {\n\n        var count = _pixels.length;\n        var read = _pixels[0];\n        var index = 0;\n\n        while(index < count) {\n\n            var r = _pixels[index+0];\n            var g = _pixels[index+1];\n            var b = _pixels[index+2];\n            var a = _pixels[index+3];\n\n            _pixels[index+0] = r * a;\n            _pixels[index+1] = g * a;\n            _pixels[index+2] = b * a;\n\n            index += 4;\n\n        } // while\n\n        return _pixels;\n\n    } //premultiply_alpha_normalized\n\n\n} //Utils\n","package luxe.utils.unifill;\n\nabstract CodePoint(Int) {\n\n    @:op(A + B)\n    public static inline function cons(a : CodePoint, b : String) : String\n        return a.toString() + b;\n\n    @:op(A + B)\n    public static inline function snoc(a : String, b : CodePoint) : String\n        return a + b.toString();\n\n    @:op(A + B)\n    public static inline function addInt(a : CodePoint, b : Int) : CodePoint\n        return cast (a.toInt() + b);\n\n    @:op(A - B)\n    public static inline function sub(a : CodePoint, b : CodePoint) : Int\n        return (a.toInt()) - (b.toInt());\n\n    @:op(A - B)\n    public static inline function subInt(a : CodePoint, b : Int) : CodePoint\n        return cast (a.toInt() - b);\n\n    @:op(A == B) public static function eq(a : CodePoint, b : CodePoint) : Bool;\n    @:op(A != B) public static function ne(a : CodePoint, b : CodePoint) : Bool;\n    @:op(A < B) public static function lt(a : CodePoint, b : CodePoint) : Bool;\n    @:op(A <= B) public static function lte(a : CodePoint, b : CodePoint) : Bool;\n    @:op(A > B) public static function gt(a : CodePoint, b : CodePoint) : Bool;\n    @:op(A >= B) public static function gte(a : CodePoint, b : CodePoint) : Bool;\n\n    public inline function new(code : Int) : Void {\n        if (!Unicode.isScalar(code)) {\n            throw Exception.InvalidCodePoint(code);\n        }\n        this = code;\n    }\n\n    public inline function toString() : String\n        return InternalEncoding.fromCodePoint(this);\n\n    public inline function toInt() : Int\n        return this;\n}\n","package luxe.utils.unifill;\n\nclass CodePointIter {\n\n\tvar string : String;\n\tvar index : Int;\n\tvar endIndex : Int;\n\n    public inline function new(s : String) {\n\t\tstring = s;\n\t\tindex = 0;\n\t\tendIndex = s.length;\n    }\n\n    public inline function hasNext() : Bool {\n\t\treturn index < endIndex;\n    }\n\n\tvar i = 0; // FIXME: blocked by HaxeFoundation/haxe#4353\n    public inline function next() : CodePoint {\n\t\ti = index;\n\t\tindex += InternalEncoding.codePointWidthAt(string, index);\n\t\treturn cast InternalEncoding.codePointAt(string, i);\n    }\n\n}\n","package luxe.utils.unifill;\n\n#if (neko || php || cpp || macro)\n    private typedef UtfX = Utf8;\n#elseif python\n    private typedef UtfX = Utf32;\n#else\n    private typedef UtfX = Utf16;\n#end\n\n/**\n   InternalEncoding provides primitive API to deal with strings across\n   all platforms. You should consider adopting Unifill before this.\n **/\nclass InternalEncoding {\n\n    /**\n       Returns Encoding strings on the platform are encoded in.\n     **/\n    public static var internalEncoding(get, never) : String;\n\n    static inline function get_internalEncoding() : String\n    #if (neko || php || cpp || macro)\n        return \"UTF-8\";\n    #elseif python\n        return \"UTF-32\";\n    #else\n        return \"UTF-16\";\n    #end\n\n    /**\n       Returns the UTF-8/16/32 code unit at position `index` of\n       String `s`.\n     **/\n    public static inline function codeUnitAt(s : String, index : Int) : Int {\n\t\treturn UtfX.fromString(s).codeUnitAt(index);\n    }\n\n    /**\n       Returns the Unicode code point at position `index` of\n       String `s`.\n     **/\n    public static inline function codePointAt(s : String, index : Int) : Int {\n\t\treturn UtfX.fromString(s).codePointAt(index);\n    }\n\n    /**\n       Returns the character as a String at position `index` of\n       String `s`.\n     **/\n    public static inline function charAt(s : String, index : Int) : String {\n\t\treturn UtfX.fromString(s).charAt(index).toString();\n    }\n\n    /**\n       Returns the number of Unicode code points from `beginIndex`\n       to `endIndex` in String `s`.\n     **/\n    public static inline function codePointCount(s : String, beginIndex : Int, endIndex : Int) : Int {\n\t\treturn UtfX.fromString(s).codePointCount(beginIndex, endIndex);\n    }\n\n    /**\n       Returns the number of units of the code point at position\n       `index` of String `s`.\n     **/\n    public static inline function codePointWidthAt(s : String, index : Int) : Int {\n\t\treturn UtfX.fromString(s).codePointWidthAt(index);\n    }\n\n    /**\n       Returns the number of units of the code point before\n       position `index` of String `s`.\n     **/\n    public static inline function codePointWidthBefore(s : String, index : Int) : Int {\n\t\treturn UtfX.fromString(s).codePointWidthBefore(index);\n    }\n\n    /**\n       Returns the index within String `s` that is offset from\n       position `index` by `codePointOffset` code points.\n     **/\n    public static inline function offsetByCodePoints(s : String, index : Int, codePointOffset : Int) : Int {\n\t\treturn UtfX.fromString(s).offsetByCodePoints(index, codePointOffset);\n    }\n\n    /**\n       Returns the index within String `s` that is offset from\n       position `index` by `codePointOffset` code points counting\n       backward.\n     **/\n    public static inline function backwardOffsetByCodePoints(s : String, index : Int, codePointOffset : Int) : Int {\n\t\treturn UtfX.fromString(s).offsetByCodePoints(index, -codePointOffset);\n    }\n\n    /**\n       Converts the code point `code` to a character as String.\n     **/\n    public static inline function fromCodePoint(codePoint : Int) : String {\n        return UtfX.fromCodePoint(codePoint).toString();\n    }\n\n    /**\n       Converts `codePoints` to a String.\n     **/\n    public static inline function fromCodePoints(codePoints : Iterable<Int>) : String {\n        return UtfX.fromCodePoints(codePoints).toString();\n    }\n\n    /**\n       Validates String `s`.\n\n       If the code unit sequence of `s` is invalid,\n       `Exception.InvalidCodeUnitSequence` is throwed.\n     **/\n    public static inline function validate(s : String) : Void {\n\t\tUtfX.fromString(s).validate();\n    }\n\n    /**\n       Returns if String `s` is valid.\n     **/\n    public static function isValidString(s : String) : Bool {\n        try {\n            validate(s);\n            return true;\n        } catch (e : Exception) {\n            switch (e) {\n            case InvalidCodeUnitSequence(index):\n                return false;\n            default:\n                throw e;\n            }\n        }\n    }\n\n}\n","package luxe.utils.unifill;\n\nabstract Utf16 (StringU16) {\n\n    /**\n       Converts the code point `code` to a character as a Utf16 string.\n    **/\n    public static inline function fromCodePoint(codePoint : Int) : Utf16 {\n\t\tif (codePoint <= 0xFFFF) {\n\t\t\treturn new Utf16(StringU16.fromCodeUnit(codePoint));\n\t\t} else {\n\t\t\treturn new Utf16(StringU16.fromTwoCodeUnits(\n\t\t\t\tUnicode.encodeHighSurrogate(codePoint),\n\t\t\t\tUnicode.encodeLowSurrogate(codePoint)));\n\t\t}\n    }\n\n    /**\n       Converts `codePoints` to a Utf16 string.\n    **/\n    public static inline function fromCodePoints(codePoints : Iterable<Int>) : Utf16 {\n        var buf = new StringU16Buffer();\n        for (c in codePoints) {\n            Utf16Impl.encode_code_point(function (x) buf.addUnit(x), c);\n        }\n        return new Utf16(buf.getStringU16());\n    }\n\n    public static inline function fromString(s : String) : Utf16 {\n        return new Utf16(StringU16.fromString(s));\n    }\n\n    public static inline function fromArray(a : Array<Int>) : Utf16 {\n        return new Utf16(StringU16.fromArray(a));\n    }\n\n    public var length(get, never) : Int;\n\n    /**\n       Returns the UTF-16 code unit at position `index` of `this`.\n    **/\n    public inline function codeUnitAt(index : Int) : Int {\n\t\treturn this.codeUnitAt(index);\n    }\n\n    /**\n       Returns the Unicode code point at position `index` of\n       `this`.\n    **/\n    public function codePointAt(index : Int) : Int {\n\t\treturn Utf16Impl.decode_code_point(length, function(i) return codeUnitAt(i), index);\n    }\n\n    /**\n       Returns the character as a String at position `index` of\n       `this`.\n    **/\n    public inline function charAt(index : Int) : Utf16 {\n\t\treturn new Utf16(this.substr(index, codePointWidthAt(index)));\n    }\n\n    /**\n       Returns the number of Unicode code points from `beginIndex`\n       to `endIndex` in `this`.\n    **/\n    public function codePointCount(beginIndex : Int, endIndex : Int) : Int {\n        var index = beginIndex;\n        var i = 0;\n        while (index < endIndex) {\n            index += codePointWidthAt(index);\n            ++i;\n        }\n        return i;\n    }\n\n    /**\n       Returns the number of units of the code point at position\n       `index` of `this`.\n    **/\n    public inline function codePointWidthAt(index : Int) : Int {\n        var c = codeUnitAt(index);\n        return Utf16Impl.code_point_width(c);\n    }\n\n    /**\n       Returns the number of units of the code point before\n       position `index` of `this`.\n    **/\n    public inline function codePointWidthBefore(index : Int) : Int {\n\t\treturn Utf16Impl.find_prev_code_point(function(i) return codeUnitAt(i), index);\n    }\n\n    /**\n       Returns the index within `this` that is offset from\n       position `index` by `codePointOffset` code points.\n    **/\n    public inline function offsetByCodePoints(index : Int, codePointOffset : Int) : Int {\n        return if (codePointOffset >= 0) {\n            forward_offset_by_code_points(index, codePointOffset);\n        } else {\n            backward_offset_by_code_points(index, -codePointOffset);\n        }\n    }\n\n    /**\n       Returns `len` code units of `this`, starting at position pos.\n    **/\n    public inline function substr(index : Int, ?len : Int) : Utf16 {\n\t\treturn new Utf16(this.substr(index, len));\n    }\n\n    /**\n       Validates `this` Utf16 string.\n\n       If the code unit sequence of `this` is invalid,\n       `Exception.InvalidCodeUnitSequence` is throwed.\n    **/\n    public function validate() : Void {\n\t\tvar len = this.length;\n\t\tvar accessor = function(i) return codeUnitAt(i);\n        var i = 0;\n        while  (i < len) {\n            Utf16Impl.decode_code_point(len, accessor, i);\n            i += codePointWidthAt(i);\n        }\n    }\n\n    public inline function toString() : String {\n\t\treturn this.toString();\n    }\n\n    public inline function toArray() : Array<Int> {\n\t\treturn this.toArray();\n    }\n\n    inline function new(s : StringU16) {\n\t\tthis = s;\n    }\n\n    inline function get_length() : Int {\n\t\treturn this.length;\n    }\n\n    inline function forward_offset_by_code_points(index : Int, codePointOffset : Int) : Int {\n\t\tvar len = this.length;\n        var i = 0;\n        while (i < codePointOffset && index < len) {\n            index += codePointWidthAt(index);\n            ++i;\n        }\n        return index;\n    }\n\n    inline function backward_offset_by_code_points(index : Int, codePointOffset : Int) : Int {\n        var count = 0;\n        while (count < codePointOffset && 0 < index) {\n            index -= codePointWidthBefore(index);\n            ++count;\n        }\n        return index;\n    }\n\n}\n\nprivate class Utf16Impl {\n\n    public static inline function code_point_width(c : Int) : Int {\n        return (!Unicode.isHighSurrogate(c)) ? 1 : 2;\n    }\n\n    public static inline function find_prev_code_point(accessor : Int -> Int, index : Int) : Int {\n        var c = accessor(index - 1);\n        return (!Unicode.isLowSurrogate(c)) ? 1 : 2;\n    }\n\n    public static function encode_code_point(addUnit : Int -> Void, codePoint : Int) : Void {\n        if (codePoint <= 0xFFFF) {\n            addUnit(codePoint);\n        } else {\n            addUnit(Unicode.encodeHighSurrogate(codePoint));\n            addUnit(Unicode.encodeLowSurrogate(codePoint));\n        }\n    }\n\n    public static function decode_code_point(len : Int, accessor : Int -> Int, index : Int) : Int {\n        if (index < 0 || len <= index)\n            throw Exception.InvalidCodeUnitSequence(index);\n        var hi = accessor(index);\n        if (Unicode.isHighSurrogate(hi)) {\n            if (index + 1 < 0 || len <= index + 1) {\n                throw Exception.InvalidCodeUnitSequence(index);\n            }\n            var lo = accessor(index + 1);\n            if (Unicode.isLowSurrogate(lo)) {\n                return Unicode.decodeSurrogate(hi, lo);\n            } else {\n                throw Exception.InvalidCodeUnitSequence(index);\n            }\n        } else if (Unicode.isLowSurrogate(hi)) {\n            throw Exception.InvalidCodeUnitSequence(index);\n        } else {\n            return hi;\n        }\n    }\n\n}\n\n#if !(neko || php || cpp || macro || python)\n\nprivate abstract StringU16Buffer(StringBuf) {\n\n    public inline function new() {\n        this = new StringBuf();\n    }\n\n    public inline function addUnit(unit : Int) : Void {\n        this.addChar(unit);\n    }\n\n    public inline function getStringU16() : StringU16 {\n        return StringU16.fromString(this.toString());\n    }\n\n}\n\nprivate abstract StringU16(String) {\n\n    public static inline function fromString(s : String) : StringU16 {\n        return new StringU16(s);\n\t}\n\n\tpublic static inline function fromCodeUnit(u : Int) : StringU16 {\n\t\treturn new StringU16(String.fromCharCode(u));\n    }\n\n\tpublic static inline function fromTwoCodeUnits(u0 : Int, u1 : Int) : StringU16 {\n\t\treturn new StringU16(String.fromCharCode(u0) + String.fromCharCode(u1));\n\t}\n\n    public static inline function ofArray(a : Array<Int>) : StringU16 {\n        return fromArray(a);\n    }\n\n    public static inline function fromArray(a : Array<Int>) : StringU16 {\n        var buf = new StringBuf();\n        for (x in a) {\n            buf.addChar(x);\n        }\n        return new StringU16(buf.toString());\n    }\n\n    public var length(get, never) : Int;\n\n    public #if !flash inline #end function codeUnitAt(index : Int) : Int {\n        return StringTools.fastCodeAt(this, index);\n    }\n\n    public inline function substr(index : Int, ?len : Int) : StringU16 {\n        return new StringU16(this.substr(index, len));\n    }\n\n    public inline function toString() : String {\n        return this;\n    }\n\n    public inline function toArray() : Array<Int> {\n        var i = 0;\n        var len = this.length;\n        return [while (i < len) StringTools.fastCodeAt(this, i++)];\n    }\n\n    inline function new(s : String) {\n        this = s;\n    }\n\n    inline function get_length() : Int {\n        return this.length;\n    }\n\n}\n\n#else\n\nprivate abstract StringU16Buffer(Array<Int>) {\n\n    public inline function new() {\n        this = [];\n    }\n\n    public inline function addUnit(unit : Int) : Void {\n        this.push(unit);\n    }\n\n    public inline function getStringU16() : StringU16 {\n        return StringU16.ofArray(this);\n    }\n\n}\n\nprivate abstract StringU16(Array<Int>) {\n\n    public static function fromString(s : String) : StringU16 {\n        var buf = new StringU16Buffer();\n        var addUnit = function (x) buf.addUnit(x);\n        for (i in new InternalEncodingIter(s, 0, s.length)) {\n            var c = InternalEncoding.codePointAt(s, i);\n            Utf16Impl.encode_code_point(addUnit, c);\n        }\n        return buf.getStringU16();\n\t}\n\n\tpublic static inline function fromCodeUnit(u : Int) : StringU16 {\n\t\treturn new StringU16([u]);\n\t}\n\n\tpublic static inline function fromTwoCodeUnits(u0 : Int, u1 : Int) : StringU16 {\n\t\treturn new StringU16([u0, u1]);\n    }\n\n    public static inline function ofArray(a : Array<Int>) : StringU16 {\n        return new StringU16(a);\n    }\n\n    public static inline function fromArray(a : Array<Int>) : StringU16 {\n        return new StringU16(a.copy());\n    }\n\n    public var length(get, never) : Int;\n\n    public inline function codeUnitAt(index : Int) : Int {\n        return this[index];\n    }\n\n    public inline function substr(index : Int, ?len : Int) : StringU16 {\n        if (index < 0) {\n            index += this.length;\n            if (index < 0) index = 0;\n        }\n        var j = (len != null) ? index + len : this.length;\n        var a = this.slice(index, j);\n        return new StringU16(a);\n    }\n\n    public function toString() : String {\n        var buf = new StringBuf();\n        var i = 0;\n        var len = this.length;\n        var cua = function (i) return this[i];\n        while (i < len) {\n            var u = Utf16Impl.decode_code_point(len, cua, i);\n            buf.add(InternalEncoding.fromCodePoint(u));\n            i += Utf16Impl.code_point_width(codeUnitAt(i));\n        }\n        return buf.toString();\n    }\n\n    public inline function toArray() : Array<Int> {\n        return this.copy();\n    }\n\n    inline function new(a : Array<Int>) {\n        this = a;\n    }\n\n    inline function get_length() : Int {\n        return this.length;\n    }\n\n}\n\n#end\n","package luxe.utils.unifill;\n\nclass InternalEncodingIter {\n\n    public var string : String;\n    public var index : Int;\n    public var endIndex : Int;\n\n    public inline function new(s : String, beginIndex : Int, endIndex : Int) {\n        string = s;\n        this.index = beginIndex;\n        this.endIndex = endIndex;\n    }\n\n    public inline function hasNext() : Bool {\n        return index < endIndex;\n    }\n\n\tvar i = 0; // FIXME: blocked by HaxeFoundation/haxe#4353\n    public inline function next() : Int {\n\t\ti = index;\n        index += InternalEncoding.codePointWidthAt(string, index);\n        return i;\n    }\n\n}\n","package luxe.utils.unifill;\n\nclass Unicode {\n\n    public static inline var minCodePoint : Int = 0x0000;\n    public static inline var maxCodePoint : Int = 0x10FFFF;\n    public static inline var minHighSurrogate : Int = 0xD800;\n    public static inline var maxHighSurrogate : Int = 0xDBFF;\n    public static inline var minLowSurrogate : Int = 0xDC00;\n    public static inline var maxLowSurrogate : Int = 0xDFFF;\n\n    public static inline function decodeSurrogate(hi : Int, lo : Int) : Int\n        return (hi - 0xD7C0 << 10) | (lo & 0x3FF);\n\n    public static inline function encodeHighSurrogate(c : Int) : Int\n        return (c >> 10) + 0xD7C0;\n\n    public static inline function encodeLowSurrogate(c : Int) : Int\n        return (c & 0x3FF) | 0xDC00;\n\n    public static inline function isScalar(code : Int) : Bool {\n        return minCodePoint <= code && code <= maxCodePoint && !isHighSurrogate(code) && !isLowSurrogate(code);\n    }\n\n    public static inline function isHighSurrogate(code : Int) : Bool {\n        return minHighSurrogate <= code && code <= maxHighSurrogate;\n    }\n\n    public static inline function isLowSurrogate(code : Int) : Bool {\n        return minLowSurrogate <= code && code <= maxLowSurrogate;\n    }\n\n}\n","package luxe.utils.unifill;\n\n/**\n   Unifill provides Unicode-code-point-wise methods on Strings. It is\n   ideally used with 'using Unifill' and then acts as an extension to\n   the String class.\n **/\nclass Unifill {\n\n    /**\n       Returns the number of Unicode code points of String `s`.\n     **/\n    public static inline function uLength(s : String) : Int\n        return InternalEncoding.codePointCount(s, 0, s.length);\n\n    /**\n       Returns the character at position `index` by code points of String `s`.\n     **/\n    public static inline function uCharAt(s : String, index : Int) : String {\n    #if (neko || php || cpp)\n        return InternalEncoding.fromCodePoint(haxe.Utf8.charCodeAt(s, index));\n    #else\n        var i = InternalEncoding.offsetByCodePoints(s, 0, index);\n        return InternalEncoding.charAt(s, i);\n    #end\n    }\n\n    /**\n       Returns the code point as Int at position `index` by code points of String `s`.\n     **/\n    public static inline function uCharCodeAt(s : String, index : Int) : Int {\n    #if (neko || php || cpp || macro)\n        return cast haxe.Utf8.charCodeAt(s, index);\n    #else\n        var i = InternalEncoding.offsetByCodePoints(s, 0, index);\n        return InternalEncoding.codePointAt(s, i);\n    #end\n    }\n\n    /**\n       Returns the code point at position `index` by code points of String `s`.\n     **/\n    public static inline function uCodePointAt(s : String, index : Int) : CodePoint {\n        return cast uCharCodeAt(s, index);\n    }\n\n    /**\n       Returns the position of the leftmost occurence of the str within String `s`.\n\n       `startIndex` is counted by code points.\n     **/\n    public static inline function uIndexOf(s : String, value : String, startIndex : Int = 0) : Int {\n        var index = s.indexOf(value, InternalEncoding.offsetByCodePoints(s, 0, startIndex));\n        return if (index >= 0) InternalEncoding.codePointCount(s, 0, index) else -1;\n    }\n\n    /**\n       Returns the position of the rightmost occurence of the str within String `s`.\n\n       `startIndex` is counted by code points.\n     **/\n    public static inline function uLastIndexOf(s : String, value : String, ?startIndex) : Int {\n        if (startIndex == null)\n            startIndex = s.length - 1;\n        var index = s.lastIndexOf(value, InternalEncoding.offsetByCodePoints(s, 0, startIndex));\n        return if (index >= 0) InternalEncoding.codePointCount(s, 0, index) else -1;\n    }\n\n    /**\n       Splits String `s` at each occurence of `delimiter`.\n     **/\n    public static function uSplit(s : String, delimiter : String) : Array<String> {\n        return if (delimiter.length == 0) {\n            [for (i in new InternalEncodingIter(s, 0, s.length)) InternalEncoding.charAt(s, i)];\n        } else {\n            s.split(delimiter);\n        }\n    }\n\n    /**\n       Returns `length` characters of String `s`, starting at position `startIndex`.\n\n       `startIndex` and `length` are counted by code points.\n     **/\n    public static inline function uSubstr(s : String, startIndex : Int, ?length : Int) : String {\n        var si = InternalEncoding.offsetByCodePoints(s,\n            if (startIndex >= 0) 0 else s.length,\n            startIndex);\n        var ei = if (length == null) s.length\n            else if (length < 0) si\n            else InternalEncoding.offsetByCodePoints(s, si, length);\n        return s.substring(si, ei);\n    }\n\n    /**\n       Returns the part of String `s` from `startIndex` to `endIndex`.\n\n       `startIndex` and `endIndex` are counted by code points.\n     **/\n    public static inline function uSubstring(s : String, startIndex : Int, ?endIndex : Int) : String {\n        var si = if (startIndex < 0) 0\n            else InternalEncoding.offsetByCodePoints(s, 0, startIndex);\n        var ei = if (endIndex == null) s.length\n            else if (endIndex < 0) 0\n            else InternalEncoding.offsetByCodePoints(s, 0, endIndex);\n        return s.substring(si, ei);\n    }\n\n    /**\n       Returns an iterator of the code points of String `s`.\n     **/\n\tpublic static inline function uIterator(s : String) : CodePointIter {\n        return new CodePointIter(s);\n    }\n\n    /**\n       Compares String `a` and `b`.\n     **/\n    public static function uCompare(a : String, b : String) : Int {\n        var aiter = new InternalEncodingIter(a, 0, a.length);\n        var biter = new InternalEncodingIter(b, 0, b.length);\n        while (aiter.hasNext() && biter.hasNext()) {\n            var acode = InternalEncoding.codePointAt(a, aiter.next());\n            var bcode = InternalEncoding.codePointAt(b, biter.next());\n            if (acode < bcode)\n                return -1;\n            if (acode > bcode)\n                return 1;\n        }\n        if (biter.hasNext())\n            return -1;\n        if (aiter.hasNext())\n            return 1;\n        return 0;\n    }\n\n    /**\n       Converts `codePoints` to string.\n     **/\n    public static inline function uToString(codePoints : Iterable<CodePoint>) : String\n        return InternalEncoding.fromCodePoints(cast codePoints);\n\n}\n","package phoenix;\n\nimport phoenix.Rectangle;\nimport phoenix.Texture;\nimport phoenix.Batcher;\nimport phoenix.geometry.Geometry;\nimport phoenix.geometry.GeometryState;\n\nimport snow.modules.opengl.GL;\n\nclass BatchState {\n\n    public var batcher : Batcher;\n    public var geom_state :  GeometryState;\n    public var last_geom_state : GeometryState;\n\n    public var last_texture_id : Dynamic;\n    public var last_shader_id : Dynamic;\n    public var is_clipping : Bool;\n    public var clip_rect : Rectangle;\n    public var last_clip_rect : Rectangle;\n    public var last_blend_disabled : Bool;\n    public var last_blend_src_alpha : Int;\n    public var last_blend_src_rgb : Int;\n    public var last_blend_dest_alpha : Int;\n    public var last_blend_dest_rgb : Int;\n\n    public var log : Bool = false;\n\n    public function new(_r:Batcher){\n        batcher = _r;\n        geom_state = new GeometryState();\n        last_geom_state = new GeometryState();\n    }\n\n    public inline function active_shader() : phoenix.Shader {\n        if(geom_state.shader != null) {\n            return geom_state.shader;\n        } else {\n            if(geom_state.texture != null) {\n                return batcher.renderer.shaders.textured.shader;\n            } else {\n                return batcher.renderer.shaders.plain.shader;\n            }\n        }\n    }\n\n    public inline function activate(batcher:Batcher) {\n\n            // Handle texture state changes\n        if(geom_state.dirty) {\n\n            if(geom_state.texture != null) {\n\n                if(last_texture_id != geom_state.texture.id){\n\n                    last_texture_id = geom_state.texture.id;\n                    if(geom_state.texture.texture != null) {\n                        geom_state.texture.bind();\n                    }\n\n                } //texture id change\n\n            } else {\n\n                Luxe.renderer.state.bindTexture2D(null);\n                last_texture_id = null;\n\n            } //geom_state.texture !=null\n\n            var _shader = batcher.shader == null ? geom_state.shader : batcher.shader;\n\n            if(_shader == null) {\n\n                    //fallback onto the default shaders\n                if(geom_state.texture != null) {\n                    _shader = batcher.renderer.shaders.textured.shader;\n                } else {\n                    _shader = batcher.renderer.shaders.plain.shader;\n                }\n\n            } //_shader\n\n            if(last_shader_id != _shader.program) {\n                batcher.apply_default_uniforms(_shader);\n                _shader.activate();\n                last_shader_id = _shader.program;\n            }\n\n            var blend_dirty = last_blend_src_rgb != geom_state.blend_src_rgb;\n                blend_dirty = blend_dirty || (last_blend_disabled != geom_state.blend_disabled);\n                blend_dirty = blend_dirty || (last_blend_src_alpha != geom_state.blend_src_alpha); \n                blend_dirty = blend_dirty || (last_blend_dest_rgb != geom_state.blend_dest_rgb); \n                blend_dirty = blend_dirty || (last_blend_dest_alpha != geom_state.blend_dest_alpha); \n            \n            if(blend_dirty && !geom_state.ignore_blend) {\n\n                last_blend_disabled = geom_state.blend_disabled;\n                last_blend_disabled ?\n                    batcher.renderer.state.disable(GL.BLEND) :\n                    batcher.renderer.state.enable(GL.BLEND);\n\n                last_blend_src_rgb = geom_state.blend_src_rgb;\n                last_blend_src_alpha = geom_state.blend_src_alpha;\n                last_blend_dest_rgb = geom_state.blend_dest_rgb;\n                last_blend_dest_alpha = geom_state.blend_dest_alpha;\n                GL.blendFuncSeparate(\n                    last_blend_src_rgb,\n                    last_blend_dest_rgb,\n                    last_blend_src_alpha,\n                    last_blend_dest_alpha\n                );\n            }\n\n        } //state.dirty\n\n            // excluded from isDirty because rect can change every time without the state being dirty */\n            // Handle clipping state changes\n\n            if(geom_state.clip){\n\n                if( !is_clipping ){\n                    GL.enable( GL.SCISSOR_TEST );\n                    is_clipping = true;\n                }\n\n                    // update scissor region if needed.\n                if(clip_rect != null) {\n\n                    if(!clip_rect.equal(last_clip_rect)) {\n\n                            // set the scissor rect\n                        batcher.renderer.state.scissor(clip_rect.x, clip_rect.y, clip_rect.w, clip_rect.h);\n\n                    } //last clip_rect\n\n                } //clip_rect\n\n            } else { //clip is false\n\n                if( is_clipping ){\n                    GL.disable( GL.SCISSOR_TEST );\n                    is_clipping = false;\n                }\n\n            } //clip is off\n\n            // finally, mark the state as clean.\n        geom_state.clean();\n\n    } //activate\n\n    public function deactivate(batcher:Batcher) {\n\n            //undo any textures we bound last\n        if(last_texture_id != null) {\n            batcher.renderer.state.bindTexture2D(null);\n        }\n\n            //for now we just disable any shader because other\n            //batchers are not aware of us yet.\n        batcher.renderer.state.useProgram(null);\n\n            //remove clipping\n        if(is_clipping) GL.disable(GL.SCISSOR_TEST);\n\n            //default blend mode\n        batcher.renderer.state.enable(GL.BLEND);\n        GL.blendFunc(GL.SRC_ALPHA, GL.ONE_MINUS_SRC_ALPHA);\n        GL.blendEquation(GL.FUNC_ADD);\n\n    } //deactivate\n\n    public function update( geom:Geometry ) : Bool {\n\n        geom_state.clone_onto(last_geom_state);\n        geom_state.update(geom.state);\n\n        if(geom_state.clip){\n            last_clip_rect = clip_rect;\n            clip_rect = geom.clip_rect;\n        }\n\n        return geom_state.dirty || (last_clip_rect != clip_rect);\n\n    } //update\n\n\n//noisy debug stuff\n    public function str() {\n\n        if(!log) return;\n\n        trace('\\t+ BATCHSTATE LAST ');\n            trace(\"\\t\\tdepth - \"+last_geom_state.depth);\n            trace(\"\\t\\ttexture - \" + (( last_geom_state.texture == null) ? 'null' :  last_geom_state.texture.id ));\n            if(last_geom_state.texture != null) {\n                trace(\"\\t\\t\\t \" + last_geom_state.texture.texture);\n            }\n            trace(\"\\t\\tshader - \" + (( last_geom_state.shader == null) ? 'null' :  last_geom_state.shader.id ));\n            trace(\"\\t\\tprimitive_type - \"+last_geom_state.primitive_type);\n            trace(\"\\t\\tclip - \"+last_geom_state.clip);\n        trace('\\t- BATCHSTATE LAST');\n\n        trace('\\t+ BATCHSTATE STATE');\n            trace(\"\\t\\tdepth - \"+geom_state.depth);\n            trace(\"\\t\\ttexture - \" + (( geom_state.texture == null) ? 'null' :  geom_state.texture.id ));\n            if(geom_state.texture != null) {\n                trace(\"\\t\\t\\t \" + geom_state.texture.texture);\n            }\n            trace(\"\\t\\tshader - \" + (( geom_state.shader == null) ? 'null' :  geom_state.shader.id ));\n            trace(\"\\t\\tprimitive_type - \"+geom_state.primitive_type);\n            trace(\"\\t\\tclip - \"+geom_state.clip);\n        trace('\\t- BATCHSTATE STATE');\n    }\n\n}","package phoenix;\n\nimport phoenix.Renderer;\nimport phoenix.geometry.Geometry;\nimport phoenix.Matrix;\nimport phoenix.Shader;\n\nimport snow.modules.opengl.GL;\nimport snow.api.buffers.Float32Array;\n\nimport luxe.Log.*;\nimport luxe.Emitter;\nimport luxe.structural.BalancedBST;\n\n@:allow(phoenix.Renderer)\nclass Batcher {\n\n    public var id : String;\n    public var enabled : Bool = true;\n    @:isVar public var layer (default, set) : Int = 0;\n\n    public var geometry : BalancedBST< GeometryKey, Geometry >;\n    public var emitter : Emitter<BatcherEventType>;\n    public var tree_changed : Bool = false;\n\n    public var pos_list    : Float32Array;\n    public var tcoord_list : Float32Array;\n    public var color_list  : Float32Array;\n    public var normal_list : Float32Array;\n\n    public var max_verts : Int = 0;\n    public var max_floats : Int = 0;\n    public var vert_count : Int = 0;\n\n    public var renderer : Renderer;\n    public var view : Camera;\n        // An explicit shader override (instead of per geometry).\n        // Useful for things like wireframe/depth/normal/debug/shadow rendering passes.\n    public var shader : Shader;\n\n    public var draw_calls : Int = 0;\n    public var dynamic_batched_count : Int = 0;\n    public var static_batched_count : Int = 0;\n    public var visible_count : Int = 0;\n\n    public var log : Bool = false;\n    public var name : String = '';\n        //Set this to 0 to hide the batcher in renderer stats\n    public var show_stats (default, set): Int = 1;\n\n        //This is a failsafe against identical layer values\n        //being sorted differently by target etc. Not reset intentionally.\n    static var _sequence_key : Int = -1;\n    var sequence : Int = -1;\n\n    var pos_floats    : Int = 0;\n    var tcoord_floats  : Int = 0;\n    var color_floats   : Int = 0;\n    var normal_floats  : Int = 0;\n\n    @:allow(luxe)\n    static var all: Array<Batcher> = [];\n\n    public function new( _r : Renderer, ?_name:String = '', ?_max_verts:Int=16384 ) {\n\n        id = Luxe.utils.uniqueid();\n        renderer = _r;\n        sequence = ++_sequence_key;\n\n        geometry = new BalancedBST<GeometryKey,Geometry>( geometry_compare );\n        emitter = new Emitter();\n\n        max_verts = _max_verts;\n            //4 floats per vert, i.e x y z w\n        max_floats = max_verts * 4;\n\n            //these are expecting elements in floats, so each vert etc has 4 floats\n        pos_list = new Float32Array( max_floats );\n        tcoord_list = new Float32Array( max_floats );\n        color_list = new Float32Array( max_floats );\n\n        #if phoenix_use_normals\n            normal_list = new Float32Array( max_floats );\n        #end\n\n            //The default view so we see stuff\n        view = renderer.camera;\n\n        GL.enableVertexAttribArray( vert_attribute );\n        GL.enableVertexAttribArray( tcoord_attribute );\n        GL.enableVertexAttribArray( color_attribute );\n\n        #if phoenix_use_normals\n            GL.enableVertexAttribArray( normal_attribute );\n        #end\n\n            //A default name\n        if(_name.length == 0) {\n            name = Luxe.utils.uniqueid();\n        } else {\n            name = _name;\n        }\n\n        _dropped = [];\n\n        renderer.stats.batchers++;\n        all.push(this);\n\n    } //new\n\n//Public function\n    inline\n    public function on(event:BatcherEventType, handler:Batcher->Void) {\n        emitter.on(event, handler);\n    }\n\n    inline\n    public function off(event:BatcherEventType, handler:Batcher->Void) {\n        return emitter.off(event, handler);\n    }\n\n    public function add( _geom:Geometry, _force_add:Bool = false ) {\n\n        // _debug(\"adding geom to batcher \" + _geom.id + \" at \" + _geom.depth);\n        // _debug(\"\\t list before: \");\n            // list_geometry();\n\n        if( geometry.find(_geom.key) == null || _force_add ) {\n\n                //Only add if not already there\n            if( !Lambda.has(_geom.batchers, this) ) {\n                _geom.batchers.push(this);\n            }\n\n                //Insert into our list\n            geometry.insert( _geom.key, _geom );\n\n                //Make sure it is flagged\n            _geom.added = true;\n\n                //and this local test flag\n            tree_changed = true;\n\n            // _debug(\"\\t list after: \");\n            //     list_geometry();\n\n        } else {\n            // trace(\"Warning : Attempting to add geometry to the same batcher twice. \" + _geom);\n        }\n\n    } //add\n\n        /** Drop all the geometry within this batcher, emptying it out. */\n    public function empty( _drop:Bool=true ) {\n\n        if(_drop) {\n            for(geom in geometry) {\n                geom.drop(true);\n                geom = null;\n            }\n        } else {\n            for(geom in geometry) {\n                geometry.remove(geom.key);\n            }\n        }\n\n    } //empty\n\n        /** Destroy this batcher.\n            Drops all the geometry within it (empty).\n            Removes itself from the renderer.\n            Does not change the `view`.\n            Do not use the batcher instance after calling this. */\n    public function destroy( _drop:Bool=true ) {\n\n        empty(_drop);\n\n        renderer.remove_batch(this);\n        renderer.stats.batchers--;\n\n        emitter = null;\n        geometry = null;\n        pos_list = null;\n        tcoord_list = null;\n        color_list = null;\n        normal_list = null;\n\n        max_verts = 0;\n        max_floats = 0;\n        vert_count = 0;\n\n        renderer = null;\n        view = null;\n\n        all.remove(this);\n\n    } //destroy\n\n    public function remove( _geom:Geometry, ?_remove_batcher_from_geometry:Bool = true ) {\n\n        if(_remove_batcher_from_geometry) {\n            _geom.batchers.remove(this);\n            if(_geom.batchers.length == 0) {\n                _geom.added = false;\n            }\n        } //_remove_batcher_from_geometry\n\n        var countbefore = geometry.size();\n\n        geometry.remove( _geom.key );\n\n        var countafter = geometry.size();\n\n        if(countbefore == countafter) {\n            //:todo: this fail state should never happen but it comes up on web rarely\n            // throw(\"GEOMETRY NOT REMOVED \" + _geom.key);\n        }\n\n        tree_changed = true;\n\n    } //remove\n\n        //Run the batcher over the current list of geometry\n        //and submit it to the graphics card for drawing\n    var state : phoenix.BatchState;\n    var _dropped:Array<Geometry>;\n\n    public function batch( persist_immediate : Bool = false ) {\n\n        //reset render stats before we start\n        dynamic_batched_count = 0;\n        static_batched_count = 0;\n        visible_count = 0;\n\n        pos_floats = 0;\n        tcoord_floats = 0;\n        color_floats = 0;\n        normal_floats = 0;\n\n            //The current batch state values\n        state = new phoenix.BatchState(this);\n            //The current geometry in the set\n        var geom : Geometry = null;\n\n            //For each in the list\n        for(_geom in geometry) {\n\n                //grab the next geometry\n            geom = _geom;\n\n                //If it's valid to be drawn\n            if( geom != null && !geom.dropped ) {\n\n                    //If the update will cause a state change, submit the vertices accumulated\n                if( state.update(geom) ) {\n\n                        //if there are verts in the last batch, it needs to be submitted\n                        //The function returns early if there are none\n                    submit_current_vertex_list( state.last_geom_state.primitive_type );\n\n                } // state.update(geom)\n\n                    // Now activate state changes (if any)\n                state.activate(this);\n\n                if(geom.visible) {\n\n                    //try\n                    visible_count++;\n\n                        //Buffer based geometry doesn't get submitted here yet\n                    if(geom.buffer_based) {\n                        visible_count--;\n                        continue;\n                    }\n\n                        //Static batched geometry gets sent on it's own\n                    if(geom.locked) {\n\n                            //static submissions split the batch for sorting reasons\n                        submit_current_vertex_list( state.last_geom_state.primitive_type );\n\n                        submit_static_geometry( geom );\n                        vert_count += geom.vertices.length;\n                    }\n\n                        // Do not accumulate for tri strips, line strips, line loops, triangle fans, quad strips, or polygons\n                    else if( geom.primitive_type == PrimitiveType.line_strip ||\n                             geom.primitive_type == PrimitiveType.line_loop ||\n                             geom.primitive_type == PrimitiveType.triangle_strip ||\n                             geom.primitive_type == PrimitiveType.triangle_fan ) {\n\n                                // doing this with the same list is fine because the primitive type causes a batch break anyways.\n                                // Send it on, this will also clear the list for the next geom so it doesn't acccumlate as usual.\n                            geometry_batch(geom);\n                                //submit the geometry\n                            submit_current_vertex_list( geom.primitive_type );\n                                //increase counts\n                            vert_count += geom.vertices.length;\n\n                    } //if it's unbatchable\n\n                        // Accumulate, this is standard geometry\n                    else {\n\n                        geometry_batch( geom );\n\n                            //increase counts\n                        dynamic_batched_count++;\n                        vert_count += geom.vertices.length;\n\n                    } //standard geometry\n\n\n                        // If the geometry is immediate get rid of it (unless the flag to keep immediate geometry)\n                        // in the list was specified...i.e for drawing multiple passes etc\n                    if( !persist_immediate && geom.immediate ) {\n                        //set the flag to avoid redrawing at all\n                        geom.dropped = true;\n                        //store to be dropped after iteration\n                        _dropped.push(geom);\n                    } //!persist_immediate && geom.immediate\n\n                } //geom.visible\n\n            }\n\n        } //geom list\n\n            //If there is anything left in the vertex buffer, submit it.\n        if(pos_floats > 0 && geom != null) {\n\n                //Make sure the state matches this geometry\n            state.update(geom);\n                //And the state is active for renderering\n            state.activate( this );\n                //submit the list for rendering\n            submit_current_vertex_list( state.last_geom_state.primitive_type );\n\n        }\n\n            //disable any states set by the batches\n        state.deactivate(this);\n            //cleanup\n        state = null;\n\n        prune();\n\n    } //batch\n\n    inline function prune() {\n\n        //clean up dropped geometry\n        if(_dropped.length > 0) {\n            for(geom in _dropped) {\n                geom.drop();\n                geom = null;\n            }\n            _dropped = null;\n            _dropped = [];\n        }\n\n    } //prune\n\n    inline\n    public function draw( ?persist_immediate:Bool = false ) {\n\n        #if !luxe_noprofile if(name != '') Luxe.debug.start(name); #end\n\n        //Reset the draw count\n        draw_calls = 0;\n        vert_count = 0;\n\n        emitter.emit(BatcherEventType.prerender, this);\n\n        update_view();\n\n        batch( persist_immediate );\n\n        emitter.emit(BatcherEventType.postrender, this);\n\n        var _stats = renderer.stats;\n            _stats.geometry_count += geometry.size() * show_stats;\n            _stats.dynamic_batched_count += dynamic_batched_count * show_stats;\n            _stats.static_batched_count += static_batched_count * show_stats;\n            _stats.visible_count += visible_count * show_stats;\n            _stats.draw_calls += draw_calls * show_stats;\n            _stats.vert_count += vert_count * show_stats;\n\n        #if !luxe_noprofile if(name != '') Luxe.debug.end(name); #end\n\n    } //draw\n\n    @:noCompletion\n    inline\n    function update_view() {\n\n            //update camera if it changes anything\n        view.process();\n\n        // trace('batcher $name / view ${view.name} / viewport:${view.viewport}');\n\n            //Set the viewport to the view\n        renderer.state.viewport(view.viewport.x, view.viewport.y, view.viewport.w, view.viewport.h);\n\n    } //update_view\n\n    @:noCompletion\n    inline\n    public function apply_default_uniforms(_shader:Shader) {\n        if(!_shader.no_default_uniforms) {\n            _shader.set_matrix4_arr('projectionMatrix', view.proj_arr);\n            _shader.set_matrix4_arr('modelViewMatrix', view.view_inverse_arr);\n        }\n    }\n\n    //:todo: this is not part of the api\n    //       and should be considered volatile/WIP\n    @:noCompletion\n    inline\n    public function submit_geometry( _geom:Geometry, ?_shader:Shader ) {\n\n        assert(_geom.buffer_based, 'Only buffer based geometry can be submitted directly');\n\n        if(!_geom.visible) return;\n        if(_shader == null) _shader = _geom.shader;\n        if(shader != null) _shader = shader;\n\n        _shader.activate();\n        apply_default_uniforms(_shader);\n        _geom.uniforms.apply();\n\n        var _length = _geom.vertices.length;\n        var _length4 = _length * 4;\n        var _updated = _geom.update_buffers();\n\n        if(_updated) {\n            _geom.bind_and_upload();\n        } else {\n            _geom.bind();\n        }\n\n        _geom.draw();\n\n        var _stats = renderer.stats;\n        _stats.geometry_count++;\n        _stats.visible_count++;\n        _stats.draw_calls++;\n        _stats.vert_count += _length;\n\n    } //submit_geometry\n\n    // inline\n    @:noCompletion\n    public function submit_buffers(type:PrimitiveType, _pos:Float32Array, _tcoords:Float32Array, _colors:Float32Array, _normals:Float32Array) {\n\n        var pb = GL.createBuffer();\n        var cb = GL.createBuffer();\n        var tb = GL.createBuffer();\n        #if phoenix_use_normals\n        var nb = GL.createBuffer();\n        #end\n\n        GL.bindBuffer(GL.ARRAY_BUFFER, pb );\n        GL.vertexAttribPointer( vert_attribute, 4, GL.FLOAT, false, 0, 0 );\n        GL.bufferData( GL.ARRAY_BUFFER , _pos, GL.STREAM_DRAW);\n\n        GL.bindBuffer(GL.ARRAY_BUFFER, tb );\n        GL.vertexAttribPointer( tcoord_attribute, 4, GL.FLOAT, false, 0, 0 );\n        GL.bufferData( GL.ARRAY_BUFFER , _tcoords, GL.STREAM_DRAW);\n\n        GL.bindBuffer(GL.ARRAY_BUFFER, cb );\n        GL.vertexAttribPointer( color_attribute, 4, GL.FLOAT, false, 0, 0 );\n        GL.bufferData( GL.ARRAY_BUFFER , _colors, GL.STREAM_DRAW);\n\n        #if phoenix_use_normals\n        GL.bindBuffer(GL.ARRAY_BUFFER, nb );\n        GL.bufferData( GL.ARRAY_BUFFER , _normals, GL.STREAM_DRAW);\n        GL.vertexAttribPointer( normal_attribute, 4, GL.FLOAT, false, 0, 0 );\n        #end\n\n            //Draw\n        GL.drawArrays( type, 0, Std.int(_pos.length/4) );\n\n        GL.deleteBuffer(pb);\n        GL.deleteBuffer(cb);\n        GL.deleteBuffer(tb);\n        #if phoenix_use_normals\n        GL.deleteBuffer(nb);\n        #end\n\n        draw_calls++;\n\n    } //submit_buffers\n\n    @:noCompletion\n    inline\n    public function submit_static_geometry( geom:Geometry ) : Bool {\n\n        var _length = geom.vertices.length;\n\n        if( _length == 0 ) {\n            return false;\n        }\n\n        var _updated = geom.update_buffers();\n\n        if(_updated) {\n            geom.bind_and_upload();\n        } else {\n            geom.bind();\n        }\n\n        geom.draw();\n\n            //Disable attributes\n        static_batched_count++;\n        draw_calls++;\n\n            //clear the geometry flags\n        geom.dirty = false;\n\n        return true;\n\n    } //submit_static_geometry\n\n    @:noCompletion\n    inline\n    public function submit_current_vertex_list( type : PrimitiveType ) : Bool {\n\n        if( pos_floats == 0 ) {\n            return false;\n        }\n\n        if( pos_floats > max_floats ) {\n            throw \"uh oh, somehow too many floats are being submitted (max:$max_floats, attempt:$pos_floats).\";\n        }\n\n            //fromBuffer takes byte length, so floats * 4\n        var _pos = Float32Array.fromBuffer(pos_list.buffer, 0, pos_floats*4);\n        var _tcoords = Float32Array.fromBuffer(tcoord_list.buffer, 0, tcoord_floats*4);\n        var _colors = Float32Array.fromBuffer(color_list.buffer, 0, color_floats*4);\n        var _normals:Float32Array = null;\n\n        #if phoenix_use_normals\n            _normals = Float32Array.fromBuffer(normal_list.buffer, 0, normal_floats*4);\n        #end\n\n        submit_buffers(type, _pos, _tcoords, _colors, _normals);\n\n        _pos = null;\n        _tcoords = null;\n        _colors = null;\n        _normals = null;\n\n        pos_floats = 0;\n        tcoord_floats = 0;\n        color_floats = 0;\n        normal_floats = 0;\n\n        return true;\n\n    } //submit_current_vertex_list\n\n//Batch related helper functions\n\n    inline\n    function geometry_batch( geom:Geometry ) {\n\n        if(geom.vertices.length > max_verts) {\n            geom.locked = true;\n            geom.dirty_based = false;\n            luxe.Log.log('WARNING batcher `$name` trying to batch a geometry `${geom.id}` that has more verts than the batcher has preallocated, (${geom.vertices.length} vs max of $max_verts)');\n            luxe.Log.log('WARNING geometry has been marked as direct submit, and will be submitted independently!');\n            return;\n        }\n\n            //pos_floats is in element count (so/4)\n        var _count_after = geom.vertices.length+(pos_floats/4);\n\n            //submit the current batch if we exceed the max buffer size\n        if(_count_after > max_verts) {\n            submit_current_vertex_list( geom.primitive_type );\n        }\n\n        geom.batch(\n            pos_floats,     tcoord_floats,  color_floats,   normal_floats,\n            pos_list,       tcoord_list,    color_list,     normal_list\n        );\n\n        var _length = geom.vertices.length * 4;\n\n        pos_floats       += _length;\n        tcoord_floats    += _length;\n        color_floats     += _length;\n        normal_floats    += _length;\n\n    } //geometry_batch\n\n\n//Internal\n\n    inline function set_layer( _layer:Int ) : Int {\n\n            //set the value\n        layer = _layer;\n            //re-sort the list\n        renderer.batchers.sort( renderer.sort_batchers );\n\n            //return value\n        return layer;\n\n    } //set_layer\n\n    inline\n    function toString() {\n        return \"Batcher(\" + name + \")\";\n    }\n\n        //this sorts the batchers in a list by layer\n    inline\n    function compare(other:Batcher) {\n\n        if(layer == other.layer) return 0;\n        if(layer < other.layer) return -1;\n\n        return 1;\n\n    } //compare\n\n    function compare_rule_to_string(r:Int) : String {\n        return switch(r) {\n\n            case 0: \"same\";\n            case 1: \"depth <\";\n            case 2: \"depth >\";\n\n            case 3: \"shader <\";\n            case 4: \"shader >\";\n            case 5: \"shader s._ >\";\n            case 6: \"shader _.s <\";\n\n            case 7: \"texture <\";\n            case 8: \"texture >\";\n            case 9: \"texture t._ >\";\n            case 10: \"texture _.t <\";\n\n            case 11: \"primitive <\";\n            case 12: \"primitive >\";\n            case 13: \"unclipped\";\n            case 14: \"clipped\";\n            case 15: \"timestamp <\";\n            case 16: \"timestamp >\";\n            case 17: \"timestamp ==\";\n            case 18: \"sequence <\";\n            case 19: \"sequence >\";\n            case 20: \"fallback\";\n            default: \"unknown\";\n\n        }\n\n    } //compare_rule_to_string\n\n    function compare_rule( a:GeometryKey, b:GeometryKey ) : Int {\n\n        if(a.uuid == b.uuid)\n            { return 0; }\n\n            //sort by depth first\n        if( a.depth < b.depth )\n            { return 1; }\n        if( a.depth > b.depth )\n            { return 2; }\n\n            //by this point, depth are equal\n            //so sort by shader, then texture, then primitive type\n\n        if(a.shader != null && b.shader != null) {\n\n                //sort shaders id's by gl id\n            if(a.shader.id < b.shader.id)\n                { return 3; }\n            if(a.shader.id > b.shader.id)\n                { return 4; }\n\n        } else {\n            if(a.shader != null && b.shader == null) {\n                return 5;\n            } else\n            if(a.shader == null && b.shader != null) {\n                return 6;\n            }\n        }\n\n        if(a.texture != null && b.texture != null) {\n\n                //sort textures id's by gl id\n            if(a.texture.id < b.texture.id)\n                { return 7; }\n            if(a.texture.id > b.texture.id)\n                { return 8; }\n\n        } else {\n            if(a.texture != null && b.texture == null) {\n                return 9;\n            } else\n            if(a.texture == null && b.texture != null) {\n                return 10;\n            }\n\n        }\n\n            //same texture and shader, so primitive type\n        var a_primitive_index : Int = a.primitive_type;\n        var b_primitive_index : Int = b.primitive_type;\n\n        if( a_primitive_index < b_primitive_index )\n            { return 11; }\n        if( a_primitive_index > b_primitive_index )\n            { return 12; }\n\n            //if not the same clipping, we want clipped geometry after, and not clipped before\n        if(a.clip != b.clip) {\n\n            if(a.clip == false && b.clip == true) {\n                return 13;\n            } else\n\n            if(a.clip == true && b.clip == false) {\n                return 14;\n            }\n\n        } //clippin\n\n            //if all else is indistinguishable,\n            //make sure older geometry is before\n\n        if( a.timestamp < b.timestamp )\n            { return 15; }\n        if( a.timestamp > b.timestamp )\n            { return 16; }\n        if( a.timestamp == b.timestamp )\n            { return 17; }\n\n        if( a.sequence < b.sequence )\n            { return 18; }\n        if( a.sequence > b.sequence )\n            { return 19; }\n\n            //otherwise push down the list because wtf\n        return 20;\n\n    } //compare_rule\n\n    function geometry_compare( a:GeometryKey, b:GeometryKey ) : Int {\n\n            //rules :\n                //depth\n                //shader\n                //texture\n                //primitive type\n                //clipping\n                //age\n                //sequence/fallback\n\n            //check equality\n        if(a.uuid == b.uuid)\n            { return 0; }\n\n            //sort by depth first\n        if( a.depth < b.depth )\n            { return -1; }\n        if( a.depth > b.depth )\n            { return 1; }\n\n            //by this point, depth are equal\n            //so sort by shader, then texture, then primitive type\n        if(a.shader != null && b.shader != null) {\n\n                //sort shaders id's by gl id\n            if(a.shader.id < b.shader.id)\n                { return -1; }\n            if(a.shader.id > b.shader.id)\n                { return 1; }\n\n        } else {\n            if(a.shader != null && b.shader == null) {\n                return 1;\n            } else\n            if(a.shader == null && b.shader != null) {\n                return -1;\n            }\n        }\n\n        if(a.texture != null && b.texture != null) {\n\n                //sort textures id's by gl id\n            if(a.texture.id < b.texture.id)\n                { return -1; }\n            if(a.texture.id > b.texture.id)\n                { return 1; }\n\n        } else {\n            if(a.texture != null && b.texture == null) {\n                return 1;\n            } else\n            if(a.texture == null && b.texture != null) {\n                return -1;\n            }\n        }\n\n            //same texture and shader, so primitive type\n        var a_primitive_index : Int = a.primitive_type;\n        var b_primitive_index : Int = b.primitive_type;\n\n        if( a_primitive_index < b_primitive_index )\n            { return -1; }\n        if( a_primitive_index > b_primitive_index )\n            { return 1; }\n\n            //if not the same clipping, we want clipped geometry after, and not clipped before\n        if(a.clip != b.clip) {\n\n            if(a.clip == false && b.clip == true) {\n                return 1;\n            } else\n\n            if(a.clip == true && b.clip == false) {\n                return -1;\n            }\n\n        } //clippin\n\n            //if all else is indistinguishable,\n            //make sure older geometry is before\n\n        if( a.timestamp < b.timestamp )\n            { return -1; }\n        if( a.timestamp > b.timestamp )\n            { return 1; }\n        if( a.sequence < b.sequence )\n            { return -1; }\n        if( a.sequence > b.sequence )\n            { return 1; }\n\n            //otherwise push down the list because wtf\n        return 1;\n\n    } //geometry_compare\n\n    function list_geometry() {\n        for(geom in geometry) {\n            _debug('\\t   geometry: ' + geom.id  + ' / ' + geom.depth + ' / ' + geom.uuid );\n            _debug('\\t\\t' + geom.key);\n        }\n    }\n\n    function set_show_stats(_value:Int) {\n        if(_value == 0) {\n            renderer.stats.batchers--;\n        } else {\n            renderer.stats.batchers++;\n        }\n        return show_stats = _value;\n    }\n\n    public static inline var vert_attribute   : Int = 0;\n    public static inline var tcoord_attribute : Int = 1;\n    public static inline var color_attribute  : Int = 2;\n    public static inline var normal_attribute : Int = 3;\n\n} //Batcher\n\n\n@:enum abstract PrimitiveType(Int) from Int to Int {\n\n    var unknown         = -1;\n    var line_strip      = GL.LINE_STRIP;\n    var line_loop       = GL.LINE_LOOP;\n    var lines           = GL.LINES;\n    var triangle_strip  = GL.TRIANGLE_STRIP;\n    var triangles       = GL.TRIANGLES;\n    var triangle_fan    = GL.TRIANGLE_FAN;\n    var points          = GL.POINTS;\n\n} //PrimitiveType\n\n@:enum abstract BlendMode(Int) from Int to Int {\n\n    var zero                    = GL.ZERO;\n    var one                     = GL.ONE;\n    var src_color               = GL.SRC_COLOR;\n    var one_minus_src_color     = GL.ONE_MINUS_SRC_COLOR;\n    var src_alpha               = GL.SRC_ALPHA;\n    var one_minus_src_alpha     = GL.ONE_MINUS_SRC_ALPHA;\n    var dst_alpha               = GL.DST_ALPHA;\n    var one_minus_dst_alpha     = GL.ONE_MINUS_DST_ALPHA;\n    var dst_color               = GL.DST_COLOR;\n    var one_minus_dst_color     = GL.ONE_MINUS_DST_COLOR;\n    var src_alpha_saturate      = GL.SRC_ALPHA_SATURATE;\n\n} //BlendMode\n\n@:enum abstract BlendEquation(Int) from Int to Int {\n\n    var add                    = GL.FUNC_ADD;\n    var subtract               = GL.FUNC_SUBTRACT;\n    var reverse_subtract       = GL.FUNC_REVERSE_SUBTRACT;\n\n} //BlendEquation\n\n@:enum abstract BatcherEventType(Int) from Int to Int {\n\n    var unknown     = 0;\n    var prerender   = 1;\n    var postrender  = 2;\n\n} //BatcherEventType\n\n","package phoenix.geometry;\n\n\nimport phoenix.geometry.Vertex;\nimport phoenix.Quaternion;\nimport phoenix.Rectangle;\nimport phoenix.Transform;\nimport phoenix.Vector;\nimport phoenix.Shader;\nimport phoenix.Texture;\nimport phoenix.Batcher;\n\nimport luxe.Log.*;\nimport luxe.options.GeometryOptions;\n\nimport snow.api.buffers.Float32Array;\n\nimport snow.modules.opengl.GL;\n\n#if cpp\nusing cpp.NativeArray;\n#end\n\n@:allow(phoenix.Batcher)\nclass Geometry {\n\n        //the positional transform information\n    public var transform : Transform;\n\n        //The list of vertices\n    public var vertices : Array<Vertex>;\n\n//:todo: This section is largely WIP\n//and not considered API, should be treated as volatile\n\n    var object_space : Bool = false;\n\n    var buffer_based : Bool = false;\n    var buffer_type : Int = GL.DYNAMIC_DRAW;\n    var buffer_pos : Float32Array;\n    var buffer_tcoords : Float32Array;\n    var buffer_colors : Float32Array;\n    var buffer_normals : Float32Array;\n\n    var vb_pos : GLBuffer;\n    var vb_tcoords : GLBuffer;\n    var vb_colors : GLBuffer;\n    var vb_normals : GLBuffer;\n\n    var uniforms : Uniforms;\n\n//End section\n\n        //Batcher information\n    public var added : Bool = false;\n    public var batchers : Array<Batcher>;\n\n        //state\n    public var state : GeometryState;\n    public var dropped : Bool = false;\n    public var uuid : String = '';\n    public var id : String = '';\n\n        //State properties\n    @:isVar public var primitive_type (get, set) : PrimitiveType;\n    @:isVar public var texture (get, set) : Texture;\n    @:isVar public var shader (get, set) : Shader;\n    @:isVar public var depth (get, set) : Float;\n    @:isVar public var clip_rect (get, set) : Rectangle;\n    @:isVar public var blend_disabled(get, set) : Bool = false;\n    @:isVar public var blend_src_alpha(get, set) : Int = BlendMode.src_alpha;\n    @:isVar public var blend_src_rgb(get, set) : Int = BlendMode.src_alpha;\n    @:isVar public var blend_dest_alpha(get, set) : Int = BlendMode.one_minus_src_alpha;\n    @:isVar public var blend_dest_rgb(get, set) : Int = BlendMode.one_minus_src_alpha;\n\n    var shadow_primitive_type : PrimitiveType;\n    var shadow_texture : Texture;\n    var shadow_shader : Shader;\n    var shadow_depth : Float = 0.0;\n    var shadow_clip : Bool = false;\n    var shadow_blend_disabled : Bool = false;\n    var shadow_blend_src_alpha : Int = BlendMode.src_alpha;\n    var shadow_blend_src_rgb : Int = BlendMode.src_alpha;\n    var shadow_blend_dest_alpha : Int = BlendMode.one_minus_src_alpha;\n    var shadow_blend_dest_rgb : Int = BlendMode.one_minus_src_alpha;\n\n    var dirty_primitive_type : Bool = false;\n    var dirty_texture : Bool = false;\n    var dirty_shader : Bool = false;\n    var dirty_depth : Bool = false;\n    var dirty_clip : Bool = false;\n    var dirty_blend : Bool = false;\n\n        //Geometry properties\n    @:isVar public var visible      (default, set) : Bool = true;\n    @:isVar public var immediate    (default, default) : Bool = false;\n    @:isVar public var locked       (get, set) : Bool = false;\n    @:isVar public var dirty        (get, set) : Bool = false;\n    @:isVar public var color        (default, set) : Color;\n\n        //:voltile:wip: whether or not the dirty flag is used or not\n        //if this is false, the geometry will submit even when not dirty\n    public var dirty_based = true;\n\n        //internal bool flag for clip sorting and clipping state\n    @:noCompletion @:isVar public var clip (get, set) : Bool;\n\n        //internal reuse cache value\n    var _final_vert_position : Vector;\n\n    public var key : GeometryKey;\n\n        //This is a failsafe against all other geometry key values being identical\n        //causing comparisons in a binary tree to fail. This value is never reset intentionally.\n    static var _sequence_key : Int = -1;\n\n    public function new(_options:GeometryOptions) {\n\n        uuid = Luxe.utils.uniqueid();\n        id = uuid;\n\n        state = new GeometryState();\n        vertices = [];\n        batchers = [];\n\n            //init transforms\n        transform = new Transform();\n\n            //init the empty vertex reuse\n        _final_vert_position = new Vector();\n\n            //geometry clipping\n        clip_rect = null;\n        clip = false;\n\n            //this only applies if batcher is supplied, but is overriden with no_batcher_add\n        var _do_add = true;\n\n\n        id                   = def(_options.id,              uuid);\n        color                = def(_options.color,           new Color());\n        visible              = def(_options.visible,         true);\n        immediate            = def(_options.immediate,       false);\n\n        //:todo: This section is WIP and considered volatile/not api\n        buffer_based         = def(_options.buffer_based,    false);\n        object_space         = def(_options.object_space,    false);\n        //end section\n\n        state.depth          = def(_options.depth,           state.depth);\n        state.texture        = def(_options.texture,         state.texture);\n        state.primitive_type = def(_options.primitive_type,  state.primitive_type);\n        state.shader         = def(_options.shader,          state.shader);\n\n        if(_options.clip_rect != null) {\n            var _r = _options.clip_rect;\n            state.clip_x = _r.x;\n            state.clip_y = _r.y;\n            state.clip_w = _r.w;\n            state.clip_h = _r.h;\n        }\n\n        transform.pos        = def(_options.pos,             transform.pos);\n        transform.rotation   = def(_options.rotation,        transform.rotation);\n        transform.scale      = def(_options.scale,           transform.scale);\n        transform.origin     = def(_options.origin,          transform.origin);\n\n        if(_options.no_batcher_add != null && _options.no_batcher_add == true) {\n            _do_add = false;\n        }\n\n        _sequence_key++;\n\n        key = new GeometryKey();\n\n            key.uuid = uuid;\n            key.timestamp = Luxe.time;\n            key.sequence = _sequence_key;\n            key.primitive_type = state.primitive_type;\n            key.texture = state.texture;\n            key.shader = state.shader;\n            key.depth = state.depth;\n            key.clip = state.clip;\n            key.blend_disabled = state.blend_disabled;\n            key.blend_src_alpha = state.blend_src_alpha;\n            key.blend_src_rgb = state.blend_src_rgb;\n            key.blend_dest_alpha = state.blend_dest_alpha;\n            key.blend_dest_rgb = state.blend_dest_rgb;\n\n        transform.id = uuid;\n        transform.name = id;\n\n            //only add it to a batcher if explicitly requested,\n            //otherwise do not add to a batcher at all\n        if(_options.batcher != null && _do_add) {\n            _options.batcher.add( this );\n        }\n\n            //:todo: This is WIP/volatile and not considered api\n        if(buffer_based) create_vbos();\n        uniforms = new Uniforms();\n\n    } //new\n\n    public function key_string() {\n\n        return\n            'ts: '+ key.timestamp + '\\n' +\n            'sequence: '+ key.sequence + '\\n' +\n            'primitive_type: '+ key.primitive_type + '\\n' +\n            'texture: '+ (key.texture == null ? 'null' : key.texture.id) + '\\n' +\n            'shader: '+ (key.shader == null ? 'null' : key.shader.id) + '\\n' +\n            'depth: '+ key.depth + '\\n' +\n            'clip: '+ key.clip;\n\n    } //key_string\n\n    public function refresh_key() {\n\n        // _sequence_key++;\n\n        key.uuid = uuid;\n        key.timestamp = Luxe.time;\n        // key.sequence = _sequence_key;\n        key.primitive_type = state.primitive_type;\n        key.texture = state.texture;\n        key.shader = state.shader;\n        key.depth = state.depth;\n        key.clip = state.clip;\n        key.blend_disabled = state.blend_disabled;\n        key.blend_src_alpha = state.blend_src_alpha;\n        key.blend_src_rgb = state.blend_src_rgb;\n        key.blend_dest_alpha = state.blend_dest_alpha;\n        key.blend_dest_rgb = state.blend_dest_rgb;\n\n    } //refresh_key\n\n    public function str() {\n        if(!state.log) return;\n        trace('\\t\\tgeometry ; ' + id);\n        state.log = true;\n        state.str();\n        state.log = false;\n    }\n\n    public function drop( ?remove:Bool = true ) {\n\n        if( remove && added ) {\n\n            for(b in batchers) {\n                b.remove( this, true );\n            } //for each batcher\n\n        }\n\n        key = null;\n        color = null;\n        state = null;\n        _final_vert_position = null;\n        batchers = null;\n        uuid = null;\n        id = null;\n        shadow_texture = null;\n        shadow_shader = null;\n        vertices = null;\n\n        if(transform != null) {\n            transform.destroy();\n            transform = null;\n        }\n\n        if(uniforms != null) {\n            uniforms.destroy();\n            uniforms = null;\n        }\n\n        destroy_vbos();\n        if(buffer_pos != null) {\n            buffer_pos = null;\n            buffer_tcoords = null;\n            buffer_colors = null;\n            buffer_normals = null;\n        }\n\n        dropped = true;\n\n    } //drop\n\n    public function add( v : Vertex ) {\n\n        vertices.push( v );\n\n    } //add\n\n    public function remove( v : Vertex ) {\n\n        vertices.remove(v);\n\n    } //remove\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    public function batch( vert_index : Int, tcoord_index:Int, color_index:Int, normal_index:Int,\n                           vertlist : Float32Array, tcoordlist : Float32Array, colorlist : Float32Array, normallist : Float32Array\n        ) {\n\n        var _mat = transform.world.matrix;\n        var _el = _mat.elements;\n\n        #if cpp\n            inline function tx(_x:Float,_y:Float,_z:Float) : Float return _el.unsafeGet(0) * _x + _el.unsafeGet(4) * _y + _el.unsafeGet(8)  * _z + _el.unsafeGet(12);\n            inline function ty(_x:Float,_y:Float,_z:Float) : Float return _el.unsafeGet(1) * _x + _el.unsafeGet(5) * _y + _el.unsafeGet(9)  * _z + _el.unsafeGet(13);\n            inline function tz(_x:Float,_y:Float,_z:Float) : Float return _el.unsafeGet(2) * _x + _el.unsafeGet(6) * _y + _el.unsafeGet(10) * _z + _el.unsafeGet(14);\n        #else\n            inline function tx(_x:Float,_y:Float,_z:Float) : Float return _el[0] * _x + _el[4] * _y + _el[8]  * _z + _el[12];\n            inline function ty(_x:Float,_y:Float,_z:Float) : Float return _el[1] * _x + _el[5] * _y + _el[9]  * _z + _el[13];\n            inline function tz(_x:Float,_y:Float,_z:Float) : Float return _el[2] * _x + _el[6] * _y + _el[10] * _z + _el[14];\n        #end\n\n        var _count = vertices.length;\n        var _idx = 0;\n\n        while(_idx < _count) {\n            var v = vertices[_idx];\n\n            var _vx = v.pos.x;\n            var _vy = v.pos.y;\n            var _vz = v.pos.z;\n\n                //the old positions must be used to\n                // transform correctly, for each of the components\n            var _tvx = tx(_vx, _vy, _vz);\n            var _tvy = ty(_vx, _vy, _vz);\n            var _tvz = tz(_vx, _vy, _vz);\n\n                vertlist[(vert_index+0)] = _tvx;\n                vertlist[(vert_index+1)] = _tvy;\n                vertlist[(vert_index+2)] = _tvz;\n                vertlist[(vert_index+3)] = v.pos.w;\n\n            vert_index += 4;\n\n            var _vuv = v.uv.uv0;\n\n                tcoordlist[(tcoord_index+0)] = _vuv.u;\n                tcoordlist[(tcoord_index+1)] = _vuv.v;\n                tcoordlist[(tcoord_index+2)] = _vuv.w;\n                tcoordlist[(tcoord_index+3)] = _vuv.t;\n\n            tcoord_index += 4;\n\n                colorlist[(color_index+0)] = v.color.r;\n                colorlist[(color_index+1)] = v.color.g;\n                colorlist[(color_index+2)] = v.color.b;\n                colorlist[(color_index+3)] = v.color.a;\n\n            color_index += 4;\n\n            #if phoenix_use_normals\n                var _vn = v.normal;\n                normallist[(normal_index+0)] = _vn.x;\n                normallist[(normal_index+1)] = _vn.y;\n                normallist[(normal_index+2)] = _vn.z;\n                normallist[(normal_index+3)] = _vn.w;\n            #end\n\n            normal_index += 4;\n\n\n            _idx++;\n\n        } //each vertex\n\n    } //batch\n\n    @:noCompletion\n    inline\n    public function batch_object_space( vert_index : Int, tcoord_index:Int, color_index:Int, normal_index:Int,\n                                        vertlist : Float32Array, tcoordlist : Float32Array, colorlist : Float32Array, normallist : Float32Array\n        ) {\n\n        for(v in vertices) {\n\n            var _vpos = v.pos;\n            var _vuv = v.uv.uv0;\n            var _vcol = v.color;\n\n                vertlist[(vert_index+0)] = _vpos.x;\n                vertlist[(vert_index+1)] = _vpos.y;\n                vertlist[(vert_index+2)] = _vpos.z;\n                vertlist[(vert_index+3)] = _vpos.w;\n\n            vert_index += 4;\n\n                tcoordlist[(tcoord_index+0)] = _vuv.u;\n                tcoordlist[(tcoord_index+1)] = _vuv.v;\n                tcoordlist[(tcoord_index+2)] = _vuv.w;\n                tcoordlist[(tcoord_index+3)] = _vuv.t;\n\n            tcoord_index += 4;\n\n                colorlist[(color_index+0)] = _vcol.r;\n                colorlist[(color_index+1)] = _vcol.g;\n                colorlist[(color_index+2)] = _vcol.b;\n                colorlist[(color_index+3)] = _vcol.a;\n\n            color_index += 4;\n\n            #if phoenix_use_normals\n                var _vnorm = v.normal;\n                normallist[(normal_index+0)] = _vnorm.x;\n                normallist[(normal_index+1)] = _vnorm.y;\n                normallist[(normal_index+2)] = _vnorm.z;\n                normallist[(normal_index+3)] = _vnorm.w;\n            #end\n\n            normal_index += 4;\n\n        } //each vertex\n\n    } //batch_object_space\n\n    public function batch_into_arrays( vertlist : Array<Float>, tcoordlist : Array<Float>,\n                           colorlist : Array<Float>, normallist : Array<Float> ) {\n\n        for(v in vertices) {\n\n                // the base position of the vert\n            _final_vert_position.set( v.pos.x, v.pos.y, v.pos.z, v.pos.w );\n                // apply the transform to the vert\n            _final_vert_position.transform( transform.world.matrix );\n\n                //submit vert positions\n            vertlist.push( _final_vert_position.x );\n            vertlist.push( _final_vert_position.y );\n            vertlist.push( _final_vert_position.z );\n            vertlist.push( _final_vert_position.w );\n\n                //texture coordinates :todo: multiple uv sets\n            tcoordlist.push( v.uv.uv0.u );\n            tcoordlist.push( v.uv.uv0.v );\n            tcoordlist.push( v.uv.uv0.w );\n            tcoordlist.push( v.uv.uv0.t );\n\n                //color values per vertex\n            colorlist.push( v.color.r );\n            colorlist.push( v.color.g );\n            colorlist.push( v.color.b );\n            colorlist.push( v.color.a );\n\n            #if phoenix_use_normals\n                normallist.push( v.normal.x );\n                normallist.push( v.normal.y );\n                normallist.push( v.normal.z );\n                normallist.push( v.normal.w );\n            #end\n\n        } //each vertex\n\n    } //batch_into_arrays\n\n//Explicit vb\n\n    function destroy_vbos() {\n        if(vb_pos==null) return;\n        GL.deleteBuffer(vb_pos);\n        GL.deleteBuffer(vb_tcoords);\n        GL.deleteBuffer(vb_colors);\n        #if phoenix_use_normals\n        GL.deleteBuffer(vb_normals);\n        #end\n    } //destroy_vbos\n\n    inline\n    function create_vbos() {\n        if(vb_pos!=null) return;\n        vb_pos = GL.createBuffer();\n        vb_tcoords = GL.createBuffer();\n        vb_colors = GL.createBuffer();\n        #if phoenix_use_normals\n        vb_normals = GL.createBuffer();\n        #end\n        dirty = true;\n    }\n\n    inline\n    function bind() {\n        bind_pos();\n        bind_tcoords();\n        bind_colors();\n        #if phoenix_use_normals\n        bind_normals();\n        #end\n    }\n\n\n    inline\n    function bind_pos() {\n        GL.bindBuffer(GL.ARRAY_BUFFER, vb_pos);\n        GL.vertexAttribPointer(Batcher.vert_attribute, 4, GL.FLOAT, false, 0, 0);\n    }\n\n    inline\n    function bind_tcoords() {\n        GL.bindBuffer(GL.ARRAY_BUFFER, vb_tcoords);\n        GL.vertexAttribPointer(Batcher.tcoord_attribute, 4, GL.FLOAT, false, 0, 0);\n    }\n\n    inline\n    function bind_colors() {\n        GL.bindBuffer(GL.ARRAY_BUFFER, vb_colors);\n        GL.vertexAttribPointer(Batcher.color_attribute, 4, GL.FLOAT, false, 0, 0);\n    }\n\n    #if phoenix_use_normals\n    inline\n    function bind_normals() {\n        GL.bindBuffer(GL.ARRAY_BUFFER, vb_normals);\n        GL.vertexAttribPointer(Batcher.normal_attribute, 4, GL.FLOAT, false, 0, 0);\n    }\n    #end\n\n    inline\n    function unbind() {\n        GL.bindBuffer(GL.ARRAY_BUFFER, null);\n    }\n\n    inline\n    function bind_and_upload() {\n\n        bind_pos();\n        GL.bufferData(GL.ARRAY_BUFFER, buffer_pos, buffer_type);\n\n        bind_tcoords();\n        GL.bufferData(GL.ARRAY_BUFFER, buffer_tcoords, buffer_type);\n\n        bind_colors();\n        GL.bufferData(GL.ARRAY_BUFFER, buffer_colors, buffer_type);\n\n        #if phoenix_use_normals\n        bind_normals();\n        GL.bufferData(GL.ARRAY_BUFFER, buffer_normals, buffer_type);\n        #end\n\n    } //_bind_and_upload\n\n    var _prev_count = 0;\n    function update_buffers() : Bool {\n\n        if(!dirty && dirty_based) return false;\n\n        var _verts = vertices.length;\n\n        //since vertices might change we recreate the buffers\n        if((_verts != _prev_count) || buffer_pos == null) {\n            var _length:Int = (vertices.length * 4);\n            buffer_pos = null;\n            buffer_normals = null;\n            buffer_colors = null;\n            buffer_tcoords = null;\n            buffer_pos = new Float32Array(_length);\n            buffer_tcoords = new Float32Array(_length);\n            buffer_colors = new Float32Array(_length);\n            #if phoenix_use_normals\n            buffer_normals = new Float32Array(_length);\n            #end\n        }\n\n        if(object_space) {\n            batch_object_space(0,0,0,0,buffer_pos,buffer_tcoords,buffer_colors,buffer_normals);\n        } else {\n            batch(0,0,0,0,buffer_pos,buffer_tcoords,buffer_colors,buffer_normals);\n        }\n\n        dirty = false;\n\n        return true;\n\n    } //update_vb\n\n    inline\n    function draw() {\n        //the buffer pos length is favoured because if dirty is not flagged,\n        //and the vertices change, then the size of the buffers becomes inconsistent\n        //with the draw call and Bad Things happen like memory corruption\n        GL.drawArrays( primitive_type, 0, Std.int(buffer_pos.length/4) );\n    }\n\n//Transform\n\n    public function translate( _offset:Vector ) {\n\n        transform.pos.set_xyz( transform.pos.x+_offset.x, transform.pos.y+_offset.y, transform.pos.x+_offset.z );\n\n    } // translate\n\n    function set_locked( _locked:Bool ) : Bool {\n\n        buffer_type = _locked ? GL.STATIC_DRAW : GL.DYNAMIC_DRAW;\n\n        if(_locked && vb_pos == null) create_vbos();\n        if(!_locked && vb_pos != null) destroy_vbos();\n\n        return locked = _locked;\n\n    } //set_locked\n\n    inline function get_locked() : Bool {\n\n        return locked;\n\n    } //get_locked\n\n    function set_dirty( _dirty:Bool ) : Bool {\n\n        return dirty = _dirty;\n\n    } //set_dirty\n\n    inline function get_dirty() : Bool {\n\n        return dirty;\n\n    } //get_dirty\n\n//Invariants that cause a shift in the geometry tree\n\n    function refresh() {\n\n            //remove from all batchers\n        for(b in batchers) {\n            b.remove( this, false );\n        } //for each batcher\n\n                //update the values from the shadow values, if needed\n            if(dirty_primitive_type) {\n                dirty_primitive_type = false;\n                state.primitive_type = shadow_primitive_type;\n            } //dirty_primitive_type\n\n            if(dirty_texture) {\n                dirty_texture = false;\n                state.texture = shadow_texture;\n            } //dirty_texture\n\n            if(dirty_shader) {\n                dirty_shader = false;\n                state.shader = shadow_shader;\n            } //dirty_shader\n\n            if(dirty_depth) {\n                dirty_depth = false;\n                state.depth = shadow_depth;\n            } //dirty_depth\n\n            if(dirty_clip) {\n                dirty_clip = false;\n                state.clip = shadow_clip;\n            } //dirty_clip\n\n            if(dirty_blend) {\n                dirty_blend = false;\n                state.blend_disabled = shadow_blend_disabled;\n                state.blend_src_alpha = shadow_blend_src_alpha;\n                state.blend_src_rgb = shadow_blend_src_rgb;\n                state.blend_dest_alpha = shadow_blend_dest_alpha;\n                state.blend_dest_rgb = shadow_blend_dest_rgb;\n            } //dirty_clip\n\n                //make sure the key is updated\n           refresh_key();\n\n        for(b in batchers) {\n            b.add( this, false );\n        } //for each batcher\n\n    } //refresh\n\n//Primitive Type\n\n    inline function get_primitive_type() : PrimitiveType {\n\n        return state.primitive_type;\n\n    } //get_primitive_type\n\n    function set_primitive_type( val : PrimitiveType ) : PrimitiveType {\n\n        if(state.primitive_type != val) {\n            shadow_primitive_type = val;\n            dirty_primitive_type = true;\n            refresh();\n        }\n\n        return primitive_type = val;\n\n    } //set_primitive_type\n\n//Texture\n\n    inline function get_texture() : Texture {\n\n        return state.texture;\n\n    } //get_texture\n\n    function set_texture(val : Texture) : Texture {\n\n        if(state.texture != val) {\n            shadow_texture = val;\n            dirty_texture = true;\n            refresh();\n        }\n\n        return texture = val;\n\n    } //set_texture\n\n//Visibility\n\n    function set_visible(val : Bool) : Bool {\n\n        return visible = val;\n\n    } //set_visible\n\n//Color\n\n    function set_color(val : Color) : Color {\n\n        if(vertices != null && vertices.length > 0) {\n            for(v in vertices) {\n                v.color = val;\n            } //for each vertex\n        }\n\n        return color = val;\n\n    } //set_color\n\n//Shader\n\n    inline function get_shader() : Shader {\n\n        return state.shader;\n\n    } //get_shader\n\n    function set_shader(val : Shader) : Shader {\n\n        if(state.shader != val) {\n            shadow_shader = val;\n            dirty_shader = true;\n            refresh();\n        }\n\n        return shader = val;\n\n    } //set_shader\n\n//Depth\n\n    inline function get_depth() : Float {\n\n        return state.depth;\n\n    } //get_depth\n\n\n    function set_depth(val : Float) : Float {\n\n        if(state.depth != val) {\n            shadow_depth = val;\n            dirty_depth = true;\n            refresh();\n        }\n\n        return depth = val;\n\n    } //set_depth\n\n//Blends\n\n    inline function get_blend_disabled() : Bool {\n        return state.blend_disabled;\n    }\n\n    inline function get_blend_src_alpha() : Int {\n        return state.blend_src_alpha;\n    }\n\n    inline function get_blend_src_rgb() : Int {\n        return state.blend_src_rgb;\n    }\n\n    inline function get_blend_dest_alpha() : Int {\n        return state.blend_dest_alpha;\n    }\n\n    inline function get_blend_dest_rgb() : Int {\n        return state.blend_dest_rgb;\n    }\n\n    function set_blend_disabled(val:Bool) : Bool {\n        state.ignore_blend = false;\n        if(state.blend_disabled != val) {\n            shadow_blend_disabled = val;\n            dirty_blend = true;\n            refresh();\n        }\n        return blend_disabled = val;\n    }\n\n    function set_blend_src_alpha(val:Int) : Int {\n        state.ignore_blend = false;\n        if(state.blend_src_alpha != val) {\n            shadow_blend_src_alpha = val;\n            dirty_blend = true;\n            refresh();\n        }\n        return blend_src_alpha = val;\n    }\n\n    function set_blend_src_rgb(val:Int) : Int {\n        state.ignore_blend = false;\n        if(state.blend_src_rgb != val) {\n            shadow_blend_src_rgb = val;\n            dirty_blend = true;\n            refresh();\n        }\n        return blend_src_rgb = val;\n    }\n\n    function set_blend_dest_alpha(val:Int) : Int {\n        state.ignore_blend = false;\n        if(state.blend_dest_alpha != val) {\n            shadow_blend_dest_alpha = val;\n            dirty_blend = true;\n            refresh();\n        }\n        return blend_dest_alpha = val;\n    }\n\n    function set_blend_dest_rgb(val:Int) : Int {\n        state.ignore_blend = false;\n        if(state.blend_dest_rgb != val) {\n            shadow_blend_dest_rgb = val;\n            dirty_blend = true;\n            refresh();\n        }\n        return blend_dest_rgb = val;\n    }\n\n\n\n\n//Clip\n\n    inline function get_clip() : Bool {\n\n        return state.clip;\n\n    } //get_clip\n\n    function set_clip(val : Bool) : Bool {\n\n        if(state.clip != val) {\n            shadow_clip = val;\n            dirty_clip = true;\n            refresh();\n        }\n\n        return clip = val;\n\n    } //set_clip\n\n//Clip rect\n\n    inline function get_clip_rect() : Rectangle {\n\n        return clip_rect;\n\n    } //get_clip_rect\n\n    function set_clip_rect(val : Rectangle) : Rectangle {\n\n        if(val == null) {\n            clip = false;\n        } else {\n            clip = true;\n            state.clip_x = val.x;\n            state.clip_y = val.y;\n            state.clip_w = val.w;\n            state.clip_h = val.h;\n        }\n\n        return clip_rect = val;\n\n    } //set_clip_rect\n\n\n} //Geometry\n\n\nclass GeometryKey {\n\n    public inline function new() {}\n\n    public var timestamp : Float = 0;\n    public var sequence : Int = 0;\n    public var uuid : String = '';\n    public var primitive_type : PrimitiveType;\n    public var texture : Texture;\n    public var shader : Shader;\n    public var depth : Float = 0;\n    public var clip : Bool = false;\n    public var blend_disabled : Bool = false;\n    public var blend_src_alpha : Int = 0;\n    public var blend_src_rgb : Int = 0;\n    public var blend_dest_alpha : Int = 0;\n    public var blend_dest_rgb : Int = 0;\n\n} //GeometryKey\n","package phoenix;\n\nimport luxe.resource.Resource;\nimport luxe.Resources;\n\n// import luxe.options.FontOptions;\nimport luxe.options.ResourceOptions;\nimport luxe.options.TextOptions;\nimport luxe.importers.bitmapfont.BitmapFontData;\nimport luxe.importers.bitmapfont.BitmapFontParser;\n\nimport phoenix.Batcher;\nimport phoenix.geometry.TextGeometry;\nimport phoenix.Rectangle;\nimport phoenix.Vector;\nimport phoenix.Texture;\nimport snow.api.Promise;\nimport snow.types.Types.Error;\nimport snow.systems.assets.Asset;\n\nimport luxe.Log.*;\n\nusing luxe.utils.unifill.Unifill;\n\n@:enum abstract TextAlign(Int) from Int to Int {\n    var left = 0;\n    var right = 1;\n    var center = 2;\n    var top = 3;\n    var bottom = 4;\n} //TextAlign\n\n\nclass BitmapFont extends Resource {\n\n        /** The map of font texture pages to their id. */\n    public var pages: Map<Int, Texture>;\n        /** The bitmap font data */\n    public var info (default, set): BitmapFontData;\n        /** Cached reference of the ' '(32) character, for sizing on tabs/spaces */\n    public var space_char: Character;\n\n        /** Optional texture path. */\n    var texture_path: String;\n\n    public function new( _options:BitmapFontOptions ) {\n\n        assertnull(_options);\n\n        _options.resource_type = ResourceType.font;\n\n        super( _options );\n\n        if(_options.texture_path != null) {\n            texture_path = _options.texture_path;\n        } else {\n            texture_path = haxe.io.Path.directory(id);\n        }\n\n        pages = new Map();\n\n        if(_options.pages != null) assertnull(_options.font_data, 'BitmapFont create from pages + font_data requires both of those options');\n        if(_options.font_data != null) {\n\n            assertnull(_options.pages, 'BitmapFont create from pages + font_data requires both of those options');\n\n            info = BitmapFontParser.parse(_options.font_data);\n            apply_pages(_options.pages);\n\n        } //font_data\n\n    } //new\n\n//Public api\n    //\n\n        /** Returns the kerning between two glyphs, or 0 if none.\n            A glyph int id is the value from 'c'.charCodeAt(0) */\n    public inline function kerning(_first:Int, _second:Int) {\n\n        var _map = info.kernings.get(_first);\n\n        if(_map != null && _map.exists(_second)) {\n            return _map.get(_second);\n        }\n\n        return 0;\n\n    } //kerning\n\n        /** Wrap the given string to the given rectangle, using the given metrics.\n            Returns a new array, with each line of the string split across the bounds. */\n    public function wrap_string_to_bounds( _string:String, _bounds:Rectangle, _point_size:Float=1.0, _letter_spc:Float=0.0 ) : String {\n\n        if(_bounds == null) {\n            return _string;\n        }\n\n        var _cur_x = 0.0; var _idx = 0;\n        var _final_str = '';\n\n        inline function _wordw(_str:String) {\n            return width_of(_str, _point_size, _letter_spc);\n        }\n\n        var _spacew = _wordw(' ');\n\n        inline function _dowrap(_w:Float, _str:String) {\n            if(_cur_x + _w > _bounds.w) {\n                _cur_x = 0;\n                _final_str += '\\n';\n            }\n\n            _cur_x += _w;\n            _final_str += _str;\n        } //_dowrap\n\n            var _strings = _string.split(' ');\n            var _count = _strings.length;\n\n            for(_str in _strings) {\n                if(_str.uIndexOf('\\n') == -1) {\n                    if(_str == '') _str = ' ';\n                    _dowrap( _wordw(_str), _str );\n                } else {\n                    var _widx = 0;\n                    var _words = _str.split('\\n');\n                    for(_word in _words) {\n\n                        if(_word != '') {\n                            _dowrap( _wordw(_word), _word );\n                        } else {\n                            _cur_x = 0;\n                        }\n\n                        if(_widx < _words.length-1) {\n                            _final_str += '\\n';\n                            _cur_x = 0;\n                        }\n\n                        _widx++;\n\n                    } //each word\n                } //no spaces\n\n                if(_idx < _count-1) {\n                    _final_str += ' ';\n                    _cur_x += _spacew + _letter_spc;\n                }\n\n                _idx++;\n\n            } //each word\n\n        return _final_str;\n\n    } //wrap_string_to_bounds\n\n        /** Returns the width of the given line, which assumes the line is already split up (does not split the string), using the given metrics. */\n    public function width_of_line( _string:String, _point_size:Float=1.0, _letter_spc:Float=0.0 ) {\n        //\n            //current x pos\n        var _cur_x = 0.0;\n            //current w pos\n        var _cur_w = 0.0;\n            //the size ratio between font and given size\n        var _ratio = _point_size / info.point_size;\n\n        var i = 0;\n        var _len = _string.uLength();\n\n        for( _uglyph in _string.uIterator() ) {\n\n            var _index = _uglyph.toInt();\n            var _char = info.chars.get(_index);\n            if(_char == null) _char = space_char;\n\n                //some characters (like spaces) have no width but an advance\n                //which is relevant/needed\n            var _cw = (_char.xoffset + Math.max(_char.width, _char.xadvance)) * _ratio;\n            var _cx = _cur_x + (_char.xoffset * _ratio);\n\n            var _spacing = _char.xadvance;\n            if( i < _len-1 ) {\n                var _next_index = _string.uCharCodeAt(i+1);\n                _spacing += kerning( _index, _next_index );\n                if(_next_index >= 32) { _spacing += _letter_spc; }\n            }\n\n            _cur_x += _spacing * _ratio;\n            _cur_w = Math.max(_cur_w, _cx+_cw);\n\n            ++i;\n        } //each char\n\n        return _cur_w;\n\n    } //width_of_line\n\n        /** Returns the width of the given string, using the given metrics.\n            This will split the string and populate the optional _line_widths array with each line width of the string */\n    public inline function width_of( _string:String, _point_size:Float = 1.0, _letter_spc:Float = 0.0, ?_line_widths:Array<Float> ) : Float {\n        //\n            //if given an array to cache line widths into\n        var _max_w = 0.0;\n        var _push_widths = (_line_widths != null);\n        var _lines = _string.uSplit('\\n');\n\n        for(_line in _lines) {\n\n            var _cur_w = width_of_line(_line, _point_size, _letter_spc);\n\n            _max_w = Math.max( _max_w, _cur_w );\n\n            if(_push_widths) {\n                _line_widths.push(_cur_w);\n            }\n\n        } //each line\n\n            //return the max width found\n        return _max_w;\n\n    } //width_of\n\n        /** Returns the height of a string, using the given metrics. */\n    public inline function height_of( _string:String, _point_size:Float, _line_spc:Float=0.0 ) : Float {\n\n        return height_of_lines(_string.split('\\n'), _point_size, _line_spc);\n\n    } //height_of\n\n        /** Return the dimensions of a given string, at the specified point size.\n            You can also use width_of or height_of, this is a convenience for those */\n    public inline function dimensions_of( _string:String, _point_size:Float, _into:Vector, _letter_spc:Float=0.0, _line_spc:Float=0.0 ) : Vector {\n\n        var _width = width_of(_string, _point_size, _letter_spc);\n        var _height = height_of(_string, _point_size, _line_spc);\n\n        return _into.set_xy( _width, _height );\n\n    } //dimensions\n\n        /** Get the height of the given lines with the given metrics. */\n    public inline function height_of_lines( _lines:Array<String>, _point_size:Float, _line_spc:Float=0.0 ) : Float {\n\n        var _ratio = _point_size / info.point_size;\n\n        return _lines.length * ((info.line_height + _line_spc) * _ratio);\n\n    } //height_of\n\n        /** Return the point size at which a line of text will occupy a given pixel height. */\n        //:todo: Implement test/usage case\n    public inline function line_height_to_point_size( _pixel_height:Float, _line_spc:Float=0.0 ) : Float {\n\n        return _pixel_height * ( info.point_size / ( info.line_height + _line_spc ) );\n\n    } //line_height_to_point_size\n\n//Resource api\n\n    override function clear() {\n\n        info = null;\n        var _i = 0;\n        for(_pageid in pages.keys()) {\n            var _page = pages.get(_pageid);\n            _page.destroy();\n            pages.remove(_pageid);\n            _page = null;\n        }\n\n    } //clear\n\n    override public function reload() {\n\n        assert(state != ResourceState.destroyed);\n\n        clear();\n\n        return new Promise(function(resolve, reject) {\n\n            state = ResourceState.loading;\n\n                //fetch the bitmap font data\n            var _font_get = Luxe.snow.assets.text(id);\n\n            _font_get.then(function(_asset:AssetText) {\n\n                    //parse the data\n                info = BitmapFontParser.parse( _asset.text );\n                _asset.destroy();\n                _asset = null;\n\n                assertnull(info);\n\n                var _tex_get = [];\n\n                for(_page in info.pages) {\n\n                    var _path = haxe.io.Path.join([ texture_path, _page.file ]);\n                    var _prior = system.texture(_path);\n\n                    if(_prior != null) {\n                        _tex_get.push( _prior.reload() );\n                    } else {\n                        _tex_get.push( system.load_texture(_path) );\n                    }\n\n                }  //each page\n\n                Promise.all(_tex_get).then(function(_pages:Array<Texture>){\n\n                    apply_pages(_pages);\n\n                    state = ResourceState.loaded;\n                    resolve(this);\n\n                }).error(function(_error){\n\n                    state = ResourceState.failed;\n                    reject(_error);\n\n                });\n\n            }).error(function(_error){\n\n                state = ResourceState.failed;\n                reject(_error);\n\n            });\n\n        }); //promise\n\n    } //reload\n\n//Internal\n\n    function apply_pages(_pages:Array<Texture>) {\n\n        var _pageid : Int = 0;\n\n        for(_page in _pages) {\n            _page.slot = _pageid;\n            pages.set(_pageid, _page);\n            ++_pageid;\n        } //each page\n\n    } //apply_pages\n\n    function set_info(_info:BitmapFontData) {\n\n        info = _info;\n\n        if(info != null) {\n            space_char = info.chars.get(32);\n        }\n\n        return info;\n\n    } //_info\n\n    override function toString() {\n        return \"BitmapFont(\" + id + \")\";\n    }\n\n} //BitmapFont\n\n\n","package phoenix;\n\n\nimport phoenix.utils.Rendering;\nimport snow.modules.opengl.GL;\nimport snow.api.buffers.Float32Array;\n\nimport phoenix.Matrix;\n\nimport phoenix.Quaternion;\nimport phoenix.Rectangle;\nimport phoenix.Transform;\nimport phoenix.Vector;\nimport phoenix.Ray;\n\nimport luxe.options.CameraOptions;\nimport luxe.Log.*;\n\nenum ProjectionType {\n    ortho;\n    perspective;\n    custom;\n}\n\n\nclass Camera {\n\n    public var name : String = 'camera';\n\n    @:isVar public var viewport (get,set) : Rectangle;\n    @:isVar public var center   (get,set) : Vector;\n    @:isVar public var zoom     (default,set) : Float = 1.0;\n\n    @:isVar public var near     (default,set) : Float = 1000;\n    @:isVar public var far      (default,set) : Float = -1000;\n        //specific to perspective\n    @:isVar public var fov      (default,set) : Float = 60;\n    @:isVar public var fov_type (default,set) : FOVType = FOVType.horizontal;\n    @:isVar public var aspect   (default,set) : Float = 1.5;\n    @:isVar public var target   (default,set) : Vector;\n\n        //we keep a local pos variable as an unaltered position\n        //to keep the center relative to the viewport, and allow setting position as 0,0 not center\n    @:isVar public var pos (get,set) : Vector;\n        //the other transforms defer directly to the transform so aren't variables\n    public var scale (get,set) : Vector;\n    public var rotation (get,set) : Quaternion;\n    public var transform : Transform;\n\n    public var cull_backfaces: Bool = false;\n    public var depth_test: Bool = false;\n\n    public var minimum_zoom: Float = 0.01;\n    public var projection_matrix: Matrix;\n    public var view_matrix: Matrix;\n    public var view_matrix_inverse: Matrix;\n        //if any, a rotation matrix for the look at rotation\n    public var look_at_matrix: Matrix;\n\n    public var projection: ProjectionType;\n\n        //:todo: Camera; Exposing wip ortho options\n    public var ortho_left   (default, set): Null<Float>;\n    public var ortho_right  (default, set): Null<Float>;\n    public var ortho_top    (default, set): Null<Float>;\n    public var ortho_bottom (default, set): Null<Float>;\n\n    @:noCompletion public var proj_arr : Float32Array;\n    @:noCompletion public var view_inverse_arr : Float32Array;\n\n        //Internal rendering fov, always vertical\n    var fov_y:Float;\n        //when the transform changes, the camera needs to refresh the view matrix\n    var transform_dirty : Bool = true;\n        //when the projection changes we need to update refresh the matrix\n    var projection_dirty : Bool = true;\n        //when the target changes we can update the look at matrix\n    var look_at_dirty : Bool = true;\n        //when we are still busy setting up\n    var setup_ : Bool = true;\n\n        //A phoenix camera will default to ortho set to screen size\n    public function new( ?_options:CameraOptions ) {\n\n        transform = new Transform();\n        projection_matrix = new Matrix();\n        view_matrix = new Matrix();\n        view_matrix_inverse = new Matrix();\n        look_at_matrix = new Matrix();\n\n            //order matters here\n        def(_options, default_camera_options());\n        projection = def(_options.projection, ProjectionType.ortho);\n        center = new Vector(Luxe.screen.w/2, Luxe.screen.h/2);\n        pos = new Vector();\n\n        viewport = def(_options.viewport, new Rectangle(0, 0, Luxe.screen.w, Luxe.screen.h));\n\n        if(_options.camera_name != null) {\n            name = _options.camera_name;\n        }\n\n        transform.listen(on_transform_cleaned);\n\n        switch (projection) {\n\n            case ProjectionType.ortho:\n                set_ortho( _options );\n            case ProjectionType.perspective:\n                set_perspective( _options );\n            case ProjectionType.custom:\n\n        }\n\n        process();\n\n        setup_ = false;\n\n    } //new\n\n\n//Public API\n\n\n    public function set_ortho( _options:CameraOptions ) {\n\n        projection = ProjectionType.ortho;\n\n        _merge_options( _options );\n\n    } //set_ortho\n\n    public function set_perspective( _options:CameraOptions ) {\n\n        projection = ProjectionType.perspective;\n\n        _merge_options( _options );\n\n        transform.origin.set_xyz(0,0,0);\n\n    } //set_perspective\n\n    public function project( _vector:Vector ) {\n\n        update_matrices();\n\n        var _transform = new Matrix().multiplyMatrices( projection_matrix, view_matrix_inverse );\n        return _vector.clone().applyProjection( _transform );\n\n    } //project\n\n    public function unproject( _vector:Vector ) {\n\n        update_matrices();\n\n        var _inverted = new Matrix().multiplyMatrices( projection_matrix, view_matrix_inverse );\n        return _vector.clone().applyProjection( _inverted.getInverse(_inverted) );\n\n    } //unproject\n\n    public function screen_point_to_ray( _vector:Vector ) : Ray {\n\n        return new Ray( _vector, this );\n\n    } //screen_point_as_ray\n\n    public function screen_point_to_world( _vector:Vector ) : Vector {\n\n        if( projection == ProjectionType.ortho ) {\n            return ortho_screen_to_world(_vector);\n        } else if( projection == ProjectionType.perspective ){\n            return screen_point_to_ray( _vector ).end;\n        }\n\n            //given the default is ortho, for now\n        return ortho_screen_to_world(_vector);\n\n    } //screen_point_to_world\n\n    public function world_point_to_screen( _vector:Vector, ?_viewport:Rectangle=null ) : Vector {\n\n        if( projection == ProjectionType.ortho ) {\n            return ortho_world_to_screen( _vector );\n        } else if( projection == ProjectionType.perspective ) {\n            return persepective_world_to_screen(_vector, _viewport);\n        }\n\n            //given the default is ortho, for now\n        return ortho_world_to_screen( _vector );\n\n    } //world_point_to_screen\n\n\n//Internal API\n\n    @:noCompletion\n    public function process() {\n\n        update_matrices();\n\n            //apply states\n        apply_state(GL.CULL_FACE, cull_backfaces);\n        apply_state(GL.DEPTH_TEST, depth_test);\n\n    } //process\n\n//Transforms\n\n    inline function update_matrices() {\n            \n            //If we have a target, override the rotation\n            //before we update the matrix, so it can be applied immediately if changing\n        if(target != null) update_look_at();\n        \n            //update transforms and projection\n        update_projection_matrix();\n        update_view_matrix();\n\n    } //update_matrices\n\n\n    inline function on_transform_cleaned( t:Transform ) {\n\n        transform_dirty = true;\n\n    } //on_transform_cleaned\n\n    var up_: Vector = new Vector(0,1,0);\n    function update_look_at() {\n\n        if(look_at_dirty && target != null) {\n\n            look_at_matrix.lookAt( target, pos, up_ );\n\n            rotation.setFromRotationMatrix( look_at_matrix );\n\n        } //dirty & !null\n\n    } //update_look_at\n\n    function update_view_matrix() {\n\n        view_matrix = transform.world.matrix;\n\n        if(!transform_dirty) {\n            return;\n        }\n\n        view_matrix_inverse = view_matrix.inverse();\n        view_inverse_arr = view_matrix_inverse.float32array();\n\n        transform_dirty = false;\n\n    } //update_view_matrix\n\n    function update_projection_matrix() {\n\n        if(!projection_dirty) {\n            return;\n        }\n\n        switch(projection) {\n\n            case ProjectionType.custom:\n                //\n\n            case ProjectionType.perspective:\n                projection_matrix.makePerspective( fov_y, aspect, near, far );\n\n            case ProjectionType.ortho:\n\n                var _l = 0.0;\n                var _t = 0.0;\n                var _r = viewport.w;\n                var _b = viewport.h;\n\n                if(ortho_left   != null) _l = ortho_left;\n                if(ortho_right  != null) _r = ortho_right;\n                if(ortho_top    != null) _t = ortho_top;\n                if(ortho_bottom != null) _b = ortho_bottom;\n\n                projection_matrix.makeOrthographic(_l, _r, _t, _b, near, far);\n\n        } //switch\n\n        proj_arr = projection_matrix.float32array();\n\n        projection_dirty = false;\n\n    } //update_projection_matrix\n\n\n//Helpers\n\n\n    inline function apply_state(state:Int, value:Bool) {\n\n        if(value) {\n            Luxe.renderer.state.enable(state);\n        } else {\n            Luxe.renderer.state.disable(state);\n        }\n\n    } //apply_state\n\n    inline function apply_default_camera_options() {\n\n        switch (projection) {\n\n            case ProjectionType.ortho: {\n\n                cull_backfaces = false;\n                depth_test = false;\n\n            } //ortho\n\n            case ProjectionType.perspective: {\n\n                cull_backfaces = true;\n                depth_test = true;\n\n            } //perspective\n\n            case ProjectionType.custom: {}\n\n        } //switch\n\n    } //apply_default_camera_options\n\n    inline function default_camera_options() : CameraOptions {\n\n        return {\n            projection : ProjectionType.ortho,\n            depth_test : false,\n            cull_backfaces : false,\n            near : 1000,\n            far: -1000\n        };\n\n    } //default_camera_options\n\n\n//Conversions\n\n    inline function ortho_screen_to_world( _vector:Vector ) : Vector {\n\n        update_matrices();\n\n        return _vector.clone().transform(view_matrix);\n\n    } //ortho_screen_to_world\n\n    inline function ortho_world_to_screen( _vector:Vector ) : Vector {\n\n        update_matrices();\n\n        return _vector.clone().transform( view_matrix_inverse );\n\n    } //ortho_world_to_screen\n\n    inline function persepective_world_to_screen( _vector:Vector, ?_viewport:Rectangle=null ) {\n\n        def(_viewport, viewport);\n\n        var _projected = project( _vector );\n\n        var width_half = _viewport.w/2;\n        var height_half = _viewport.h/2;\n\n        return new Vector(\n             ( _projected.x * width_half ) + width_half,\n            -( _projected.y * height_half ) + height_half\n        );\n\n    } //persepective_world_point_to_screen\n\n\n//Properties\n\n    inline function set_target( _target:Vector ) : Vector {\n\n        if(_target != null) {\n            look_at_dirty = true;\n        }\n\n        return target = _target;\n\n    } //set_target\n\n    inline function set_fov( _fov:Float ) : Float {\n\n        projection_dirty = true;\n\n        if (fov_type == FOVType.horizontal) {\n            fov_y = Rendering.fovx_to_y(_fov, aspect);\n        } else {\n            fov_y = _fov;\n        }\n\n        return fov = _fov;\n\n    } //set_fov\n\n    inline function set_fov_type(_fov_type:FOVType) : FOVType {\n\n        fov_type = _fov_type;\n            //trigger fov_y update\n        set_fov(fov);\n\n        return fov_type;\n\n    } //set_fov_type\n\n    inline function set_aspect( _aspect:Float ) : Float {\n\n        projection_dirty = true;\n\n        aspect = _aspect;\n\n            //trigger fov_y update,\n            //since if using horizontal fov, \n            //the aspect ratio factors in\n        set_fov(fov);\n\n        return aspect;\n\n    } //set_aspect\n\n    inline function set_near( _near:Float ) : Float {\n\n        projection_dirty = true;\n\n        return near = _near;\n\n    } //set_near\n\n    inline function set_far( _far:Float ) : Float {\n\n        projection_dirty = true;\n\n        return far = _far;\n\n    } //set_far\n\n    inline function set_ortho_left( _val:Null<Float> ) : Null<Float> {\n\n        projection_dirty = true;\n\n        return ortho_left = _val;\n\n    } //set_ortho_left\n\n    inline function set_ortho_right( _val:Null<Float> ) : Null<Float> {\n\n        projection_dirty = true;\n\n        return ortho_right = _val;\n\n    } //set_ortho_right\n\n    inline function set_ortho_top( _val:Null<Float> ) : Null<Float> {\n\n        projection_dirty = true;\n\n        return ortho_top = _val;\n\n    } //set_ortho_top\n\n    inline function set_ortho_bottom( _val:Null<Float> ) : Null<Float> {\n\n        projection_dirty = true;\n\n        return ortho_bottom = _val;\n\n    } //set_ortho_bottom\n\n        //0.5 = smaller , 2 = bigger\n    function set_zoom( _z:Float ) : Float {\n\n        var _new_zoom = _z;\n\n            //new zoom value shouldn't be allowed beyond a minimum\n            //but maybe this should be optional if you want negative zoom?\n        if(_new_zoom < minimum_zoom) {\n            _new_zoom = minimum_zoom;\n        }\n\n        switch(projection) {\n\n            case ProjectionType.ortho:\n\n                    //scale the visual view based on the value\n                transform.scale.x = 1/_new_zoom;\n                transform.scale.y = 1/_new_zoom;\n                transform.scale.z = 1/_new_zoom;\n\n            case ProjectionType.perspective: {\n\n                // :todo: Camera; nothing happens when zooming perspective\n\n            }\n\n            case ProjectionType.custom: {\n\n            }\n\n        } //switch projection\n\n            //return the real value\n        return zoom = _new_zoom;\n\n    } //set_zoom\n\n    var refresh_pos_ : Bool = false;\n    function set_center( _p:Vector ) : Vector {\n\n        center = _p;\n\n        switch(projection) {\n\n            case ProjectionType.ortho:\n\n                if(!refresh_pos_ && !setup_) {\n                        //setting the center is the same as setting\n                        //the position relative to the viewport\n                    pos.ignore_listeners = true;\n                        pos.x = _p.x - (viewport.w/2);\n                        pos.y = _p.y - (viewport.h/2);\n                    pos.ignore_listeners = false;\n\n                    transform.pos.copy_from(_p);\n\n                } //!refresh_pos_ && !setup_\n\n            case ProjectionType.perspective: {}\n\n            case ProjectionType.custom: {}\n\n        } //switch projection\n\n        Vector.Listen(center, _center_changed);\n\n        return center;\n\n    } //set_center\n\n    inline function get_center() : Vector {\n\n        return center;\n\n    } //get_center\n\n    inline function get_pos() : Vector {\n\n        return pos;\n\n    } //get_pos\n\n    inline function get_rotation() : Quaternion {\n\n        return transform.rotation;\n\n    } //get_rotation\n\n    inline function get_scale() : Vector {\n\n        return transform.scale;\n\n    } //get_scale\n\n    inline function get_viewport() : Rectangle {\n\n        return viewport;\n\n    } //get_viewport\n\n    function set_viewport(_r:Rectangle) : Rectangle {\n\n        projection_dirty = true;\n\n        viewport = _r;\n\n        switch(projection) {\n\n            case ProjectionType.ortho:\n\n                    //update the actual origin center of transform\n                transform.origin = new Vector( _r.w/2, _r.h/2 );\n                    //refresh the position and center etc\n                set_pos(pos);\n\n            case ProjectionType.perspective: {}\n\n            case ProjectionType.custom: {}\n\n        } //switch projection\n\n\n        return viewport;\n\n    } //set_viewport\n\n    inline function set_rotation( _q:Quaternion ) : Quaternion {\n\n        return transform.rotation = _q;\n\n    } //set_rotation\n\n    inline function set_scale( _s:Vector ) : Vector {\n\n        return transform.scale = _s;\n\n    } //set_scale\n\n    function set_pos( _p:Vector ) : Vector {\n\n        pos = _p;\n\n        switch(projection) {\n\n            case ProjectionType.ortho:\n\n            var _cx = center.x;\n            var _cy = center.y;\n\n            if(viewport != null) {\n                _cx = _p.x + (viewport.w/2);\n                _cy = _p.y + (viewport.h/2);\n            }\n\n                refresh_pos_ = true;\n                    center.ignore_listeners = true;\n                        center.x = _cx;\n                        center.y = _cy;\n                    center.ignore_listeners = false;\n                refresh_pos_ = false;\n\n                transform.pos.x = _cx;\n                transform.pos.y = _cy;\n\n            case ProjectionType.perspective:\n\n                transform.pos = pos;\n\n            case ProjectionType.custom: {}\n\n        } //switch projection\n\n        Vector.Listen(pos, _pos_changed);\n\n        return pos;\n\n    } //set_pos\n\n    inline function _merge_options( _o:CameraOptions ) {\n\n            //start at defaults for the type\n        apply_default_camera_options();\n\n        if(_o.aspect != null) aspect = _o.aspect;\n        if(_o.far    != null) far    = _o.far;\n        if(_o.fov    != null) fov    = _o.fov;\n        if(_o.near   != null) near   = _o.near;\n\n        if(_o.viewport       != null) viewport       = _o.viewport;\n        if(_o.cull_backfaces != null) cull_backfaces = _o.cull_backfaces;\n        if(_o.depth_test     != null) depth_test     = _o.depth_test;\n\n            //for type, re-apply default, makes sure fov_y is correct\n        if (_o.fov_type != null) {\n            fov_type = _o.fov_type;\n        } else {\n            fov_type = FOVType.horizontal;\n        }\n\n    } //_merge_options\n\n    inline function _pos_changed(v:Float) {\n\n        set_pos(pos);\n\n    } //_pos_changed\n\n    inline function _center_changed(v:Float) {\n\n        set_center(center);\n\n    } //_center_changed\n\n} //Camera\n\nenum FOVType {\n    vertical;\n    horizontal;\n} //FOVType\n","package phoenix;\n\nimport phoenix.Vector;\nimport phoenix.Quaternion;\nimport luxe.utils.Maths;\nimport snow.api.buffers.Float32Array;\n\n    //Ported from Three.js https://github.com/mrdoob/three.js\n\nclass MatrixTransform {\n\n    public var pos : Vector;\n    public var rotation : Quaternion;\n    public var scale : Vector;\n\n    public inline function new(p, r, s) {\n        pos = p;\n        rotation = r;\n        scale = s;\n    }\n\n    inline function destroy() {\n        pos = null; rotation = null; scale = null;\n    }\n\n} //MatrixTransform\n\nclass Matrix {\n\n    public var elements:Array<Float>;\n    var _float32array : snow.api.buffers.Float32Array;\n\n    public var M11 (get,set) : Float;\n    public var M21 (get,set) : Float;\n    public var M31 (get,set) : Float;\n    public var M41 (get,set) : Float;\n\n    public var M12 (get,set) : Float;\n    public var M22 (get,set) : Float;\n    public var M32 (get,set) : Float;\n    public var M42 (get,set) : Float;\n\n    public var M13 (get,set) : Float;\n    public var M23 (get,set) : Float;\n    public var M33 (get,set) : Float;\n    public var M43 (get,set) : Float;\n\n    public var M14 (get,set) : Float;\n    public var M24 (get,set) : Float;\n    public var M34 (get,set) : Float;\n    public var M44 (get,set) : Float;\n\n    public inline function new(\n        n11:Float = 1, n12:Float = 0, n13:Float = 0, n14:Float = 0,\n        n21:Float = 0, n22:Float = 1, n23:Float = 0, n24:Float = 0,\n        n31:Float = 0, n32:Float = 0, n33:Float = 1, n34:Float = 0,\n        n41:Float = 0, n42:Float = 0, n43:Float = 0, n44:Float = 1)\n    {\n        elements = [];\n\n        var i = 0;\n        while (i++ < 16) {\n            elements.push(0.0);\n        }\n\n        set(\n            n11, n12, n13, n14,\n            n21, n22, n23, n24,\n            n31, n32, n33, n34,\n            n41, n42, n43, n44\n        );\n\n        _float32array = Float32Array.fromArray( elements );\n\n    }\n\n\n    public inline function set(\n        n11:Float, n12:Float, n13:Float, n14:Float,\n        n21:Float, n22:Float, n23:Float, n24:Float,\n        n31:Float, n32:Float, n33:Float, n34:Float,\n        n41:Float, n42:Float, n43:Float, n44:Float) : Matrix\n    {\n\n        var e = elements;\n\n            e[0] = n11; e[4] = n12; e[8]  = n13; e[12] = n14;\n            e[1] = n21; e[5] = n22; e[9]  = n23; e[13] = n24;\n            e[2] = n31; e[6] = n32; e[10] = n33; e[14] = n34;\n            e[3] = n41; e[7] = n42; e[11] = n43; e[15] = n44;\n\n        return this;\n    }\n\n    inline function toString() {\n        var e = elements;\n        var str = '{ 11:' + Maths.fixed(e[0], 3) + ', 12:' + Maths.fixed(e[4], 3)  + ', 13:' + Maths.fixed(e[ 8], 3)  + ', 14:' + Maths.fixed(e[12], 3) + ' }, ' +\n                  '{ 21:' + Maths.fixed(e[1], 3) + ', 22:' + Maths.fixed(e[5], 3)  + ', 23:' + Maths.fixed(e[ 9], 3)  + ', 24:' + Maths.fixed(e[13], 3) + ' }, ' +\n                  '{ 31:' + Maths.fixed(e[2], 3) + ', 32:' + Maths.fixed(e[6], 3)  + ', 33:' + Maths.fixed(e[10], 3)  + ', 34:' + Maths.fixed(e[14], 3) + ' }, ' +\n                  '{ 41:' + Maths.fixed(e[3], 3) + ', 42:' + Maths.fixed(e[7], 3)  + ', 43:' + Maths.fixed(e[11], 3)  + ', 44:' + Maths.fixed(e[15], 3) + ' }';\n        return str;\n    }\n    \n    inline function get_M11() : Float { return elements[0]; }\n    inline function get_M21() : Float { return elements[1]; }\n    inline function get_M31() : Float { return elements[2]; }\n    inline function get_M41() : Float { return elements[3]; }\n\n    inline function get_M12() : Float { return elements[4]; }\n    inline function get_M22() : Float { return elements[5]; }\n    inline function get_M32() : Float { return elements[6]; }\n    inline function get_M42() : Float { return elements[7]; }\n    \n    inline function get_M13() : Float { return elements[8]; }\n    inline function get_M23() : Float { return elements[9]; }\n    inline function get_M33() : Float { return elements[10]; }\n    inline function get_M43() : Float { return elements[11]; }\n\n    inline function get_M14() : Float { return elements[12]; }\n    inline function get_M24() : Float { return elements[13]; }\n    inline function get_M34() : Float { return elements[14]; }\n    inline function get_M44() : Float { return elements[15]; }\n\n    inline function set_M11(_v:Float) : Float { elements[0] = _v; return _v; }\n    inline function set_M21(_v:Float) : Float { elements[1] = _v; return _v; }\n    inline function set_M31(_v:Float) : Float { elements[2] = _v; return _v; }\n    inline function set_M41(_v:Float) : Float { elements[3] = _v; return _v; }\n\n    inline function set_M12(_v:Float) : Float { elements[4] = _v; return _v; }\n    inline function set_M22(_v:Float) : Float { elements[5] = _v; return _v; }\n    inline function set_M32(_v:Float) : Float { elements[6] = _v; return _v; }\n    inline function set_M42(_v:Float) : Float { elements[7] = _v; return _v; }\n\n    inline function set_M13(_v:Float) : Float { elements[8] = _v; return _v; }\n    inline function set_M23(_v:Float) : Float { elements[9] = _v; return _v; }\n    inline function set_M33(_v:Float) : Float { elements[10] = _v; return _v; }\n    inline function set_M43(_v:Float) : Float { elements[11] = _v; return _v; }\n\n    inline function set_M14(_v:Float) : Float { elements[12] = _v; return _v; }\n    inline function set_M24(_v:Float) : Float { elements[13] = _v; return _v; }\n    inline function set_M34(_v:Float) : Float { elements[14] = _v; return _v; }\n    inline function set_M44(_v:Float) : Float { elements[15] = _v; return _v; }\n\n    public inline function float32array() : snow.api.buffers.Float32Array {\n\n        var i = 0;\n\n        while(i < 16) {\n            _float32array[i] = elements[i];\n            ++i;\n        }\n\n        return _float32array;\n\n    } //float32array\n\n    public inline function identity () : Matrix {\n\n            set(\n                1, 0, 0, 0,\n                0, 1, 0, 0,\n                0, 0, 1, 0,\n                0, 0, 0, 1\n            );\n\n        return this;\n\n    } //identity\n\n\n    public inline function copy( m:Matrix ) : Matrix {\n\n        var me = m.elements;\n\n            set(\n                me[0], me[4], me[8],  me[12],\n                me[1], me[5], me[9],  me[13],\n                me[2], me[6], me[10], me[14],\n                me[3], me[7], me[11], me[15]\n            );\n\n        return this;\n    }\n\n    public inline function make2D( _x:Float, _y:Float, _scale:Float = 1, _rotation:Float = 0 ) {\n\n        var theta = Maths.radians(_rotation);\n        var c = Math.cos(theta);\n        var s = Math.sin(theta);\n\n        set(\n             c * _scale,  s *_scale,  0,  _x,\n            -s * _scale,  c *_scale,  0,  _y,\n                      0,          0,  1,   0,\n                      0,          0,  0,   1\n        );\n\n        return this;\n   }\n\n\n    public inline function copyPosition( m:Matrix ) : Matrix {\n\n        elements[12] = m.elements[12];\n        elements[13] = m.elements[13];\n        elements[14] = m.elements[14];\n\n        return this;\n    }\n\n\n    public inline function getPosition() : Vector {\n        return new Vector(elements[12], elements[13], elements[14],1);\n    }\n\n    public inline function extractRotation( m:Matrix ) : Matrix {\n\n        var _temp = new Vector();\n        var me = m.elements;\n\n        var _scale_x = 1 / _temp.set_xyz( me[0], me[1], me[2]  ).length;\n        var _scale_y = 1 / _temp.set_xyz( me[4], me[5], me[6]  ).length;\n        var _scale_z = 1 / _temp.set_xyz( me[8], me[9], me[10] ).length;\n\n        elements[0] =  me[0]  * _scale_x;\n        elements[1] =  me[1]  * _scale_x;\n        elements[2] =  me[2]  * _scale_x;\n\n        elements[4] =  me[4]  * _scale_y;\n        elements[5] =  me[5]  * _scale_y;\n        elements[6] =  me[6]  * _scale_y;\n\n        elements[8] =  me[8]  * _scale_z;\n        elements[9] =  me[9]  * _scale_z;\n        elements[10] = me[10] * _scale_z;\n\n        return this;\n    }\n\n    public inline function makeRotationFromEuler( _v:Vector, _order:ComponentOrder = XYZ) : Matrix {\n\n        var te = elements;\n\n        var x = _v.x;\n        var y = _v.y;\n        var z = _v.z;\n\n        var a = Math.cos( x ), b = Math.sin( x );\n        var c = Math.cos( y ), d = Math.sin( y );\n        var e = Math.cos( z ), f = Math.sin( z );\n\n        if ( _order == XYZ ) {\n\n            var ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n            te[0] = c * e;\n            te[4] = - c * f;\n            te[8] = d;\n\n            te[1] = af + be * d;\n            te[5] = ae - bf * d;\n            te[9] = - b * c;\n\n            te[2] = bf - ae * d;\n            te[6] = be + af * d;\n            te[10] = a * c;\n\n        } else if ( _order == YXZ ) {\n\n            var ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n            te[0] = ce + df * b;\n            te[4] = de * b - cf;\n            te[8] = a * d;\n\n            te[1] = a * f;\n            te[5] = a * e;\n            te[9] = - b;\n\n            te[2] = cf * b - de;\n            te[6] = df + ce * b;\n            te[10] = a * c;\n\n        } else if ( _order == ZXY ) {\n\n            var ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n            te[0] = ce - df * b;\n            te[4] = - a * f;\n            te[8] = de + cf * b;\n\n            te[1] = cf + de * b;\n            te[5] = a * e;\n            te[9] = df - ce * b;\n\n            te[2] = - a * d;\n            te[6] = b;\n            te[10] = a * c;\n\n        } else if ( _order == ZYX ) {\n\n            var ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n            te[0] = c * e;\n            te[4] = be * d - af;\n            te[8] = ae * d + bf;\n\n            te[1] = c * f;\n            te[5] = bf * d + ae;\n            te[9] = af * d - be;\n\n            te[2] = - d;\n            te[6] = b * c;\n            te[10] = a * c;\n\n        } else if ( _order == YZX ) {\n\n            var ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n            te[0] = c * e;\n            te[4] = bd - ac * f;\n            te[8] = bc * f + ad;\n\n            te[1] = f;\n            te[5] = a * e;\n            te[9] = - b * e;\n\n            te[2] = - d * e;\n            te[6] = ad * f + bc;\n            te[10] = ac - bd * f;\n\n        } else if ( _order == XZY ) {\n\n            var ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n            te[0] = c * e;\n            te[4] = - f;\n            te[8] = d * e;\n\n            te[1] = ac * f + bd;\n            te[5] = a * e;\n            te[9] = ad * f - bc;\n\n            te[2] = bc * f - ad;\n            te[6] = b * e;\n            te[10] = bd * f + ac;\n\n        }\n\n        // last column\n        te[3] = 0;\n        te[7] = 0;\n        te[11] = 0;\n\n        // bottom row\n        te[12] = 0;\n        te[13] = 0;\n        te[14] = 0;\n        te[15] = 1;\n\n        return this;\n\n    } //makeRotationFromEuler\n\n    public inline function makeRotationFromQuaternion( q:Quaternion ) : Matrix {\n\n        var te = elements;\n\n        var x2 = q.x + q.x, y2 = q.y + q.y, z2 = q.z + q.z;\n        var xx = q.x * x2,  xy = q.x * y2,  xz = q.x * z2;\n        var yy = q.y * y2,  yz = q.y * z2,  zz = q.z * z2;\n        var wx = q.w * x2,  wy = q.w * y2,  wz = q.w * z2;\n\n        te[0] = 1 - ( yy + zz );\n        te[4] = xy - wz;\n        te[8] = xz + wy;\n\n        te[1] = xy + wz;\n        te[5] = 1 - ( xx + zz );\n        te[9] = yz - wx;\n\n        te[2] = xz - wy;\n        te[6] = yz + wx;\n        te[10] = 1 - ( xx + yy );\n\n            // last column\n        te[3] = 0;\n        te[7] = 0;\n        te[11] = 0;\n\n            // bottom row\n        te[12] = 0;\n        te[13] = 0;\n        te[14] = 0;\n        te[15] = 1;\n\n        return this;\n\n    } //makeRotationFromQuaternion\n\n\n    public inline function lookAt( _eye:Vector, _target:Vector, _up:Vector ) : Matrix {\n\n        var _x = new Vector();\n        var _y = new Vector();\n        var _z = new Vector();\n\n        var te = elements;\n\n        _z = Vector.Subtract( _target, _eye ).normalized;\n\n            if ( _z.length == 0 ) {\n                _z.z = 1;\n            }\n\n        _x = Vector.Cross( _up, _z ).normalized;\n\n            if ( _x.length == 0 ) {\n                _z.x += 0.0001;\n                _x = Vector.Cross( _up, _z ).normalized;\n            }\n\n        _y = Vector.Cross( _z, _x );\n\n        te[0] = _x.x; te[4] = _y.x; te[8]  = _z.x;\n        te[1] = _x.y; te[5] = _y.y; te[9]  = _z.y;\n        te[2] = _x.z; te[6] = _y.z; te[10] = _z.z;\n\n        return this;\n\n    } //lookAt\n\n\n    public inline function multiply( _m:Matrix ) : Matrix {\n\n        return multiplyMatrices(this, _m);\n\n    } //multiply\n\n\n    public inline function multiplyMatrices( _a:Matrix, _b:Matrix ) : Matrix {\n\n        var ae = _a.elements;\n        var be = _b.elements;\n        var te = elements;\n\n        var a11 = ae[0], a12 = ae[4], a13 = ae[8],  a14 = ae[12];\n        var a21 = ae[1], a22 = ae[5], a23 = ae[9],  a24 = ae[13];\n        var a31 = ae[2], a32 = ae[6], a33 = ae[10], a34 = ae[14];\n        var a41 = ae[3], a42 = ae[7], a43 = ae[11], a44 = ae[15];\n\n        var b11 = be[0], b12 = be[4], b13 = be[8],  b14 = be[12];\n        var b21 = be[1], b22 = be[5], b23 = be[9],  b24 = be[13];\n        var b31 = be[2], b32 = be[6], b33 = be[10], b34 = be[14];\n        var b41 = be[3], b42 = be[7], b43 = be[11], b44 = be[15];\n\n            te[0] =  a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n            te[4] =  a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n            te[8] =  a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n            te[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n            te[1] =  a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n            te[5] =  a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n            te[9] =  a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n            te[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n            te[2] =  a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n            te[6] =  a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n            te[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n            te[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n            te[3] =  a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n            te[7] =  a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n            te[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n            te[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n        return this;\n\n    } //multiplyMatrices\n\n\n    public inline function multiplyToArray( _a:Matrix, _b:Matrix, _r:Array<Float> ) : Matrix {\n\n        var te = elements;\n\n            multiplyMatrices(_a, _b);\n\n            _r[0]  = te[0];   _r[1]  = te[1];   _r[2]  = te[2];  _r[3]  = te[3];\n            _r[4]  = te[4];   _r[5]  = te[5];   _r[6]  = te[6];  _r[7]  = te[7];\n            _r[8]  = te[8];   _r[9]  = te[9];   _r[10] = te[10]; _r[11] = te[11];\n            _r[12] = te[12];  _r[13] = te[13];  _r[14] = te[14]; _r[15] = te[15];\n\n        return this;\n\n    } //multiplyToArray\n\n\n    public inline function multiplyScalar( _s:Float ) : Matrix {\n\n        var te = elements;\n\n            te[0] *= _s; te[4] *= _s; te[8]  *= _s; te[12] *= _s;\n            te[1] *= _s; te[5] *= _s; te[9]  *= _s; te[13] *= _s;\n            te[2] *= _s; te[6] *= _s; te[10] *= _s; te[14] *= _s;\n            te[3] *= _s; te[7] *= _s; te[11] *= _s; te[15] *= _s;\n\n        return this;\n\n    } //multiplyScalar\n\n\n    public inline function multiplyVector3Array( _a:Array<Float> ) : Array<Float> {\n\n        var v1 = new Vector();\n        var i = 0;\n        var il = _a.length;\n\n        while (i < il) {\n\n            v1.x = _a[i + 0];\n            v1.y = _a[i + 1];\n            v1.z = _a[i + 2];\n\n            v1.applyProjection( this );\n\n            _a[i + 0] = v1.x;\n            _a[i + 1] = v1.y;\n            _a[i + 2] = v1.z;\n\n            i += 3;\n\n        }\n\n        return _a;\n\n    } //multiplyVector3Array\n\n    public inline function determinant() : Float {\n\n        var te = elements;\n\n        var n11 = te[0], n12 = te[4], n13 = te[8],  n14 = te[12];\n        var n21 = te[1], n22 = te[5], n23 = te[9],  n24 = te[13];\n        var n31 = te[2], n32 = te[6], n33 = te[10], n34 = te[14];\n        var n41 = te[3], n42 = te[7], n43 = te[11], n44 = te[15];\n\n        return (\n            n41 * (\n                 n14 * n23 * n32\n                -n13 * n24 * n32\n                -n14 * n22 * n33\n                +n12 * n24 * n33\n                +n13 * n22 * n34\n                -n12 * n23 * n34\n            ) +\n            n42 * (\n                 n11 * n23 * n34\n                -n11 * n24 * n33\n                +n14 * n21 * n33\n                -n13 * n21 * n34\n                +n13 * n24 * n31\n                -n14 * n23 * n31\n            ) +\n            n43 * (\n                 n11 * n24 * n32\n                -n11 * n22 * n34\n                -n14 * n21 * n32\n                +n12 * n21 * n34\n                +n14 * n22 * n31\n                -n12 * n24 * n31\n            ) +\n            n44 * (\n                -n13 * n22 * n31\n                -n11 * n23 * n32\n                +n11 * n22 * n33\n                +n13 * n21 * n32\n                -n12 * n21 * n33\n                +n12 * n23 * n31\n            )\n        );\n    } //determinant\n\n    public inline function transpose() : Matrix {\n\n        var te = elements;\n        var tmp:Float;\n\n        tmp = te[1]; te[1] = te[4]; te[4] = tmp;\n        tmp = te[2]; te[2] = te[8]; te[8] = tmp;\n        tmp = te[6]; te[6] = te[9]; te[9] = tmp;\n\n        tmp = te[3];  te[3]  = te[12]; te[12] = tmp;\n        tmp = te[7];  te[7]  = te[13]; te[13] = tmp;\n        tmp = te[11]; te[11] = te[14]; te[14] = tmp;\n\n        return this;\n\n    } //transpose\n\n    public inline function flattenToArray( _flat:Array<Float> = null ) : Array<Float> {\n\n        if (_flat == null) {\n            _flat = [];\n            for(i in 0 ... 16) _flat.push( 0.0 );\n        }\n\n        var te = elements;\n\n            _flat[ 0 ]  = te[0];  _flat[ 1 ]  = te[1];  _flat[ 2 ]  = te[2];  _flat[ 3 ]  = te[3];\n            _flat[ 4 ]  = te[4];  _flat[ 5 ]  = te[5];  _flat[ 6 ]  = te[6];  _flat[ 7 ]  = te[7];\n            _flat[ 8 ]  = te[8];  _flat[ 9 ]  = te[9];  _flat[ 10 ] = te[10]; _flat[ 11 ] = te[11];\n            _flat[ 12 ] = te[12]; _flat[ 13 ] = te[13]; _flat[ 14 ] = te[14]; _flat[ 15 ] = te[15];\n\n        return _flat;\n\n    } //flattenToArray\n\n\n    public inline function flattenToArrayOffset( _flat:Array<Float>, _offset:Int ) : Array<Float> {\n\n        var te = elements;\n\n            _flat[ _offset + 0 ]  = te[0];\n            _flat[ _offset + 1 ]  = te[1];\n            _flat[ _offset + 2 ]  = te[2];\n            _flat[ _offset + 3 ]  = te[3];\n\n            _flat[ _offset + 4 ]  = te[4];\n            _flat[ _offset + 5 ]  = te[5];\n            _flat[ _offset + 6 ]  = te[6];\n            _flat[ _offset + 7 ]  = te[7];\n\n            _flat[ _offset + 8 ]  = te[8];\n            _flat[ _offset + 9 ]  = te[9];\n            _flat[ _offset + 10 ] = te[10];\n            _flat[ _offset + 11 ] = te[11];\n\n            _flat[ _offset + 12 ] = te[12];\n            _flat[ _offset + 13 ] = te[13];\n            _flat[ _offset + 14 ] = te[14];\n            _flat[ _offset + 15 ] = te[15];\n\n        return _flat;\n\n    } //flattenToArrayOffset\n\n\n    public inline function setPosition( _v:Vector ) : Matrix {\n\n        var te = elements;\n\n            te[12] = _v.x;\n            te[13] = _v.y;\n            te[14] = _v.z;\n\n        return this;\n\n    } //setPosition\n\n    public inline function inverse() : Matrix {\n        return clone().getInverse(this);\n    }\n\n    public inline function getInverse( _m:Matrix ) : Matrix {\n\n        // based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\n        var te = elements;\n        var me = _m.elements;\n\n        var n11 = me[0], n12 = me[4], n13 = me[8],  n14 = me[12];\n        var n21 = me[1], n22 = me[5], n23 = me[9],  n24 = me[13];\n        var n31 = me[2], n32 = me[6], n33 = me[10], n34 = me[14];\n        var n41 = me[3], n42 = me[7], n43 = me[11], n44 = me[15];\n\n            te[0]  = n23*n34*n42 - n24*n33*n42 + n24*n32*n43 - n22*n34*n43 - n23*n32*n44 + n22*n33*n44;\n            te[4]  = n14*n33*n42 - n13*n34*n42 - n14*n32*n43 + n12*n34*n43 + n13*n32*n44 - n12*n33*n44;\n            te[8]  = n13*n24*n42 - n14*n23*n42 + n14*n22*n43 - n12*n24*n43 - n13*n22*n44 + n12*n23*n44;\n            te[12] = n14*n23*n32 - n13*n24*n32 - n14*n22*n33 + n12*n24*n33 + n13*n22*n34 - n12*n23*n34;\n            te[1]  = n24*n33*n41 - n23*n34*n41 - n24*n31*n43 + n21*n34*n43 + n23*n31*n44 - n21*n33*n44;\n            te[5]  = n13*n34*n41 - n14*n33*n41 + n14*n31*n43 - n11*n34*n43 - n13*n31*n44 + n11*n33*n44;\n            te[9]  = n14*n23*n41 - n13*n24*n41 - n14*n21*n43 + n11*n24*n43 + n13*n21*n44 - n11*n23*n44;\n            te[13] = n13*n24*n31 - n14*n23*n31 + n14*n21*n33 - n11*n24*n33 - n13*n21*n34 + n11*n23*n34;\n            te[2]  = n22*n34*n41 - n24*n32*n41 + n24*n31*n42 - n21*n34*n42 - n22*n31*n44 + n21*n32*n44;\n            te[6]  = n14*n32*n41 - n12*n34*n41 - n14*n31*n42 + n11*n34*n42 + n12*n31*n44 - n11*n32*n44;\n            te[10] = n12*n24*n41 - n14*n22*n41 + n14*n21*n42 - n11*n24*n42 - n12*n21*n44 + n11*n22*n44;\n            te[14] = n14*n22*n31 - n12*n24*n31 - n14*n21*n32 + n11*n24*n32 + n12*n21*n34 - n11*n22*n34;\n            te[3]  = n23*n32*n41 - n22*n33*n41 - n23*n31*n42 + n21*n33*n42 + n22*n31*n43 - n21*n32*n43;\n            te[7]  = n12*n33*n41 - n13*n32*n41 + n13*n31*n42 - n11*n33*n42 - n12*n31*n43 + n11*n32*n43;\n            te[11] = n13*n22*n41 - n12*n23*n41 - n13*n21*n42 + n11*n23*n42 + n12*n21*n43 - n11*n22*n43;\n            te[15] = n12*n23*n31 - n13*n22*n31 + n13*n21*n32 - n11*n23*n32 - n12*n21*n33 + n11*n22*n33;\n\n        var det = me[ 0 ] * te[ 0 ] + me[ 1 ] * te[ 4 ] + me[ 2 ] * te[ 8 ] + me[ 3 ] * te[ 12 ];\n\n        if (det == 0) {\n\n            trace('Matrix.getInverse: cant invert matrix, determinant is 0');\n\n            identity();\n\n            return this;\n\n        } //det == 0\n\n        multiplyScalar( 1 / det );\n\n        return this;\n\n    } //getInverse\n\n\n    public inline function scale( _v:Vector ) : Matrix {\n\n        var te = elements;\n\n            var _x = _v.x;\n            var _y = _v.y;\n            var _z = _v.z;\n\n            te[0] *= _x; te[4] *= _y; te[8]  *= _z;\n            te[1] *= _x; te[5] *= _y; te[9]  *= _z;\n            te[2] *= _x; te[6] *= _y; te[10] *= _z;\n            te[3] *= _x; te[7] *= _y; te[11] *= _z;\n\n        return this;\n\n    } //scale\n\n\n    public inline function getMaxScaleOnAxis() : Float {\n\n        var te = elements;\n\n            var _scaleXSq = te[0] * te[0] + te[1] * te[1] + te[2]  * te[2];\n            var _scaleYSq = te[4] * te[4] + te[5] * te[5] + te[6]  * te[6];\n            var _scaleZSq = te[8] * te[8] + te[9] * te[9] + te[10] * te[10];\n\n        return Math.sqrt( Math.max( _scaleXSq, Math.max( _scaleYSq, _scaleZSq ) ) );\n\n    } //getMaxScaleOnAxis\n\n\n    public inline function makeTranslation( _x:Float, _y:Float, _z:Float ) : Matrix {\n\n        set(\n            1, 0, 0, _x,\n            0, 1, 0, _y,\n            0, 0, 1, _z,\n            0, 0, 0, 1\n        );\n\n        return this;\n\n    } //makeTranslation\n\n\n    public inline function makeRotationX( _theta:Float ) : Matrix {\n\n        var _c = Math.cos(_theta);\n        var _s = Math.sin(_theta);\n\n            set(\n                1,  0,   0,  0,\n                0, _c, -_s,  0,\n                0, _s,  _c,  0,\n                0,  0,   0,  1\n            );\n\n        return this;\n\n    } //makeRotationX\n\n\n    public inline function makeRotationY(_theta:Float) : Matrix {\n\n        var _c = Math.cos(_theta);\n        var _s = Math.sin(_theta);\n\n            set(\n                 _c,  0, _s,  0,\n                  0,  1,  0,  0,\n                -_s,  0, _c,  0,\n                  0,  0,  0,  1\n            );\n\n        return this;\n\n    } //makeRotationY\n\n\n    public inline function makeRotationZ(_theta:Float) : Matrix {\n\n        var _c = Math.cos(_theta);\n        var _s = Math.sin(_theta);\n\n            set(\n                _c, -_s,  0,  0,\n                _s,  _c,  0,  0,\n                 0,   0,  1,  0,\n                 0,   0,  0,  1\n            );\n\n        return this;\n\n    } //makeRotationZ\n\n\n    public inline function makeRotationAxis( _axis:Vector, _angle:Float ) : Matrix {\n\n        var _c = Math.cos( _angle );\n        var _s = Math.sin( _angle );\n        var _t = 1 - _c;\n\n        var _ax = _axis.x;\n        var _ay = _axis.y;\n        var _az = _axis.z;\n\n        var _tx = _t * _ax;\n        var _ty = _t * _ay;\n\n            set(\n                _tx * _ax + _c,         _tx * _ay - _s * _az,   _tx * _az + _s  * _ay,  0,\n                _tx * _ay + _s * _az,   _ty * _ay + _c,         _ty * _az - _s  * _ax,  0,\n                _tx * _az - _s * _ay,   _ty * _az + _s * _ax,   _t  * _az * _az + _c,   0,\n                0, 0, 0, 1\n            );\n\n        return this;\n\n    } //makeRotationAxis\n\n\n    public inline function makeScale( _x:Float, _y:Float, _z:Float) : Matrix {\n\n            set(\n                _x,  0,  0,  0,\n                 0, _y,  0,  0,\n                 0,  0, _z,  0,\n                 0,  0,  0,  1\n            );\n\n        return this;\n\n    } //makeScale\n\n\n    public inline function compose_with_origin( _position:Vector, _origin:Vector, _quaternion:Quaternion, _scale:Vector ) : Matrix {\n\n        //this isn't very optimized\n        //translate to origin -> scale -> rotate -> translate -origin -> apply position\n\n            //origin ->\n        makeTranslation(_origin.x, _origin.y, _origin.z);\n            //scale ->\n        scale(_scale);\n            //rotation\n        multiply( new Matrix().makeRotationFromQuaternion(_quaternion) );\n            //translate -origin\n        multiply( new Matrix().makeTranslation(-_origin.x, -_origin.y, -_origin.z) );\n            //apply position\n        multiply( new Matrix().makeTranslation(_position.x, _position.y, _position.z) );\n\n        return this;\n\n    }\n\n    public inline function compose( _position:Vector, _quaternion:Quaternion, _scale:Vector ) : Matrix {\n\n            makeRotationFromQuaternion( _quaternion );\n            scale( _scale );\n            setPosition( _position );\n\n        return this;\n\n    } //compose\n\n    var _transform : MatrixTransform;\n\n    public inline function decompose( _position:Vector = null, _quaternion:Quaternion = null, _scale:Vector = null ) : MatrixTransform {\n\n        var te = elements;\n        var matrix = new Matrix();\n\n        var _ax_x = te[0]; var _ax_y = te[1]; var _ax_z = te[2];\n        var _ay_x = te[4]; var _ay_y = te[5]; var _ay_z = te[6];\n        var _az_x = te[8]; var _az_y = te[9]; var _az_z = te[10];\n\n        var _ax_length = Math.sqrt( _ax_x * _ax_x + _ax_y * _ax_y + _ax_z * _ax_z );\n        var _ay_length = Math.sqrt( _ay_x * _ay_x + _ay_y * _ay_y + _ay_z * _ay_z );\n        var _az_length = Math.sqrt( _az_x * _az_x + _az_y * _az_y + _az_z * _az_z );\n\n\n        if (_quaternion == null) {\n            _quaternion = new Quaternion();\n        }\n\n        if (_position == null) {\n            _position = new Vector(te[12], te[13], te[14]);\n        } else {\n            _position.x = te[12];\n            _position.y = te[13];\n            _position.z = te[14];\n        }\n\n        if (_scale == null) {\n            _scale = new Vector(_ax_length,_ay_length,_az_length);\n        } else {\n            _scale.x = _ax_length;\n            _scale.y = _ay_length;\n            _scale.z = _az_length;\n        }\n\n                //copy them without .copy()\n            matrix.elements = elements.concat([]);\n\n            var me = matrix.elements;\n\n                me[0]  /= _ax_length;\n                me[1]  /= _ax_length;\n                me[2]  /= _ax_length;\n\n                me[4]  /= _ay_length;\n                me[5]  /= _ay_length;\n                me[6]  /= _ay_length;\n\n                me[8]  /= _az_length;\n                me[9]  /= _az_length;\n                me[10] /= _az_length;\n\n            _quaternion.setFromRotationMatrix( matrix );\n\n\n        if(_transform == null) {\n            _transform = new MatrixTransform(_position, _quaternion, _scale);\n        } else {\n            _transform.pos = _position;\n            _transform.rotation = _quaternion;\n            _transform.scale = _scale;\n        }\n\n        return _transform;\n\n    } //decompose\n\n\n    public inline function makeFrustum( _left:Float, _right:Float, _bottom:Float, _top:Float, _near:Float, _far:Float ) : Matrix {\n\n        var te = elements;\n\n        var tx = 2 * _near / (_right - _left);\n        var ty = 2 * _near / (_top - _bottom);\n\n        var a =  (_right + _left) / (_right - _left);\n        var b =  (_top + _bottom) / (_top - _bottom);\n        var c = -(_far + _near)   / (_far - _near);\n        var d = -2 * _far * _near / (_far - _near);\n\n            te[0] = tx;     te[4] = 0;      te[8]  = a;     te[12] = 0;\n            te[1] = 0;      te[5] = ty;     te[9]  = b;     te[13] = 0;\n            te[2] = 0;      te[6] = 0;      te[10] = c;     te[14] = d;\n            te[3] = 0;      te[7] = 0;      te[11] = -1;    te[15] = 0;\n\n        return this;\n\n    } //makeFrustum\n\n\n    public inline function makePerspective( _fov:Float, _aspect:Float, _near:Float, _far:Float ) : Matrix {\n\n        var ymax = _near * Math.tan( Maths.radians(_fov * 0.5) );\n        var ymin = -ymax;\n        var xmin = ymin * _aspect;\n        var xmax = ymax * _aspect;\n\n        return makeFrustum( xmin, xmax, ymin, ymax, _near, _far );\n\n    } //makePerspective\n\n\n    public inline function makeOrthographic( _left:Float, _right:Float, _top:Float, _bottom:Float, _near:Float, _far:Float ) : Matrix {\n\n        var te = elements;\n\n        var w = _right - _left;\n        var h = _top - _bottom;\n        var p = _far - _near;\n\n        var tx = ( _right + _left )   / w;\n        var ty = ( _top   + _bottom ) / h;\n        var tz = ( _far   + _near )   / p;\n\n            te[0] = 2 / w;  te[4] = 0;      te[8] = 0;       te[12] = -tx;\n            te[1] = 0;      te[5] = 2 / h;  te[9] = 0;       te[13] = -ty;\n            te[2] = 0;      te[6] = 0;      te[10] = -2 / p; te[14] = -tz;\n            te[3] = 0;      te[7] = 0;      te[11] = 0;      te[15] = 1;\n\n        return this;\n\n    } //makeOrthographic\n\n    public inline function fromArray(_from:Array<Float>) {\n\n        elements = _from.concat([]);\n\n    } //fromArray\n\n    public inline function toArray() : Array<Float> {\n\n        var te = elements;\n\n            return [\n                te[ 0 ],  te[ 1 ],  te[ 2 ],  te[ 3 ],\n                te[ 4 ],  te[ 5 ],  te[ 6 ],  te[ 7 ],\n                te[ 8 ],  te[ 9 ],  te[ 10 ], te[ 11 ],\n                te[ 12 ], te[ 13 ], te[ 14 ], te[ 15 ]\n            ];\n\n    } //toArray\n\n    public inline function clone() : Matrix {\n\n        var te = elements;\n\n            return new Matrix(\n                te[0], te[4], te[8],  te[12],\n                te[1], te[5], te[9],  te[13],\n                te[2], te[6], te[10], te[14],\n                te[3], te[7], te[11], te[15]\n            );\n\n    } //clone\n\n    public inline function up() {\n        return new Vector( elements[4], elements[5], elements[6] );\n    } //up\n\n    public inline function down() : Vector {\n        return up().inverted;\n    } //down\n\n    public inline function left() : Vector {\n        return right().inverted;\n    } //left\n\n    public inline function right() : Vector {\n        return new Vector( elements[0], elements[1], elements[2] );\n    } //right\n\n    public inline function backward() {\n        return new Vector( elements[8], elements[9], elements[10] );\n    } //backward\n\n    public inline function forward() : Vector {\n        return backward().inverted;\n    } //forward\n\n\n} //Matrix\n\n","package phoenix;\n\nimport phoenix.Vector;\n\n    //Ported from Three.js https://github.com/mrdoob/three.js\n\nclass Quaternion {\n\n    @:isVar public var x(default,set) : Float = 0.0;\n    @:isVar public var y(default,set) : Float = 0.0;\n    @:isVar public var z(default,set) : Float = 0.0;\n    @:isVar public var w(default,set) : Float = 0.0;\n\n    var euler : Vector;\n\n    public var ignore_listeners : Bool = false;\n\n    @:isVar public var listen_x(default,default) : Float -> Void;\n    @:isVar public var listen_y(default,default) : Float -> Void;\n    @:isVar public var listen_z(default,default) : Float -> Void;\n    @:isVar public var listen_w(default,default) : Float -> Void;\n\n    var _construct = false;\n\n    public function new(_x:Float = 0, _y:Float = 0, _z:Float = 0, _w:Float = 1) {\n\n        _construct = true;\n\n            x = _x;\n            y = _y;\n            z = _z;\n            w = _w;\n\n        euler = new Vector();\n\n        _construct = false;\n\n    } //new\n\n    function toString() {\n\n        return \"{ x:\"+x + \", y:\" + y + \", z:\" + z  + \", w:\" + w  +  \" }\" ;\n\n    } //toString\n\n    public function set( _x:Float, _y:Float, _z:Float, _w:Float ) : Quaternion {\n\n        set_xyzw(_x, _y, _z, _w);\n\n        return this;\n\n    } //set\n\n\n    public function copy( _quaternion :Quaternion ) : Quaternion {\n\n            set_xyzw( _quaternion.x,\n                      _quaternion.y,\n                      _quaternion.z,\n                      _quaternion.w );\n\n        return this;\n\n    } //copy\n\n    public function dot( _other:Quaternion ) {\n        return x * _other.x + y * _other.y + z * _other.z + w * _other.w;\n    }\n\n\n    public function setFromEuler( _euler:Vector, _order:ComponentOrder = XYZ ) : Quaternion {\n\n            // http://www.mathworks.com/matlabcentral/fileexchange/\n            //  20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n            //  content/SpinCalc.m\n\n        var _x = x;\n        var _y = y;\n        var _z = z;\n        var _w = w;\n\n        var c1 = Math.cos( _euler.x / 2 );\n        var c2 = Math.cos( _euler.y / 2 );\n        var c3 = Math.cos( _euler.z / 2 );\n\n        var s1 = Math.sin( _euler.x / 2 );\n        var s2 = Math.sin( _euler.y / 2 );\n        var s3 = Math.sin( _euler.z / 2 );\n\n            if ( _order == XYZ ) {\n\n                _x = s1 * c2 * c3 + c1 * s2 * s3;\n                _y = c1 * s2 * c3 - s1 * c2 * s3;\n                _z = c1 * c2 * s3 + s1 * s2 * c3;\n                _w = c1 * c2 * c3 - s1 * s2 * s3;\n\n            } else if ( _order == YXZ ) {\n\n                _x = s1 * c2 * c3 + c1 * s2 * s3;\n                _y = c1 * s2 * c3 - s1 * c2 * s3;\n                _z = c1 * c2 * s3 - s1 * s2 * c3;\n                _w = c1 * c2 * c3 + s1 * s2 * s3;\n\n            } else if ( _order == ZXY ) {\n\n                _x = s1 * c2 * c3 - c1 * s2 * s3;\n                _y = c1 * s2 * c3 + s1 * c2 * s3;\n                _z = c1 * c2 * s3 + s1 * s2 * c3;\n                _w = c1 * c2 * c3 - s1 * s2 * s3;\n\n            } else if ( _order == ZYX ) {\n\n                _x = s1 * c2 * c3 - c1 * s2 * s3;\n                _y = c1 * s2 * c3 + s1 * c2 * s3;\n                _z = c1 * c2 * s3 - s1 * s2 * c3;\n                _w = c1 * c2 * c3 + s1 * s2 * s3;\n\n            } else if ( _order == YZX ) {\n\n                _x = s1 * c2 * c3 + c1 * s2 * s3;\n                _y = c1 * s2 * c3 + s1 * c2 * s3;\n                _z = c1 * c2 * s3 - s1 * s2 * c3;\n                _w = c1 * c2 * c3 - s1 * s2 * s3;\n\n            } else if ( _order == XZY ) {\n\n                _x = s1 * c2 * c3 - c1 * s2 * s3;\n                _y = c1 * s2 * c3 - s1 * c2 * s3;\n                _z = c1 * c2 * s3 + s1 * s2 * c3;\n                _w = c1 * c2 * c3 + s1 * s2 * s3;\n\n            }\n\n        set_xyzw(_x, _y, _z, _w);\n\n        return this;\n\n    } //setFromEuler\n\n\n    public function setFromAxisAngle( _axis:Vector, _angle:Float ) : Quaternion {\n\n        // from http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n        // axis have to be normalized\n\n        var _halfAngle = _angle / 2;\n        var _s = Math.sin( _halfAngle );\n\n            set_xyzw( _axis.x * _s,\n                      _axis.y * _s,\n                      _axis.z * _s,\n                      Math.cos( _halfAngle ) );\n\n        return this;\n\n    } //setFromAxisAngle\n\n\n    public function setFromRotationMatrix( _m:Matrix ) : Quaternion {\n\n        // http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n        // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n        var te = _m.elements;\n\n        var m11 = te[0], m12 = te[4], m13 = te[8];\n        var m21 = te[1], m22 = te[5], m23 = te[9];\n        var m31 = te[2], m32 = te[6], m33 = te[10];\n\n        var _x = x;\n        var _y = y;\n        var _z = z;\n        var _w = w;\n\n        var tr = m11 + m22 + m33;\n\n        var s : Float;\n\n            if (tr > 0) {\n\n                s = 0.5 / Math.sqrt( tr + 1.0 );\n\n                _w = 0.25 / s;\n                _x = (m32 - m23) * s;\n                _y = (m13 - m31) * s;\n                _z = (m21 - m12) * s;\n\n            } else if (m11 > m22 && m11 > m33) {\n\n                s = 2.0 * Math.sqrt(1.0 + m11 - m22 - m33);\n\n                _w = (m32 - m23) / s;\n                _x = 0.25 * s;\n                _y = (m12 + m21) / s;\n                _z = (m13 + m31) / s;\n\n            } else if (m22 > m33) {\n\n                s = 2.0 * Math.sqrt(1.0 + m22 - m11 - m33);\n\n                _w = (m13 - m31) / s;\n                _x = (m12 + m21) / s;\n                _y = 0.25 * s;\n                _z = (m23 + m32) / s;\n\n            } else {\n\n                s = 2.0 * Math.sqrt(1.0 + m33 - m11 - m22);\n\n                _w = (m21 - m12) / s;\n                _x = (m13 + m31) / s;\n                _y = (m23 + m32) / s;\n                _z = 0.25 * s;\n\n            }\n\n        set_xyzw(_x, _y, _z, _w);\n\n        return this;\n\n    } //setFromRotationMatrix\n\n\n    public function inverse() : Quaternion {\n\n        return conjugate().normalize();\n\n    } //inverse\n\n\n    public function conjugate() : Quaternion {\n\n        set_xyz( x * -1, y * -1, z * -1);\n\n        return this;\n\n    } //conjugate\n\n\n    public function lengthSq() : Float {\n\n        return x * x + y * y + z * z + w * w;\n\n    } //lengthSq\n\n\n    public function length() : Float {\n\n        return Math.sqrt(x * x + y * y + z * z + w * w);\n\n    } //length\n\n\n    public function normalize() : Quaternion {\n\n        var l = length();\n\n            if (l == 0) {\n\n                set_xyzw(0,0,0,1);\n\n            } else {\n\n                l = 1 / l;\n\n                set_xyzw( x*l, y*l, z*l, w*l );\n\n            }\n\n        return this;\n\n    } //normalize\n\n    public static function Add( _a:Quaternion, _b:Quaternion ):Quaternion {\n        return _a.clone().add(_b);\n    }\n\n    public static function Multiply( _a:Quaternion, _b:Quaternion ):Quaternion {\n        return _a.clone().multiply(_b);\n    }\n\n    public static function MultiplyScalar(_quaternion:Quaternion, _scalar:Float):Quaternion {\n        return _quaternion.clone().multiplyScalar(_scalar);\n    }\n\n    public function multiply( _quaternion:Quaternion ) : Quaternion {\n\n        return multiplyQuaternions( this, _quaternion );\n\n    } //multiply\n\n    public function add( _quaternion:Quaternion ) : Quaternion {\n\n        return addQuaternions( this, _quaternion );\n\n    } //add\n\n    public function addQuaternions( _a:Quaternion, _b:Quaternion ) {\n\n            x = _a.x + _b.x;\n            y = _a.y + _b.y;\n            z = _a.z + _b.z;\n            w = _a.w + _b.w;\n\n        return this;\n\n    } //addQuaternions\n\n    public function multiplyScalar( _scalar:Float ) : Quaternion {\n\n            x *= _scalar;\n            y *= _scalar;\n            z *= _scalar;\n            w *= _scalar;\n\n        return this;\n\n    } //multiply\n\n    public function multiplyQuaternions( _a:Quaternion, _b:Quaternion ) : Quaternion {\n\n        var qax = _a.x, qay = _a.y, qaz = _a.z, qaw = _a.w;\n        var qbx = _b.x, qby = _b.y, qbz = _b.z, qbw = _b.w;\n\n            set_xyzw( qax * qbw + qaw * qbx + qay * qbz - qaz * qby,\n                      qay * qbw + qaw * qby + qaz * qbx - qax * qbz,\n                      qaz * qbw + qaw * qbz + qax * qby - qay * qbx,\n                      qaw * qbw - qax * qbx - qay * qby - qaz * qbz );\n\n        return this;\n\n    } //multiplyQuaternions\n\n\n    public function slerp( _qb:Quaternion, _t:Float ) : Quaternion {\n\n        var _x = x;\n        var _y = y;\n        var _z = z;\n        var _w = w;\n\n        // http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n        var cosHalfTheta = _w * _qb.w + _x * _qb.x + _y * _qb.y + _z * _qb.z;\n\n        if ( cosHalfTheta < 0 ) {\n\n                x = -_qb.x;\n                y = -_qb.y;\n                z = -_qb.z;\n                w = -_qb.w;\n\n                cosHalfTheta = -cosHalfTheta;\n\n        } else {\n\n            this.copy( _qb );\n\n        }\n\n        if ( cosHalfTheta >= 1.0 ) {\n\n            set_xyzw(_x, _y, _z, _w);\n\n            return this;\n\n        }\n\n        var halfTheta = Math.acos( cosHalfTheta );\n        var sinHalfTheta = Math.sqrt( 1.0 - cosHalfTheta * cosHalfTheta );\n\n        if ( Math.abs( sinHalfTheta ) < 0.001 ) {\n\n            set_xyzw( 0.5 * ( _x + x ),\n                      0.5 * ( _y + y ),\n                      0.5 * ( _z + z ),\n                      0.5 * ( _w + w ) );\n\n            return this;\n\n        }\n\n        var ratioA = Math.sin( ( 1 - _t ) * halfTheta ) / sinHalfTheta,\n        ratioB = Math.sin( _t * halfTheta ) / sinHalfTheta;\n\n            set_xyzw( _x * ratioA + x * ratioB,\n                      _y * ratioA + y * ratioB,\n                      _z * ratioA + z * ratioB,\n                      _w * ratioA + w * ratioB );\n\n        return this;\n\n    } //slerp\n\n\n    public function equals( _q:Quaternion ) : Bool {\n\n        return ( (_q.x == x) && (_q.y == y) && (_q.z == z) && (_q.w == w) );\n\n    } //equals\n\n\n    public function fromArray( _a:Array<Float> ) : Quaternion {\n\n        set_xyzw(_a[0], _a[1], _a[2], _a[3]);\n\n        return this;\n\n    } //fromArray\n\n\n    public function toArray() : Array<Float> {\n\n        return [ x,y,z,w ];\n\n    } //toArray\n\n    public function clone() : Quaternion {\n\n        return new Quaternion( x, y, z, w );\n\n    } //clone\n\n    public function toeuler() {\n        return new Vector().setEulerFromQuaternion(this).degrees();\n    }\n\n    public static function Slerp( _qa:Quaternion , _qb:Quaternion, _qm:Quaternion , _t:Float ) : Quaternion {\n\n        return _qm.copy( _qa ).slerp( _qb, _t );\n\n    } //Slerp\n\n    public static function Dot( _a:Quaternion,  _b:Quaternion ) {\n        return new Quaternion(_a.x,_a.y,_a.z,_a.w).dot(_b);\n    }\n\n    inline function update_euler() {\n\n        if( euler == null || ignore_euler || _construct) {\n            return;\n        }\n\n        euler.setEulerFromQuaternion( this );\n\n    } //update_euler\n\n    var ignore_euler = false;\n\n    public inline function set_xyzw(_x:Float, _y:Float, _z:Float, _w:Float) {\n\n        ignore_euler = true;\n\n            x = _x;\n            y = _y;\n            z = _z;\n            w = _w;\n\n        ignore_euler = false;\n\n        update_euler();\n\n        if(listen_x != null && !ignore_listeners) listen_x(x);\n        if(listen_y != null && !ignore_listeners) listen_y(y);\n        if(listen_z != null && !ignore_listeners) listen_z(z);\n        if(listen_w != null && !ignore_listeners) listen_w(w);\n\n    } //set_xyzw\n\n    public inline function set_xyz(_x:Float, _y:Float, _z:Float) {\n\n        ignore_euler = true;\n\n            x = _x;\n            y = _y;\n            z = _z;\n\n        ignore_euler = false;\n\n        update_euler();\n\n        if(listen_x != null && !ignore_listeners) listen_x(x);\n        if(listen_y != null && !ignore_listeners) listen_y(y);\n        if(listen_z != null && !ignore_listeners) listen_z(z);\n\n    } //set_xyzw\n\n    inline function set_x( _v:Float ) {\n\n        x = _v;\n\n        if(_construct) return x;\n\n        update_euler();\n\n        if(listen_x != null && !ignore_listeners) listen_x(x);\n\n        return x;\n\n    } //set_x\n\n    inline function set_y( _v:Float ) {\n\n        y = _v;\n\n        if(_construct) return y;\n\n        update_euler();\n\n        if(listen_y != null && !ignore_listeners) listen_y(y);\n\n        return y;\n\n    } //set_y\n\n    inline function set_z( _v:Float ) {\n\n        z = _v;\n\n        if(_construct) return z;\n\n        update_euler();\n\n        if(listen_z != null && !ignore_listeners) listen_z(z);\n\n        return z;\n\n    } //set_z\n\n    inline function set_w( _v:Float ) {\n\n        w = _v;\n\n        if(_construct) return w;\n\n        update_euler();\n\n        if(listen_w != null && !ignore_listeners) listen_w(w);\n\n        return w;\n\n    } //set_w\n\n    public static inline function Listen( _q : Quaternion, listener ) {\n\n        _q.listen_x = listener;\n        _q.listen_y = listener;\n        _q.listen_z = listener;\n        _q.listen_w = listener;\n\n    } //listen\n\n} //Quaternion\n\n","package phoenix;\n\nimport phoenix.Rectangle;\nimport phoenix.Vector;\nimport phoenix.Camera;\n\nclass Ray {\n\n    public var origin : Vector;\n    public var end : Vector;\n    public var dir : Vector;\n\n    var camera : Camera;\n    var viewport : Rectangle;\n\n        //optional viewport size\n    public function new( _screen_pos:Vector, _camera:Camera, ?_viewport:Rectangle=null ) {\n\n        if(_viewport == null) {\n            _viewport = new Rectangle(0,0,Luxe.screen.w, Luxe.screen.h);\n        }\n\n        if(_camera == null) throw \"Camera required for a ray!\";\n\n        camera = _camera;\n        viewport = _viewport;\n\n       refresh(_screen_pos);\n\n    } //new\n\n    public function refresh( _screen_pos:Vector ) {\n\n            //calculate the x and y in normalized device coordinates first [-1, 1] on both axis\n        var ndc_x : Float = (_screen_pos.x/viewport.w  - 0.5) * 2.0;\n        var ndc_y : Float = ((viewport.h - _screen_pos.y)/viewport.h - 0.5) * 2.0;\n\n            //To calculate a ray we use [0,1] for the depth so we can get a direction\n        var start_ndc : Vector = new Vector( ndc_x, ndc_y, 0.0, 1.0 );\n        var end_ndc : Vector = new Vector( ndc_x, ndc_y, 1.0, 1.0 );\n            //So we have a near and a far clipping space coords for the mouse, now unproject it using the camera\n        origin = camera.unproject(start_ndc);\n        end = camera.unproject(end_ndc);\n        dir = Vector.Subtract(end, origin);\n\n    } //refresh\n\n} //Ray","package phoenix;\n\n\nclass Rectangle {\n\n    @:isVar public var x (default, set) : Float = 0;\n    @:isVar public var y (default, set) : Float = 0;\n    @:isVar public var w (default, set) : Float = 0;\n    @:isVar public var h (default, set) : Float = 0;\n\n    public var ignore_listeners : Bool = false;\n\n    @:isVar public var listen_x (default,default) : Float -> Void;\n    @:isVar public var listen_y (default,default) : Float -> Void;\n    @:isVar public var listen_w (default,default) : Float -> Void;\n    @:isVar public var listen_h (default,default) : Float -> Void;\n\n    public function new(?_x:Float = 0,?_y:Float = 0,?_w:Float = 0,?_h : Float = 0) {\n\n        x = _x;\n        y = _y;\n        w = _w;\n        h = _h;\n\n    } //new\n\n    function toString() {\n\n        return \"{ x:\"+x + \", y:\" + y + \", w:\" + w  + \", h:\" + h  + \" }\" ;\n\n    } //toString\n\n    public static function listen( _r:Rectangle, listener ) {\n        _r.listen_x = listener;\n        _r.listen_y = listener;\n        _r.listen_w = listener;\n        _r.listen_h = listener;\n    } //listen\n\n    public function point_inside( _p:Vector ) {\n\n        if(_p.x < x) return false;\n        if(_p.y < y) return false;\n        if(_p.x > x+w) return false;\n        if(_p.y > y+h) return false;\n\n        return true;\n\n    } //point_inside\n\n    public function overlaps( _other:Rectangle ) {\n\n        if(_other == null) {\n            return false;\n        }\n\n            //only need to test extremes\n        if( x < (_other.x + _other.w) &&\n            y < (_other.y + _other.h) &&\n            (x + w) > _other.x        &&\n            (y + h) > _other.y ) {\n\n            return true;\n        }\n\n        return false;\n    }\n\n    public function clone() {\n\n        return new Rectangle(x,y,w,h);\n\n    } //clone\n\n        //:todo:, epsilon fp check version\n    public function equal( _other:Rectangle ) {\n\n        if(_other == null) {\n            return false;\n        }\n\n        return x == _other.x && y == _other.y && w == _other.w && h == _other.h;\n\n    } //equal\n\n    public function copy_from( _rect:Rectangle ) {\n\n        x = _rect.x;\n        y = _rect.y;\n        w = _rect.w;\n        h = _rect.h;\n\n    } //copy_from\n\n    public function set(?_x:Float, ?_y:Float, ?_w:Float, ?_h:Float) {\n\n        var _setx = x;\n        var _sety = y;\n        var _setw = w;\n        var _seth = h;\n\n                    //assign new values\n                if(_x != null) _setx = _x;\n                if(_y != null) _sety = _y;\n                if(_w != null) _setw = _w;\n                if(_h != null) _seth = _h;\n\n            x = _setx;\n            y = _sety;\n            w = _setw;\n            h = _seth;\n\n        return this;\n\n    } //set\n\n    function set_x(_x:Float) : Float {\n\n        x = _x;\n\n            if(listen_x != null && !ignore_listeners) {\n                listen_x(_x);\n            }\n\n        return x;\n\n    } //set_x\n\n    function set_y(_y:Float) : Float {\n\n        y = _y;\n\n            if(listen_y != null && !ignore_listeners) {\n                listen_y(_y);\n            }\n\n        return y;\n\n    } //set_y\n\n    function set_w(_w:Float) : Float {\n\n        w = _w;\n\n            if(listen_w != null && !ignore_listeners) {\n                listen_w(_w);\n            }\n\n        return w;\n\n    } //set_w\n\n    function set_h(_h:Float) : Float {\n\n        h = _h;\n\n            if(listen_h != null && !ignore_listeners) {\n                listen_h(_h);\n            }\n\n        return h;\n\n    } //set_h\n\n}","package phoenix;\n\nimport snow.modules.opengl.GL;\nimport phoenix.Renderer;\nimport phoenix.Batcher;\n\n//Default base class will do forward rendering\n\nclass RenderPath {\n\n    public var renderer : Renderer;\n    public function new( _renderer:Renderer ) {\n        renderer = _renderer;\n    }\n\n    public function render( _batchers: Array<Batcher>, _stats:RendererStats ) {\n\n        var c = _batchers.length;\n        var i = 0;\n        while(i < c) {\n            var batch = _batchers[i];\n            if(batch.enabled) {\n\n                    //Tell the batcher to draw\n                batch.draw();\n\n            } //batcher enabled\n            batch = null;\n            ++i;\n\n        } //each batcher\n\n    } //render\n\n} //RenderPath\n\n","package phoenix;\n\nimport luxe.Log.*;\nimport snow.modules.opengl.GL;\nimport phoenix.Texture;\n\nclass RenderState {\n\n    var blending : Bool = true;\n    var cull_face : Bool = false;\n    var depth_test : Bool = false;\n    var depth_mask : Bool = true;\n    var renderer : Renderer;\n    var _viewport : Rectangle;\n    var _view_target_h : Float = 0.0;\n\n\n    public function new( _renderer:Renderer ) {\n        renderer = _renderer;\n        _viewport = new Rectangle( 0, 0, 0, 0 );\n    }\n\n    public function enable( what:Int ) {\n        switch(what) {\n            case GL.BLEND:\n                if(!blending) {\n                    blending = true;\n                    GL.enable(GL.BLEND);\n                }\n            case GL.CULL_FACE:\n                if(!cull_face) {\n                    cull_face = true;\n                    GL.enable(GL.CULL_FACE);\n                } //!cull_face\n            case GL.DEPTH_TEST:\n                if(Luxe.core.app.config.render.depth > 0) {\n                    if(!depth_test) {\n                        depth_test = true;\n                        GL.enable(GL.DEPTH_TEST);\n                    }\n                } //!depth_test\n        } //switch\n    } //enable_if_not\n\n    public function disable( what:Int ) {\n        switch(what) {\n            case GL.BLEND:\n                if(blending) {\n                    blending = false;\n                    GL.disable(GL.BLEND);\n                }\n            case GL.CULL_FACE:\n                if(cull_face) {\n                    cull_face = false;\n                    GL.disable(GL.CULL_FACE);\n                } //cull_face\n            case GL.DEPTH_TEST:\n                if(Luxe.core.app.config.render.depth > 0) {\n                    if(depth_test) {\n                        depth_test = false;\n                        GL.disable(GL.DEPTH_TEST);\n                    }\n                } //depth_test\n        } //switch\n    } //disable_if_not\n\n    var depth_func : Int = -1;\n    public function depth_function( what:Int ) {\n        if(depth_func != what) {\n            GL.depthFunc( what );\n            depth_func = what;\n        }\n    } //depth_function\n\n    public function scissor(x:Float, y:Float, w:Float, h:Float) {\n\n            //the target may have render scaling awareness,\n            //so we take the input coordinates into the viewport scaled space\n        var _target_scale = renderer.target.viewport_scale;\n\n        x *= _target_scale;\n        y *= _target_scale;\n        w *= _target_scale;\n        h *= _target_scale;\n\n            //the target height is in renderable pixels, so no scaling\n        var _target_h = renderer.target.height;\n            //In OpenGL the coords are bottom left origin, so we flip the y\n        var _y : Float = _target_h - (y + h);\n\n        GL.scissor(Std.int(x), Std.int(_y), Std.int(w), Std.int(h));\n\n    } //scissor\n\n    public function viewport(x:Float, y:Float, w:Float, h:Float) {\n\n            //the target may have render scaling awareness,\n            //so we take the input coordinates into the viewport scaled space\n        var _target_scale = renderer.target.viewport_scale;\n\n        x *= _target_scale;\n        y *= _target_scale;\n        w *= _target_scale;\n        h *= _target_scale;\n\n            //the target height is in renderable pixels, so no scaling\n        var _target_h = renderer.target.height;\n\n            //In OpenGL the viewport is bottom left origin, so we flip the y\n            //when submitting our top left based coordinates.\n            //We use the target size property of the renderer, which\n            //when rendering to the screen matches the window and when\n            //rendering to a texture/render target, matches the target.\n        var _y : Float = _target_h - (y + h);\n\n        GL.viewport(Std.int(x), Std.int(_y), Std.int(w), Std.int(h));\n\n    } //viewport\n\n    @:noCompletion public var current_framebuffer : GLFramebuffer = null;\n    public function bindFramebuffer( ?buffer:GLFramebuffer=null ) {\n\n        if(current_framebuffer != buffer) {\n\n            def(buffer, renderer.default_framebuffer);\n\n            GL.bindFramebuffer( GL.FRAMEBUFFER, buffer );\n            current_framebuffer = buffer;\n        }\n\n    } //bindFrameBuffer\n\n    @:noCompletion public var current_renderbuffer : GLRenderbuffer = null;\n    public function bindRenderbuffer( ?buffer:GLRenderbuffer=null ) {\n\n        if(current_renderbuffer != buffer) {\n\n            def(buffer, renderer.default_renderbuffer);\n\n            GL.bindRenderbuffer( GL.RENDERBUFFER, buffer );\n            current_renderbuffer = buffer;\n        }\n\n    } //bindRenderbuffer\n\n    var _used_program : GLProgram = null;\n    public function useProgram( program:GLProgram ) {\n        if(_used_program != program) {\n            _used_program = program;\n            GL.useProgram( program );\n        }\n    } //useProgram\n\n    var _active_texture = -1;\n    public function activeTexture( val:Int ) {\n        if(_active_texture != val) {\n            GL.activeTexture(val);\n            _active_texture = val;\n        }\n    } //activeTexture\n\n    public inline function bindTexture( type:TextureType, tex:TextureID ) {\n        switch(type) {\n            case TextureType.tex_2D:\n                bindTexture2D(tex);\n            case TextureType.tex_cube:\n                bindTextureCube(tex);\n        }\n    }\n\n    public static var bound_texture_2D : TextureID = null;\n    public function bindTexture2D( tex:TextureID ) {\n        if(bound_texture_2D != tex) {\n            bound_texture_2D = tex;\n            GL.bindTexture(GL.TEXTURE_2D, tex);\n        }\n    }\n\n    public static var bound_texture_cube : TextureID = null;\n    public function bindTextureCube( tex:TextureID ) {\n        if(bound_texture_cube != tex) {\n            bound_texture_cube = tex;\n            GL.bindTexture(GL.TEXTURE_CUBE_MAP, tex);\n        }\n    }\n\n    var _last_line_width:Float = 1;\n    public function lineWidth( _width:Float ) {\n        if(_last_line_width != _width) {\n            _last_line_width = _width;\n            GL.lineWidth( _width );\n        }\n    }\n\n    var _last_depth_mask:Bool = true;\n    public function depthMask( _enable:Bool ) {\n        if(_last_depth_mask != _enable) {\n            _last_depth_mask = _enable;\n            GL.depthMask( _enable );\n        }\n    }\n\n} //RenderState\n","package phoenix;\n\nimport snow.modules.opengl.GL;\nimport snow.systems.assets.Asset;\n\nimport luxe.Log.*;\n\nimport luxe.Engine;\nimport luxe.Rectangle;\n\nimport phoenix.Batcher;\nimport phoenix.RenderPath;\nimport phoenix.geometry.Geometry;\n\nimport phoenix.RenderTexture;\nimport phoenix.Shader;\nimport phoenix.Color;\nimport phoenix.Camera;\nimport phoenix.Texture;\nimport phoenix.BitmapFont;\nimport snow.types.Types.Error;\n\ntypedef BatcherKey = {\n    uuid : String,\n    layer : Int\n}\n\nprivate typedef DefaultShader = {\n    source: { vert:String, frag:String },\n    shader : Shader\n}\n\nprivate typedef DefaultShaders = {\n    plain : DefaultShader,\n    textured : DefaultShader,\n    bitmapfont : DefaultShader\n}\n\ninterface RenderTarget {\n    public var width: Int;\n    public var height: Int;\n    public var viewport_scale: Float;\n    public var framebuffer: GLFramebuffer;\n    public var renderbuffer: GLRenderbuffer;\n}\n\n@:allow(phoenix.Renderer)\nclass Backbuffer implements RenderTarget {\n\n    public var width: Int;\n    public var height: Int;\n    public var viewport_scale: Float;\n    public var framebuffer: GLFramebuffer;\n    public var renderbuffer: GLRenderbuffer;\n\n    function new(_render_w:Int, _render_h:Int, _render_scale:Float, _fb:GLFramebuffer, _rb:GLRenderbuffer) {\n        width = _render_w;\n        height = _render_h;\n        viewport_scale = _render_scale;\n        framebuffer = _fb;\n        renderbuffer = _rb;\n    }\n\n}\n\nclass Renderer {\n\n    public var batchers : Array<Batcher>;\n\n    public var core : Engine;\n    public var state : RenderState;\n    public var default_framebuffer : GLFramebuffer;\n    public var default_renderbuffer : GLRenderbuffer;\n        //Default rendering\n    public var shaders : DefaultShaders;\n        //Default view and batching renderer\n    public var batcher : Batcher;\n    public var camera : Camera;\n        //Default font for debug stuff etc\n    public var font : BitmapFont;\n        //This will be null if there's no default font\n    public var font_asset : AssetImage;\n        //Default render path is a forward renderer, and acts as a fallback for deferred\n        //render path is the active render path, can replace it to render in a different manner\n        //It will pass all batchers to be processed etc for you to do whatever with\n    public var render_path : RenderPath;\n    public var default_render_path : RenderPath;\n\n    @:isVar public var target (get,set) : RenderTarget;\n    public var default_target: RenderTarget;\n    public var backbuffer: Backbuffer;\n\n    public var should_clear : Bool = true;\n    public var stop : Bool = false;\n    public var stop_count : Int = 0;\n    public var clear_color : Color;\n\n    public var stats : RendererStats;\n\n    public function new( _core:luxe.Engine, _asset:AssetImage ) {\n\n        core = _core;\n        font_asset = _asset;\n\n        //store the default framebuffer/renderbuffer as on some platforms it is not just '0'\n        //:todo:refactor:gl:\n\n            default_framebuffer = GL.getParameter(GL.FRAMEBUFFER_BINDING);\n            default_renderbuffer = GL.getParameter(GL.RENDERBUFFER_BINDING);\n\n            #if luxe_no_device_pixel_scaling\n                var render_scale_ratio = 1.0;\n            #else\n                var render_scale_ratio = core.app.runtime.window_device_pixel_ratio();\n            #end\n\n            backbuffer = new Backbuffer(\n                core.app.runtime.window_width(),\n                core.app.runtime.window_height(),\n                render_scale_ratio,\n                default_framebuffer,\n                default_renderbuffer\n            );\n\n        _debug(\"default Framebuffer set to \" + default_framebuffer);\n        _debug(\"default Renderbuffer set to \" + default_renderbuffer);\n\n    } //new\n\n    public function init() {\n\n            //:todo:GL context query\n            //Don't remove this,\n            //it's a catch for crashing because\n            //we don't have a valid GL context, until the query\n            //is finalized on snow side\n        log('opengl ${snow.modules.opengl.GL.versionString()}');\n\n        state = new RenderState(this);\n        clear_color = new Color().rgb(0x1a1a1a);\n        stats = new RendererStats();\n        target = default_target = backbuffer;\n        batchers = [];\n\n            //The default view\n        camera = new Camera();\n            //Create the default render path\n        default_render_path = new RenderPath( this );\n            //Apply it\n        render_path = default_render_path;\n\n            //init shaders\n        create_default_shaders();\n\n            //create the default batcher\n        batcher = new Batcher( this, 'default batcher' );\n        batcher.layer = 1;\n        add_batch(batcher);\n\n        #if !no_default_font\n\n            create_default_font();\n\n        #end //no_default_font\n\n        if(Luxe.core.app.config.render.depth > 0) {\n                // Enable z buffer use\n            state.enable(GL.DEPTH_TEST);\n                // Accept fragment if it closer or equal away from the other\n            state.depth_function(GL.LEQUAL);\n                //Clear the depth buffer\n            GL.clearDepth(1.0);\n        }\n\n            //Enable blending\n        GL.enable(GL.BLEND);\n        GL.blendFunc(GL.SRC_ALPHA, GL.ONE_MINUS_SRC_ALPHA);\n\n            //Make sure that we aren't premultiplying the back buffer\n        #if luxe_web\n            GL.pixelStorei(GL.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 0);\n        #end //luxe_web\n\n    } //init\n\n    public function destroy() {\n\n        clear( new luxe.Color().rgb(0xff440b) );\n\n    } //destroy\n\n    @:allow(phoenix.Batcher)\n    function sort_batchers( a:Batcher, b:Batcher ) {\n        if(a.layer < b.layer) return -1;\n        if(a.layer > b.layer) return 1;\n        if(a.sequence < b.sequence) return -1;\n        if(a.sequence > b.sequence) return 1;\n        return 1;\n    } //sort_batchers\n\n    public function add_batch( batch:Batcher ) {\n\n        batchers.push( batch );\n        batchers.sort( sort_batchers );\n\n    } //add_batch\n\n    public function remove_batch( batch:Batcher ) {\n\n        batchers.remove( batch );\n\n    } //remove_batch\n\n        /** Create a batcher, convenience for create batcher, add batcher (option), and create a camera for the batcher. */\n    public function create_batcher( ? options:luxe.options.BatcherOptions ) : Batcher {\n\n            //:todo: why is this hardcoded at 2\n        var _new_batcher_layer = 2;\n\n        if(options != null) {\n\n            def(options.name, 'batcher');\n            def(options.layer, _new_batcher_layer);\n            def(options.camera, new phoenix.Camera());\n            def(options.max_verts, 16384);\n\n        } else {\n            options = {\n                name : 'batcher',\n                camera : new phoenix.Camera(),\n                layer : _new_batcher_layer,\n                max_verts : 16384\n            }\n        }\n\n        var _batcher = new Batcher( this, options.name, options.max_verts );\n            _batcher.view = options.camera;\n            _batcher.layer = options.layer;\n\n        if( options.no_add == null || options.no_add == false ) {\n            add_batch( _batcher );\n        }\n\n\n        return _batcher;\n\n    } //create_batcher\n\n\n    public function clear( _color:Color ) {\n\n        def(_color, clear_color);\n\n        GL.clearColor( _color.r, _color.g, _color.b, _color.a );\n\n        if(Luxe.core.app.config.render.depth > 0) {\n            GL.clear(GL.COLOR_BUFFER_BIT | GL.DEPTH_BUFFER_BIT);\n            GL.clearDepth(1.0);\n        } else {\n            GL.clear(GL.COLOR_BUFFER_BIT);\n        }\n\n    } //clear\n\n    public function blend_disable(disabled_state:Bool) {\n\n        disabled_state ? state.enable(GL.BLEND) : state.disable(GL.BLEND);\n\n    } //blend_disable\n\n    public function blend_mode(?_src_mode:BlendMode = BlendMode.src_alpha, _dst_mode:BlendMode = BlendMode.one_minus_src_alpha) {\n\n        GL.blendFunc(_src_mode, _dst_mode);\n\n    } //set blendmode\n\n    public function blend_equation(?_equation:BlendEquation = BlendEquation.add) {\n\n        GL.blendEquation(_equation);\n\n    } //set blend equation\n\n        //The resize handler\n    @:allow(luxe.Engine)\n    function internal_resized(_w:Int, _h:Int) {\n\n        backbuffer.width = _w;\n        backbuffer.height = _h;\n\n            //if device pixels are used, update the scale factor in case they changed monitors\n        #if !luxe_no_device_pixel_scaling\n            backbuffer.viewport_scale = core.app.runtime.window_device_pixel_ratio();\n        #end\n\n    } //internal_resized\n\n        //The main render function\n    @:allow(luxe.Engine)\n    function process() {\n\n        // if(stop) { return; }\n\n        if(should_clear) {\n            clear( clear_color );\n        }\n\n            //render\n        render_path.render( batchers, stats );\n\n        // stop_count++;\n        // if(stop_count >= 3) {\n        //     stop = true;\n        // }\n\n    } //process\n\n    @:allow(luxe.Engine)\n    function prerender() {\n\n        stats.reset();\n\n    } //prerender\n\n    function get_target() : RenderTarget {\n\n        return target;\n\n    } //get_target\n\n    function set_target(_target:RenderTarget) {\n\n        if(_target == null) _target = default_target;\n\n        bind_target(_target);\n\n        return target = _target;\n\n    } //set_target\n\n    public inline function bind_target(_target:RenderTarget) {\n\n        state.bindFramebuffer(_target.framebuffer);\n        state.bindRenderbuffer(_target.renderbuffer);\n\n    } //bind_target\n\n    function create_default_shaders() {\n\n        _debug('creating default shaders...');\n\n        var vert = null;\n        var frag = null;\n        var frag_textured = null;\n        var frag_bitmapfont = null;\n\n        #if (linc_opengl && !linc_opengl_GLES && !js)\n            if(Luxe.snow.config.render.opengl.profile == snow.types.Types.OpenGLProfile.core) {\n                var vaos = [0];\n                opengl.GL.glGenVertexArrays(1, vaos);\n                opengl.GL.glBindVertexArray(vaos[0]);\n\n                vert = haxe.Resource.getString('default.vert.gl3.glsl');\n                frag = haxe.Resource.getString('default.frag.gl3.glsl');\n                frag_textured = haxe.Resource.getString('default.frag.textured.gl3.glsl');\n                frag_bitmapfont = haxe.Resource.getString('default.frag.bitmapfont.gl3.glsl');\n            }\n        #end\n\n        if(vert == null) {\n            vert = haxe.Resource.getString('default.vert.glsl');\n            frag = haxe.Resource.getString('default.frag.glsl');\n            frag_textured = haxe.Resource.getString('default.frag.textured.glsl');\n            frag_bitmapfont = haxe.Resource.getString('default.frag.bitmapfont.glsl');\n        }\n\n\n        #if luxe_web\n            var ext = snow.modules.opengl.GL.gl.getExtension('OES_standard_derivatives');\n        #end\n\n            //for web + mobile, these are required\n        #if !desktop\n            frag = \"precision mediump float;\\n\" + frag;\n            frag_textured = \"precision mediump float;\\n\" + frag_textured;\n            frag_bitmapfont = \"#extension GL_OES_standard_derivatives : enable\\n#extension OES_standard_derivatives : enable\\nprecision mediump float;\\n\" + frag_bitmapfont;\n        #end\n\n        var _plain = new Shader({ id:'luxe.shader', frag_id:'default', vert_id:'default' });\n        var _textured = new Shader({ id:'luxe.shader_textured', frag_id:'textured', vert_id:'default' });\n        var _font = new Shader({ id:'luxe.shader_bitmapfont', frag_id:'bitmapfont', vert_id:'default' });\n\n        //create compile and link the shaders\n        var _ok = true;\n\n            _ok = _ok && _plain.from_string( vert, frag );\n            _ok = _ok && _textured.from_string( vert, frag_textured );\n            _ok = _ok && _font.from_string( vert, frag_bitmapfont );\n\n        assert(_ok, 'Default shaders failed to compile or link. See log for errors');\n\n        //store for use\n\n        shaders = {\n            plain : { shader : _plain, source : { vert:vert, frag:frag } },\n            textured : { shader : _textured, source : { vert:vert, frag:frag_textured } },\n            bitmapfont : { shader : _font, source : { vert:vert, frag:frag_bitmapfont } },\n        };\n\n        _debug('done.');\n\n    } //create_default_shaders\n\n    function create_default_font() {\n\n        assertnull(font_asset, 'Renderer / failed to create the default font');\n\n        _debug(\"creating the default font...\");\n\n                //Create the font texture\n            var _font_texture = new Texture({\n                id:'luxe.font.png',\n                width: font_asset.image.width_actual,\n                height: font_asset.image.height_actual,\n                pixels: font_asset.image.pixels\n            });\n\n            assertnull(_font_texture, 'Renderer / failed to create the default font... font_texture was null.');\n\n            var _font_data = haxe.Resource.getString('default.fnt');\n\n            font = new BitmapFont({\n                id: 'luxe.font',\n                font_data: _font_data,\n                pages: [ _font_texture ]\n            });\n\n        _debug(\"done. \" + _font_texture.width + 'x' + _font_texture.height );\n\n    } //create_default_font\n\n} //renderer\n\n\n\nclass RendererStats {\n\n    public function new(){}\n    public var batchers : Int = 0;\n    public var geometry_count : Int = 0;\n    public var dynamic_batched_count : Int = 0;\n    public var static_batched_count : Int = 0;\n    public var visible_count : Int = 0;\n    public var draw_calls : Int = 0;\n    public var vert_count : Int = 0;\n\n    public function reset() {\n        geometry_count = 0;\n        dynamic_batched_count = 0;\n        static_batched_count = 0;\n        visible_count = 0;\n        draw_calls = 0;\n        vert_count = 0;\n    }\n\n    function toString() {\n        return\n            'Renderer Statistics\\n' +\n            '\\tbatcher count : ' + batchers + '\\n' +\n            '\\ttotal geometry : ' + geometry_count + '\\n' +\n            '\\tvisible geometry : ' + visible_count + '\\n' +\n            '\\tdynamic batched geometry : ' + dynamic_batched_count + '\\n' +\n            '\\tstatic batched geometry : ' + static_batched_count + '\\n' +\n            '\\ttotal draw calls : ' + draw_calls + '\\n' +\n            '\\ttotal vertices : ' + vert_count;\n    }\n\n}\n\n","package phoenix.geometry;\n\nimport luxe.Log.*;\nimport phoenix.Vector;\nimport phoenix.geometry.Vertex;\nimport phoenix.geometry.Geometry;\nimport phoenix.Batcher.PrimitiveType;\nimport luxe.options.GeometryOptions.CircleGeometryOptions;\n\n\nclass RingGeometry extends Geometry {\n\n    public function new(_options:CircleGeometryOptions) {\n\n        _options.primitive_type = PrimitiveType.lines;\n\n        super(_options);\n\n            //some default values so that the circle is visible with no values\n        var _radius_x = 32.0;\n        var _radius_y = 32.0;\n\n        def(_options.end_angle, 360);\n        def(_options.start_angle, 0);\n\n        if(_options.r != null) {\n            _radius_x = _options.r;\n            _radius_y = _options.r;\n        }\n\n        if(_options.rx != null) {\n            _radius_x = _options.rx;\n        }\n\n        if(_options.ry != null) {\n            _radius_y = _options.ry;\n        }\n\n        if(_options.steps == null) {\n            if(_options.smooth == null) {\n                var _max = Math.max(_radius_x, _radius_y);\n                _options.steps = Luxe.utils.geometry.segments_for_smooth_circle( _max );\n            } else {\n                var _smooth = _options.smooth;\n                var _max = Math.max(_radius_x, _radius_y);\n                _options.steps = Luxe.utils.geometry.segments_for_smooth_circle( _max, _smooth );\n            }\n        }\n\n            //Apply the new options\n        set( _options.x, _options.y, _radius_x, _radius_y, _options.steps, _options.start_angle, _options.end_angle );\n\n    } //new\n\n    public function set( _x:Float, _y:Float, _rx:Float, _ry:Float, _steps:Int, _start_angle_degrees:Float=0, _end_angle_degrees:Float=360 ) {\n\n            //adapted from\n            //http://slabode.exofire.net/circle_draw.shtml\n\n            if(Math.abs(_start_angle_degrees) > 360) _start_angle_degrees %= 360;\n            if(Math.abs(_end_angle_degrees) > 360) _end_angle_degrees %= 360;\n\n            var _start_angle_rad = luxe.utils.Maths.radians(_start_angle_degrees);\n            var _end_angle_rad = luxe.utils.Maths.radians(_end_angle_degrees);\n\n            var _range = _end_angle_rad - _start_angle_rad;\n\n                //Precompute the value based on segments\n            var theta = _range / _steps;\n\n            var tangential_factor = Math.tan( theta );\n            var radial_factor = Math.cos( theta );\n\n            var x : Float = _rx * Math.cos(_start_angle_rad);\n            var y : Float = _rx * Math.sin(_start_angle_rad);\n\n            //now work out the ratio between _x and _y\n            //:todo: epsilon\n            var radial_ratio : Float = _rx / _ry;\n            if(radial_ratio == 0) radial_ratio = 0.000000001;\n\n            var _index = 0;\n            var _segment_pos = [];\n            for( i in 0 ... _steps ) {\n\n                var __x = x;\n                var __y = y / radial_ratio;\n\n                    //the position of this current segment\n                var _seg = new Vector( __x,__y );\n                    //we store them to reference them behind\n                _segment_pos.push(_seg);\n\n                    //one for the segment position\n                add(new Vertex( _seg, color ));\n\n                    //and if past 0, one for the prev segment to close the tri\n                if(_index > 0) {\n                    var prevvert = _segment_pos[_index];\n                    add(new Vertex( prevvert.clone(), color ));\n                }\n\n                var tx = -y;\n                var ty = x;\n\n                x += tx * tangential_factor;\n                y += ty * tangential_factor;\n\n                x *= radial_factor;\n                y *= radial_factor;\n\n                _index++;\n\n            } //for\n\n                //if steps is < 0 no segments were added\n            if(_segment_pos.length > 0) {\n                add( new Vertex( _segment_pos[0].clone(), color ) );\n            }\n\n        //and finally, set the position\n        transform.pos = new Vector( _x, _y );\n\n    } //set\n\n} //RingGeometry\n","package phoenix.geometry;\n\nimport luxe.Log.*;\nimport phoenix.Vector;\nimport phoenix.geometry.Vertex;\nimport phoenix.geometry.Geometry;\nimport phoenix.Batcher.PrimitiveType;\nimport luxe.options.GeometryOptions.CircleGeometryOptions;\n\n\nclass ArcGeometry extends RingGeometry {\n\n    public function new(_options:CircleGeometryOptions) {\n\n        super(_options);\n\n            //remove the first center point\n            //and the last extra vert\n        vertices.pop();\n        vertices.pop();\n\n    } //new\n\n} //ArcGeometry\n","package phoenix.geometry;\n\nimport luxe.Log.*;\nimport phoenix.Vector;\nimport phoenix.geometry.Vertex;\nimport phoenix.geometry.Geometry;\nimport phoenix.Batcher.PrimitiveType;\nimport luxe.options.GeometryOptions.CircleGeometryOptions;\n\n\nclass CircleGeometry extends Geometry {\n\n    public function new(_options:CircleGeometryOptions) {\n\n        _options.primitive_type = PrimitiveType.triangles;\n\n        super(_options);\n\n            //some default values so that the circle is visible with no values\n        var _radius_x = 32.0;\n        var _radius_y = 32.0;\n\n        def(_options.end_angle, 360);\n        def(_options.start_angle, 0);\n\n        if(_options.r != null) {\n            _radius_x = _options.r;\n            _radius_y = _options.r;\n        }\n\n        if(_options.rx != null) {\n            _radius_x = _options.rx;\n        }\n\n        if(_options.ry != null) {\n            _radius_y = _options.ry;\n        }\n\n        if(_options.steps == null) {\n            if(_options.smooth == null) {\n                var _max = Math.max(_radius_x, _radius_y);\n                _options.steps = Luxe.utils.geometry.segments_for_smooth_circle( _max );\n            } else {\n                var _smooth = _options.smooth;\n                var _max = Math.max(_radius_x, _radius_y);\n                _options.steps = Luxe.utils.geometry.segments_for_smooth_circle( _max, _smooth );\n            }\n        }\n\n            //Apply the new options\n        set( _options.x, _options.y, _radius_x, _radius_y, _options.steps, _options.start_angle, _options.end_angle );\n\n    } //new\n\n    public function set( _x:Float, _y:Float, _rx:Float, _ry:Float, _steps:Int, _start_angle:Float=0, _end_angle:Float=360 ) {\n\n            //adapted from\n            //http://slabode.exofire.net/circle_draw.shtml\n\n            var half_pi = Math.PI/2;\n            var _start_angle_rad = luxe.utils.Maths.radians(_start_angle) - half_pi;\n            var _end_angle_rad = luxe.utils.Maths.radians(_end_angle) - half_pi;\n\n            var _range = _end_angle_rad - _start_angle_rad;\n\n                //how much % of 360 is this, to limit step count?\n            _steps = Math.ceil((Math.abs(_range)/(Math.PI*2)) * _steps );\n\n                //Precompute the value based on segments\n            var theta = _range / _steps;\n\n            var tangential_factor = Math.tan( theta );\n            var radial_factor = Math.cos( theta );\n\n            var x = _rx * Math.cos(_start_angle_rad);\n            var y = _rx * Math.sin(_start_angle_rad);\n\n            //now work out the ratio between _x and _y\n            var radial_ratio = _rx / _ry;\n            if(radial_ratio == 0) {\n                radial_ratio = 0.000000001;\n            }\n\n            var _index = 0;\n            var _segment_pos = [];\n            for( i in 0 ... _steps+1 ) {\n\n                var __x = x;\n                var __y = y / radial_ratio;\n\n                    //the position of this current segment\n                var _seg = new Vector( __x,__y );\n                    //we store them to reference them behind\n                _segment_pos.push(_seg);\n\n                    //and if past first node, close the prev tri with new seg pos\n                if(_index > 0) {\n                    add(new Vertex( _seg, color )); //2\n                }\n\n                    //one for the center point\n                add( new Vertex( new Vector( 0,0 ), color ) ); //0\n\n                    //one for the segment position\n                add(new Vertex( _seg, color )); //1\n\n                var tx = -y;\n                var ty = x;\n\n                x += tx * tangential_factor;\n                y += ty * tangential_factor;\n\n                x *= radial_factor;\n                y *= radial_factor;\n\n                _index++;\n\n            } //for\n\n        add(new Vertex( _segment_pos[_steps], color )); //1\n\n            //and finally, set the position\n        transform.pos = new Vector( _x, _y );\n\n    } //set\n\n\n} //CircleGeometry\n","package phoenix.geometry;\n\nimport phoenix.Rectangle;\nimport phoenix.Texture;\nimport phoenix.Shader;\nimport phoenix.Batcher;\n\n@:allow(phoenix.Batcher)\n@:allow(phoenix.BatchState)\n@:allow(phoenix.geometry.Geometry)\nclass GeometryState {\n\n    var dirty = false;\n    var log = false;\n    var ignore_blend = true;\n\n    @:isVar var primitive_type(default, set) : PrimitiveType;\n    @:isVar var shader(default, set) : Shader;\n    @:isVar var texture(default, set) : Texture;\n    @:isVar var depth(default, set) : Float = 0.0;\n    @:isVar var clip(default, set) : Bool = false;\n    @:isVar var clip_x(default, set) : Float = 0;\n    @:isVar var clip_y(default, set) : Float = 0;\n    @:isVar var clip_w(default, set) : Float = 0;\n    @:isVar var clip_h(default, set) : Float = 0;\n    @:isVar var blend_disabled(default, set) : Bool = false;\n    @:isVar var blend_src_alpha(default, set) : BlendMode = BlendMode.src_alpha;\n    @:isVar var blend_src_rgb(default, set) : BlendMode = BlendMode.src_alpha;\n    @:isVar var blend_dest_alpha(default, set) : BlendMode = BlendMode.one_minus_src_alpha;\n    @:isVar var blend_dest_rgb(default, set) : BlendMode = BlendMode.one_minus_src_alpha;\n\n    inline\n    function new() {\n\n        texture = null;\n        shader = null;\n        primitive_type = PrimitiveType.points;\n\n    } //new\n\n    inline\n    function clone_onto( _other:GeometryState )  {\n\n        _other.dirty = dirty;\n        _other.texture = texture;\n        _other.shader = shader;\n        _other.depth = depth;\n        _other.primitive_type = primitive_type;\n        _other.clip = clip;\n        _other.clip_x = clip_x;\n        _other.clip_y = clip_y;\n        _other.clip_w = clip_w;\n        _other.clip_h = clip_h;\n        _other.blend_disabled = blend_disabled;\n        _other.blend_src_alpha = blend_src_alpha;\n        _other.blend_src_rgb = blend_src_rgb;\n        _other.blend_dest_alpha = blend_dest_alpha;\n        _other.blend_dest_rgb = blend_dest_rgb;\n        _other.ignore_blend = ignore_blend;\n\n    } //clone_onto\n\n    function str() {\n\n        if(!log) return;\n\n        trace('\\t+ GEOMETRYSTATE $dirty');\n            trace('\\t\\tdepth - $depth');\n            trace('\\t\\ttexture - ' + (( texture == null) ? 'null' :  texture.id ));\n            if(texture != null) {\n                trace('\\t\\t\\t ${texture.texture}');\n            }\n            trace('\\t\\tshader - ' + (( shader == null) ? 'null' :  shader.id ));\n            trace('\\t\\tprimitive_type - $primitive_type');\n            trace('\\t\\tclip - $clip');\n            trace('\\t\\tclip rect - $clip_x,$clip_y,$clip_w,$clip_h');\n            trace('\\t\\tblend - $blend_disabled - src_alpha($blend_src_alpha) src_rgb($blend_src_rgb) dest_alpha($blend_dest_alpha) dest_rgb($blend_dest_rgb)');\n        trace('\\t- GEOMETRYSTATE');\n\n    } //str\n\n    inline\n    function clean() {\n\n        dirty = false;\n\n    } //clean\n\n    #if !luxe_no_hotpath_inline @:extern inline #end\n    function update( other : GeometryState ) {\n\n        if(depth != other.depth) {\n            depth = other.depth;\n        }\n\n        if(texture != other.texture) {\n            texture = other.texture;\n        }\n\n        if(shader != other.shader) {\n            shader = other.shader;\n        }\n\n        if(primitive_type != other.primitive_type) {\n            primitive_type = other.primitive_type;\n        }\n\n        if(clip != other.clip) {\n            clip = other.clip;\n        }\n\n        if(clip_x != other.clip_x) {\n            clip_x = other.clip_x;\n        } //clip_x\n\n        if(clip_y != other.clip_y) {\n            clip_y = other.clip_y;\n        } //clip_y\n\n        if(clip_w != other.clip_w) {\n            clip_w = other.clip_w;\n        } //clip_w\n\n        if(clip_h != other.clip_h) {\n            clip_h = other.clip_h;\n        } //clip_h\n\n        if(blend_disabled != other.blend_disabled) {\n            blend_disabled = other.blend_disabled;\n        } //blend_disabled\n\n        if(blend_src_alpha != other.blend_src_alpha) {\n            blend_src_alpha = other.blend_src_alpha;\n        } //blend_src_alpha\n\n        if(blend_src_rgb != other.blend_src_rgb) {\n            blend_src_rgb = other.blend_src_rgb;\n        } //blend_src_rgb\n\n        if(blend_dest_alpha != other.blend_dest_alpha) {\n            blend_dest_alpha = other.blend_dest_alpha;\n        } //blend_dest_alpha\n\n        if(blend_dest_rgb != other.blend_dest_rgb) {\n            blend_dest_rgb = other.blend_dest_rgb;\n        } //blend_dest_rgb\n\n        if(ignore_blend != other.ignore_blend) {\n            ignore_blend = other.ignore_blend;\n        } //ignore_blend\n\n    } //update\n\n//Primitive Type\n    inline function set_primitive_type(val : PrimitiveType) : PrimitiveType {\n        dirty = true;\n        return primitive_type = val;\n    }\n//Texture\n    inline function set_texture(val : Texture) : Texture {\n        dirty = true;\n        return texture = val;\n    }\n//Shader\n    inline function set_shader(val : Shader) : Shader {\n        dirty = true;\n        return shader = val;\n    }\n//Depth\n    inline function set_depth(val : Float) : Float {\n        return depth = val;\n    }\n//Clip\n    inline function set_clip(val : Bool) : Bool {\n        dirty = true;\n        return clip = val;\n    }\n//Clip rect\n    inline function set_clip_x(val : Float) : Float {\n        dirty = true;\n        return clip_x = val;\n    }\n    inline function set_clip_y(val : Float) : Float {\n        dirty = true;\n        return clip_y = val;\n    }\n    inline function set_clip_w(val : Float) : Float {\n        dirty = true;\n        return clip_w = val;\n    }\n    inline function set_clip_h(val : Float) : Float {\n        dirty = true;\n        return clip_h = val;\n    }\n    inline function set_blend_disabled(val : Bool) : Bool {\n        dirty = true;\n        return blend_disabled = val;\n    }\n    inline function set_blend_src_alpha(val : Int) : Int {\n        dirty = true;\n        return blend_src_alpha = val;\n    }\n    inline function set_blend_src_rgb(val : Int) : Int {\n        dirty = true;\n        return blend_src_rgb = val;\n    }\n    inline function set_blend_dest_alpha(val : Int) : Int {\n        dirty = true;\n        return blend_dest_alpha = val;\n    }\n    inline function set_blend_dest_rgb(val : Int) : Int {\n        dirty = true;\n        return blend_dest_rgb = val;\n    }\n//\n\n}\n","package phoenix.geometry;\n\nimport luxe.Log.*;\nimport luxe.Vector;\nimport luxe.Color;\n\nimport phoenix.Batcher;\nimport phoenix.geometry.Geometry;\n\nimport luxe.options.GeometryOptions.LineGeometryOptions;\n\nclass LineGeometry extends Geometry {\n\n    @:isVar public var p0(default,set) : Vector;\n    @:isVar public var p1(default,set) : Vector;\n    @:isVar public var color0(default,set) : Color;\n    @:isVar public var color1(default,set) : Color;\n\n    public function new(_options:LineGeometryOptions) {\n\n        _options.primitive_type = PrimitiveType.lines;\n\n        super(_options);\n\n        def(_options.color, new Color());\n        def(_options.color0, _options.color);\n        def(_options.color1, _options.color);\n\n        p0 = def(_options.p0, new Vector());\n        p1 = def(_options.p1, new Vector(64,64)); //:todo: unit constant\n\n        add(new Vertex( p0, _options.color0 ));\n        add(new Vertex( p1, _options.color1 ));\n\n    } //new\n\n//Internal\n\n    function set_p0(_p:Vector) : Vector {\n\n        p0 = _p;\n\n        if(vertices.length == 0) return p0;\n\n        vertices[0].pos = p0;\n\n        return p0 = _p;\n\n    } //set_p0\n\n    function set_p1(_p:Vector) : Vector {\n\n        p1 = _p;\n\n        if(vertices.length == 0) return p1;\n\n        vertices[1].pos = p1;\n\n        return p1 = _p;\n\n    } //set_p1\n\n    function set_color0(_c:Color) : Color {\n\n        color0 = _c;\n\n        if(vertices.length == 0) return color0;\n\n        vertices[0].color = color0;\n\n        return color0;\n\n    } //set_color0\n\n    function set_color1(_c:Color) : Color {\n\n        color1 = _c;\n\n        if(vertices.length == 0) return color1;\n\n        vertices[1].color = color1;\n\n        return color1;\n\n    } //set_color1\n\n} //LineGeometry\n","package phoenix.geometry;\n\nimport phoenix.geometry.Geometry;\nimport phoenix.Batcher;\nimport phoenix.geometry.Vertex;\nimport phoenix.geometry.TextureCoord;\nimport phoenix.Rectangle;\nimport phoenix.Shader;\nimport phoenix.Texture;\n\nimport phoenix.Color;\nimport phoenix.Vector;\n\nimport luxe.Log.*;\nimport luxe.options.GeometryOptions;\n\ntypedef PackedQuad = {\n    uid : UInt,\n    verts : Array<Vertex>,\n    flipx : Bool,\n    flipy : Bool,\n    visible : Bool,\n    _uv_cache : Rectangle\n}\n\ntypedef PackedQuadOptions = {\n    x : Float,\n    y : Float,\n    w : Float,\n    h : Float,\n\n    ?color : Color,\n    ?uv : Rectangle,\n    ?flipx : Bool,\n    ?flipy : Bool,\n    ?visible : Bool\n}\n\n//Note that a quad pack geometry has only one texture,\n// it is for optimising singular geometry that shares many quads\n// and share a shader and texture and state\n\nclass QuadPackGeometry extends Geometry {\n\n    public var quads : Map<Int, PackedQuad>;\n\n    public function new(_options:GeometryOptions) {\n\n        _options.primitive_type = PrimitiveType.triangles;\n\n        super( _options );\n\n        quads = new Map();\n\n    } //new\n\n    public function clear() {\n\n        for(q in quads.keys()) {\n            quad_remove( q );\n        }\n\n    } //clear\n\n    public function quad_add( _options:PackedQuadOptions ) : Int {\n\n        def(_options.visible, true);\n        def(_options.flipx, false);\n        def(_options.flipy, false);\n\n        var _uid = Luxe.utils.uniquehash();\n\n            //First triangle\n        var vert0 = new Vertex( new Vector( _options.x,            _options.y ), _options.color );\n        var vert1 = new Vertex( new Vector( _options.x+_options.w, _options.y ), _options.color );\n        var vert2 = new Vertex( new Vector( _options.x+_options.w, _options.y+_options.h ), _options.color );\n\n           //Second triangle\n        var vert3 = new Vertex( new Vector( _options.x , _options.y+_options.h ), _options.color );\n        var vert4 = new Vertex( new Vector( _options.x , _options.y ), _options.color );\n        var vert5 = new Vertex( new Vector( _options.x+_options.w , _options.y+_options.h ), _options.color );\n\n                //tl\n            add( vert0 );\n                //tr\n            add( vert1 );\n                //br\n            add( vert2 );\n                //bl\n            add( vert3 );\n                //tl\n            add( vert4 );\n                //br\n            add( vert5 );\n\n             //create the packed quad\n        var _quad:PackedQuad = {\n            uid : _uid,\n            verts : [],\n            flipx : _options.flipx,\n            flipy : _options.flipx,\n            visible : _options.visible,\n            _uv_cache : new Rectangle(0,0,1,1)\n        }\n\n            _quad.verts.push( vert0 );\n            _quad.verts.push( vert1 );\n            _quad.verts.push( vert2 );\n            _quad.verts.push( vert3 );\n            _quad.verts.push( vert4 );\n            _quad.verts.push( vert5 );\n\n        quads.set( _uid, _quad );\n\n        if(_options.uv != null) {\n            quad_uv( _uid, _options.uv );\n        }\n\n            //for locked geometry\n        dirty = true;\n\n        return _uid;\n\n    } //add_quad\n\n    public function quad_remove( _quad_id:Int ) {\n\n        var _quad = quads.get( _quad_id );\n\n        if(_quad != null) {\n\n            remove( _quad.verts[0] );\n            remove( _quad.verts[1] );\n            remove( _quad.verts[2] );\n            remove( _quad.verts[3] );\n            remove( _quad.verts[4] );\n            remove( _quad.verts[5] );\n\n            quads.remove( _quad_id );\n\n                //for locked geometry\n            dirty = true;\n\n        } //_quad\n\n    } //quad_remove\n\n    public function quad_visible( _quad_id:Int, visible:Bool ) {\n\n        var _quad = quads.get( _quad_id );\n\n        if(_quad != null) {\n\n                //add only if not already added\n            if(visible && !_quad.visible) {\n\n                _quad.visible = false;\n\n                add( _quad.verts[0] );\n                add( _quad.verts[1] );\n                add( _quad.verts[2] );\n                add( _quad.verts[3] );\n                add( _quad.verts[4] );\n                add( _quad.verts[5] );\n\n            } else if(!visible && _quad.visible) {\n\n                _quad.visible = false;\n\n                remove( _quad.verts[0] );\n                remove( _quad.verts[1] );\n                remove( _quad.verts[2] );\n                remove( _quad.verts[3] );\n                remove( _quad.verts[4] );\n                remove( _quad.verts[5] );\n\n            } //visible\n\n                //for locked geometry\n            dirty = true;\n\n        } //_quad\n\n    } //quad_visible\n\n    public function quad_resize( _quad_id:Int, _size : Rectangle ) {\n\n        var _quad = quads.get( _quad_id );\n\n        if(_quad != null) {\n\n            _quad.verts[0].pos = new Vector( _size.x,         _size.y );\n            _quad.verts[1].pos = new Vector( _size.x+_size.w, _size.y );\n            _quad.verts[2].pos = new Vector( _size.x+_size.w, _size.y+_size.h );\n\n            _quad.verts[3].pos = new Vector( _size.x,         _size.y+_size.h );\n            _quad.verts[4].pos = new Vector( _size.x,         _size.y );\n            _quad.verts[5].pos = new Vector( _size.x+_size.w, _size.y+_size.h );\n\n                //for locked geometry\n            dirty = true;\n\n        } //_quad\n\n    } //remove_quad\n\n    public function quad_pos( _quad_id:Int, _p:Vector ) {\n\n        var _quad = quads.get( _quad_id );\n\n        if(_quad != null) {\n\n            var _diffx = _p.x - _quad.verts[0].pos.x;\n            var _diffy = _p.y - _quad.verts[0].pos.y;\n\n            _quad.verts[0].pos.x += _diffx;\n            _quad.verts[0].pos.y += _diffy;\n\n            _quad.verts[1].pos.x += _diffx;\n            _quad.verts[1].pos.y += _diffy;\n\n            _quad.verts[2].pos.x += _diffx;\n            _quad.verts[2].pos.y += _diffy;\n\n            _quad.verts[3].pos.x += _diffx;\n            _quad.verts[3].pos.y += _diffy;\n\n            _quad.verts[4].pos.x += _diffx;\n            _quad.verts[4].pos.y += _diffy;\n\n            _quad.verts[5].pos.x += _diffx;\n            _quad.verts[5].pos.y += _diffy;\n\n                //for locked geometry\n            dirty = true;\n\n        } //_quad != null\n\n    } //quad_pos\n\n    public function quad_color( _quad_id:Int, _c:Color ) {\n\n        var _quad = quads.get( _quad_id );\n\n        if(_quad != null) {\n            _quad.verts[0].color = _c;\n            _quad.verts[1].color = _c;\n            _quad.verts[2].color = _c;\n            _quad.verts[3].color = _c;\n            _quad.verts[4].color = _c;\n            _quad.verts[5].color = _c;\n        } //_quad != null\n\n    } //quad_color\n\n    public function quad_alpha( _quad_id:Int, _a:Float ) {\n\n        var _quad = quads.get( _quad_id );\n\n        if(_quad != null) {\n            _quad.verts[0].color.a = _a;\n            _quad.verts[1].color.a = _a;\n            _quad.verts[2].color.a = _a;\n            _quad.verts[3].color.a = _a;\n            _quad.verts[4].color.a = _a;\n            _quad.verts[5].color.a = _a;\n        } //_quad != null\n\n    } //quad_alpha\n\n    public function quad_uv_space( _quad_id:Int, _uv : Rectangle ) {\n\n        var _quad = quads.get( _quad_id );\n\n        if(_quad != null) {\n\n            var flipx = _quad.flipx;\n            var flipy = _quad.flipy;\n\n                //the uv width and height\n            var sz_x = _uv.w;\n            var sz_y = _uv.h;\n\n                //tl\n            var tl_x = _uv.x;\n            var tl_y = _uv.y;\n\n                //Keep for later, before changing the values for flipping\n            _quad._uv_cache.set( tl_x, tl_y, sz_x, sz_y );\n\n                //tr\n            var tr_x = tl_x + sz_x;\n            var tr_y = tl_y;\n                //br\n            var br_x = tl_x + sz_x;\n            var br_y = tl_y + sz_y;\n                //bl\n            var bl_x = tl_x;\n            var bl_y = tl_y + sz_y;\n\n            var tmp_x = 0.0;\n            var tmp_y = 0.0;\n\n                    //flipped y swaps tl and tr with bl and br, only on y\n                if(flipy) {\n\n                        //swap tl and bl\n                    tmp_y = bl_y;\n                        bl_y = tl_y;\n                        tl_y = tmp_y;\n\n                        //swap tr and br\n                    tmp_y = br_y;\n                        br_y = tr_y;\n                        tr_y = tmp_y;\n\n                } //flipy\n\n                    //flipped x swaps tl and bl with tr and br, only on x\n                if(flipx) {\n\n                        //swap tl and tr\n                    tmp_x = tr_x;\n                        tr_x = tl_x;\n                        tl_x = tmp_x;\n\n                        //swap bl and br\n                    tmp_x = br_x;\n                        br_x = bl_x;\n                        bl_x = tmp_x;\n\n                } //flipx\n\n            _quad.verts[0].uv.uv0.set_uv( tl_x , tl_y );\n            _quad.verts[1].uv.uv0.set_uv( tr_x , tr_y );\n            _quad.verts[2].uv.uv0.set_uv( br_x , br_y );\n\n            _quad.verts[3].uv.uv0.set_uv( bl_x , bl_y );\n            _quad.verts[4].uv.uv0.set_uv( tl_x , tl_y );\n            _quad.verts[5].uv.uv0.set_uv( br_x , br_y );\n\n                //for locked geometry\n            dirty = true;\n\n        } //_quad != null\n\n    } //quad_uv_space\n\n    public function quad_uv( _quad_id:Int, _uv : Rectangle ) {\n\n        if( texture == null ) {\n            trace(\"Warning : calling UV on a PackedQuad Geometry with null texture.\");\n            return;\n        }\n\n        var tlx = _uv.x/texture.width_actual;\n        var tly = _uv.y/texture.height_actual;\n        var szx = _uv.w/texture.width_actual;\n        var szy = _uv.h/texture.height_actual;\n\n        quad_uv_space( _quad_id, new luxe.Rectangle( tlx, tly, szx, szy ) );\n\n    } //quad_uv\n\n    public function quad_flipx( _quad_id:Int, _flip:Bool ) {\n\n        var _quad = quads.get( _quad_id );\n\n        if(_quad != null) {\n            _quad.flipx = _flip;\n            quad_uv_space( _quad_id, _quad._uv_cache );\n        } //_quad != null\n\n    } //quad_flipx\n\n    public function quad_flipy( _quad_id:Int, _flip:Bool ) {\n\n        var _quad = quads.get( _quad_id );\n\n        if(_quad != null) {\n            _quad.flipy = _flip;\n            quad_uv_space( _quad_id, _quad._uv_cache );\n        } //_quad != null\n\n    } //quad_flipy\n\n} //QuadPackGeometry\n","package phoenix.geometry;\n\n\nimport luxe.Log.*;\nimport luxe.Vector;\nimport phoenix.Batcher;\nimport phoenix.geometry.Geometry;\n\nimport luxe.options.GeometryOptions.RectangleGeometryOptions;\n\nclass RectangleGeometry extends Geometry {\n\n        /** Create a new Rectangle goemetry with given options */\n    public function new(_options:RectangleGeometryOptions) {\n\n        _options.primitive_type = PrimitiveType.lines;\n\n        super(_options);\n\n        var _x = _options.x;\n        var _y = _options.y;\n        var _w = _options.w;\n        var _h = _options.h;\n\n        if(_options.rect != null) {\n            _x = _options.rect.x;\n            _y = _options.rect.y;\n            _w = _options.rect.w;\n            _h = _options.rect.h;\n        }\n\n            //tl\n        add(new Vertex( new Vector( 0, 0 ), color ));\n            //tr\n        add(new Vertex( new Vector( _w, 0 ), color ));\n\n            //tr\n        add(new Vertex( new Vector( _w, 0 ), color ));\n            //br\n        add(new Vertex( new Vector( _w, _h ), color ));\n\n            //br\n        add(new Vertex( new Vector( _w, _h ), color ));\n            //bl\n        add(new Vertex( new Vector( 0, _h ), color ));\n\n            //bl\n        add(new Vertex( new Vector( 0, _h ), color ));\n            //tl\n        add(new Vertex( new Vector( 0, 0 ), color ));\n\n        transform.pos = transform.pos.set_xy( _x, _y );\n\n    } //new\n\n        /** Set the vertices from values */\n    public function set_xywh( _x:Float, _y:Float, _w:Float, _h:Float ) {\n\n        if(vertices.length == 0) return;\n\n        vertices[0].pos.set_xy( 0, 0 );\n            //tr\n        vertices[1].pos.set_xy( _w, 0 );\n\n            //tr\n        vertices[2].pos.set_xy( _w, 0 );\n            //br\n        vertices[3].pos.set_xy( _w, _h );\n\n            //br\n        vertices[4].pos.set_xy( _w, _h );\n            //bl\n        vertices[5].pos.set_xy( 0, _h );\n\n            //bl\n        vertices[6].pos.set_xy( 0, _h );\n            //tl\n        vertices[7].pos.set_xy( 0, 0 );\n\n            //\n        transform.pos = transform.pos.set_xy( _x, _y );\n\n    } //set_xywh\n\n        /** Set the vertices based on a rectangle instance */\n    public inline function set( _rect:luxe.Rectangle ) {\n\n        set_xywh(_rect.x, _rect.y, _rect.w, _rect.h);\n\n    } //set\n\n\n} //RectangleGeometry\n","package phoenix.geometry;\n\nimport luxe.options.GeometryOptions;\nimport luxe.utils.Maths;\n\nimport phoenix.BitmapFont;\nimport phoenix.geometry.Vertex;\nimport phoenix.geometry.Geometry;\nimport phoenix.Batcher;\nimport phoenix.Color;\nimport phoenix.Rectangle;\n\nimport luxe.Log.*;\n\nusing luxe.utils.unifill.Unifill;\n\n@:enum abstract EvTextGeometry(Int) from Int to Int {\n    var unknown = 0;\n    var update_text = 1;\n}\n\ntypedef TextGeometryOptions = {\n\n    > GeometryOptions,\n\n    ? text: String,\n    ? font: BitmapFont,\n    ? point_size: Float,\n    ? line_spacing: Float,\n    ? letter_spacing: Float,\n    ? letter_snapping : Bool,\n\n    ? bounds : Rectangle,\n    ? bounds_wrap : Bool,\n\n    ? align : TextAlign,\n    ? align_vertical : TextAlign,\n\n    ? sdf: Bool,\n    ? smoothness: Float,\n    ? thickness: Float,\n\n    ? outline: Float,\n    ? outline_color: Color,\n\n    ? glow_threshold: Float,\n    ? glow_amount: Float,\n    ? glow_color: Color\n\n}\n\nclass TextGeometry extends Geometry {\n\n    //regular font stuff\n\n        @:isVar public var text (default,set) : String = '';\n        @:isVar public var font (default,set) : BitmapFont;\n        @:isVar public var point_size (default,set) : Float = 32.0;\n        @:isVar public var line_spacing (default,set) : Float = 0.0;\n        @:isVar public var letter_spacing (default,set) : Float = 0.0;\n        @:isVar public var letter_snapping (default,set) : Bool = false;\n\n        @:isVar public var bounds (default,set) : Rectangle;\n        @:isVar public var bounds_wrap (default,set) : Bool = false;\n\n        @:isVar public var align (default,set) : TextAlign;\n        @:isVar public var align_vertical (default,set) : TextAlign;\n\n    //distance field specific\n\n        public var sdf : Bool = false;\n        public var unique : Bool = false;\n\n        @:isVar public var smoothness (default,set) : Float = 0.75;\n        @:isVar public var thickness (default,set) : Float = 0.5;\n\n        @:isVar public var outline (default,set) : Float = 0;\n        @:isVar public var outline_color (default,set) : Color;\n\n        @:isVar public var glow_threshold (default,set) : Float = 0;\n        @:isVar public var glow_amount (default,set) : Float = 0;\n        @:isVar public var glow_color (default,set) : Color;\n\n    //sizing cached information\n\n        public var line_widths : Array<Float>;\n        public var text_width : Float = 0;\n        public var text_height : Float = 0;\n        public var line_offsets : Array< Array<Float> >;\n        public var lines : Array<String>;\n\n    //access to change events\n\n        @:noCompletion\n        public var emitter : luxe.Emitter<EvTextGeometry>;\n\n    //internal\n\n        var cache : Array< Array<Vertex> >;\n        var options : TextGeometryOptions;\n\n        var text_h_w : Float = 0;\n        var text_h_h : Float = 0;\n        public var point_ratio : Float = 1;\n\n        var dirty_sizing (default,set) : Bool = true;\n        var dirty_align: Bool = true;\n        var setup_: Bool = true;\n\n    //common\n\n        static var tab_regex : EReg = new EReg('\\t','gim');\n\n    public function new(_options:TextGeometryOptions) {\n\n        options = _options;\n        emitter = new luxe.Emitter<EvTextGeometry>();\n\n        assertnull(options, 'TextGeometry requires non-null options');\n\n        //order here before super() is important\n\n                //make sure sdf flag is early enough\n            if(options.sdf != null) sdf = options.sdf;\n                //use the default font if none specified\n            font = def(options.font, Luxe.renderer.font);\n                //the default font is always sdf enabled\n            if(font == Luxe.renderer.font) { sdf = true; }\n\n                //if a custom shader is not given,\n                //use the default sdf or normal textured\n                //but if they have a custom shader, flag\n                //the instance as unique so their options are mutable\n            if(options.shader == null) {\n                if(sdf) {\n                    options.shader = Luxe.renderer.shaders.bitmapfont.shader;\n                } else {\n                    options.shader = Luxe.renderer.shaders.textured.shader;\n                }\n            } else {\n                    //only unique if not the default\n                if(options.shader != Luxe.renderer.shaders.bitmapfont.shader) {\n                    unique = true;\n                }\n            }\n\n            options.primitive_type = PrimitiveType.triangles;\n\n            super( options );\n\n        //setup\n\n        cache = [];\n        line_widths = [];\n        line_offsets = [[],[]];\n        lines = [];\n        outline_color = new Color();\n        glow_color = new Color();\n\n        default_options();\n\n        setup_ = false;\n\n    } //new\n\n//Public API\n\n        /** Remove any cached vertices that are unused by the current text. */\n    #if release inline #end\n    public function tidy() {\n\n        var _vertidx = Math.floor(vertices.length / 6);\n        var _diff = cache.length - _vertidx;\n\n        if(_diff > 0) {\n\n            // _verbose('tidy: remove $_diff from cache');\n\n            var extra = cache.splice(_vertidx, _diff);\n            var c = extra.length;\n            while(c > 0) {\n                c--;\n                var vert = extra.pop();\n                    vert = null;\n            }\n\n        } //diff>0\n\n    } //tidy\n\n\n//Internal\n\n    override function drop( ?remove:Bool = true ) {\n\n        text = null;\n        font = null;\n        bounds = null;\n        outline_color = null;\n        glow_color = null;\n        if(line_widths != null) {\n            line_widths.splice(0,line_widths.length);\n            line_widths = null;\n        }\n        if(line_offsets != null) {\n            line_offsets.splice(0,line_offsets.length);\n            line_offsets = null;\n        }\n        if(lines != null) {\n            lines.splice(0,lines.length);\n            lines = null;\n        }\n        emitter = null;\n        options = null;\n        if(cache != null) {\n            while(cache.length > 0) {\n                var c = cache.pop();\n                while(c.length > 0) {\n                    var v = c.pop();\n                    v.destroy();\n                    v = null;\n                }\n                c = null;\n            }\n            cache = null;\n        }\n\n        super.drop(remove);\n\n    } //drop\n\n\n    function default_options() {\n\n            //:todo: TextGeometry pages\n            //currently one page is supported\n            //because each vertex would\n            //need to know the page it's on\n            //and that would be best served\n            //by the new batcher attributes\n            //as to not muddy everything up\n        texture = font.pages[0];\n\n        //normal font stuff\n\n            if(options.letter_snapping != null) letter_snapping = options.letter_snapping;\n            if(options.letter_spacing != null) letter_spacing = options.letter_spacing;\n            if(options.line_spacing != null) line_spacing = options.line_spacing;\n            if(options.point_size != null) point_size = options.point_size;\n\n            if(options.bounds != null) bounds = options.bounds;\n            if(options.bounds_wrap != null) bounds_wrap = options.bounds_wrap;\n\n            def(options.align, TextAlign.left);\n            def(options.align_vertical, TextAlign.top);\n\n            align = options.align;\n            align_vertical = options.align_vertical;\n\n        //sdf based\n        //these will be set anyway, but ignored if not sdf\n\n            if(options.thickness != null) thickness = options.thickness;\n            if(options.smoothness != null) smoothness = options.smoothness;\n\n            if(options.outline != null) outline = options.outline;\n            if(options.outline_color != null) outline_color = options.outline_color;\n\n            if(options.glow_threshold != null) glow_threshold = options.glow_threshold;\n            if(options.glow_amount != null) glow_amount = options.glow_amount;\n            if(options.glow_color != null) glow_color = options.glow_color;\n\n            if(sdf) flush_uniforms();\n\n            //text must be last, as it relies on the rest\n        if(options.text != null) text = options.text;\n\n    } //default_options\n\n    #if release inline #end\n    function set_text(_text:String) : String {\n\n        if(_text == null) {\n            _debug('null text passed into TextGeometry!');\n            _text = '';\n        }\n\n            //don't care if it's the same value\n        if(text != _text) {\n\n                //update the value\n            text = _text;\n\n            if(text != '') {\n\n                dirty_sizing = true;\n                update_text();\n\n            } else {\n                vertices.splice(0, vertices.length);\n            }\n\n        } //same val\n\n        return text;\n\n    } //set_text\n\n    #if release inline #end\n    function stats() {\n        return 'letters:${(vertices.length/6)} / cache:${ cache.length }';\n    }\n\n    #if release inline #end\n    function update_sizes() {\n\n        if(!dirty_sizing) return false;\n\n            //:todo: tab width\n        var drawn_text = tab_regex.replace(text, '    ');\n        if(bounds_wrap && bounds != null) {\n            drawn_text = font.wrap_string_to_bounds(drawn_text, bounds, point_size, letter_spacing);\n        }\n\n        lines.splice(0, lines.length);\n        lines = drawn_text.split('\\n');\n\n            line_widths.splice(0, line_widths.length);\n\n            text_width = font.width_of(drawn_text, point_size, letter_spacing, line_widths);\n            text_height = font.height_of_lines(lines, point_size, line_spacing);\n            text_h_w = text_width / 2;\n            text_h_h = text_height / 2;\n            point_ratio = point_size / font.info.point_size;\n\n            dirty_sizing = false;\n\n        return true;\n\n    } //update_sizes\n\n\n    // #if release inline #end\n    function update_text() {\n\n        var _pos_x = 0.0;\n        var _pos_y = 0.0;\n        var _bounds_based = (bounds != null);\n\n        if(_bounds_based) {\n            transform.pos.x = _pos_x = bounds.x;\n            transform.pos.y = _pos_y = bounds.y;\n        }\n\n        var _cur_x = 0.0;\n        var _cur_y = 0.0;\n        var _line_idx = 0;\n        var _total_idx = 0;\n        var _is_char = true;\n        var _was_dirty = update_sizes();\n\n        inline function _step() {\n            _cur_y += (font.info.line_height + line_spacing) * point_ratio;\n            _cur_x = 0;\n        }\n\n        for(_line in lines) {\n\n                //Calculate alignment offsets\n                //Left is at 0, so it's handled already, same as top\n            var _line_x_offset = 0.0;\n            var _line_y_offset = 0.0;\n\n            if(dirty_align) {\n\n                if(!_bounds_based) {\n\n                    _line_x_offset = switch(align) {\n                        case center: -(line_widths[_line_idx]/2.0);\n                        case right: -line_widths[_line_idx];\n                        default: 0.0;\n                    }\n\n                    _line_y_offset = switch(align_vertical) {\n                        case center: -text_h_h;\n                        case bottom: -text_height;\n                        default: 0.0;\n                    }\n\n                } else {\n\n                    _line_x_offset = switch(align) {\n                        case center: -(line_widths[_line_idx]/2.0) + (bounds.w/2);\n                        case right: -line_widths[_line_idx] + (bounds.w);\n                        default: 0.0;\n                    }\n\n                    _line_y_offset = switch(align_vertical) {\n                        case center: (bounds.h/2) - text_h_h;\n                        case bottom: (bounds.h) - text_height;\n                        default: 0.0;\n                    }\n\n                }\n\n                    //store it in the cache for later\n                line_offsets[0][_line_idx] = _line_x_offset;\n                line_offsets[1][_line_idx] = _line_y_offset;\n\n            } else {\n\n                _line_x_offset = line_offsets[0][_line_idx];\n                _line_y_offset = line_offsets[1][_line_idx];\n\n            }\n\n            if( _line_idx != 0 ){\n                _step();\n            } //_line_idx\n\n                //for each character in the line\n\n            var _idx = 0;\n            for(_uglyph in _line.uIterator()) {\n\n                var _index = _uglyph.toInt();\n                var _char = font.info.chars.get(_index);\n                _is_char = (_char != null && _index > 32);\n\n                    //:todo: make this a small preset vert set matching �\n                    //or the missing char box style char, rather than just a space\n                if(!_is_char) {\n                    _char = font.space_char;\n                }\n\n                if(_is_char) {\n\n                        //the geometry positioning\n                    var _quad_x  = _line_x_offset + _cur_x + ( _char.xoffset * point_ratio );\n                    var _quad_y  = _line_y_offset + _cur_y + ( _char.yoffset * point_ratio );\n\n                    if(letter_snapping) {\n                        //:todo: TextGeometry; letter_snapping test against round/floor with pixel fonts with @EduardoLopes\n                        _quad_x = Math.floor(_quad_x);\n                        _quad_y = Math.floor(_quad_y);\n                    }\n                        //the texture page\n                    var _page = font.pages[_char.page];\n                        //work out the coordinates for the uv's\n                    var _u1 = _char.x/_page.width_actual;\n                    var _v1 = _char.y/_page.height_actual;\n                    var _u2 = (_char.x + _char.width) / _page.width_actual;\n                    var _v2 = (_char.y + _char.height) / _page.height_actual;\n\n                    update_char( _total_idx,\n                                 _quad_x, _quad_y, _char.width*point_ratio, _char.height*point_ratio,\n                                 _u1, _v1, _u2, _v2, color );\n\n                        //this should only count\n                        //visual characters\n                    _total_idx++;\n\n                } //don't draw non visible char\n\n                    //after the letter,\n                    //the x movement forward\n                var _x_inc = _char.xadvance;\n\n                    //adjust for kerning + tracking(letterspace)\n                if( _idx < _line.length-1 ) {\n                    _x_inc += font.kerning( _index, _line.uCharCodeAt(_idx+1) );\n                    if(_index >= 32) {\n                        _x_inc += letter_spacing;\n                    }\n                }\n\n                _x_inc *= point_ratio;\n\n                    //apply it with the point size ratio\n                _cur_x += _x_inc;\n\n                    //increment char index\n                _idx++;\n\n            } //for each letter in string\n\n                //increase the line counter\n            _line_idx++;\n\n        } //each line\n\n            //for unused vertices, we remove\n            //them from the visible set,\n            //keeping them in cache (only tidy() cleans cache)\n        var _vertidx = Std.int(vertices.length / 6);\n        var _diff = _vertidx - _total_idx;\n\n        if(_diff > 0) {\n            vertices.splice(_total_idx * 6, _diff * 6);\n        }\n\n            //if it was true, it's false now\n        dirty_align = false;\n        emitter.emit(EvTextGeometry.update_text);\n\n    } //update_text\n\n    // #if release inline #end\n    function update_char( _letteridx:Int, _x:Float, _y:Float, _w:Float, _h:Float, _u:Float, _v:Float, _u2:Float, _v2:Float, _color:Color ) {\n\n        var vert0:Vertex; var vert1:Vertex; var vert2:Vertex;\n        var vert3:Vertex; var vert4:Vertex; var vert5:Vertex;\n\n        var quad = cache[_letteridx];\n\n            //if no cache at this index we need to add vertices\n        if(quad == null) {\n\n            // _debug(' idx $_letteridx out of cache range, adding cache index');\n\n            vert0 = new Vertex( new Vector( _x, _y ), _color );\n            vert1 = new Vertex( new Vector( _x+_w, _y ), _color );\n            vert2 = new Vertex( new Vector( _x+_w, _y+_h ), _color );\n\n            vert3 = new Vertex( new Vector( _x, _y+_h ), _color );\n            vert4 = new Vertex( new Vector( _x, _y ), _color );\n            vert5 = new Vertex( new Vector( _x+_w, _y+_h), _color );\n\n            quad = [vert0, vert1, vert2, vert3, vert4, vert5];\n            cache[_letteridx] = quad;\n\n        } else {\n\n            // _debug(' idx $_letteridx in cache, setting cache index');\n            //this cache index existed as vertices so we fetch them\n\n            vert0 = quad[0]; vert1 = quad[1]; vert2 = quad[2];\n            vert3 = quad[3]; vert4 = quad[4]; vert5 = quad[5];\n\n                //then update the values\n            vert0.pos.set_xy( _x    , _y    );\n            vert1.pos.set_xy( _x+_w , _y    );\n            vert2.pos.set_xy( _x+_w , _y+_h );\n            vert3.pos.set_xy( _x    , _y+_h );\n            vert4.pos.set_xy( _x    , _y    );\n            vert5.pos.set_xy( _x+_w , _y+_h );\n\n        } //quad != null\n\n        vert0.uv.uv0.set_uv( _u  , _v  );\n        vert1.uv.uv0.set_uv( _u2 , _v  );\n        vert2.uv.uv0.set_uv( _u2 , _v2 );\n        vert3.uv.uv0.set_uv( _u  , _v2 );\n        vert4.uv.uv0.set_uv( _u  , _v  );\n        vert5.uv.uv0.set_uv( _u2 , _v2 );\n\n            //now, if the vert count is lower than the index, add these\n            //to the geometry itself. This must be done each time since\n            //the vertices length potentially changes after each char\n        var _vertidx = Math.floor(vertices.length / 6);\n\n        if(_vertidx <= _letteridx) {\n            add( vert0 ); add( vert1 );  add( vert2 );\n            add( vert3 ); add( vert4 );  add( vert5 );\n        }\n\n    } //update_char\n\n//Setters\n\n    #if release inline #end\n    function set_dirty_sizing(_b:Bool) {\n\n            dirty_align = true;\n\n        return dirty_sizing = _b;\n\n    } //set_dirty_sizing\n\n    #if release inline #end\n    function set_bounds( _bounds:Rectangle ) {\n\n        bounds = _bounds;\n\n        if(bounds == null) return bounds;\n\n        dirty_sizing = true;\n        update_text();\n\n        return bounds;\n\n    } //set_bounds\n\n    #if release inline #end\n    function set_bounds_wrap( _wrap:Bool ) {\n\n        bounds_wrap = _wrap;\n\n            dirty_sizing = true;\n            update_text();\n\n        return bounds_wrap;\n\n    } //set_bounds_wrap\n\n    #if release inline #end\n    function set_letter_snapping( _snap:Bool ) {\n\n        letter_snapping = _snap;\n\n            dirty_sizing = true;\n            update_text();\n\n        return letter_snapping;\n\n    } //set_letter_snapping\n\n    #if release inline #end\n    function set_line_spacing(_line_spacing:Float) {\n\n        line_spacing = _line_spacing;\n\n            dirty_sizing = true;\n            update_text();\n\n        return line_spacing;\n\n    } //set_line_spacing\n\n    #if release inline #end\n    function set_letter_spacing(_letter_spacing:Float) {\n\n        letter_spacing = _letter_spacing;\n\n            dirty_sizing = true;\n            update_text();\n\n        return letter_spacing;\n\n    } //set_leading\n\n    #if release inline #end\n    function set_align( _align:TextAlign ) {\n\n        align = _align;\n\n            dirty_align = true;\n            update_text();\n\n        return align;\n\n    } //set_align\n\n    #if release inline #end\n    function set_align_vertical( _align_vertical:TextAlign ) {\n\n        align_vertical = _align_vertical;\n\n            dirty_align = true;\n            update_text();\n\n        return align_vertical;\n\n    } //set_align_vertical\n\n    #if release inline #end\n    function set_point_size( s:Float ) {\n\n        if(s < 0) s = 0;\n        point_size = s;\n\n            dirty_sizing = true;\n            update_text();\n\n        return point_size;\n\n    } //set_point_size\n\n    #if release inline #end\n    function set_font( _font:BitmapFont ) {\n\n        font = _font;\n\n        if(!setup_ && _font != null) {\n            // :todo: TextGeometry pages\n            texture = font.pages[0];\n            dirty_sizing = true;\n            dirty_align = true;\n            update_text();\n        }\n\n        return font;\n\n    } //set_font\n\n\n//SDF specific features\n\n\n    #if release inline #end\n    function set_smoothness(s:Float) {\n\n        if(s < 0) s = 0;\n\n        if(shader != null && sdf && unique) {\n            shader.set_float('smoothness',s);\n        }\n\n        return smoothness = s;\n\n    } //set_smoothness\n\n    #if release inline #end\n    function set_thickness(s:Float) {\n\n        if(s < 0) s = 0;\n\n        if(shader != null && sdf && unique) {\n            shader.set_float('thickness',s);\n        }\n\n        return thickness = s;\n\n    } //set_thickness\n\n    #if release inline #end\n    function set_outline(s:Float) {\n\n        s = Maths.clamp(s, 0.0, 1.0);\n\n        if(shader != null && sdf && unique) {\n            shader.set_float('outline',s);\n        }\n\n        return outline = s;\n\n    } //set_outline\n\n    #if release inline #end\n    function set_glow_threshold(s:Float) {\n\n        if(s < 0) s = 0;\n\n        if(shader != null && sdf && unique) {\n            shader.set_float('glow_threshold',s);\n        }\n\n        return glow_threshold = s;\n\n    } //set_glow_threshold\n\n    #if release inline #end\n    function set_glow_amount(s:Float) {\n\n        if(s < 0) s = 0;\n\n        if(shader != null && sdf && unique) {\n            shader.set_float('glow_amount',s);\n        }\n\n        return glow_amount = s;\n\n    } //set_glow_amount\n\n    #if release inline #end\n    function set_outline_color(c:Color) {\n\n        if(c == null) return outline_color = c;\n\n        if(shader != null && sdf && unique) {\n            shader.set_color('outline_color', c);\n        }\n\n        return outline_color = c;\n\n    } //set_outline_color\n\n    #if release inline #end\n    function set_glow_color(c:Color) {\n\n        if(c == null) return glow_color = c;\n\n        if(shader != null && sdf && unique) {\n            shader.set_color('glow_color', c);\n        }\n\n        return glow_color = c;\n\n    } //set_glow_color\n\n        //internal convenience for when\n        //the shader type changes to sdf\n        //and values need refreshing\n    #if release inline #end\n    function flush_uniforms() {\n        if(shader != null && sdf) {\n            shader.set_float('smoothness', smoothness);\n            shader.set_float('thickness', thickness);\n            shader.set_float('outline', outline);\n            shader.set_float('glow_threshold', glow_threshold);\n            shader.set_float('glow_amount', glow_amount);\n            shader.set_color('outline_color', outline_color);\n            shader.set_color('glow_color', glow_color);\n        }\n    }\n\n\n} //TextGeometry\n","package phoenix.geometry;\n\n\nclass TextureCoordSet {\n\n\n    public var uv0 : TextureCoord;\n    public var uv1 : TextureCoord;\n    public var uv2 : TextureCoord;\n    public var uv3 : TextureCoord;\n    public var uv4 : TextureCoord;\n    public var uv5 : TextureCoord;\n    public var uv6 : TextureCoord;\n    public var uv7 : TextureCoord;\n\n\n    public inline function new() {\n\n        uv0 = new TextureCoord();\n        uv1 = new TextureCoord();\n        uv2 = new TextureCoord();\n        uv3 = new TextureCoord();\n        uv4 = new TextureCoord();\n        uv5 = new TextureCoord();\n        uv6 = new TextureCoord();\n        uv7 = new TextureCoord();\n\n    } //new\n\n    public inline function clone() {\n\n        var _set = new TextureCoordSet();\n\n            _set.uv0.set(uv0.u, uv0.v, uv0.w, uv0.t);\n            _set.uv1.set(uv1.u, uv1.v, uv1.w, uv1.t);\n            _set.uv2.set(uv2.u, uv2.v, uv2.w, uv2.t);\n            _set.uv3.set(uv3.u, uv3.v, uv3.w, uv3.t);\n            _set.uv4.set(uv4.u, uv4.v, uv4.w, uv4.t);\n            _set.uv5.set(uv5.u, uv5.v, uv5.w, uv5.t);\n            _set.uv6.set(uv6.u, uv6.v, uv6.w, uv6.t);\n            _set.uv7.set(uv7.u, uv7.v, uv7.w, uv7.t);\n\n        return _set;\n\n    } //clone\n\n    public inline function destroy() {\n        uv0 = null;\n        uv1 = null;\n        uv2 = null;\n        uv3 = null;\n        uv4 = null;\n        uv5 = null;\n        uv6 = null;\n        uv7 = null;\n    }\n\n\n} //TextureCoordSet\n\n\nclass TextureCoord {\n\n\n    public var u : Float = 0.0;\n    public var v : Float = 0.0;\n    public var w : Float = 0.0;\n    public var t : Float = 0.0;\n\n\n    public inline function new(_u:Float = 0.0, _v:Float = 0.0, _w:Float = 0.0, _t:Float = 0.0) {\n\n        u = _u;\n        v = _v;\n        w = _w;\n        t = _t;\n\n    } //new\n\n    public inline function clone() {\n\n        return new TextureCoord( u, v, w, t );\n\n    } //clone\n\n    public inline function set( _u : Float, _v : Float, _w : Float, _t:Float ) : TextureCoord {\n\n        u = _u;\n        v = _v;\n        w = _w;\n        t = _t;\n\n        return this;\n\n    } //set\n\n    public inline function set_uv( _u : Float, _v : Float ) : TextureCoord {\n\n        u = _u;\n        v = _v;\n\n        return this;\n\n    } //set_uv\n\n    inline function toString() {\n\n        return  '{ u:$v, v:$v }';\n\n    } //toString\n\n\n} //TextureCoord\n","package phoenix.geometry;\n\nimport phoenix.geometry.TextureCoord;\nimport phoenix.Vector;\nimport phoenix.Color;\n\nclass Vertex {\n\n\n    public var pos : Vector;\n    public var color : Color;\n    public var uv : TextureCoordSet;\n    public var normal : Vector;\n\n\n    public inline function new( _pos : Vector, ?_color:Color = null, ?_normal:Vector = null ) {\n\n        uv = new TextureCoordSet();\n\n        pos = _pos;\n        color = (_color == null) ? new Color() : _color;\n        normal = (_normal == null) ? new Vector() : _normal;\n\n    } //new\n\n    public inline function clone() : Vertex {\n\n        var _new = new Vertex( pos.clone(), color.clone(), normal.clone() );\n            _new.uv = uv.clone();\n\n        return _new;\n\n    } //clone\n\n    public inline function destroy() {\n        pos = null;\n        color = null;\n        normal = null;\n        uv.destroy();\n        uv = null;\n    }\n\n\n} //Vertex\n","package phoenix.utils;\n\nimport snow.modules.opengl.GL;\nimport phoenix.Batcher.PrimitiveType;\nimport phoenix.Batcher.BlendMode;\n\nclass Rendering {\n\n    public static inline function gl_blend_mode_from_BlendMode(_b:BlendMode) {\n\n        switch(_b) {\n            case zero:\n                return GL.ZERO;\n            case one:\n                return GL.ONE;\n            case src_color:\n                return GL.SRC_COLOR;\n            case one_minus_src_color:\n                return GL.ONE_MINUS_SRC_COLOR;\n            case src_alpha:\n                return GL.SRC_ALPHA;\n            case one_minus_src_alpha:\n                return GL.ONE_MINUS_SRC_ALPHA;\n            case dst_alpha:\n                return GL.DST_ALPHA;\n            case one_minus_dst_alpha:\n                return GL.ONE_MINUS_DST_ALPHA;\n            case dst_color:\n                return GL.DST_COLOR;\n            case one_minus_dst_color:\n                return GL.ONE_MINUS_DST_COLOR;\n            case src_alpha_saturate:\n                return GL.SRC_ALPHA_SATURATE;\n        }\n    } //BlendMode convert\n\n    public static inline function fovx_to_y(fovx:Float, aspect:Float):Float {\n\n        return (180 / Math.PI) * (2 * Math.atan(Math.tan(fovx * (Math.PI / 180) / 2) * (1 / aspect)));\n\n    } //fovx_to_y\n\n} //Rendering\n","package snow;\n\nimport snow.api.Debug.*;\nimport snow.api.Timer;\nimport snow.api.Promise;\nimport snow.api.buffers.Uint8Array;\nimport snow.types.Types;\n\nimport snow.core.Runtime;\nimport snow.systems.io.IO;\nimport snow.systems.input.Input;\nimport snow.systems.assets.Asset.AssetJSON;\nimport snow.systems.assets.Assets;\nimport snow.systems.audio.Audio;\n\n\nclass Snow {\n\n    //public\n\n            /** The host application */\n        public var host : AppHost;\n            /** The application configuration specifics (like window, user, runtime, etc) */\n        public var config : snow.types.Types.AppConfig;\n            /** Whether or not we are frozen, ignoring events i.e backgrounded/paused */\n        public var freeze (default,set) : Bool = false;\n            /** Whether or not the ready state has been reached */\n        public var ready (default, null) : Bool = false;\n\n            /** The current timestamp */\n        public var time (get,never) : Float;\n            /** Generate a unique ID to use */\n        public var uniqueid (get,never) : String;\n            /** A static access to the timestamp for convenience */\n        public static var timestamp (get, never) : Float;\n\n    //systems\n\n            /** The runtime module */\n        public var runtime : AppRuntime;\n            /** The io system */\n        public var io : IO;\n            /** The input system */\n        public var input : Input;\n            /** The audio system */\n        public var audio : Audio;\n            /** The asset system */\n        public var assets : Assets;\n\n    //state\n\n            /** The platform identifier, a string,\n                but uses `snow.types.Types.Platform` abstract enum internally */\n        public var platform : String = 'unknown';\n            /** The os identifier, a string,\n                but uses `snow.types.Types.OS` abstract enum internally */\n        public var os : String;\n            /** A debug flag for convenience, true if the app was built with the haxe -debug flag or define */\n        public var debug : Bool = #if debug true #else false #end;\n\n            /** Set if shut down has commenced */\n        public var shutting_down : Bool = false;\n            /** Set if shut dow has completed  */\n        public var has_shutdown : Bool = false;\n\n    //extensions\n\n        var extensions: Array<snow.core.Extension>;\n\n    //internal preallocated events\n\n        var sys_event: SystemEvent;\n        var win_event: WindowEvent;\n\n    //api\n\n        public function new(_host : AppHost) {\n\n            assertnull(_host, 'snow App instance was null!');\n\n            _debug('app / init / debug:$debug');\n            _debug('app / ident: ' + snow.types.Config.app_ident);\n            _debug('app / config: ' + snow.types.Config.app_config);\n\n            if(snow.api.Debug.get_level() > 1) {\n                log('log / level to ${snow.api.Debug.get_level()}' );\n                var _filter = snow.api.Debug.get_filter();\n                var _exclude = snow.api.Debug.get_exclude();\n                if(_filter != null) log('log / filter : $_filter');\n                if(_exclude != null) log('log / exclude : $_exclude');\n            }\n\n            host = _host;\n            host.app = this;\n            config = default_config();\n\n            _debug('app / assets / ${snow.types.Config.module_assets}');\n            _debug('app / audio / ${snow.types.Config.module_audio}');\n            _debug('app / io / ${snow.types.Config.module_io}');\n\n            sys_event = new SystemEvent();\n            win_event = new WindowEvent();\n\n            io = new IO(this);\n            input = new Input(this);\n            audio = new Audio(this);\n            assets = new Assets(this);\n\n            extensions = [];\n            for(_ext_type in snow.types.Config.extensions) {\n\n                var _class = Type.resolveClass(_ext_type);\n                if(_class == null) throw Error.error('Extension `$_ext_type`: Type not found via Type.resolveClass!');\n\n                var _instance:snow.core.Extension = Type.createInstance(_class, null);\n                if(_instance == null) throw Error.error('Extension `$_ext_type`: Instance was null on calling new()!');\n\n                extensions.push(_instance);\n\n            } //each extension\n\n            _debug('app / runtime / new ${snow.types.Config.app_runtime}');\n\n            runtime = new AppRuntime(this);\n\n            assertnull(os, 'init - Runtime didn\\'t set the app.os value!');\n            assertnull(platform, 'init - Runtime didn\\'t set the app.platform value!');\n            // assertnull(config.runtime, 'init - Runtime didn\\'t set the app.config.runtime value!');\n\n            _debug('app / os:$os / platform:$platform / init / $time');\n            dispatch_event(se_init);\n            host.internal_init();\n\n            step();\n\n            _debug('app / ready / $time');\n            dispatch_event(se_ready);\n\n            step();\n\n            _debug('init / runtime / ${runtime.name} / run');\n\n            var _should_exit = runtime.run();\n            if(_should_exit && !(has_shutdown || shutting_down)) {\n                shutdown();\n            }\n\n        } //new\n\n            //internal\n        var immediate_shutdown = false;\n\n            /** Shutdown the engine and quit */\n        public function shutdown() {\n\n            // assert(shutting_down == false, 'snow - calling shutdown more than once is disallowed');\n            if(shutting_down) {\n                log('shutdown / called again, already shutting down - ignoring');\n                return;\n            }\n            \n            assert(has_shutdown == false, 'snow - calling shutdown more than once is disallowed');\n\n            shutting_down = true;\n\n            host.ondestroy();\n\n            dispatch_event(se_shutdown);\n\n            io.shutdown();\n            audio.shutdown();\n            assets.shutdown();\n            input.shutdown();\n\n            runtime.shutdown(immediate_shutdown);\n\n            has_shutdown = true;\n\n        } //shutdown\n\n    //events\n\n            /** Dispatch a system event explicitly */\n        public function dispatch_event(_type:SystemEventType) {\n\n            sys_event.set(_type, null, null);\n\n            onevent(sys_event);\n\n        } //dispatch_event\n\n        //internal\n        var window_in_background = false;\n\n        public function dispatch_window_event(_type:WindowEventType, _timestamp:Float, _window_id:Int, _x:Int, _y:Int) {\n            \n            win_event.set(_type, _timestamp, _window_id, _x, _y);\n            sys_event.set(se_window, win_event, null);\n\n            #if snow_native\n                if(_type == WindowEventType.we_focus_lost) {\n                    window_in_background = true;\n                } else if(_type == WindowEventType.we_focus_gained) {\n                    window_in_background = false;\n                }\n            #end\n            \n            onevent(sys_event);\n\n        } //dispatch_window_event\n\n        @:allow(snow.systems.input.Input)\n        function dispatch_input_event(_event:InputEvent) {\n            \n            sys_event.set(se_input, null, _event);\n            \n            onevent(sys_event);\n\n        } //dispatch_input_event\n\n            /** Handles snow system events, typically emitted via the runtime and modules.\n                Dispatch events manually using the `dispatch_*` calls. */\n        var i = 0;\n        public function onevent(_event:SystemEvent) {\n\n            // if( _event.type != se_tick ) {\n            //    log('event / system event / ${_event.type}');\n            //     if(_event.window != null) {\n            //         log('   window / ${_event.window.type} / ${_event.window.window_id} / ${_event.window.data1},${_event.window.data2}');\n            //     }\n            // }\n\n            io.onevent( _event );\n            audio.onevent( _event );\n            input.onevent( _event );\n            host.onevent( _event );\n\n            i = 0; while(i < extensions.length) {\n                extensions[i].onevent(_event);\n                ++i;\n            }\n\n            switch(_event.type) {\n\n                case se_ready:                      on_ready_event();\n                case se_tick:                       on_tick_event();\n                case se_quit:                       shutdown();\n                case se_shutdown:                   log('goodbye.');\n                    //mobile app terminate is an immediate termination\n                case se_app_terminating:\n                    immediate_shutdown = true;\n                    shutdown();\n                case _:\n\n            } //switch _event.type\n\n        } //onevent\n\n            /** Call a function at the start of the next frame,\n                useful for async calls in a sync context, allowing the sync function to return safely before the onload is fired. */\n        inline\n        public static function next( func: Void->Void ) {\n\n            if(func != null) next_queue.push(func);\n\n        } //next\n\n            /** Call a function at the end of the current frame */\n        inline\n        public static function defer( func: Void->Void ) {\n\n            if(func != null) defer_queue.push(func);\n\n        } //defer\n\n    //internal endpoints\n\n        inline function get_time() : Float return get_timestamp();\n        inline function get_uniqueid() : String return make_uniqueid();\n        static inline function get_timestamp() : Float return AppRuntime.timestamp();\n\n    //internal event handlers\n\n        var had_ready_event = false;\n        inline function on_ready_event() {\n\n            assert(had_ready_event == false, 'snow; the ready event should not be fired repeatedly');\n            had_ready_event = true;\n\n            setup_configs().then(function(_) {\n\n                _debug('init / setup default configs : ok');\n                _debug('init / runtime ready');\n                runtime.ready();\n\n                _debug('init / host ready');\n                host.ready();\n\n                _debug('init / ready');\n                ready = true;\n\n            }).error(function(e) {\n\n                throw Error.init('snow / cannot recover from error: $e');\n\n            });\n\n            step();\n\n        } //on_ready_event\n\n        inline function on_tick_event() {\n\n            if(freeze) return;\n            \n            #if snow_native\n                if(window_in_background && config.window.background_sleep != 0) {\n                    Sys.sleep(config.window.background_sleep);\n                }\n            #end\n\n            Timer.update();\n\n            snow.api.Promise.Promises.step();\n\n            cycle_next_queue();\n\n            if(!shutting_down && ready) {\n                host.internal_tick();\n            }\n\n            cycle_defer_queue();\n\n        } //on_tick_event\n\n    //setup and boot\n\n        function setup_configs() {\n\n                //blank/null config path means don't try to load it\n            if(snow.types.Config.app_config == null || snow.types.Config.app_config == '') {\n\n                setup_host_config();\n\n                return Promise.resolve();\n\n            } //blank config\n\n            return new Promise(function(resolve, reject) {\n\n                _debug('config / fetching user config');\n\n                default_user_config().then(function(_user_conf:Dynamic) {\n\n                    config.user = _user_conf;\n\n                }).error(function(error){\n\n                    throw Error.init('config / failed / default user config JSON failed to parse. Cannot recover. $error');\n\n                }).then(function(){\n\n                    setup_host_config();\n                    resolve();\n\n                });\n\n            }); //promise\n\n        } //setup_configs\n\n        inline function setup_host_config() {\n\n            _debug('config / fetching host config');\n\n            config = host.config( config );\n\n        } //setup_host_config\n\n            /** Handles the default method of parsing a user config json */\n        function default_user_config() : Promise {\n\n            _debug('config / setting up default user config');\n\n                //for the default config, we only reject if there is a json parse error\n            return new Promise(function(resolve, reject) {\n\n                var load = io.data_flow(assets.path(snow.types.Config.app_config), AssetJSON.processor);\n\n                    load.then(resolve).error(function(error:Error) {\n                        switch(error) {\n                            case Error.parse(val):\n                                reject(error);\n                            case _:\n                                log('config / user config will be null! / $error');\n                                resolve(null);\n                        }\n                    });\n\n            }); //promise\n\n        } //default_user_config\n\n        function default_config() : AppConfig {\n\n            return {\n                user : null,\n                window : default_window_config(),\n                render : default_render_config(),\n                runtime : null\n            }\n\n        } //default_config\n\n        /** Returns a default configured render config */\n        function default_render_config() : RenderConfig {\n\n            _debug('config / fetching default render config');\n\n            return {\n                depth : 0,\n                stencil : 0,\n                antialiasing : 0,\n                red_bits : 8,\n                green_bits : 8,\n                blue_bits : 8,\n                alpha_bits : 8,\n                default_clear: { r:0, g:0, b:0, a:1 },\n                opengl : {\n                    #if mobile\n                        major:2, minor:0,\n                        profile: OpenGLProfile.gles\n                    #else\n                        major:0, minor: 0,\n                        profile: OpenGLProfile.compatibility\n                    #end\n                },\n                webgl : {\n                    version : 1\n                }\n            };\n\n        } //default_render_config\n\n            /** Returns a default configured window config */\n        function default_window_config() : WindowConfig {\n\n            _debug('config / fetching default window config');\n\n            var conf : WindowConfig = {\n                true_fullscreen     : false,\n                fullscreen          : false,\n                borderless          : false,\n                resizable           : true,\n                x                   : 0x1FFF0000,\n                y                   : 0x1FFF0000,\n                width               : 960,\n                height              : 640,\n                title               : 'snow app',\n                no_input            : false,\n                background_sleep    : 1/15\n            };\n\n                #if mobile\n                    conf.fullscreen = true;\n                    conf.borderless = true;\n                #end //mobile\n\n            return conf;\n\n        } //default_window_config\n\n    //properties\n\n        function set_freeze( _freeze:Bool ) {\n\n            freeze = _freeze;\n\n            dispatch_event(_freeze ? se_freeze : se_unfreeze);\n\n            return freeze;\n\n        } //set_freeze\n\n    //step\n\n        inline function step() {\n\n            snow.api.Promise.Promises.step();\n\n            while(next_queue.length > 0) {\n                cycle_next_queue();\n            }\n\n            while(defer_queue.length > 0) {\n                cycle_defer_queue();\n            }\n\n        } //step\n\n    //callbacks\n\n        static var next_queue : Array<Void->Void> = [];\n        static var defer_queue : Array<Void->Void> = [];\n\n        inline function cycle_next_queue() {\n\n            var count = next_queue.length;\n            var i = 0;\n            while(i < count) {\n                (next_queue.shift())();\n                ++i;\n            }\n\n        } //cycle_next_queue\n\n        inline function cycle_defer_queue() {\n\n            var count = defer_queue.length;\n            var i = 0;\n            while(i < count) {\n                (defer_queue.shift())();\n                ++i;\n            }\n\n        } //cycle_next_queue\n\n    //helpers\n\n        @:noCompletion public\n        inline function copy_window_config( _config:WindowConfig ) : WindowConfig {\n            return {\n                borderless:_config.borderless,\n                fullscreen:_config.fullscreen,\n                true_fullscreen:_config.true_fullscreen,\n                height:_config.height,\n                no_input:_config.no_input,\n                background_sleep:_config.background_sleep,\n                resizable:_config.resizable,\n                title:'${_config.title}',\n                width:_config.width,\n                x:_config.x,\n                y:_config.y\n            }\n        }\n\n        @:noCompletion public\n        inline function copy_render_config( _config:RenderConfig ) : RenderConfig {\n            return {\n                antialiasing: _config.antialiasing,\n                depth: _config.depth,\n                stencil: _config.stencil,\n                red_bits: _config.red_bits,\n                green_bits: _config.green_bits,\n                blue_bits: _config.blue_bits,\n                alpha_bits: _config.alpha_bits,\n                default_clear: { \n                    r: _config.default_clear.r,\n                    g: _config.default_clear.g,\n                    b: _config.default_clear.b,\n                    a: _config.default_clear.a\n                },\n                opengl : {\n                    major: _config.opengl.major,\n                    minor: _config.opengl.minor,\n                    profile: _config.opengl.profile\n                }\n            }\n        }\n\n        function make_uniqueid(?val:Int) : String {\n\n            // http://www.anotherchris.net/csharp/friendly-unique-id-generation-part-2/#base62\n\n            if(val == null) {\n                #if neko val = Std.random(0x3FFFFFFF);\n                #else val = Std.random(0x7fffffff);\n                #end\n            }\n\n            inline function to_char(value:Int) {\n                if (value > 9) {\n                    var ascii = (65 + (value - 10));\n                    if (ascii > 90) ascii += 6;\n                    return String.fromCharCode(ascii);\n                } else return Std.string(value).charAt(0);\n            } //to_char\n\n            var r = Std.int(val % 62);\n            var q = Std.int(val / 62);\n\n            if (q > 0) return make_uniqueid(q) + to_char(r);\n\n            return Std.string(to_char(r));\n\n        } //make_uniqueid\n\n} //Snow\n","package snow.api;\n\nimport haxe.io.Path;\nimport haxe.macro.Context;\nimport haxe.macro.Expr;\n\nprivate enum LogError {\n    RequireString(detail:String);\n}\n\nclass Debug {\n\n        //default to `log`\n    static var _level : Int = 1;\n    static var _filter : Array<String>;\n    static var _exclude : Array<String>;\n    static var _log_width : Int = 16;\n\n    macro public static function get_level() : haxe.macro.Expr {\n        return macro $v{ ${snow.api.Debug._level} };\n    }\n    macro public static function get_filter() : haxe.macro.Expr {\n        return macro $v{ ${snow.api.Debug._filter} };\n    }\n    macro public static function get_exclude() : haxe.macro.Expr {\n        return macro $v{ ${snow.api.Debug._exclude} };\n    }\n\n    macro static function level( __level:Int ) : haxe.macro.Expr {\n\n        _level = __level;\n\n        return macro null;\n\n    } //level\n\n    macro static function filter( __filter:String ) : haxe.macro.Expr {\n\n        _filter = __filter.split(',');\n\n        var _index = 0;\n        for(_f in _filter) {\n            _filter[_index] = StringTools.trim(_f);\n            _index++;\n        }\n\n        return macro null;\n\n    } //filter\n\n    macro static function exclude( __exclude:String ) : haxe.macro.Expr {\n\n        _exclude = __exclude.split(',');\n\n        var _index = 0;\n        for(_e in _exclude) {\n            _exclude[_index] = StringTools.trim(_e);\n            _index++;\n        }\n\n        return macro null;\n\n    } //exclude\n\n    macro static function width( _width:Int ) : haxe.macro.Expr {\n\n        _log_width = _width;\n\n        return macro null;\n\n    } //width\n\n        //This macro uses the defined log level value to reject code that\n        //shouldn't even exist at runtime , like low level debug information\n        //and logging by injecting or not injecting code\n    macro public static function log( value:Dynamic ) : Expr {\n\n        var _file = Path.withoutDirectory(Context.getPosInfos(Context.currentPos()).file);\n        var _context = Path.withoutExtension(_file).toLowerCase();\n        var _spaces = _get_spacing(_file);\n\n        for(meta in Context.getLocalClass().get().meta.get()) {\n            if(meta.name == ':log_as') {\n                var _str = switch(meta.params[0].expr) {\n                    case EConst(CString(str)): _context = str;\n                    default: throw LogError.RequireString('log_as meta requires a string constant like \"name\"');\n                }\n            }\n        } //for each meta\n\n        var _log = (_level > 0);\n\n            if(_filter != null && (_filter.indexOf(_context) == -1)) {\n                _log = false;\n            }\n\n            if(_exclude != null && (_exclude.indexOf(_context) != -1)) {\n                _log = false;\n            }\n\n        if(_log) {\n            return macro @:pos(Context.currentPos()) trace('${_spaces}i / $_context / ' + $value);\n        }\n\n        return macro null;\n\n    } //log\n\n    macro public static function _debug( value:Dynamic ) : Expr {\n\n        var _file = Path.withoutDirectory(Context.getPosInfos(Context.currentPos()).file);\n        var _context = Path.withoutExtension(_file).toLowerCase();\n        var _spaces = _get_spacing(_file);\n\n        for(meta in Context.getLocalClass().get().meta.get()) {\n            if(meta.name == ':log_as') {\n                var _str = switch(meta.params[0].expr) {\n                    case EConst(CString(str)): _context = str;\n                    default: throw LogError.RequireString('log_as meta requires a string constant like \"name\"');\n                }\n            }\n        } //for each meta\n\n        var _log = (_level > 1);\n\n            if(_filter != null && (_filter.indexOf(_context) == -1)) {\n                _log = false;\n            }\n\n            if(_exclude != null && (_exclude.indexOf(_context) != -1)) {\n                _log = false;\n            }\n\n        if(_log) {\n            return macro @:pos(Context.currentPos()) trace('${_spaces}d / $_context / ' + $value);\n        }\n\n        return macro null;\n\n    } //_debug\n\n    macro public static function _verbose( value:Dynamic ) : Expr {\n\n        var _file = Path.withoutDirectory(Context.getPosInfos(Context.currentPos()).file);\n        var _context = Path.withoutExtension(_file).toLowerCase();\n        var _spaces = _get_spacing(_file);\n\n        for(meta in Context.getLocalClass().get().meta.get()) {\n            if(meta.name == ':log_as') {\n                var _str = switch(meta.params[0].expr) {\n                    case EConst(CString(str)): _context = str;\n                    default: throw LogError.RequireString('log_as meta requires a string constant like \"name\"');\n                }\n            }\n        } //for each meta\n\n        var _log = (_level > 2);\n\n            if(_filter != null && (_filter.indexOf(_context) == -1)) {\n                _log = false;\n            }\n\n            if(_exclude != null && (_exclude.indexOf(_context) != -1)) {\n                _log = false;\n            }\n\n        if(_log) {\n            return macro @:pos(Context.currentPos()) trace('${_spaces}v / $_context / ' + $value);\n        }\n\n        return macro null;\n\n    } //_verbose\n\n    macro public static function _verboser( value:Dynamic ) : Expr {\n\n        var _file = Path.withoutDirectory(Context.getPosInfos(Context.currentPos()).file);\n        var _context = Path.withoutExtension(_file).toLowerCase();\n        var _spaces = _get_spacing(_file);\n\n        for(meta in Context.getLocalClass().get().meta.get()) {\n            if(meta.name == ':log_as') {\n                var _str = switch(meta.params[0].expr) {\n                    case EConst(CString(str)): _context = str;\n                    default: throw LogError.RequireString('log_as meta requires a string constant like \"name\"');\n                }\n            }\n        } //for each meta\n\n        var _log = (_level > 3);\n\n            if(_filter != null && (_filter.indexOf(_context) == -1)) {\n                _log = false;\n            }\n\n            if(_exclude != null && (_exclude.indexOf(_context) != -1)) {\n                _log = false;\n            }\n\n        if(_log) {\n            return macro @:pos(Context.currentPos()) trace('${_spaces}V / $_context / ' + $value);\n        }\n\n        return macro null;\n\n    } //_verboser\n\n    macro public static function assert(expr:Expr, ?reason:ExprOf<String>) {\n        #if !snow_no_assertions\n            var _str = haxe.macro.ExprTools.toString(expr);\n\n            reason = switch(reason) {\n                case macro null: macro '';\n                case _: macro ' ( ' + $reason + ' )';\n            }\n\n            return macro @:pos(Context.currentPos()) {\n                if(!$expr) throw snow.api.Debug.DebugError.assertion( '$_str' + $reason);\n            }\n        #end\n        return macro null;\n    } //assert\n\n    macro public static function assertnull(value:Expr, ?reason:ExprOf<String>) {\n        #if !snow_no_assertions\n            var _str = haxe.macro.ExprTools.toString(value);\n\n            reason = switch(reason) {\n                case macro null: macro '';\n                case _: macro ' ( ' + $reason + ' )';\n            }\n            return macro @:pos(Context.currentPos()) {\n                if($value == null) throw snow.api.Debug.DebugError.null_assertion('$_str was null' + $reason);\n            }\n        #end\n        return macro null;\n    } //assert\n\n    macro public static function def(value:Expr, def:Expr):Expr {\n        return macro @:pos(Context.currentPos()) {\n            if($value == null) $value = $def;\n            $value;\n        }\n    }\n\n\n//Internal Helpers\n\n\n    static function _get_spacing(_file:String ) {\n\n        var _spaces = '';\n\n            //the magic number here is File.hx[:1234] for the trace listener log spacing\n        var _trace_length = _file.length + 4;\n        var _diff : Int = _log_width - _trace_length;\n        if(_diff > 0) {\n            for(i in 0 ... _diff) {\n                _spaces += ' ';\n            }\n        }\n\n        return _spaces;\n\n    } //_get_spacing\n\n} // Debug\n\nenum DebugError {\n    assertion(expr:String);\n    null_assertion(expr:String);\n}\n","package snow.api;\n\nimport haxe.ds.IntMap;\nimport snow.api.Debug.*;\n\nprivate typedef EmitHandler = Dynamic->Void;\nprivate typedef HandlerList = Array<EmitHandler>;\n\n@:noCompletion private typedef EmitNode<T> = { event : T, handler:EmitHandler #if debug, ?pos:haxe.PosInfos #end }\n\n\n/** A simple event emitter, used as a base class for systems that want to handle direct connections to named events */\n\n// @:generic\nclass Emitter<ET:Int> {\n\n    @:noCompletion public var bindings : IntMap<HandlerList>;\n\n        //store connections loosely, to find connected locations\n    var connected : List< EmitNode<ET> >;\n        //store the items to remove\n    var _to_remove : List< EmitNode<ET> >;\n\n        /** create a new emitter instance, for binding functions easily to named events. similar to `Events` */\n    public function new() {\n\n        _to_remove = new List();\n        connected = new List();\n\n        bindings = new IntMap<HandlerList>();\n\n    } //new\n\n        /** Emit a named event */\n    public function emit<T>( event:ET, ?data:T #if debug, ?pos:haxe.PosInfos #end ) {\n\n        _check();\n\n        var list = bindings.get(event);\n        if(list != null && list.length > 0) {\n            for(handler in list) {\n                #if debug _verboser('emit / $event / ${pos.fileName}:${pos.lineNumber}@${pos.className}.${pos.methodName}'); #end\n                handler(data);\n            }\n        }\n\n            //needed because handlers\n            //might disconnect listeners\n        _check();\n\n    } //emit\n\n        /** connect a named event to a handler */\n    public function on<T>(event:ET, handler: T->Void #if debug, ?pos:haxe.PosInfos #end ) {\n\n        _check();\n\n        #if debug _verbose('on / $event / ${pos.fileName}:${pos.lineNumber}@${pos.className}.${pos.methodName}'); #end\n\n        if(!bindings.exists(event)) {\n\n            bindings.set(event, [handler]);\n            connected.push({ handler:handler, event:event #if debug, pos:pos #end });\n\n        } else {\n            var list = bindings.get(event);\n            if(list.indexOf(handler) == -1) {\n                list.push(handler);\n                connected.push({ handler:handler, event:event #if debug, pos:pos #end });\n            }\n        }\n\n    } //on\n\n        /** disconnect a named event and handler. returns true on success, or false if event or handler not found */\n    public function off<T>(event:ET, handler: T->Void #if debug, ?pos:haxe.PosInfos #end ) : Bool {\n\n        _check();\n\n        var success = false;\n\n        if(bindings.exists(event)) {\n\n            #if debug _verbose('off / $event / ${pos.fileName}:${pos.lineNumber}@${pos.className}.${pos.methodName}'); #end\n\n            _to_remove.push({ event:event, handler:handler });\n\n            for(_info in connected) {\n                if(_info.event == event && _info.handler == handler) {\n                    connected.remove(_info);\n                }\n            }\n\n                //debateable :p\n            success = true;\n\n        } //if exists\n\n        return success;\n\n    } //off\n\n    var _checking = false;\n\n    function _check() {\n\n        if(_checking) {\n            return;\n        }\n\n        _checking = true;\n\n        if(_to_remove.length > 0) {\n\n            for(_node in _to_remove) {\n\n                var list = bindings.get(_node.event);\n                list.remove( _node.handler );\n\n                    //clear the event list if there are no bindings\n                if(list.length == 0) {\n                    bindings.remove(_node.event);\n                }\n\n            } //each node\n\n            _to_remove = null;\n            _to_remove = new List();\n\n        } //_to_remove length > 0\n\n        _checking = false;\n\n    } //_check\n\n} //Emitter\n","package snow.api;\n\n/**\nThe Promise interface represents a proxy for a value not necessarily\nknown when the promise is created. It allows you to associate handlers\nto an asynchronous action's eventual success or failure. This lets asynchronous\nmethods return values like synchronous methods: instead of the final value,\nthe asynchronous method returns a promise of having a value at some point in the future.\n\nA pending promise can become either fulfilled with a value, or\nrejected with a reason. When either of these happens, the associated\nhandlers queued up by a promise's then method are called. (If the promise\nhas already been fulfilled or rejected when a corresponding handler is attached,\nthe handler will be called, so there is no race condition between an asynchronous\noperation completing and its handlers being attached.)\n\nAs the Promise.prototype.then and Promise.prototype.error methods return promises,\nthey can be chained—an operation called composition.\n\nDocumentation provided mostly by MDN\nlicensed under CC-BY-SA 2.5. by Mozilla Contributors.\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\n*/\n@:allow(snow.api.Promises)\nclass Promise {\n\n        /** The state this promise is in. */\n    var state : PromiseState;\n        /** internal: The result of this promise */\n    var result : Dynamic;\n        /** internal: The reactions lists */\n    var reject_reactions: Array<Dynamic>;\n    var fulfill_reactions: Array<Dynamic>;\n    var settle_reactions: Array<Dynamic>;\n\n        /** internal: If the promise was handled by a reject reaction */\n    var was_caught: Bool = false;\n\n        /** Creates a new promise by providing a function with two callback arguments.\n            Inside this function, invoking these callbacks controls the promise state.\n\n            For example, if fetching a value async, and the operation fails, you would\n            invoke the second callback with the reason/error. If the operation succeeded,\n            you would invoke the first.\n\n            `new Promise(function(resolve, reject) {\n                var success = ... get value ...\n                if(success) {\n                    resolve(value);\n                } else {\n                    reject(Error(...));\n                }\n            });` */\n    public function new<T>( func:T ) {\n\n        state = pending;\n\n        reject_reactions = [];\n        fulfill_reactions = [];\n        settle_reactions = [];\n\n        Promises.queue(function() {\n\n            #if hxpromise_catch_and_reject_on_promise_body\n                try {\n                    untyped func(onfulfill, onreject);\n                } catch(err:Dynamic) {\n                    onexception(err);\n                }\n            #else\n                untyped func(onfulfill, onreject);\n            #end //hxpromise_catch_and_reject_on_promise_body\n\n            Promises.defer(Promises.next);\n        });\n\n    } //new\n\n        /** The then function returns a Promise. It takes two arguments,\n            both are callback functions for the success and failure cases of the Promise. */\n    public function then<T,T1>( on_fulfilled:T, ?on_rejected:T ) : Promise {\n\n        switch(state) {\n\n            case pending: {\n                add_fulfill(on_fulfilled);\n                add_reject(on_rejected);\n                return new_linked_promise();\n            }\n\n            case fulfilled: {\n                Promises.defer(on_fulfilled, result);\n                return Promise.resolve(result);\n            }\n\n            case rejected: {\n                Promises.defer(on_rejected, result);\n                return Promise.reject(result);\n            }\n\n        } //switch\n\n    } //then\n\n        /** The error function returns a Promise and deals with rejected cases only.\n            It behaves the same as calling then(null, on_rejected).*/\n    public function error<T>( on_rejected:T ) : Promise {\n\n        switch(state) {\n\n            case pending: {\n                add_reject(on_rejected);\n                return new_linked_resolve_empty();\n            }\n\n            case fulfilled: {\n                return Promise.resolve(result);\n            }\n\n            case rejected: {\n                Promises.defer(on_rejected, result);\n                return Promise.reject(result);\n            }\n\n        } //switch\n\n    } //error\n\n        /** The Promise.all(iterable) function returns a promise that\n            resolves when all of the promises in the iterable argument\n            have resolved. The result is passed as an array of values\n            from all the promises.\n            If any of the passed in promises rejects, the all Promise\n            immediately rejects with the value of the promise that rejected,\n            discarding all the other promises whether or not they have resolved. */\n    public static function all( list:Array<Promise> ) {\n\n        #if debug\n            for(item in list) {\n                if(item == null) throw \"Promise.all handed an array with null items within it\";\n            }\n        #end\n\n        return new Promise(function(ok, no) {\n\n            var current = 0;\n            var total = list.length;\n            var fulfill_result = [];\n            var reject_result = null;\n            var all_state:PromiseState = pending;\n\n            var single_ok = function(index, val) {\n\n                if(all_state != pending) return;\n\n                current++;\n                fulfill_result[index] = val;\n\n                if(total == current) {\n                    all_state = fulfilled;\n                    ok(fulfill_result);\n                }\n\n            } //single_ok\n\n            var single_err = function(val) {\n\n                if(all_state != pending) return;\n\n                all_state = rejected;\n                reject_result = val;\n                no(reject_result);\n\n            } //single_err\n\n            var index = 0;\n            for(promise in list) {\n                promise.then(single_ok.bind(index,_)).error(single_err);\n                index++;\n            }\n\n        }); //promise\n\n    } //all\n\n        /** The Promise.race function returns a promise that\n            resolves or rejects as soon as one of the promises in the\n            list resolves or rejects, with the value or reason from that promise. */\n    public static function race( list:Array<Promise> ) {\n\n        return new Promise(function(ok,no) {\n\n            var settled = false;\n            var single_ok = function(val) {\n                if(settled) return;\n                settled = true;\n                ok(val);\n            }\n\n            var single_err = function(val) {\n                if(settled) return;\n                settled = true;\n                no(val);\n            }\n\n            for(promise in list) {\n                promise.then(single_ok).error(single_err);\n            }\n        });\n\n    } //race\n\n        /** The Promise.reject function returns a Promise object\n            that is rejected with the optional reason. */\n    public static function reject<T>( ?reason:T ) {\n\n        return new Promise(function(ok, no){\n            no(reason);\n        });\n\n    } //reject\n\n        /** The static Promise.resolve function returns a Promise object\n            that is resolved with the given value. */\n    public static function resolve<T>( ?val:T ) {\n\n        return new Promise(function(ok, no){\n            ok(val);\n        });\n\n    } //resolve\n\n//Debug\n\n    function toString() {\n        return 'Promise { state:${state_string()}, result:$result }';\n    }\n\n//Internal\n\n        /** internal: Add a settle reaction unless\n            this promise is already settled,\n            if it is the call is deferred but happens \"immediately\" */\n    function add_settle(f) {\n\n        if(state == pending) {\n            settle_reactions.push(f);\n        } else {\n            Promises.defer(f,result);\n        }\n\n    } //add_settle\n\n        /** internal: Return a new linked promise that\n            will wait on this, and settle it with this result */\n    function new_linked_promise() {\n\n        return new Promise(function(f, r) {\n            add_settle(function(_){\n                if(state == fulfilled){\n                    f(result);\n                } else {\n                    r(result);\n                }\n            });\n        }); //promise\n\n    } //\n\n\n        /** internal: Return a resolved promise that\n            will wait on this, and fulfill with this result */\n    function new_linked_resolve() {\n        return new Promise(function (f,r) {\n            add_settle(function(val) {\n                f(val);\n            });\n        });\n    } //\n\n        /** internal: Return a rejected promise that\n            will wait on this, and reject with this result */\n    function new_linked_reject() {\n        return new Promise(function (f,r) {\n            add_settle(function(val){\n                r(val);\n            });\n        });\n    } //\n\n        /** internal: Return an already resolved\n            promise that will wait on this one\n            but have no value fulfilled */\n    function new_linked_resolve_empty() {\n        return new Promise(function(f,r) {\n            add_settle(function(_){\n                f();\n            });\n        });\n    } //\n\n        /** internal: Return an already rejected\n            promise that will wait on this one\n            but have no value rejected */\n    function new_linked_reject_empty() {\n        return new Promise(function(f,r) {\n            add_settle(function(_){\n                r();\n            });\n        });\n    } //\n\n\n        /** internal: Add a fulfill reaction callback */\n    function add_fulfill<T>(f:T) {\n        if(f != null) {\n            fulfill_reactions.push(f);\n        }\n    } //\n\n        /** internal: Add a reject reaction callback */\n    function add_reject<T>(f:T) {\n        if(f != null) {\n            was_caught = true;\n            reject_reactions.push(f);\n        }\n    } //\n\n//State shifts\n\n        /** internal: Called if the promise is fulfilled. */\n    function onfulfill<T>( val:T ) {\n\n        // trace('resolve: to $val, with ${fulfill_reactions.length} reactions');\n\n        state = fulfilled;\n        result = val;\n\n        while(fulfill_reactions.length > 0) {\n            var fn = fulfill_reactions.shift();\n            fn(result);\n        }\n\n        onsettle();\n\n    } //onfulfill\n\n        /** internal: Called if the promise is rejected. */\n    function onreject<T>( reason:T ) {\n\n        // trace('reject: to $reason, with ${reject_reactions.length} reactions');\n\n        state = rejected;\n        result = reason;\n\n        while(reject_reactions.length > 0) {\n            var fn = reject_reactions.shift();\n            fn(result);\n        }\n\n        onsettle();\n\n    } //onreject\n\n        /** internal: Called when the promise is settled. */\n    function onsettle() {\n\n        while(settle_reactions.length > 0) {\n            var fn = settle_reactions.shift();\n            fn(result);\n        }\n\n    } //onsettle\n\n        /** internal: Handle exceptions in the promise callback.\n            This causes a rejection, and if no handlers are found will throw */\n    function onexception<T>( err:T ) {\n\n        #if !hxpromise_dont_throw_unhandled_rejection\n\n        add_settle(function(_){\n            if(!was_caught) {\n                if(state == rejected) {\n                    throw PromiseError.UnhandledPromiseRejection(this.toString());\n                    return;\n                }\n            }\n        });\n\n        #end //hxpromise_throw_unhandled_rejection\n\n            //state can't transition\n            //and we shouldn't reject twice\n            //so we only reject if pending\n        if(state == pending) {\n            onreject(err);\n        }\n\n    } //onexception\n\n        /** internal: return a string for our state */\n    function state_string() {\n        return switch(state){\n            case pending:'pending';\n            case fulfilled:'fulfilled';\n            case rejected:'rejected';\n        }\n    }\n\n} //Promise\n\n\n/**\nPromises implementation. Use this to integrate the promises\ninto your code base. Call step at the end of a frame/microtask.\n*/\n@:allow(snow.api.Promise)\nclass Promises {\n\n    static var calls: Array<Dynamic> = [];\n    static var defers: Array<{f:Dynamic,a:Dynamic}> = [];\n\n        /** Call this once when you want to propagate promises */\n    public static function step() {\n\n        next();\n\n        while(defers.length > 0) {\n            var defer = defers.shift();\n                defer.f(defer.a);\n        }\n\n    } //\n\n        /** Handle the next job in the queue if any */\n    static function next() {\n        if(calls.length > 0) (calls.shift())();\n    } //\n\n        /** Defer a call with an argument to the next step */\n    static function defer<T,T1>(f:T, ?a:T1) {\n        if(f == null) return;\n        defers.push({f:f, a:a});\n    } //\n\n        /** Queue a job to be executed in order */\n    static function queue<T>(f:T) {\n        if(f == null) return;\n        calls.push(f);\n    } //\n\n} //Promises\n\n//Promise types\n\nenum PromiseError {\n    UnhandledPromiseRejection(err:Dynamic);\n}\n\n@:enum\nabstract PromiseState(Int) from Int to Int {\n        //initial state, not fulfilled or rejected\n    var pending = 0;\n        //successful operation\n    var fulfilled = 1;\n        //failed operation\n    var rejected = 2;\n\n} //\n","package snow.api;\n\nimport haxe.PosInfos;\nimport haxe.Log;\n\n@:allow(snow.Snow)\n    class Timer {\n\n        static var running_timers:Array<Timer> = [];\n\n        @:noCompletion public var time:Float;\n        @:noCompletion public var fire_at:Float;\n        @:noCompletion public var running:Bool;\n\n        public function new(_time:Float) {\n\n            time = _time;\n            running_timers.push( this );\n            fire_at = Snow.timestamp + time;\n            running = true;\n\n        } //new\n\n        public static function measure<T>( f : Void -> T, ?pos : PosInfos ) : T {\n            var t0 = Snow.timestamp;\n            var r = f();\n            Log.trace((Snow.timestamp - t0) + \"s\", pos);\n            return r;\n        }\n\n        // Set this with \"run=...\"\n        dynamic public function run () { }\n\n        public function stop ():Void {\n\n            if (running) {\n                running = false;\n                running_timers.remove (this);\n            }\n\n        } //stop\n\n\n        static function update() {\n\n            var now = Snow.timestamp;\n\n            for (timer in running_timers) {\n                if(timer.running) {\n                    if(timer.fire_at < now) {\n                        timer.fire_at += timer.time;\n                        timer.run();\n                    } //now\n                }\n            } //all timers\n\n        } //update\n\n            //From std/haxe/Timer.hx\n        public static function delay( _time:Float, _f:Void -> Void ) {\n\n            var t = new Timer( _time );\n            t.run = function() {\n                t.stop();\n                _f();\n            };\n\n            return t;\n\n        } //delay\n\n    } //Timer\n\n","package snow.api.buffers;\n\n#if js\n\n    @:forward\n    @:arrayAccess\n    abstract Float32Array(js.html.Float32Array)\n        from js.html.Float32Array\n        to js.html.Float32Array {\n\n        public inline static var BYTES_PER_ELEMENT : Int = 4;\n\n        inline public function new(_elements:Int) {\n            this = new js.html.Float32Array(_elements);\n        }\n\n        inline static public function fromArray<T>(_array:Array<T>) : Float32Array {\n            return new js.html.Float32Array(untyped _array);\n        }\n\n        inline static public function fromView(_view:ArrayBufferView) : Float32Array {\n            return new js.html.Float32Array(untyped _view);\n        }\n\n        inline static public function fromBuffer(_buffer:ArrayBuffer, _byteOffset:Int, _byteLength:Int) : Float32Array {\n            return new js.html.Float32Array(_buffer, _byteOffset, Std.int(_byteLength/BYTES_PER_ELEMENT));\n        }\n\n\n        @:arrayAccess @:extern inline function __set(idx:Int, val:Float) : Void this[idx] = val;\n        @:arrayAccess @:extern inline function __get(idx:Int) : Float return this[idx];\n\n\n            //non spec haxe conversions\n        inline public static function fromBytes( bytes:haxe.io.Bytes, ?byteOffset:Int=0, ?len:Int ) : Float32Array {\n            if(byteOffset == null) return new js.html.Float32Array(cast bytes.getData());\n            if(len == null) return new js.html.Float32Array(cast bytes.getData(), byteOffset);\n            return new js.html.Float32Array(cast bytes.getData(), byteOffset, len);\n        }\n\n        inline public function toBytes() : haxe.io.Bytes {\n            #if (haxe_ver < 3.2)\n                return @:privateAccess new haxe.io.Bytes( this.byteLength, cast new js.html.Uint8Array(this.buffer) );\n            #else\n                return @:privateAccess new haxe.io.Bytes( cast new js.html.Uint8Array(this.buffer) );\n            #end\n        }\n\n        inline function toString() return 'Float32Array [byteLength:${this.byteLength}, length:${this.length}]';\n\n    }\n\n#else\n\n    import snow.api.buffers.ArrayBufferView;\n    import snow.api.buffers.TypedArrayType;\n\n    @:forward\n    abstract Float32Array(ArrayBufferView) from ArrayBufferView to ArrayBufferView {\n\n        public inline static var BYTES_PER_ELEMENT : Int = 4;\n\n        public var length (get, never):Int;\n\n        inline public function new(_elements:Int) {\n            this = ArrayBufferView.fromElements(Float32, _elements);\n        }\n\n        // @:generic //:todo: on use with generic: Type not found : snow.api.buffers._Float32Array.Float32Array_Impl_\n        inline static public function fromArray<T>(_array:Array<T>) : Float32Array {\n            return ArrayBufferView.fromArray(Float32, cast _array);\n        }\n\n        inline static public function fromView(_view:ArrayBufferView) : Float32Array {\n            return ArrayBufferView.fromView(Float32, _view);\n        }\n\n        inline static public function fromBuffer(_buffer:ArrayBuffer, _byteOffset:Int, _byteLength:Int) : Float32Array {\n            return ArrayBufferView.fromBuffer(Float32, _buffer, _byteOffset, _byteLength);\n        }\n\n    //Public API\n\n        public inline function subarray( begin:Int, end:Null<Int> = null) : Float32Array return this.subarray(begin, end);\n\n\n        inline public static function fromBytes(_bytes:haxe.io.Bytes, ?_byteOffset:Int=0, ?_byteLength:Int) : Float32Array {\n            if(_byteLength == null) _byteLength = _bytes.length;\n            return Float32Array.fromBuffer(_bytes.getData(), _byteOffset, _byteLength);\n        }\n\n        inline public function toBytes() : haxe.io.Bytes {\n            return haxe.io.Bytes.ofData(this.buffer);\n        }\n\n    //Internal\n\n        inline function toString() return this == null ? null : 'Float32Array [byteLength:${this.byteLength}, length:${this.length}]';\n\n        @:extern inline function get_length() return this.length;\n\n\n        @:noCompletion\n        @:arrayAccess @:extern\n        public inline function __get(idx:Int) : Float {\n            return ArrayBufferIO.getFloat32(this.buffer, this.byteOffset+(idx*BYTES_PER_ELEMENT) );\n        }\n\n        @:noCompletion\n        @:arrayAccess @:extern\n        public inline function __set(idx:Int, val:Float) : Void {\n            ArrayBufferIO.setFloat32(this.buffer, this.byteOffset+(idx*BYTES_PER_ELEMENT), val);\n        }\n\n    }\n\n#end //!js\n","package snow.api.buffers;\r\n\r\n#if js\r\n\r\n    @:forward\r\n    abstract Int32Array(js.html.Int32Array)\r\n        from js.html.Int32Array\r\n        to js.html.Int32Array {\r\n\r\n        public inline static var BYTES_PER_ELEMENT : Int = 4;\r\n\r\n        inline public function new(_elements:Int) {\r\n            this = new js.html.Int32Array(_elements);\r\n        }\r\n\r\n        inline static public function fromArray<T>(_array:Array<T>) : Int32Array {\r\n            return new js.html.Int32Array(untyped _array);\r\n        }\r\n\r\n        inline static public function fromView(_view:ArrayBufferView) : Int32Array {\r\n            return new js.html.Int32Array(untyped _view);\r\n        }\r\n\r\n        inline static public function fromBuffer(_buffer:ArrayBuffer, _byteOffset:Int, _byteLength:Int) : Int32Array {\r\n            return new js.html.Int32Array(_buffer, _byteOffset, Std.int(_byteLength/BYTES_PER_ELEMENT));\r\n        }\r\n\r\n        @:arrayAccess @:extern inline function __set(idx:Int, val:Int) : Void this[idx] = val;\r\n        @:arrayAccess @:extern inline function __get(idx:Int) : Int return this[idx];\r\n\r\n\r\n            //non spec haxe conversions\r\n        inline public static function fromBytes( bytes:haxe.io.Bytes, ?byteOffset:Int=0, ?len:Int ) : Int32Array {\r\n            if(byteOffset == null) return new js.html.Int32Array(cast bytes.getData());\r\n            if(len == null) return new js.html.Int32Array(cast bytes.getData(), byteOffset);\r\n            return new js.html.Int32Array(cast bytes.getData(), byteOffset, len);\r\n        }\r\n\r\n        inline public function toBytes() : haxe.io.Bytes {\r\n            #if (haxe_ver < 3.2)\r\n                return @:privateAccess new haxe.io.Bytes( this.byteLength, cast new js.html.Uint8Array(this.buffer) );\r\n            #else\r\n                return @:privateAccess new haxe.io.Bytes( cast new js.html.Uint8Array(this.buffer) );\r\n            #end\r\n        }\r\n\r\n        inline function toString() return 'Int32Array [byteLength:${this.byteLength}, length:${this.length}]';\r\n\r\n    }\r\n\r\n#else\r\n\r\n    import snow.api.buffers.ArrayBufferView;\r\n    import snow.api.buffers.TypedArrayType;\r\n\r\n    @:forward\r\n    abstract Int32Array(ArrayBufferView) from ArrayBufferView to ArrayBufferView {\r\n\r\n        public inline static var BYTES_PER_ELEMENT : Int = 4;\r\n\r\n        public var length (get, never):Int;\r\n\r\n        inline public function new(_elements:Int) {\r\n            this = ArrayBufferView.fromElements(Int32, _elements);\r\n        }\r\n\r\n        // @:generic\r\n        static public inline function fromArray<T>(_array:Array<T>) : Int32Array {\r\n            return ArrayBufferView.fromArray(Int32, cast _array);\r\n        }\r\n\r\n        static public inline function fromView(_view:ArrayBufferView) : Int32Array {\r\n            return ArrayBufferView.fromView(Int32, _view);\r\n        }\r\n\r\n        static public inline function fromBuffer(_buffer:ArrayBuffer, _byteOffset:Int, _byteLength:Int) : Int32Array {\r\n            return ArrayBufferView.fromBuffer(Int32, _buffer, _byteOffset, _byteLength);\r\n        }\r\n\r\n    //Public API\r\n\r\n        public inline function subarray( begin:Int, end:Null<Int> = null) : Int32Array return this.subarray(begin, end);\r\n\r\n\r\n        inline public static function fromBytes(_bytes:haxe.io.Bytes, ?_byteOffset:Int=0, ?_byteLength:Int) : Int32Array {\r\n            if(_byteLength == null) _byteLength = _bytes.length;\r\n            return Int32Array.fromBuffer(_bytes.getData(), _byteOffset, _byteLength);\r\n        }\r\n\r\n        inline public function toBytes() : haxe.io.Bytes {\r\n            return haxe.io.Bytes.ofData(this.buffer);\r\n        }\r\n\r\n    //Internal\r\n\r\n        inline function get_length() return this.length;\r\n\r\n\r\n        @:noCompletion\r\n        @:arrayAccess @:extern\r\n        public inline function __get(idx:Int) {\r\n            return ArrayBufferIO.getInt32(this.buffer, this.byteOffset+(idx*BYTES_PER_ELEMENT));\r\n        }\r\n\r\n        @:noCompletion\r\n        @:arrayAccess @:extern\r\n        public inline function __set(idx:Int, val:Int) : Void {\r\n            ArrayBufferIO.setInt32(this.buffer, this.byteOffset+(idx*BYTES_PER_ELEMENT), val);\r\n        }\r\n\r\n        inline function toString() return this == null ? null : 'Int32Array [byteLength:${this.byteLength}, length:${this.length}]';\r\n\r\n    }\r\n\r\n#end //!js\r\n","package snow.api.buffers;\r\n\r\n#if js\r\n\r\n    @:forward\r\n    abstract Uint8Array(js.html.Uint8Array)\r\n        from js.html.Uint8Array\r\n        to js.html.Uint8Array {\r\n\r\n        public inline static var BYTES_PER_ELEMENT : Int = 1;\r\n\r\n        inline public function new(_elements:Int) {\r\n            this = new js.html.Uint8Array(_elements);\r\n        }\r\n        \r\n        inline static public function fromArray<T>(_array:Array<T>) : Uint8Array {\r\n            return new js.html.Uint8Array(untyped _array);\r\n        }\r\n        \r\n        inline static public function fromView(_view:ArrayBufferView) : Uint8Array {\r\n            return new js.html.Uint8Array(untyped _view);\r\n        }\r\n        \r\n        inline static public function fromBuffer(_buffer:ArrayBuffer, _byteOffset:Int, _byteLength:Int) : Uint8Array {\r\n            return new js.html.Uint8Array(_buffer, _byteOffset, _byteLength);\r\n        }\r\n\r\n        @:arrayAccess @:extern inline function __set(idx:Int, val:UInt) : Void this[idx] = val;\r\n        @:arrayAccess @:extern inline function __get(idx:Int) : Int return this[idx];\r\n\r\n\r\n            //non spec haxe conversions\r\n        inline public static function fromBytes( bytes:haxe.io.Bytes, ?byteOffset:Int, ?len:Int ) : Uint8Array {\r\n            if(byteOffset == null) return new js.html.Uint8Array(cast bytes.getData());\r\n            if(len == null) return new js.html.Uint8Array(cast bytes.getData(), byteOffset);\r\n            return new js.html.Uint8Array(cast bytes.getData(), byteOffset, len);\r\n        }\r\n\r\n        inline public function toBytes() : haxe.io.Bytes {\r\n            #if (haxe_ver < 3.2)\r\n                return @:privateAccess new haxe.io.Bytes( this.byteLength, cast new js.html.Uint8Array(this.buffer) );\r\n            #else\r\n                return @:privateAccess new haxe.io.Bytes( cast new js.html.Uint8Array(this.buffer) );\r\n            #end\r\n        }\r\n\r\n        inline function toString() return 'Uint8Array [byteLength:${this.byteLength}, length:${this.length}]';\r\n\r\n    }\r\n\r\n#else\r\n\r\n    import snow.api.buffers.ArrayBufferView;\r\n    import snow.api.buffers.TypedArrayType;\r\n\r\n    @:forward\r\n    abstract Uint8Array(ArrayBufferView) from ArrayBufferView to ArrayBufferView {\r\n\r\n        public inline static var BYTES_PER_ELEMENT : Int = 1;\r\n\r\n        public var length (get, never):Int;\r\n\r\n        inline public function new(_elements:Int) {\r\n            this = ArrayBufferView.fromElements(Uint8, _elements);\r\n        }\r\n\r\n        // @:generic\r\n        static public inline function fromArray<T>(_array:Array<T>) : Uint8Array {\r\n            return ArrayBufferView.fromArray(Uint8, cast _array);\r\n        }\r\n\r\n        static public inline function fromView(_view:ArrayBufferView) : Uint8Array {\r\n            return ArrayBufferView.fromView(Uint8, _view);\r\n        }\r\n\r\n        static public inline function fromBuffer(_buffer:ArrayBuffer, _byteOffset:Int, _byteLength:Int) : Uint8Array {\r\n            return ArrayBufferView.fromBuffer(Uint8, _buffer, _byteOffset, _byteLength);\r\n        }\r\n\r\n    //Public API\r\n\r\n        public inline function subarray( begin:Int, end:Null<Int> = null) : Uint8Array return this.subarray(begin, end);\r\n\r\n\r\n        inline public static function fromBytes(_bytes:haxe.io.Bytes, ?_byteOffset:Int=0, ?_byteLength:Int) : Uint8Array {\r\n            if(_byteLength == null) _byteLength = _bytes.length;\r\n            return Uint8Array.fromBuffer(_bytes.getData(), _byteOffset, _byteLength);\r\n        }\r\n\r\n        inline public function toBytes() : haxe.io.Bytes {\r\n            return haxe.io.Bytes.ofData(this.buffer);\r\n        }\r\n\r\n    //Internal\r\n\r\n        inline function toString() return this == null ? null : 'Uint8Array [byteLength:${this.byteLength}, length:${this.length}]';\r\n\r\n        inline function get_length() return this.length;\r\n\r\n\r\n        @:noCompletion\r\n        @:arrayAccess @:extern\r\n        public inline function __get(idx:Int) {\r\n            return ArrayBufferIO.getUint8(this.buffer, this.byteOffset+idx);\r\n        }\r\n\r\n        @:noCompletion\r\n        @:arrayAccess @:extern\r\n        public inline function __set(idx:Int, val:UInt) : Void {\r\n            ArrayBufferIO.setUint8(this.buffer, this.byteOffset+idx, val);\r\n        }\r\n\r\n    }\r\n\r\n#end //!js\r\n","package snow.core;\n\nimport snow.types.Types;\nimport snow.api.Promise;\nimport snow.api.buffers.Uint8Array;\nimport snow.systems.audio.AudioSource;\nimport snow.systems.audio.AudioInstance;\n\n@:allow(snow.systems.audio.Audio)\nclass Audio implements snow.modules.interfaces.Audio {\n\n    var app: snow.Snow;\n    var active: Bool = false;\n    function new(_app:snow.Snow) app = _app;\n    function onevent(event:SystemEvent):Void {}\n    function shutdown():Void {}\n    public function suspend():Void {}\n    public function resume():Void {}\n\n    public function data_from_load(_path:String, ?_is_stream:Bool=false, ?_format:AudioFormatType) : Promise { return null; }\n    public function data_from_bytes(_id:String, _bytes:Uint8Array, ?_format:AudioFormatType) : Promise { return null; }\n\n    public function play(_source:AudioSource, _volume:Float, _paused:Bool) : AudioHandle { return null; }\n    public function loop(_source:AudioSource, _volume:Float, _paused:Bool) : AudioHandle { return null; }\n    public function pause(_handle:AudioHandle) : Void {}\n    public function unpause(_handle:AudioHandle) : Void {}\n    public function stop(_handle:AudioHandle) : Void {}\n\n    public function volume(_handle:AudioHandle, _volume:Float) : Void {}\n    public function pan(_handle:AudioHandle, _pan:Float) : Void {}\n    public function pitch(_handle:AudioHandle, _pitch:Float) : Void {}\n    public function position(_handle:AudioHandle, _time:Float) : Void {}\n\n    public function volume_of(_handle:AudioHandle) : Float { return 0.0; }\n    public function pan_of(_handle:AudioHandle) : Float { return 0.0; }\n    public function pitch_of(_handle:AudioHandle) : Float { return 0.0; }\n    public function position_of(_handle:AudioHandle) : Float { return 0.0; }\n    public function state_of(_handle:AudioHandle) : AudioState { return as_invalid; }\n    public function loop_of(_handle:AudioHandle) : Bool { return false; }\n    public function instance_of(_handle:AudioHandle) : AudioInstance { return null; }\n\n   /** Uses the extension of the given path to return the `AudioFormatType` */\n        public static inline function audio_format_from_path(_path:String) : AudioFormatType {\n\n            var _ext = haxe.io.Path.extension(_path);\n            return switch(_ext) {\n                case 'wav': af_wav;\n                case 'ogg': af_ogg;\n                case 'pcm': af_pcm;\n                case _:     af_unknown;\n            }\n\n        } //audio_format_from_path\n\n}","package snow.core.web;\n\n#if js\n\nimport snow.types.Types;\nimport snow.api.Debug.*;\n\n#if (!snow_no_initial_glclear)\nimport snow.modules.opengl.GL;\n#end\n\n@:allow(snow.Snow)\nclass Runtime implements snow.core.Runtime {\n\n    public var app:snow.Snow;\n        /** The runtime window canvas */\n    public var window : WindowHandle;\n        /** The name of this runtime */\n    public var name (default, null): String = 'web';\n\n        /** The window id to use for events */\n    static inline var web_window_id = 1;\n\n        /** The window x position. \n            Internal, set by update_window_bounds */\n    var window_x : Int = 0;\n        /** The window y position.\n            Internal, set by update_window_bounds */\n    var window_y : Int = 0;\n        /** The window element width\n            Internal, set by update_window_bounds */\n    var window_w : Int = 0;\n        /** The window element height\n            Internal, set by update_window_bounds */\n    var window_h : Int = 0;\n        /** The window device pixel ratio\n            Internal, set by update_window_bounds */\n    var window_dpr : Float = 1.0;\n\n        /** Whether or not the browser has gamepad API support */\n    var gamepads_supported : Bool = false;\n        /** internal start time, allowing 0 based time values */\n    static var timestamp_start : Float = 0.0;\n\n    function new(_app:snow.Snow) {\n\n        app = _app;\n        app.platform = Platform.platform_web;\n        app.os = guess_os();\n\n        timestamp_start = (js.Browser.window.performance.now()/1000.0);\n\n        app.config.runtime = {\n            window_id : 'app',\n            window_parent : js.Browser.document.body,\n            prevent_default_context_menu : true,\n            prevent_default_mouse_wheel : true,\n            prevent_default_touches : true,\n            prevent_default_keys : [\n                Key.left, Key.right, Key.up, Key.down,\n                Key.backspace, Key.tab, Key.delete, Key.space\n            ],\n            browser_window_mousedown: false,\n            browser_window_mouseup: false,\n            browser_window_mousemove: false\n        };\n\n        gamepads_init();\n\n        log('web / init ok');\n\n    } //new\n\n//Public API\n\n    public inline function window_device_pixel_ratio() {\n\n        return js.Browser.window.devicePixelRatio == null ? 1.0 : js.Browser.window.devicePixelRatio;\n\n    } //window_device_pixel_ratio\n\n    public inline function window_width() : Int {\n\n        return window.width;\n\n    } //window_width\n\n    public inline function window_height() : Int {\n\n        return window.height;\n\n    } //window_height\n\n    public function window_grab(enable:Bool) : Bool {\n\n        if(enable) {\n    \n            if(window.requestPointerLock != null) {\n                window.requestPointerLock();\n            } else if(untyped window.webkitRequestPointerLock != null) {\n                untyped window.webkitRequestPointerLock();\n            } else if(untyped window.mozRequestPointerLock != null) {\n                untyped window.mozRequestPointerLock(); \n            } else {\n                return false;\n            }\n\n        } else {\n\n            if(js.Browser.document.exitPointerLock != null) {\n                js.Browser.document.exitPointerLock();\n            } else if(untyped js.Browser.document.webkitExitPointerLock != null) {\n                untyped js.Browser.document.webkitExitPointerLock();\n            } else if(untyped js.Browser.document.mozExitPointerLock != null) {\n                untyped js.Browser.document.mozExitPointerLock();\n            } else {\n                return false;\n            }\n\n        }\n\n        return true;\n\n    } //window_grab\n\n    var p_padding = '0';\n    var p_margin = '0';\n    var p_s_width = '';\n    var p_s_height = '';\n    var p_width = 0;\n    var p_height = 0;\n    var p_body_overflow = '0';\n    var p_body_margin = '0';\n\n        //the window.onresize event handler\n    inline function onresize_handler(_) {\n\n        window.style.width = '${js.Browser.window.innerWidth}px';\n        window.style.height = '${js.Browser.window.innerHeight}px';\n    \n    } //onresize_handler\n\n    public function window_fullscreen(enable:Bool, ?true_fullscreen:Bool=false) : Bool {\n\n        var _result = true;\n\n        if(enable) {\n\n            p_padding       = window.style.padding;\n            p_margin        = window.style.margin;\n            p_s_width       = window.style.width;\n            p_s_height      = window.style.height;\n            p_width         = window.width;\n            p_height        = window.height;\n            p_body_margin   = js.Browser.document.body.style.margin;\n            p_body_overflow = js.Browser.document.body.style.overflow;\n\n                //css device pixels\n            window.style.margin = '0';\n            window.style.padding = '0';\n            window.style.width = js.Browser.window.innerWidth + 'px';\n            window.style.height = js.Browser.window.innerHeight + 'px';\n\n                //renderable pixels, we request latest dpr, since this can happen at any time\n            window_dpr = window_device_pixel_ratio();\n            window.width = Math.floor(js.Browser.window.innerWidth * window_dpr);\n            window.height = Math.floor(js.Browser.window.innerHeight * window_dpr);\n\n                //stop the browser page from having scrollbars etc\n            js.Browser.document.body.style.margin = '0';\n            js.Browser.document.body.style.overflow = 'hidden';\n\n            if(true_fullscreen) {\n                if(window.requestFullscreen != null) {\n                    window.requestFullscreen();\n                } else if(untyped window.requestFullScreen != null) {\n                    untyped window.requestFullScreen(null);\n                } else if(untyped window.webkitRequestFullscreen != null) {\n                    untyped window.webkitRequestFullscreen();\n                } else if(untyped window.mozRequestFullScreen != null) {\n                    untyped window.mozRequestFullScreen();\n                } else {\n                    _result = false;\n                }\n            } //if true_fullscreen\n\n                //listen for changes, this will trigger the right resize\n            js.Browser.window.addEventListener(\"resize\", onresize_handler);\n\n        } else {\n\n            js.Browser.window.removeEventListener(\"resize\", onresize_handler);\n\n            window.style.padding = p_padding;\n            window.style.margin = p_margin;\n            window.style.width = p_s_width;\n            window.style.height = p_s_height;\n            window.width = p_width;\n            window.height = p_height;\n            js.Browser.document.body.style.margin = p_body_margin;\n            js.Browser.document.body.style.overflow = p_body_overflow;\n\n            if(true_fullscreen) {\n                if(js.Browser.document.exitFullscreen != null) {\n                    js.Browser.document.exitFullscreen();\n                } else if(untyped js.Browser.document.webkitExitFullscreen != null) {\n                    untyped js.Browser.document.webkitExitFullscreen();\n                } else if(untyped js.Browser.document.mozCancelFullScreen != null) {\n                    untyped js.Browser.document.mozCancelFullScreen();\n                } else {\n                    _result = false;\n                }\n            } //true_fullscreen\n\n        } //enable\n\n        return _result;\n\n    } //window_fullscreen\n\n//Public static API\n\n    inline public static function timestamp() : Float {\n\n        return (js.Browser.window.performance.now()/1000.0) - timestamp_start;\n\n    } //timestamp\n\n//Internal runtime API\n\n    function shutdown(?_immediate:Bool=false) {\n\n        log('runtime / web / shutdown');\n\n        js.Browser.document.removeEventListener('visibilitychange', on_visibilitychange);\n        js.Browser.document.removeEventListener('keydown', on_keydown);\n        js.Browser.document.removeEventListener('keyup', on_keyup);\n        js.Browser.document.removeEventListener('keypress', on_keypress);\n\n        js.Browser.window.removeEventListener(\"gamepadconnected\", on_gamepadconnected);\n        js.Browser.window.removeEventListener(\"gamepaddisconnected\", on_gamepaddisconnected);\n\n        window.remove();\n        window = null;\n        snow.modules.opengl.GL.gl = null;\n\n    } //shutdown\n\n    function run() : Bool {\n\n        log('web / run');\n\n        loop_pre_ready();\n\n        return false;\n\n    } //run\n\n    function ready() {\n\n        log('web / ready');\n\n        create_window();\n\n    } //ready\n\n//internal\n\n    inline function dispatch_window_ev(_type:WindowEventType, ?_x:Int, ?_y:Int) {\n\n        app.dispatch_window_event(_type, timestamp(), web_window_id, _x, _y);\n\n    } //dispatch_window_ev\n\n    function setup_events() {\n\n        //window events\n\n            window.addEventListener('mouseleave', function(_ev:js.html.MouseEvent) {\n\n                dispatch_window_ev(we_leave);\n\n            }); //mouseleave\n\n            window.addEventListener('mouseenter', function(_ev:js.html.MouseEvent) {\n\n               dispatch_window_ev(we_enter);\n\n            }); //mouseenter\n\n            js.Browser.document.addEventListener('visibilitychange', on_visibilitychange);\n\n        //key events\n\n            js.Browser.document.addEventListener('keydown',  on_keydown);\n            js.Browser.document.addEventListener('keyup',    on_keyup);\n            js.Browser.document.addEventListener('keypress', on_keypress);\n\n        //mouse events\n\n            window.addEventListener('contextmenu', function(_ev:js.html.MouseEvent){\n\n                if(app.config.runtime.prevent_default_context_menu) {\n                    _ev.preventDefault();\n                }\n\n            }); //contextmenu\n\n            inline function translate_mouse_x(_ev:js.html.MouseEvent) {\n                return Math.floor(window_dpr * (_ev.pageX - window_x));\n            }\n\n            inline function translate_mouse_y(_ev:js.html.MouseEvent) {\n                return Math.floor(window_dpr * (_ev.pageY - window_y));\n            }\n\n            var mousedown_window = app.config.runtime.browser_window_mousedown ? js.Browser.window : window;\n            mousedown_window.addEventListener('mousedown', function(_ev:js.html.MouseEvent) {\n\n                app.input.dispatch_mouse_down_event(\n                    translate_mouse_x(_ev),\n                    translate_mouse_y(_ev),\n                    _ev.button + 1, //:native buttons are 1 based\n                    timestamp(),\n                    web_window_id\n                );\n\n            }); //mousedown\n\n            var mouseup_window = app.config.runtime.browser_window_mouseup ? js.Browser.window : window;\n            mouseup_window.addEventListener('mouseup', function(_ev:js.html.MouseEvent){\n\n                app.input.dispatch_mouse_up_event(\n                    translate_mouse_x(_ev),\n                    translate_mouse_y(_ev),\n                    _ev.button + 1, //:native buttons are 1 based\n                    timestamp(),\n                    web_window_id\n                );\n\n            }); //mouseup\n\n            var mousemove_window = app.config.runtime.browser_window_mousemove ? js.Browser.window : window;\n            mousemove_window.addEventListener('mousemove', function(_ev:js.html.MouseEvent){\n\n                var _movement_x = _ev.movementX == null ? 0 : _ev.movementX;\n                var _movement_y = _ev.movementY == null ? 0 : _ev.movementY;\n                    _movement_x = Math.floor(_movement_x * window_dpr);\n                    _movement_y = Math.floor(_movement_y * window_dpr);\n\n                app.input.dispatch_mouse_move_event(\n                    translate_mouse_x(_ev),\n                    translate_mouse_y(_ev),\n                    _movement_x,\n                    _movement_y,\n                    timestamp(),\n                    web_window_id\n                );\n\n            }); //mousemove\n\n            window.addEventListener('wheel', function(_ev:js.html.WheelEvent) {\n\n                if(app.config.runtime.prevent_default_mouse_wheel) {\n                    _ev.preventDefault();\n                }\n\n                app.input.dispatch_mouse_wheel_event(\n                    _ev.deltaX,\n                    _ev.deltaY,\n                    timestamp(),\n                    web_window_id\n                );\n\n            });\n\n        //touch events\n\n            window.addEventListener('touchstart', function(_ev:js.html.TouchEvent) {\n\n                if(app.config.runtime.prevent_default_touches) {\n                    _ev.preventDefault();\n                }\n\n                    //:todo:web:touch: test with window_x/y/w/h\n                var _bound = window.getBoundingClientRect();\n                for(touch in _ev.changedTouches) {\n\n                    var _x:Float = (touch.clientX - _bound.left);\n                    var _y:Float = (touch.clientY - _bound.top);\n                        _x = _x/_bound.width;\n                        _y = _y/_bound.height;\n\n                    app.input.dispatch_touch_down_event(\n                        _x,\n                        _y,\n                        0, //:todo:web:touch: dx, dy values\n                        0,\n                        touch.identifier,\n                        timestamp()\n                    );\n                \n                } //each touch\n\n            }); //touchstart\n\n            window.addEventListener('touchend', function(_ev:js.html.TouchEvent) {\n\n                if(app.config.runtime.prevent_default_touches) {\n                    _ev.preventDefault();\n                }\n\n                    //:todo:web:touch: test with window_x/y/w/h\n                var _bound = window.getBoundingClientRect();\n                for(touch in _ev.changedTouches) {\n\n                    var _x:Float = touch.clientX - _bound.left;\n                    var _y:Float = touch.clientY - _bound.top;\n                        _x = _x/_bound.width;\n                        _y = _y/_bound.height;\n\n                    app.input.dispatch_touch_up_event(\n                        _x,\n                        _y,\n                        0, //:todo:web:touch: dx, dy values\n                        0,\n                        touch.identifier,\n                        timestamp()\n                    );\n\n                } //each touch\n\n            }); //touchend\n\n            window.addEventListener('touchmove', function(_ev:js.html.TouchEvent) {\n\n                if(app.config.runtime.prevent_default_touches) {\n                    _ev.preventDefault();\n                }\n\n                    //:todo:web:touch: test with window_x/y/w/h\n                var _bound = window.getBoundingClientRect();\n                for(touch in _ev.changedTouches) {\n\n                    var _x:Float = touch.clientX - _bound.left;\n                    var _y:Float = touch.clientY - _bound.top;\n                        _x = _x/_bound.width;\n                        _y = _y/_bound.height;\n\n                    app.input.dispatch_touch_move_event(\n                        _x,\n                        _y,\n                        0, //:todo:web:touch: dx, dy values\n                        0,\n                        touch.identifier,\n                        timestamp()\n                    );\n\n                } //each touch\n\n            }); //touchmove\n\n        //gamepad events\n\n            js.Browser.window.addEventListener(\"gamepadconnected\",    on_gamepadconnected);\n            js.Browser.window.addEventListener(\"gamepaddisconnected\", on_gamepaddisconnected);\n\n        //window events\n\n            //:todo:web:orientation events\n\n    } //setup_events\n\n    //event handlers\n\n        function on_visibilitychange(_) {\n\n            if(js.Browser.document.hidden) {\n                dispatch_window_ev(we_hidden);\n                dispatch_window_ev(we_minimized);\n                dispatch_window_ev(we_focus_lost);\n            } else {\n                dispatch_window_ev(we_shown);\n                dispatch_window_ev(we_restored);\n                dispatch_window_ev(we_focus_gained);\n            }\n\n        } //on_visibilitychange\n\n        function on_keydown(_ev:js.html.KeyboardEvent) {\n\n            var _keycode = convert_keycode(_ev.keyCode);\n            var _scancode = Key.to_scan(_keycode);\n            var _mod_state = mod_state_from_event(_ev);\n\n            if(app.config.runtime.prevent_default_keys.indexOf(_keycode) != -1) {\n                _ev.preventDefault();\n            }\n\n            app.input.dispatch_key_down_event(\n                _keycode,\n                _scancode,\n                _ev.repeat,\n                _mod_state,\n                timestamp(),\n                web_window_id\n            );\n\n        } //on_keydown\n\n        function on_keyup(_ev:js.html.KeyboardEvent) {\n\n            var _keycode = convert_keycode(_ev.keyCode);\n            var _scancode = Key.to_scan(_keycode);\n            var _mod_state = mod_state_from_event(_ev);\n\n            if(app.config.runtime.prevent_default_keys.indexOf(_keycode) != -1) {\n                _ev.preventDefault();\n            }\n\n            app.input.dispatch_key_up_event(\n                _keycode,\n                _scancode,\n                _ev.repeat,\n                _mod_state,\n                timestamp(),\n                web_window_id\n            );\n\n        } //on_keyup\n\n            //a list of keycodes that should not generate text\n            //based typing events, because... browsers.\n        static var key_press_ignored = [Key.backspace, Key.enter];\n        function on_keypress(_ev:js.html.KeyboardEvent) {\n\n            if(_ev.which != 0 && key_press_ignored.indexOf(_ev.keyCode) == -1) {\n\n                var _text = String.fromCharCode(_ev.charCode);\n\n                app.input.dispatch_text_event(\n                    _text, 0, _text.length,\n                    te_input,\n                    timestamp(),\n                    web_window_id\n                );\n\n            }\n\n        } //on_keypress\n\n        function on_gamepadconnected(_ev:{ gamepad:js.html.Gamepad }) {\n\n            _debug('gamepad connected at index ${_ev.gamepad.index}: ${_ev.gamepad.id}. ${_ev.gamepad.buttons.length} buttons, ${_ev.gamepad.axes.length} axes');\n\n            gamepads_init_cache(_ev.gamepad);\n\n            app.input.dispatch_gamepad_device_event(\n                _ev.gamepad.index,\n                _ev.gamepad.id,\n                ge_device_added,\n                timestamp()\n            );\n\n        } //on_gamepadconnected\n\n        function on_gamepaddisconnected(_ev:{ gamepad:js.html.Gamepad }) {\n\n            _debug('gamepad disconnected at index ${_ev.gamepad.index}: ${_ev.gamepad.id}');\n\n            gamepad_btns_cache[_ev.gamepad.index] = null;\n            \n            app.input.dispatch_gamepad_device_event(\n                _ev.gamepad.index,\n                _ev.gamepad.id,\n                ge_device_removed,\n                timestamp()\n            );\n\n        } //on_gamepaddisconnected\n\n    function create_window() {\n\n        var config = app.config.window;\n        window = js.Browser.document.createCanvasElement();\n\n            //For High DPI, we scale the config sizes\n        window_dpr = window_device_pixel_ratio();\n        window.width = Math.floor(config.width * window_dpr);\n        window.height = Math.floor(config.height * window_dpr);\n\n            //These are in css device pixels\n        window_w = config.width;\n        window_h = config.height;\n        window.style.width = config.width+'px';\n        window.style.height = config.height+'px';\n            //This is typically required for our WebGL blending\n        window.style.background = '#000';\n\n        _debug('created window at ${window_x},${window_y} - ${window.width}x${window.height} pixels (${config.width}x${config.height}@${window_dpr}x)');\n\n        window.id = app.config.runtime.window_id;\n        app.config.runtime.window_parent.appendChild(window);\n\n        if(config.title != null) {\n            js.Browser.document.title = config.title;\n        }\n\n        if(!create_render_context(window)) {\n            create_render_context_failed();\n            return;\n        }\n\n        post_render_context(window);\n\n        setup_events();\n\n        if(config.fullscreen) {\n            window_fullscreen(true, config.true_fullscreen);\n            update_window_bounds();\n        }\n\n    } //create_window\n\n    function post_render_context(window:WindowHandle) {\n\n        #if (!snow_no_initial_gl_clear)\n\n            var color = app.config.render.default_clear;\n\n            GL.clearDepth(1.0);\n            GL.clearStencil(0);\n            GL.clearColor(color.r, color.g, color.b, color.a);\n            GL.clear(GL.COLOR_BUFFER_BIT | GL.DEPTH_BUFFER_BIT | GL.STENCIL_BUFFER_BIT);\n\n        #end\n\n    } //post_render_context\n\n    function create_render_context(_window:WindowHandle) : Bool {\n\n        var config = app.config.render;\n        var attr : js.html.webgl.ContextAttributes = config.webgl;\n\n        attr = apply_GL_attr(config, attr);\n\n        var _gl = null;\n\n        if(config.webgl.version != 1) {\n            _gl = window.getContext('webgl${config.webgl.version}');\n            if(_gl == null) _gl = window.getContext('experimental-webgl${config.webgl.version}');\n        } else {\n            _gl = window.getContextWebGL(attr);\n        }\n\n        snow.modules.opengl.GL.gl = _gl;\n\n        log('web / GL / context(${_gl != null})');\n\n        return _gl != null;\n\n    } //create_render_context\n\n    function apply_GL_attr(render:RenderConfig, attr:js.html.webgl.ContextAttributes) {\n\n        attr.alpha = def(attr.alpha, false);\n        attr.premultipliedAlpha = def(attr.premultipliedAlpha, false);\n        attr.antialias = def(attr.antialias, app.config.render.antialiasing > 0);\n        attr.depth = def(attr.depth, app.config.render.depth > 0);\n        attr.stencil = def(attr.stencil, app.config.render.stencil > 0);\n\n        return attr;\n\n    } //apply_GL_attr\n\n    function create_render_context_failed() {\n\n        var msg =  'WebGL is required to run this!<br/><br/>';\n            msg += 'visit <a style=\"color:#06b4fb; text-decoration:none;\" href=\"http://get.webgl.org/\">get.webgl.com</a> for info<br/>';\n            msg += 'and contact the developer of this app';\n\n        var text_el : js.html.Element;\n        var overlay_el : js.html.Element;\n\n        text_el = js.Browser.document.createDivElement();\n        overlay_el = js.Browser.document.createDivElement();\n\n        text_el.style.marginLeft = 'auto';\n        text_el.style.marginRight = 'auto';\n        text_el.style.color = '#d3d3d3';\n        text_el.style.marginTop = '5em';\n        text_el.style.fontSize = '1.4em';\n        text_el.style.fontFamily = 'helvetica,sans-serif';\n        text_el.innerHTML = msg;\n\n        overlay_el.style.top = '0';\n        overlay_el.style.left = '0';\n        overlay_el.style.width = '100%';\n        overlay_el.style.height = '100%';\n        overlay_el.style.display = 'block';\n        overlay_el.style.minWidth = '100%';\n        overlay_el.style.minHeight = '100%';\n        overlay_el.style.textAlign = 'center';\n        overlay_el.style.position = 'absolute';\n        overlay_el.style.background = 'rgba(1,1,1,0.90)';\n\n        overlay_el.appendChild(text_el);\n        js.Browser.document.body.appendChild(overlay_el);\n\n        throw Error.error('runtime / web / failed to create render context, unable to recover');\n\n    } //failed_render_context\n\n//main loop\n\n    inline function request_frame() {\n\n        js.Browser.window.requestAnimationFrame(loop);\n\n    } //request_frame\n\n    function loop(?_t:Float = 0.016) : Bool {\n\n        if(app.has_shutdown) return false;\n\n        if(gamepads_supported) gamepads_poll();\n\n        update_window_bounds();\n\n        app.dispatch_event(se_tick);\n\n        if(!app.shutting_down) {\n            request_frame();\n        }\n\n        return true;\n\n    } //loop\n\n//internal main loop before ready is fired\n\n    function loop_pre_ready(?_t:Float = 0.016) : Bool {\n\n        app.dispatch_event(se_tick);\n\n        if(!app.shutting_down) {\n            if(!app.ready) {\n                js.Browser.window.requestAnimationFrame(loop_pre_ready);\n            } else {\n                js.Browser.window.requestAnimationFrame(loop);\n            }\n        }\n\n        return true;\n\n    } //loop_pre_ready\n\n//input\n\n    inline function mod_state_from_event(_key_event:js.html.KeyboardEvent) : ModState {\n\n        var _none : Bool =\n            !_key_event.altKey &&\n            !_key_event.ctrlKey &&\n            !_key_event.metaKey &&\n            !_key_event.shiftKey;\n\n            app.input.mod_state.none    = _none;\n            app.input.mod_state.lshift  = _key_event.shiftKey;\n            app.input.mod_state.rshift  = _key_event.shiftKey;\n            app.input.mod_state.lctrl   = _key_event.ctrlKey;\n            app.input.mod_state.rctrl   = _key_event.ctrlKey;\n            app.input.mod_state.lalt    = _key_event.altKey;\n            app.input.mod_state.ralt    = _key_event.altKey;\n            app.input.mod_state.lmeta   = _key_event.metaKey;\n            app.input.mod_state.rmeta   = _key_event.metaKey;\n            app.input.mod_state.num     = false;                //:unsupported:\n            app.input.mod_state.caps    = false;                //:unsupported:\n            app.input.mod_state.mode    = false;                //:unsupported:\n            app.input.mod_state.ctrl    = _key_event.ctrlKey;\n            app.input.mod_state.shift   = _key_event.shiftKey;\n            app.input.mod_state.alt     = _key_event.altKey;\n            app.input.mod_state.meta    = _key_event.metaKey;\n        \n        return app.input.mod_state;\n\n    } //mod_state_from_event\n\n        /** This takes a *DOM* keycode and returns a snow Keycodes value */\n    inline function convert_keycode(dom_keycode:Int) : Int {\n\n            //this converts the uppercase into lower case,\n            //since those are fixed values it doesn't need to be checked\n        if (dom_keycode >= 65 && dom_keycode <= 90) {\n            return dom_keycode + 32;\n        }\n\n            //this will pass back the same value if unmapped\n        return DOMKeys.dom_key_to_keycode(dom_keycode);\n\n    } //convert_keycode\n\n//window helpers\n\n    inline function get_window_x(_bounds:js.html.DOMRect) {\n        return Math.round(_bounds.left + js.Browser.window.pageXOffset - js.Browser.document.body.clientTop);\n    }\n    \n    inline function get_window_y(_bounds:js.html.DOMRect) {\n        return Math.round(_bounds.top + js.Browser.window.pageYOffset - js.Browser.document.body.clientLeft);\n    }\n        \n    inline function update_window_bounds() {\n\n        window_dpr = window_device_pixel_ratio();\n\n        var _bounds = window.getBoundingClientRect();\n\n        var _x = get_window_x(_bounds);\n        var _y = get_window_y(_bounds);\n        var _w = Math.round(_bounds.width);\n        var _h = Math.round(_bounds.height);\n\n        if(_x != window_x || _y != window_y) {\n            window_x = _x;\n            window_y = _y;\n            dispatch_window_ev(we_moved, window_x, window_y);\n        }\n\n        if(_w != window_w || _h != window_h) {\n            window_w = _w;\n            window_h = _h;\n            window.width = Math.floor(window_w * window_dpr);\n            window.height = Math.floor(window_h * window_dpr);\n            dispatch_window_ev(we_size_changed, window.width, window.height);\n        }\n\n    } //update_window_bounds\n\n//gamepads\n    \n    var gamepad_btns_cache : Array<Array<Float>>;\n\n    inline function gamepads_init_cache(_gamepad:js.html.Gamepad) {\n\n        gamepad_btns_cache[_gamepad.index] = [];\n        \n        for(i in 0 ... _gamepad.buttons.length) {\n            gamepad_btns_cache[_gamepad.index].push(0);\n        }\n\n    } //gamepads_init_cache\n\n    inline function gamepads_init() {\n\n        var _list = gamepads_get_list();\n        if(_list != null) {\n            gamepads_supported = true;\n            gamepad_btns_cache = [];\n            for(_gamepad in _list) {\n                if(_gamepad != null) {\n                    gamepads_init_cache(_gamepad);\n                }\n            }\n        } else {\n            //:todo:web: more assistive gamepad failure\n            log(\"Gamepads are not supported in this browser :(\");\n        }\n\n    } //gamepads_init\n\n    inline function gamepads_poll() {\n\n        var list = gamepads_get_list();\n    \n        assertnull(list, 'gamepad list not found, but they were previously?');\n\n        var _count = list.length;\n        var _idx = 0;\n        \n        while(_idx < _count) {\n\n            var _gamepad = list[_idx];\n            if(_gamepad == null) {\n                _idx++;\n                continue;\n            }\n\n            for(_axis_idx in 0 ... _gamepad.axes.length) {\n                \n                var _axis = _gamepad.axes[_axis_idx];\n                if(_axis != 0) {\n                    app.input.dispatch_gamepad_axis_event(\n                        _gamepad.index,\n                        _axis_idx,\n                        _axis,\n                        timestamp()\n                    );\n                }\n\n            } //each axis\n\n            var _prev_btn = gamepad_btns_cache[_gamepad.index];\n            for(_btn_idx in 0 ... _gamepad.buttons.length) {\n                \n                var _btn = _gamepad.buttons[_btn_idx];\n\n                if(_btn.value != _prev_btn[_btn_idx]) {\n\n                    if(_btn.pressed) {\n                        app.input.dispatch_gamepad_button_down_event(\n                            _gamepad.index,\n                            _btn_idx,\n                            _btn.value,\n                            timestamp()\n                        );\n                    } else {\n                        app.input.dispatch_gamepad_button_up_event(\n                            _gamepad.index,\n                            _btn_idx,\n                            _btn.value,\n                            timestamp()\n                        );\n                    }\n\n                    _prev_btn[_btn_idx] = _btn.value;\n\n                } //changed\n\n            } //each button\n\n            _idx++;\n        } //each gamepad\n\n    } //gamepads_poll\n\n    inline function gamepads_get_list() : Array<js.html.Gamepad> {\n\n        if( js.Browser.navigator.getGamepads != null ) {\n            return js.Browser.navigator.getGamepads();\n        }\n\n        if( untyped js.Browser.navigator.webkitGetGamepads != null ) {\n            return untyped js.Browser.navigator.webkitGetGamepads();\n        }\n\n        return null;\n\n    } //get_gamepad_list\n\n//helpers\n\n    function guess_os() {\n\n        var _ver = js.Browser.navigator.appVersion;\n        var _agent = js.Browser.navigator.userAgent;\n\n        inline function has(_val:String, _test:String) {\n            var r = new EReg(_val,'gi');\n            return r.match(_test);\n        }\n\n        if(has('mac', _ver))        return OS.os_mac;\n        if(has('win', _ver))        return OS.os_windows;\n            //I know it's not linux technically (should be unix)\n        if(has('x11', _ver))        return OS.os_linux;\n        if(has('linux', _ver))      return OS.os_linux;\n        if(has('android', _ver))    return OS.os_android;\n        if(has('ipad', _agent))     return OS.os_ios;\n        if(has('iphone', _agent))   return OS.os_ios;\n        if(has('ipod', _agent))     return OS.os_ios;\n\n        return OS.os_unknown;\n\n    } //guess_os\n\n} //Runtime\n\n\ntypedef WindowHandle = js.html.CanvasElement;\ntypedef RuntimeConfig = {\n\n        /** The DOM element to put the window canvas into. default: <body> */\n    @:optional var window_parent : js.html.Element;\n        /** The canvas element id=\"\" attribute. default: 'app' */\n    @:optional var window_id : String;\n\n        /** Any Key.* values stored in this array sent to the page will be consumed by snow. `event.preventDefault` is used.\n            Keys can be removed or added to the array at runtime. default:left,up,down,right,backspace,tab,delete */\n    @:optional var prevent_default_keys : Array<Int>;\n        /** If true, mouse wheel events sent to the page will be consumed by snow. `event.preventDefault` is used. default: true*/\n    @:optional var prevent_default_mouse_wheel : Bool;\n        /** If true, touch events sent to the page will be consumed by snow. `event.preventDefault` is used. default: true*/\n    @:optional var prevent_default_touches : Bool;\n        /** If true, right clicking will consume the event on the canvas. `event.preventDefault` is used. default: true*/\n    @:optional var prevent_default_context_menu : Bool;\n\n        /** If true, mousedown events of the entire browser window will be handled. default: false*/\n    @:optional var browser_window_mousedown : Bool;\n        /** If true, mouseup events of the entire browser window will be handled. default: false*/\n    @:optional var browser_window_mouseup : Bool;\n        /** If true, mousemove events of the entire browser window will be handled. default: false*/\n    @:optional var browser_window_mousemove : Bool;\n\n\n\n} //RuntimeConfig\n\n\n\nprivate class DOMKeys {\n\n    /** This function takes the DOM keycode and translates it into the\n        corresponding snow Keycodes value - but only if needed for special cases */\n    public static function dom_key_to_keycode(_keycode:Int) {\n\n        switch(_keycode) {\n\n        //\n            case dom_shift:         return Key.lshift;     //:todo : this is both left/right but returns left\n            case dom_ctrl:          return Key.lctrl;      //:todo : ^\n            case dom_alt:           return Key.lalt;       //:todo : ^\n            case dom_capslock:      return Key.capslock;\n        //\n            case dom_pageup:        return Key.pageup;\n            case dom_pagedown:      return Key.pagedown;\n            case dom_end:           return Key.end;\n            case dom_home:          return Key.home;\n            case dom_left:          return Key.left;\n            case dom_up:            return Key.up;\n            case dom_right:         return Key.right;\n            case dom_down:          return Key.down;\n            case dom_printscr:      return Key.printscreen;\n            case dom_insert:        return Key.insert;\n            case dom_delete:        return Key.delete;\n        //\n            case dom_lmeta:         return Key.lmeta;\n            case dom_rmeta:         return Key.rmeta;\n            case dom_meta:          return Key.lmeta;\n        //\n            case dom_kp_0:          return Key.kp_0;\n            case dom_kp_1:          return Key.kp_1;\n            case dom_kp_2:          return Key.kp_2;\n            case dom_kp_3:          return Key.kp_3;\n            case dom_kp_4:          return Key.kp_4;\n            case dom_kp_5:          return Key.kp_5;\n            case dom_kp_6:          return Key.kp_6;\n            case dom_kp_7:          return Key.kp_7;\n            case dom_kp_8:          return Key.kp_8;\n            case dom_kp_9:          return Key.kp_9;\n            case dom_kp_multiply:   return Key.kp_multiply;\n            case dom_kp_plus:       return Key.kp_plus;\n            case dom_kp_minus:      return Key.kp_minus;\n            case dom_kp_decimal:    return Key.kp_decimal;\n            case dom_kp_divide:     return Key.kp_divide;\n            case dom_kp_numlock:    return Key.numlockclear;\n        //\n            case dom_f1:            return Key.f1;\n            case dom_f2:            return Key.f2;\n            case dom_f3:            return Key.f3;\n            case dom_f4:            return Key.f4;\n            case dom_f5:            return Key.f5;\n            case dom_f6:            return Key.f6;\n            case dom_f7:            return Key.f7;\n            case dom_f8:            return Key.f8;\n            case dom_f9:            return Key.f9;\n            case dom_f10:           return Key.f10;\n            case dom_f11:           return Key.f11;\n            case dom_f12:           return Key.f12;\n            case dom_f13:           return Key.f13;\n            case dom_f14:           return Key.f14;\n            case dom_f15:           return Key.f15;\n            case dom_f16:           return Key.f16;\n            case dom_f17:           return Key.f17;\n            case dom_f18:           return Key.f18;\n            case dom_f19:           return Key.f19;\n            case dom_f20:           return Key.f20;\n            case dom_f21:           return Key.f21;\n            case dom_f22:           return Key.f22;\n            case dom_f23:           return Key.f23;\n            case dom_f24:           return Key.f24;\n        //\n            case dom_caret:         return Key.caret;\n            case dom_exclaim:       return Key.exclaim;\n            case dom_quotedbl:      return Key.quotedbl;\n            case dom_hash:          return Key.hash;\n            case dom_dollar:        return Key.dollar;\n            case dom_percent:       return Key.percent;\n            case dom_ampersand:     return Key.ampersand;\n            case dom_underscore:    return Key.underscore;\n            case dom_leftparen:     return Key.leftparen;\n            case dom_rightparen:    return Key.rightparen;\n            case dom_asterisk:      return Key.asterisk;\n            case dom_plus:          return Key.plus;\n            case dom_pipe:          return Key.backslash; // pipe\n            case dom_minus:         return Key.minus;\n            case dom_leftbrace:     return Key.leftbracket; // {, same code as [ on native...\n            case dom_rightbrace:    return Key.rightbracket; // }, same code as ] on native...\n            case dom_tilde:         return Key.backquote; // tilde\n        //\n            case dom_audiomute:     return Key.audiomute;\n            case dom_volumedown:    return Key.volumedown;\n            case dom_volumeup:      return Key.volumeup;\n        //\n            case dom_comma:         return Key.comma;\n            case dom_period:        return Key.period;\n            case dom_slash:         return Key.slash;\n            case dom_backquote:     return Key.backquote;\n            case dom_leftbracket:   return Key.leftbracket;\n            case dom_rightbracket:  return Key.rightbracket;\n            case dom_backslash:     return Key.backslash;\n            case dom_quote:         return Key.quote;\n\n        } //switch(_keycode)\n\n        return _keycode;\n\n    } //dom_key_to_keycode\n\n    // the keycodes below are dom specific keycodes mapped to snow input names\n    // these values *come from the browser* dom spec codes only, some info here\n    // http://www.w3.org/TR/DOM-Level-3-Events/#determine-keydown-keyup-keyCode\n\n //\n    static inline var dom_shift          = 16;\n    static inline var dom_ctrl           = 17;\n    static inline var dom_alt            = 18;\n    static inline var dom_capslock       = 20;\n //\n    static inline var dom_pageup         = 33;\n    static inline var dom_pagedown       = 34;\n    static inline var dom_end            = 35;\n    static inline var dom_home           = 36;\n    static inline var dom_left           = 37;\n    static inline var dom_up             = 38;\n    static inline var dom_right          = 39;\n    static inline var dom_down           = 40;\n    static inline var dom_printscr       = 44;\n    static inline var dom_insert         = 45;\n    static inline var dom_delete         = 46;\n //\n    static inline var dom_lmeta          = 91;\n    static inline var dom_rmeta          = 93;\n //\n    static inline var dom_kp_0           = 96;\n    static inline var dom_kp_1           = 97;\n    static inline var dom_kp_2           = 98;\n    static inline var dom_kp_3           = 99;\n    static inline var dom_kp_4           = 100;\n    static inline var dom_kp_5           = 101;\n    static inline var dom_kp_6           = 102;\n    static inline var dom_kp_7           = 103;\n    static inline var dom_kp_8           = 104;\n    static inline var dom_kp_9           = 105;\n    static inline var dom_kp_multiply    = 106;\n    static inline var dom_kp_plus        = 107;\n    static inline var dom_kp_minus       = 109;\n    static inline var dom_kp_decimal     = 110;\n    static inline var dom_kp_divide      = 111;\n    static inline var dom_kp_numlock     = 144;\n //\n    static inline var dom_f1             = 112;\n    static inline var dom_f2             = 113;\n    static inline var dom_f3             = 114;\n    static inline var dom_f4             = 115;\n    static inline var dom_f5             = 116;\n    static inline var dom_f6             = 117;\n    static inline var dom_f7             = 118;\n    static inline var dom_f8             = 119;\n    static inline var dom_f9             = 120;\n    static inline var dom_f10            = 121;\n    static inline var dom_f11            = 122;\n    static inline var dom_f12            = 123;\n    static inline var dom_f13            = 124;\n    static inline var dom_f14            = 125;\n    static inline var dom_f15            = 126;\n    static inline var dom_f16            = 127;\n    static inline var dom_f17            = 128;\n    static inline var dom_f18            = 129;\n    static inline var dom_f19            = 130;\n    static inline var dom_f20            = 131;\n    static inline var dom_f21            = 132;\n    static inline var dom_f22            = 133;\n    static inline var dom_f23            = 134;\n    static inline var dom_f24            = 135;\n //\n    static inline var dom_caret          = 160;\n    static inline var dom_exclaim        = 161;\n    static inline var dom_quotedbl       = 162;\n    static inline var dom_hash           = 163;\n    static inline var dom_dollar         = 164;\n    static inline var dom_percent        = 165;\n    static inline var dom_ampersand      = 166;\n    static inline var dom_underscore     = 167;\n    static inline var dom_leftparen      = 168;\n    static inline var dom_rightparen     = 169;\n    static inline var dom_asterisk       = 170;\n    static inline var dom_plus           = 171;\n    static inline var dom_pipe           = 172; //backslash\n    static inline var dom_minus          = 173;\n    static inline var dom_leftbrace      = 174;\n    static inline var dom_rightbrace     = 175;\n    static inline var dom_tilde          = 176;\n //\n    static inline var dom_audiomute      = 181;\n    static inline var dom_volumedown     = 182;\n    static inline var dom_volumeup       = 183;\n //\n    static inline var dom_comma          = 188;\n    static inline var dom_period         = 190;\n    static inline var dom_slash          = 191;\n    static inline var dom_backquote      = 192;\n    static inline var dom_leftbracket    = 219;\n    static inline var dom_rightbracket   = 221;\n    static inline var dom_backslash      = 220;\n    static inline var dom_quote          = 222;\n    static inline var dom_meta           = 224;\n\n} //DOMKeys\n\n#end","package snow.core.web.assets;\n\n#if snow_web\n\nimport snow.systems.assets.Asset.AssetImage;\nimport snow.systems.assets.Assets;\nimport snow.types.Types;\nimport snow.api.Debug.*;\nimport snow.api.buffers.*;\nimport snow.api.Promise;\n\nimport snow.core.web.assets.tga.TGA;\nimport snow.core.web.assets.psd.PSD;\n\n@:allow(snow.systems.assets.Assets)\nclass Assets implements snow.modules.interfaces.Assets {\n\n//module interface\n\n    var app: snow.Snow;\n    function new( _app:snow.Snow ) app = _app;\n    function onevent(event:SystemEvent):Void {}\n    function shutdown() {}\n\n//Public API\n\n    //Images\n\n        public function image_info_from_load( _id:String, ?_components:Int = 4 ) : Promise {\n\n            return app.io.data_flow(_id, AssetImage.processor);\n\n        } //image_info_from_load\n\n            /** Create an image info (padded to POT) from a given Canvas or Image element. */\n        public function image_info_from_element( _id:String, _elem ) : ImageData {\n\n            var width_pot = nearest_power_of_two(_elem.width);\n            var height_pot = nearest_power_of_two(_elem.height);\n            var image_bytes = POT_bytes_from_element(_elem.width, _elem.height, width_pot, height_pot, cast _elem);\n\n            var info = new ImageData(app, {\n                id : _id,\n                bpp : 4,\n                width : _elem.width,\n                height : _elem.height,\n                width_actual : width_pot,\n                height_actual : height_pot,\n                bpp_source : 4,\n                pixels : image_bytes\n            });\n\n            image_bytes = null;\n\n            return info;\n\n        } //image_info_from_element\n\n            /** Create an image info from raw (already decoded) image pixels */\n        public function image_info_from_pixels(_id:String, _width:Int, _height:Int, _pixels:Uint8Array, ?_bpp:Int=4) : ImageData {\n\n            var info = new ImageData(app, {\n                id : _id,\n                bpp : 4,\n                width : _width,\n                height : _height,\n                width_actual : _width,\n                height_actual : _height,\n                bpp_source : 4,\n                pixels : _pixels,\n            });\n\n            return info;\n        }\n\n            /** Create an image info (padded to POT) from bytes. Promises an ImageData. */\n        public function image_info_from_bytes( _id:String, _bytes:Uint8Array, ?_components:Int = 4 ) : Promise {\n\n            assertnull(_id);\n            assertnull(_bytes);\n            assert(_bytes.length != 0);\n\n            var ext = haxe.io.Path.extension(_id);\n\n            #if snow_web_tga\n                if(ext == 'tga') return Promise.resolve(image_info_from_bytes_tga(_id, _bytes));\n            #end\n\n            #if snow_web_psd\n                if(ext == 'psd') return Promise.resolve(image_info_from_bytes_psd(_id , _bytes));\n            #end\n\n            return new Promise(function(resolve, reject) {\n\n                    //convert to a binary string\n                var str = '', i = 0, len = _bytes.length;\n                while(i < len) str += String.fromCharCode(_bytes[i++] & 0xff);\n\n                var b64 = js.Browser.window.btoa(str);\n                var src = 'data:image/$ext;base64,$b64';\n\n                    //convert to an image element\n                var _img = new js.html.Image();\n\n                _img.onload = function(_) {\n                    var info = image_info_from_element(_id, _img);\n                    resolve(info);\n                }\n\n                _img.onerror = function(e) {\n                    reject(Error.error('failed to load image from bytes, on error: $e'));\n                }\n\n                _img.src = src;\n\n            }); //promise\n\n        } //image_info_from_bytes\n\n//Internal converters\n\n    #if snow_web_psd\n\n        /** Return an image info from the bytes of a PSD image */\n        function image_info_from_bytes_psd( _id:String, _bytes:Uint8Array ) {\n\n            var psd = new PSD(_bytes);\n                psd.parse();\n\n            var _width = untyped psd.header.width;\n            var _height = untyped psd.header.height;\n            var _pixels = new Uint8Array(untyped psd.image.pixelData);\n\n            return image_info_from_pixels(_id, _width, _height, _pixels);\n\n        } //image_info_from_bytes_psd\n\n    #end //snow_web_psd\n\n    #if snow_web_tga\n\n        /** Return an image info from the bytes of a tga image */\n        function image_info_from_bytes_tga( _id:String, _bytes:Uint8Array ) {\n\n            var image = new TGA();\n                image.load( _bytes );\n\n            return image_info_from_element(_id, image.getCanvas());\n\n        } //image_info_from_bytes_tga\n\n    #end //snow_web_tga\n\n        /** Return a POT array of bytes from raw image pixels */\n    function POT_bytes_from_pixels(_width:Int, _height:Int, _width_pot:Int, _height_pot:Int, _source:Uint8Array) : Uint8Array {\n\n        var tmp_canvas = js.Browser.document.createCanvasElement();\n\n            tmp_canvas.width = _width_pot;\n            tmp_canvas.height = _height_pot;\n\n        var tmp_context = tmp_canvas.getContext2d();\n\n            tmp_context.clearRect( 0, 0, tmp_canvas.width, tmp_canvas.height );\n\n        var image_bytes = null;\n        var _pixels = new js.html.Uint8ClampedArray(_source.buffer);\n        var _imgdata = tmp_context.createImageData( _width, _height );\n            _imgdata.data.set(_pixels);\n\n        try {\n\n                //store the data in it first\n            tmp_context.putImageData( _imgdata, 0, 0 );\n                //then bring out the full size\n            image_bytes = tmp_context.getImageData( 0, 0, tmp_canvas.width, tmp_canvas.height );\n\n        } catch(e:Dynamic) {\n\n            var tips = '- textures served from file:/// throw security errors\\n';\n                tips += '- textures served over http:// work for cross origin byte requests';\n\n            log(tips);\n            throw e;\n\n        } //catch\n\n            //cleanup\n        tmp_canvas = null; \n        tmp_context = null;\n        _imgdata = null;\n\n        return Uint8Array.fromView(image_bytes.data);\n    \n    }\n\n        /** Return a POT array of bytes from an image/canvas element */\n    function POT_bytes_from_element(_width:Int, _height:Int, _width_pot:Int, _height_pot:Int, _source:js.html.Element) : Uint8Array {\n\n        var tmp_canvas = js.Browser.document.createCanvasElement();\n\n            tmp_canvas.width = _width_pot;\n            tmp_canvas.height = _height_pot;\n\n        var tmp_context = tmp_canvas.getContext2d();\n\n            tmp_context.clearRect( 0,0, tmp_canvas.width, tmp_canvas.height );\n            tmp_context.drawImage( cast _source, 0, 0, _width, _height );\n\n        var image_bytes = null;\n\n        try {\n\n            image_bytes = tmp_context.getImageData( 0, 0, tmp_canvas.width, tmp_canvas.height );\n\n        } catch(e:Dynamic) {\n\n            var tips = '- textures served from file:/// throw security errors\\n';\n                tips += '- textures served over http:// work for cross origin byte requests';\n\n            log(tips);\n            throw e;\n\n        } //catch\n\n            //cleanup\n        tmp_canvas = null; tmp_context = null;\n\n        return Uint8Array.fromView(image_bytes.data);\n\n    } //POT_bytes_from_element\n\n\n    //Internal helpers\n        static var POT = true;\n\n        function nearest_power_of_two(_value:Int) {\n\n            if(!POT) return _value;\n\n            _value--;\n\n            _value |= _value >> 1;\n            _value |= _value >> 2;\n            _value |= _value >> 4;\n            _value |= _value >> 8;\n            _value |= _value >> 16;\n\n            _value++;\n\n            return _value;\n\n        } //nearest_power_of_two\n\n} //Assets\n\n#end //snow_web\n","package snow.core.web.io;\n\n#if snow_web\n\nimport snow.types.Types;\nimport snow.api.buffers.Uint8Array;\nimport snow.api.Promise;\nimport snow.api.Debug.*;\n\n\n@:allow(snow.systems.io.IO)\nclass IO implements snow.modules.interfaces.IO {\n\n    var app: snow.Snow;\n    function new(_app:snow.Snow) app = _app;\n    function shutdown() {}\n    function onevent( _event:SystemEvent ) : Void {}\n\n//Public API\n\n    public function app_path() : String {\n\n        return './';\n\n    } //app_path\n\n    public function app_path_prefs() : String {\n\n        return './';\n\n    } //app_path_prefs\n\n    public function url_open( _url:String ) {\n\n        if(_url != null && _url.length > 0) {\n            js.Browser.window.open(_url, '_blank');\n        }\n\n    } //url_open\n\n        /** Load bytes from the file path/url given.\n            On web a request is sent for the data */\n    public function data_load( _path:String, ?_options:IODataOptions ) : Promise {\n\n        return new Promise(function(resolve,reject) {\n\n                //defaults\n            var _async = true;\n            var _binary = true;\n\n            if(_options != null) {\n                if(_options.binary != null) _binary = _options.binary;\n            }\n\n            var request = new js.html.XMLHttpRequest();\n                request.open(\"GET\", _path, _async);\n\n            if(_binary) {\n                request.overrideMimeType('text/plain; charset=x-user-defined');\n            } else {\n                request.overrideMimeType('text/plain; charset=UTF-8');\n            }\n\n                //only _async can set this type\n            if(_async) {\n                request.responseType = js.html.XMLHttpRequestResponseType.ARRAYBUFFER;\n            }\n\n            request.onload = function(data) {\n\n                if(request.status == 200) {\n                    resolve( new Uint8Array(request.response) );\n                } else {\n                    reject(Error.error('request status was ${request.status} / ${request.statusText}'));\n                }\n\n            } //onload\n\n            request.send();\n\n        });\n\n    } //data_load\n\n    public function data_save( _path:String, _data:Uint8Array, ?_options:IODataOptions ) : Bool {\n\n        return false;\n\n    } //data_save\n\n\n        /** Returns the path where string_save operates.\n            One targets where this is not a path, the path will be prefaced with `< >/`,\n            i.e on web targets the path will be `<localstorage>/` followed by the ID. */\n    public function string_save_path( ?_slot:Int = 0 ) : String {\n\n        var _pref_path = '<localstorage>';\n        var _slot_path = string_slot_id(_slot);\n        var _path = haxe.io.Path.join([_pref_path, _slot_path]);\n\n        return haxe.io.Path.normalize(_path);\n\n    } //string_save_path\n\n//Internal API\n\n    inline function string_slot_id(_slot:Int = 0) {\n        var _parts = snow.types.Config.app_ident.split('.');\n        var _appname = _parts.pop();\n        var _org = _parts.join('.');\n\n        return '$_org/$_appname/${app.io.string_save_prefix}.$_slot';\n    }\n\n    inline function string_slot_destroy( ?_slot:Int = 0 ) : Bool {\n\n        var storage = js.Browser.window.localStorage;\n        if(storage == null) {\n            log('localStorage isnt supported in this browser?!');\n            return false;\n        }\n\n        var _id = string_slot_id(_slot);\n\n        storage.removeItem(_id);\n\n        return false;\n\n    } //string_slot_destroy\n\n        //flush the string map to disk\n    inline function string_slot_save( ?_slot:Int = 0, _contents:String ) : Bool {\n\n        var storage = js.Browser.window.localStorage;\n        if(storage == null) {\n            log('localStorage isnt supported in this browser?!');\n            return false;\n        }\n\n        var _id = string_slot_id(_slot);\n\n        storage.setItem(_id, _contents);\n\n        return true;\n\n    } //string_slot_save\n\n        //get the string contents of this slot,\n        //or null if not found/doesn't exist\n    inline function string_slot_load( ?_slot:Int = 0 ) : String {\n\n        var storage = js.Browser.window.localStorage;\n        if(storage == null) {\n            log('localStorage isnt supported in this browser?!');\n            return null;\n        }\n\n        var _id = string_slot_id(_slot);\n\n        return storage.getItem(_id);\n\n    } //string_slot_load\n\n    inline function string_slot_encode( _string:String ) : String {\n        return js.Browser.window.btoa(_string);\n    }\n\n    inline function string_slot_decode( _string:String ) : String {\n        return js.Browser.window.atob(_string);\n    }\n\n\n} //IO\n\n#end //snow_web\n","package snow.modules.opengl.web;\r\n\r\n#if snow_web\r\n\r\nimport js.html.webgl.RenderingContext;\r\n\r\nimport snow.api.buffers.ArrayBuffer;\r\nimport snow.api.buffers.ArrayBufferView;\r\nimport snow.api.buffers.Int32Array;\r\nimport snow.api.buffers.Float32Array;\r\n\r\n\r\ntypedef GLActiveInfo                = js.html.webgl.ActiveInfo;\r\ntypedef GLBuffer                    = js.html.webgl.Buffer;\r\ntypedef GLContextAttributes         = js.html.webgl.ContextAttributes;\r\ntypedef GLFramebuffer               = js.html.webgl.Framebuffer;\r\ntypedef GLProgram                   = js.html.webgl.Program;\r\ntypedef GLRenderbuffer              = js.html.webgl.Renderbuffer;\r\ntypedef GLShader                    = js.html.webgl.Shader;\r\ntypedef GLTexture                   = js.html.webgl.Texture;\r\ntypedef GLUniformLocation           = js.html.webgl.UniformLocation;\r\ntypedef GLShaderPrecisionFormat     = js.html.webgl.ShaderPrecisionFormat;\r\n\r\nclass GL {\r\n\r\n\r\n\r\n    public static var version(get_version, null) : Int;\r\n    public static var gl : RenderingContext;\r\n\r\n//non-spec\r\n\r\n    public static function versionString():String {\r\n\r\n        var ver = gl.getParameter(VERSION);\r\n        var slver = gl.getParameter(SHADING_LANGUAGE_VERSION);\r\n        var ren = gl.getParameter(RENDERER);\r\n        var ven = gl.getParameter(VENDOR);\r\n\r\n        return \"/ \" + ver + \" / \" + slver + \" / \" + ren + \" / \" + ven + \" /\";\r\n    \r\n    } //versionString\r\n\r\n//spec\r\n\r\n    inline public static function activeTexture(texture:Int):Void\r\n        gl.activeTexture(texture);\r\n\r\n    inline public static function attachShader(program:GLProgram, shader:GLShader):Void\r\n        gl.attachShader(program, shader);\r\n\r\n    inline public static function bindAttribLocation(program:GLProgram, index:Int, name:String):Void\r\n        gl.bindAttribLocation(program, index, name);\r\n\r\n    inline public static function bindBuffer(target:Int, buffer:GLBuffer):Void\r\n        gl.bindBuffer(target, buffer);\r\n\r\n    inline public static function bindFramebuffer(target:Int, framebuffer:GLFramebuffer):Void\r\n        gl.bindFramebuffer(target, framebuffer);\r\n\r\n    inline public static function bindRenderbuffer(target:Int, renderbuffer:GLRenderbuffer):Void\r\n        gl.bindRenderbuffer(target, renderbuffer);\r\n\r\n    inline public static function bindTexture(target:Int, texture:GLTexture):Void\r\n        gl.bindTexture(target, texture);\r\n\r\n    inline public static function blendColor(red:Float, green:Float, blue:Float, alpha:Float):Void\r\n        gl.blendColor(red, green, blue, alpha);\r\n\r\n    inline public static function blendEquation(mode:Int):Void\r\n        gl.blendEquation(mode);\r\n\r\n    inline public static function blendEquationSeparate(modeRGB:Int, modeAlpha:Int):Void\r\n        gl.blendEquationSeparate(modeRGB, modeAlpha);\r\n\r\n    inline public static function blendFunc(sfactor:Int, dfactor:Int):Void\r\n        gl.blendFunc(sfactor, dfactor);\r\n\r\n    inline public static function blendFuncSeparate(srcRGB:Int, dstRGB:Int, srcAlpha:Int, dstAlpha:Int):Void\r\n        gl.blendFuncSeparate(srcRGB, dstRGB, srcAlpha, dstAlpha);\r\n\r\n    inline public static function bufferData(target:Int, data:ArrayBufferView, usage:Int):Void\r\n        gl.bufferData( target, data, usage );\r\n\r\n    inline public static function bufferSubData(target:Int, offset:Int, data:ArrayBufferView):Void\r\n        gl.bufferSubData(target, offset, data);\r\n\r\n    inline public static function checkFramebufferStatus(target:Int):Int\r\n        return gl.checkFramebufferStatus(target);\r\n\r\n    inline public static function clear(mask:Int):Void\r\n        gl.clear(mask);\r\n\r\n    inline public static function clearColor(red:Float, green:Float, blue:Float, alpha:Float):Void\r\n        gl.clearColor(red, green, blue, alpha);\r\n\r\n    inline public static function clearDepth(depth:Float):Void\r\n        gl.clearDepth(depth);\r\n\r\n    inline public static function clearStencil(s:Int):Void\r\n        gl.clearStencil(s);\r\n\r\n    inline public static function colorMask(red:Bool, green:Bool, blue:Bool, alpha:Bool):Void\r\n        gl.colorMask(red, green, blue, alpha);\r\n\r\n    inline public static function compileShader(shader:GLShader):Void\r\n        gl.compileShader(shader);\r\n\r\n    inline public static function compressedTexImage2D(target:Int, level:Int, internalformat:Int, width:Int, height:Int, border:Int, data:ArrayBufferView):Void\r\n        gl.compressedTexImage2D(target, level, internalformat, width, height, border, data);\r\n\r\n    inline public static function compressedTexSubImage2D(target:Int, level:Int, xoffset:Int, yoffset:Int, width:Int, height:Int, format:Int, data:ArrayBufferView):Void\r\n        gl.compressedTexSubImage2D(target, level, xoffset, yoffset, width, height, format, data);\r\n\r\n    inline public static function copyTexImage2D(target:Int, level:Int, internalformat:Int, x:Int, y:Int, width:Int, height:Int, border:Int):Void\r\n        gl.copyTexImage2D(target, level, internalformat, x, y, width, height, border);\r\n\r\n    inline public static function copyTexSubImage2D(target:Int, level:Int, xoffset:Int, yoffset:Int, x:Int, y:Int, width:Int, height:Int):Void\r\n        gl.copyTexSubImage2D(target, level, xoffset, yoffset, x, y, width, height);\r\n\r\n    inline public static function createBuffer():GLBuffer\r\n        return gl.createBuffer();\r\n\r\n    inline public static function createFramebuffer():GLFramebuffer\r\n        return gl.createFramebuffer();\r\n\r\n    inline public static function createProgram():GLProgram\r\n        return gl.createProgram();\r\n\r\n    inline public static function createRenderbuffer():GLRenderbuffer\r\n        return gl.createRenderbuffer();\r\n\r\n    inline public static function createShader(type:Int):GLShader\r\n        return gl.createShader(type);\r\n\r\n    inline public static function createTexture():GLTexture\r\n        return gl.createTexture();\r\n\r\n    inline public static function cullFace(mode:Int):Void\r\n        gl.cullFace(mode);\r\n\r\n    inline public static function deleteBuffer(buffer:GLBuffer):Void\r\n        gl.deleteBuffer(buffer);\r\n\r\n    inline public static function deleteFramebuffer(framebuffer:GLFramebuffer):Void\r\n        gl.deleteFramebuffer(framebuffer);\r\n\r\n    inline public static function deleteProgram(program:GLProgram):Void\r\n        gl.deleteProgram(program);\r\n\r\n    inline public static function deleteRenderbuffer(renderbuffer:GLRenderbuffer):Void\r\n        gl.deleteRenderbuffer(renderbuffer);\r\n\r\n    inline public static function deleteShader(shader:GLShader):Void\r\n        gl.deleteShader(shader);\r\n\r\n    inline public static function deleteTexture(texture:GLTexture):Void\r\n        gl.deleteTexture(texture);\r\n\r\n    inline public static function depthFunc(func:Int):Void\r\n        gl.depthFunc(func);\r\n\r\n    inline public static function depthMask(flag:Bool):Void\r\n        gl.depthMask(flag);\r\n\r\n    inline public static function depthRange(zNear:Float, zFar:Float):Void\r\n        gl.depthRange(zNear, zFar);\r\n\r\n    inline public static function detachShader(program:GLProgram, shader:GLShader):Void\r\n        gl.detachShader(program, shader);\r\n\r\n    inline public static function disable(cap:Int):Void\r\n        gl.disable(cap);\r\n\r\n    inline public static function disableVertexAttribArray(index:Int):Void\r\n        gl.disableVertexAttribArray(index);\r\n\r\n    inline public static function drawArrays(mode:Int, first:Int, count:Int):Void\r\n        gl.drawArrays(mode, first, count);\r\n\r\n    inline public static function drawElements(mode:Int, count:Int, type:Int, offset:Int):Void\r\n        gl.drawElements(mode, count, type, offset);\r\n\r\n    inline public static function enable(cap:Int):Void\r\n        gl.enable(cap);\r\n\r\n    inline public static function enableVertexAttribArray(index:Int):Void\r\n        gl.enableVertexAttribArray(index);\r\n\r\n    inline public static function finish():Void\r\n        gl.finish();\r\n\r\n    inline public static function flush():Void\r\n        gl.flush();\r\n\r\n    inline public static function framebufferRenderbuffer(target:Int, attachment:Int, renderbuffertarget:Int, renderbuffer:GLRenderbuffer):Void\r\n        gl.framebufferRenderbuffer(target, attachment, renderbuffertarget, renderbuffer);\r\n\r\n    inline public static function framebufferTexture2D(target:Int, attachment:Int, textarget:Int, texture:GLTexture, level:Int):Void\r\n        gl.framebufferTexture2D(target, attachment, textarget, texture, level);\r\n\r\n    inline public static function frontFace(mode:Int):Void\r\n        gl.frontFace(mode);\r\n\r\n    inline public static function generateMipmap(target:Int):Void\r\n        gl.generateMipmap(target);\r\n\r\n    inline public static function getActiveAttrib(program:GLProgram, index:Int):GLActiveInfo\r\n        return gl.getActiveAttrib(program, index);\r\n\r\n    inline public static function getActiveUniform(program:GLProgram, index:Int):GLActiveInfo\r\n        return gl.getActiveUniform(program, index);\r\n\r\n    inline public static function getAttachedShaders(program:GLProgram):Array<GLShader>\r\n        return gl.getAttachedShaders(program);\r\n\r\n    inline public static function getAttribLocation(program:GLProgram, name:String):Int\r\n        return gl.getAttribLocation(program, name);\r\n\r\n    inline public static function getBufferParameter(target:Int, pname:Int):Dynamic\r\n        return gl.getBufferParameter(target, pname);\r\n\r\n    inline public static function getContextAttributes():GLContextAttributes\r\n        return gl.getContextAttributes();\r\n\r\n    inline public static function getError():Int\r\n        return gl.getError();\r\n\r\n    inline public static function getExtension(name:String):Dynamic\r\n        return gl.getExtension(name);\r\n\r\n    inline public static function getFramebufferAttachmentParameter(target:Int, attachment:Int, pname:Int):Dynamic\r\n        return gl.getFramebufferAttachmentParameter(target, attachment, pname);\r\n\r\n    inline public static function getParameter(pname:Int):Dynamic\r\n        return gl.getParameter(pname);\r\n\r\n    inline public static function getProgramInfoLog(program:GLProgram):String\r\n        return gl.getProgramInfoLog(program);\r\n\r\n    inline public static function getProgramParameter(program:GLProgram, pname:Int):Int\r\n        return gl.getProgramParameter(program, pname);\r\n\r\n    inline public static function getRenderbufferParameter(target:Int, pname:Int):Dynamic\r\n        return gl.getRenderbufferParameter(target, pname);\r\n\r\n    inline public static function getShaderInfoLog(shader:GLShader):String\r\n        return gl.getShaderInfoLog(shader);\r\n\r\n    inline public static function getShaderParameter(shader:GLShader, pname:Int):Int\r\n        return gl.getShaderParameter(shader, pname);\r\n\r\n    inline public static function getShaderPrecisionFormat(shadertype:Int, precisiontype:Int) : GLShaderPrecisionFormat\r\n        return gl.getShaderPrecisionFormat(shadertype, precisiontype);\r\n\r\n    inline public static function getShaderSource(shader:GLShader):String\r\n        return gl.getShaderSource(shader);\r\n\r\n    inline public static function getSupportedExtensions() : Array<String>\r\n        return gl.getSupportedExtensions();\r\n\r\n    inline public static function getTexParameter(target:Int, pname:Int):Dynamic\r\n        return gl.getTexParameter(target, pname);\r\n\r\n    inline public static function getUniform(program:GLProgram, location:GLUniformLocation):Dynamic\r\n        return gl.getUniform(program, location);\r\n\r\n    inline public static function getUniformLocation(program:GLProgram, name:String):GLUniformLocation\r\n        return gl.getUniformLocation(program, name);\r\n\r\n    inline public static function getVertexAttrib(index:Int, pname:Int):Dynamic\r\n        return gl.getVertexAttrib(index, pname);\r\n\r\n    inline public static function getVertexAttribOffset(index:Int, pname:Int):Int\r\n        return gl.getVertexAttribOffset(index, pname);\r\n\r\n    inline public static function hint(target:Int, mode:Int):Void\r\n        gl.hint(target, mode);\r\n\r\n    inline public static function isBuffer(buffer:GLBuffer):Bool\r\n        return gl.isBuffer(buffer);\r\n\r\n    // This is non-static\r\n    // public function isContextLost():Bool { return false; }\r\n\r\n    inline public static function isEnabled(cap:Int):Bool\r\n        return gl.isEnabled(cap);\r\n\r\n    inline public static function isFramebuffer(framebuffer:GLFramebuffer):Bool\r\n        return gl.isFramebuffer(framebuffer);\r\n\r\n    inline public static function isProgram(program:GLProgram):Bool\r\n        return gl.isProgram(program);\r\n\r\n    inline public static function isRenderbuffer(renderbuffer:GLRenderbuffer):Bool\r\n        return gl.isRenderbuffer(renderbuffer);\r\n\r\n    inline public static function isShader(shader:GLShader):Bool\r\n        return gl.isShader(shader);\r\n\r\n    inline public static function isTexture(texture:GLTexture):Bool\r\n        return gl.isTexture(texture);\r\n\r\n    inline public static function lineWidth(width:Float):Void\r\n        gl.lineWidth(width);\r\n\r\n    inline public static function linkProgram(program:GLProgram):Void\r\n        gl.linkProgram(program);\r\n\r\n    inline public static function pixelStorei(pname:Int, param:Int):Void\r\n        gl.pixelStorei(pname, param);\r\n\r\n    inline public static function polygonOffset(factor:Float, units:Float):Void\r\n        gl.polygonOffset(factor, units);\r\n\r\n        // TODO: pixels? May need setting to work (canvas.getContext(\"experimental-webgl\", {preserveDrawingBuffer: true});)\r\n    inline public static function readPixels(x:Int, y:Int, width:Int, height:Int, format:Int, type:Int, data:ArrayBufferView):Void\r\n        gl.readPixels(x, y, width, height, format, type, data);\r\n\r\n    inline public static function renderbufferStorage(target:Int, internalformat:Int, width:Int, height:Int):Void\r\n        gl.renderbufferStorage(target, internalformat, width, height);\r\n\r\n    inline public static function sampleCoverage(value:Float, invert:Bool):Void\r\n        gl.sampleCoverage(value, invert);\r\n\r\n    inline public static function scissor(x:Int, y:Int, width:Int, height:Int):Void\r\n        gl.scissor(x, y, width, height);\r\n\r\n    inline public static function shaderSource(shader:GLShader, source:String):Void\r\n        gl.shaderSource(shader, source);\r\n\r\n    inline public static function stencilFunc(func:Int, ref:Int, mask:Int):Void\r\n        gl.stencilFunc(func, ref, mask);\r\n\r\n    inline public static function stencilFuncSeparate(face:Int, func:Int, ref:Int, mask:Int):Void\r\n        gl.stencilFuncSeparate(face, func, ref, mask);\r\n\r\n    inline public static function stencilMask(mask:Int):Void\r\n        gl.stencilMask(mask);\r\n\r\n    inline public static function stencilMaskSeparate(face:Int, mask:Int):Void\r\n        gl.stencilMaskSeparate(face, mask);\r\n\r\n    inline public static function stencilOp(fail:Int, zfail:Int, zpass:Int):Void\r\n        gl.stencilOp(fail, zfail, zpass);\r\n\r\n    inline public static function stencilOpSeparate(face:Int, fail:Int, zfail:Int, zpass:Int):Void\r\n        gl.stencilOpSeparate(face, fail, zfail, zpass);\r\n\r\n    inline public static function texImage2D(target:Int, level:Int, internalformat:Int, width:Int, height:Int, border:Int, format:Int, type:Int, data:ArrayBufferView):Void\r\n        gl.texImage2D(target, level, internalformat, width, height, border, format, type, data);\r\n\r\n    inline public static function texParameterf(target:Int, pname:Int, param:Float):Void\r\n        gl.texParameterf(target, pname, param);\r\n\r\n    inline public static function texParameteri(target:Int, pname:Int, param:Int):Void\r\n        gl.texParameteri(target, pname, param);\r\n\r\n    inline public static function texSubImage2D(target:Int, level:Int, xoffset:Int, yoffset:Int, width:Int, height:Int, format:Int, type:Int, data:ArrayBufferView):Void\r\n        gl.texSubImage2D(target, level, xoffset, yoffset, width, height, format, type, data);\r\n\r\n    inline public static function uniform1f(location:GLUniformLocation, x:Float):Void\r\n        gl.uniform1f(location, x);\r\n\r\n    inline public static function uniform1fv(location:GLUniformLocation, data:Float32Array):Void\r\n        gl.uniform1fv(location, data);\r\n\r\n    inline public static function uniform1i(location:GLUniformLocation, x:Int):Void\r\n        gl.uniform1i(location, x);\r\n\r\n    inline public static function uniform1iv(location:GLUniformLocation, data:Int32Array):Void\r\n        gl.uniform1iv(location, data);\r\n\r\n    inline public static function uniform2f(location:GLUniformLocation, x:Float, y:Float):Void\r\n        gl.uniform2f(location, x, y);\r\n\r\n    inline public static function uniform2fv(location:GLUniformLocation, data:Float32Array):Void\r\n        gl.uniform2fv(location, data);\r\n\r\n    inline public static function uniform2i(location:GLUniformLocation, x:Int, y:Int):Void\r\n        gl.uniform2i(location, x, y);\r\n\r\n    inline public static function uniform2iv(location:GLUniformLocation, data:Int32Array):Void\r\n        gl.uniform2iv(location, data);\r\n\r\n    inline public static function uniform3f(location:GLUniformLocation, x:Float, y:Float, z:Float):Void\r\n        gl.uniform3f(location, x, y, z);\r\n\r\n    inline public static function uniform3fv(location:GLUniformLocation, data:Float32Array):Void\r\n        gl.uniform3fv(location, data);\r\n\r\n    inline public static function uniform3i(location:GLUniformLocation, x:Int, y:Int, z:Int):Void\r\n        gl.uniform3i(location, x, y, z);\r\n\r\n    inline public static function uniform3iv(location:GLUniformLocation, data:Int32Array):Void\r\n        gl.uniform3iv(location, data);\r\n\r\n    inline public static function uniform4f(location:GLUniformLocation, x:Float, y:Float, z:Float, w:Float):Void\r\n        gl.uniform4f(location, x, y, z, w);\r\n\r\n    inline public static function uniform4fv(location:GLUniformLocation, data:Float32Array):Void\r\n        gl.uniform4fv(location, data);\r\n\r\n    inline public static function uniform4i(location:GLUniformLocation, x:Int, y:Int, z:Int, w:Int):Void\r\n        gl.uniform4i(location, x, y, z, w);\r\n\r\n    inline public static function uniform4iv(location:GLUniformLocation, data:Int32Array):Void\r\n        gl.uniform4iv(location, data);\r\n\r\n    inline public static function uniformMatrix2fv(location:GLUniformLocation, transpose:Bool, data:Float32Array):Void\r\n        gl.uniformMatrix2fv(location, transpose, data);\r\n\r\n    inline public static function uniformMatrix3fv(location:GLUniformLocation, transpose:Bool, data:Float32Array):Void\r\n        gl.uniformMatrix3fv(location, transpose, data);\r\n\r\n    inline public static function uniformMatrix4fv(location:GLUniformLocation, transpose:Bool, data:Float32Array):Void\r\n        gl.uniformMatrix4fv(location, transpose, data);\r\n\r\n    inline public static function useProgram(program:GLProgram):Void\r\n        gl.useProgram(program);\r\n\r\n    inline public static function validateProgram(program:GLProgram):Void\r\n        gl.validateProgram(program);\r\n\r\n    inline public static function vertexAttrib1f(indx:Int, x:Float):Void\r\n        gl.vertexAttrib1f(indx, x);\r\n\r\n    inline public static function vertexAttrib1fv(indx:Int, data:Float32Array):Void\r\n        gl.vertexAttrib1fv(indx, data);\r\n\r\n    inline public static function vertexAttrib2f(indx:Int, x:Float, y:Float):Void\r\n        gl.vertexAttrib2f(indx, x, y);\r\n\r\n    inline public static function vertexAttrib2fv(indx:Int, data:Float32Array):Void\r\n        gl.vertexAttrib2fv(indx, data);\r\n\r\n    inline public static function vertexAttrib3f(indx:Int, x:Float, y:Float, z:Float):Void\r\n        gl.vertexAttrib3f(indx, x, y, z);\r\n\r\n    inline public static function vertexAttrib3fv(indx:Int, data:Float32Array):Void\r\n        gl.vertexAttrib3fv(indx, data);\r\n\r\n    inline public static function vertexAttrib4f(indx:Int, x:Float, y:Float, z:Float, w:Float):Void\r\n        gl.vertexAttrib4f(indx, x, y, z, w);\r\n\r\n    inline public static function vertexAttrib4fv(indx:Int, data:Float32Array):Void\r\n        gl.vertexAttrib4fv(indx, data);\r\n\r\n    inline public static function vertexAttribPointer(indx:Int, size:Int, type:Int, normalized:Bool, stride:Int, offset:Int):Void\r\n        gl.vertexAttribPointer(indx, size, type, normalized, stride, offset);\r\n\r\n    inline public static function viewport(x:Int, y:Int, width:Int, height:Int):Void\r\n        gl.viewport(x, y, width, height);\r\n\r\n\r\n// getters/setters\r\n\r\n    static function get_version():Int { return RenderingContext.VERSION; }\r\n\r\n//defines\r\n\r\n    /* ClearBufferMask */\r\n    public static inline var DEPTH_BUFFER_BIT               = 0x00000100;\r\n    public static inline var STENCIL_BUFFER_BIT             = 0x00000400;\r\n    public static inline var COLOR_BUFFER_BIT               = 0x00004000;\r\n\r\n    /* BeginMode */\r\n    public static inline var POINTS                         = 0x0000;\r\n    public static inline var LINES                          = 0x0001;\r\n    public static inline var LINE_LOOP                      = 0x0002;\r\n    public static inline var LINE_STRIP                     = 0x0003;\r\n    public static inline var TRIANGLES                      = 0x0004;\r\n    public static inline var TRIANGLE_STRIP                 = 0x0005;\r\n    public static inline var TRIANGLE_FAN                   = 0x0006;\r\n\r\n    /* AlphaFunction(not supported in ES20) */\r\n    /*      NEVER */\r\n    /*      LESS */\r\n    /*      EQUAL */\r\n    /*      LEQUAL */\r\n    /*      GREATER */\r\n    /*      NOTEQUAL */\r\n    /*      GEQUAL */\r\n    /*      ALWAYS */\r\n\r\n    /* BlendingFactorDest */\r\n    public static inline var ZERO                           = 0;\r\n    public static inline var ONE                            = 1;\r\n    public static inline var SRC_COLOR                      = 0x0300;\r\n    public static inline var ONE_MINUS_SRC_COLOR            = 0x0301;\r\n    public static inline var SRC_ALPHA                      = 0x0302;\r\n    public static inline var ONE_MINUS_SRC_ALPHA            = 0x0303;\r\n    public static inline var DST_ALPHA                      = 0x0304;\r\n    public static inline var ONE_MINUS_DST_ALPHA            = 0x0305;\r\n\r\n    /* BlendingFactorSrc */\r\n    /*      ZERO */\r\n    /*      ONE */\r\n    public static inline var DST_COLOR                      = 0x0306;\r\n    public static inline var ONE_MINUS_DST_COLOR            = 0x0307;\r\n    public static inline var SRC_ALPHA_SATURATE             = 0x0308;\r\n    /*      SRC_ALPHA */\r\n    /*      ONE_MINUS_SRC_ALPHA */\r\n    /*      DST_ALPHA */\r\n    /*      ONE_MINUS_DST_ALPHA */\r\n\r\n    /* BlendEquationSeparate */\r\n    public static inline var FUNC_ADD                       = 0x8006;\r\n    public static inline var BLEND_EQUATION                 = 0x8009;\r\n    public static inline var BLEND_EQUATION_RGB             = 0x8009;   /* same as BLEND_EQUATION */\r\n    public static inline var BLEND_EQUATION_ALPHA           = 0x883D;\r\n\r\n    /* BlendSubtract */\r\n    public static inline var FUNC_SUBTRACT                  = 0x800A;\r\n    public static inline var FUNC_REVERSE_SUBTRACT          = 0x800B;\r\n\r\n    /* Separate Blend Functions */\r\n    public static inline var BLEND_DST_RGB                  = 0x80C8;\r\n    public static inline var BLEND_SRC_RGB                  = 0x80C9;\r\n    public static inline var BLEND_DST_ALPHA                = 0x80CA;\r\n    public static inline var BLEND_SRC_ALPHA                = 0x80CB;\r\n    public static inline var CONSTANT_COLOR                 = 0x8001;\r\n    public static inline var ONE_MINUS_CONSTANT_COLOR       = 0x8002;\r\n    public static inline var CONSTANT_ALPHA                 = 0x8003;\r\n    public static inline var ONE_MINUS_CONSTANT_ALPHA       = 0x8004;\r\n    public static inline var BLEND_COLOR                    = 0x8005;\r\n\r\n    /* GLBuffer Objects */\r\n    public static inline var ARRAY_BUFFER                   = 0x8892;\r\n    public static inline var ELEMENT_ARRAY_BUFFER           = 0x8893;\r\n    public static inline var ARRAY_BUFFER_BINDING           = 0x8894;\r\n    public static inline var ELEMENT_ARRAY_BUFFER_BINDING   = 0x8895;\r\n\r\n    public static inline var STREAM_DRAW                    = 0x88E0;\r\n    public static inline var STATIC_DRAW                    = 0x88E4;\r\n    public static inline var DYNAMIC_DRAW                   = 0x88E8;\r\n\r\n    public static inline var BUFFER_SIZE                    = 0x8764;\r\n    public static inline var BUFFER_USAGE                   = 0x8765;\r\n\r\n    public static inline var CURRENT_VERTEX_ATTRIB          = 0x8626;\r\n\r\n    /* CullFaceMode */\r\n    public static inline var FRONT                          = 0x0404;\r\n    public static inline var BACK                           = 0x0405;\r\n    public static inline var FRONT_AND_BACK                 = 0x0408;\r\n\r\n    /* DepthFunction */\r\n    /*      NEVER */\r\n    /*      LESS */\r\n    /*      EQUAL */\r\n    /*      LEQUAL */\r\n    /*      GREATER */\r\n    /*      NOTEQUAL */\r\n    /*      GEQUAL */\r\n    /*      ALWAYS */\r\n\r\n    /* EnableCap */\r\n    /* TEXTURE_2D */\r\n    public static inline var CULL_FACE                      = 0x0B44;\r\n    public static inline var BLEND                          = 0x0BE2;\r\n    public static inline var DITHER                         = 0x0BD0;\r\n    public static inline var STENCIL_TEST                   = 0x0B90;\r\n    public static inline var DEPTH_TEST                     = 0x0B71;\r\n    public static inline var SCISSOR_TEST                   = 0x0C11;\r\n    public static inline var POLYGON_OFFSET_FILL            = 0x8037;\r\n    public static inline var SAMPLE_ALPHA_TO_COVERAGE       = 0x809E;\r\n    public static inline var SAMPLE_COVERAGE                = 0x80A0;\r\n\r\n    /* ErrorCode */\r\n    public static inline var NO_ERROR                       = 0;\r\n    public static inline var INVALID_ENUM                   = 0x0500;\r\n    public static inline var INVALID_VALUE                  = 0x0501;\r\n    public static inline var INVALID_OPERATION              = 0x0502;\r\n    public static inline var OUT_OF_MEMORY                  = 0x0505;\r\n\r\n    /* FrontFaceDirection */\r\n    public static inline var CW                             = 0x0900;\r\n    public static inline var CCW                            = 0x0901;\r\n\r\n    /* GetPName */\r\n    public static inline var LINE_WIDTH                     = 0x0B21;\r\n    public static inline var ALIASED_POINT_SIZE_RANGE       = 0x846D;\r\n    public static inline var ALIASED_LINE_WIDTH_RANGE       = 0x846E;\r\n    public static inline var CULL_FACE_MODE                 = 0x0B45;\r\n    public static inline var FRONT_FACE                     = 0x0B46;\r\n    public static inline var DEPTH_RANGE                    = 0x0B70;\r\n    public static inline var DEPTH_WRITEMASK                = 0x0B72;\r\n    public static inline var DEPTH_CLEAR_VALUE              = 0x0B73;\r\n    public static inline var DEPTH_FUNC                     = 0x0B74;\r\n    public static inline var STENCIL_CLEAR_VALUE            = 0x0B91;\r\n    public static inline var STENCIL_FUNC                   = 0x0B92;\r\n    public static inline var STENCIL_FAIL                   = 0x0B94;\r\n    public static inline var STENCIL_PASS_DEPTH_FAIL        = 0x0B95;\r\n    public static inline var STENCIL_PASS_DEPTH_PASS        = 0x0B96;\r\n    public static inline var STENCIL_REF                    = 0x0B97;\r\n    public static inline var STENCIL_VALUE_MASK             = 0x0B93;\r\n    public static inline var STENCIL_WRITEMASK              = 0x0B98;\r\n    public static inline var STENCIL_BACK_FUNC              = 0x8800;\r\n    public static inline var STENCIL_BACK_FAIL              = 0x8801;\r\n    public static inline var STENCIL_BACK_PASS_DEPTH_FAIL   = 0x8802;\r\n    public static inline var STENCIL_BACK_PASS_DEPTH_PASS   = 0x8803;\r\n    public static inline var STENCIL_BACK_REF               = 0x8CA3;\r\n    public static inline var STENCIL_BACK_VALUE_MASK        = 0x8CA4;\r\n    public static inline var STENCIL_BACK_WRITEMASK         = 0x8CA5;\r\n    public static inline var VIEWPORT                       = 0x0BA2;\r\n    public static inline var SCISSOR_BOX                    = 0x0C10;\r\n    /*      SCISSOR_TEST */\r\n    public static inline var COLOR_CLEAR_VALUE              = 0x0C22;\r\n    public static inline var COLOR_WRITEMASK                = 0x0C23;\r\n    public static inline var UNPACK_ALIGNMENT               = 0x0CF5;\r\n    public static inline var PACK_ALIGNMENT                 = 0x0D05;\r\n    public static inline var MAX_TEXTURE_SIZE               = 0x0D33;\r\n    public static inline var MAX_VIEWPORT_DIMS              = 0x0D3A;\r\n    public static inline var SUBPIXEL_BITS                  = 0x0D50;\r\n    public static inline var RED_BITS                       = 0x0D52;\r\n    public static inline var GREEN_BITS                     = 0x0D53;\r\n    public static inline var BLUE_BITS                      = 0x0D54;\r\n    public static inline var ALPHA_BITS                     = 0x0D55;\r\n    public static inline var DEPTH_BITS                     = 0x0D56;\r\n    public static inline var STENCIL_BITS                   = 0x0D57;\r\n    public static inline var POLYGON_OFFSET_UNITS           = 0x2A00;\r\n    /*      POLYGON_OFFSET_FILL */\r\n    public static inline var POLYGON_OFFSET_FACTOR          = 0x8038;\r\n    public static inline var TEXTURE_BINDING_2D             = 0x8069;\r\n    public static inline var SAMPLE_BUFFERS                 = 0x80A8;\r\n    public static inline var SAMPLES                        = 0x80A9;\r\n    public static inline var SAMPLE_COVERAGE_VALUE          = 0x80AA;\r\n    public static inline var SAMPLE_COVERAGE_INVERT         = 0x80AB;\r\n\r\n    /* GetTextureParameter */\r\n    /*      TEXTURE_MAG_FILTER */\r\n    /*      TEXTURE_MIN_FILTER */\r\n    /*      TEXTURE_WRAP_S */\r\n    /*      TEXTURE_WRAP_T */\r\n\r\n    public static inline var COMPRESSED_TEXTURE_FORMATS     = 0x86A3;\r\n\r\n    /* HintMode */\r\n    public static inline var DONT_CARE                      = 0x1100;\r\n    public static inline var FASTEST                        = 0x1101;\r\n    public static inline var NICEST                         = 0x1102;\r\n\r\n    /* HintTarget */\r\n    public static inline var GENERATE_MIPMAP_HINT            = 0x8192;\r\n\r\n    /* DataType */\r\n    public static inline var BYTE                           = 0x1400;\r\n    public static inline var UNSIGNED_BYTE                  = 0x1401;\r\n    public static inline var SHORT                          = 0x1402;\r\n    public static inline var UNSIGNED_SHORT                 = 0x1403;\r\n    public static inline var INT                            = 0x1404;\r\n    public static inline var UNSIGNED_INT                   = 0x1405;\r\n    public static inline var FLOAT                          = 0x1406;\r\n\r\n    /* PixelFormat */\r\n    public static inline var DEPTH_COMPONENT                = 0x1902;\r\n    public static inline var ALPHA                          = 0x1906;\r\n    public static inline var RGB                            = 0x1907;\r\n    public static inline var RGBA                           = 0x1908;\r\n    public static inline var LUMINANCE                      = 0x1909;\r\n    public static inline var LUMINANCE_ALPHA                = 0x190A;\r\n\r\n    /* PixelType */\r\n    /*      UNSIGNED_BYTE */\r\n    public static inline var UNSIGNED_SHORT_4_4_4_4         = 0x8033;\r\n    public static inline var UNSIGNED_SHORT_5_5_5_1         = 0x8034;\r\n    public static inline var UNSIGNED_SHORT_5_6_5           = 0x8363;\r\n\r\n    /* Shaders */\r\n    public static inline var FRAGMENT_SHADER                  = 0x8B30;\r\n    public static inline var VERTEX_SHADER                    = 0x8B31;\r\n    public static inline var MAX_VERTEX_ATTRIBS               = 0x8869;\r\n    public static inline var MAX_VERTEX_UNIFORM_VECTORS       = 0x8DFB;\r\n    public static inline var MAX_VARYING_VECTORS              = 0x8DFC;\r\n    public static inline var MAX_COMBINED_TEXTURE_IMAGE_UNITS = 0x8B4D;\r\n    public static inline var MAX_VERTEX_TEXTURE_IMAGE_UNITS   = 0x8B4C;\r\n    public static inline var MAX_TEXTURE_IMAGE_UNITS          = 0x8872;\r\n    public static inline var MAX_FRAGMENT_UNIFORM_VECTORS     = 0x8DFD;\r\n    public static inline var SHADER_TYPE                      = 0x8B4F;\r\n    public static inline var DELETE_STATUS                    = 0x8B80;\r\n    public static inline var LINK_STATUS                      = 0x8B82;\r\n    public static inline var VALIDATE_STATUS                  = 0x8B83;\r\n    public static inline var ATTACHED_SHADERS                 = 0x8B85;\r\n    public static inline var ACTIVE_UNIFORMS                  = 0x8B86;\r\n    public static inline var ACTIVE_ATTRIBUTES                = 0x8B89;\r\n    public static inline var SHADING_LANGUAGE_VERSION         = 0x8B8C;\r\n    public static inline var CURRENT_PROGRAM                  = 0x8B8D;\r\n\r\n    /* StencilFunction */\r\n    public static inline var NEVER                          = 0x0200;\r\n    public static inline var LESS                           = 0x0201;\r\n    public static inline var EQUAL                          = 0x0202;\r\n    public static inline var LEQUAL                         = 0x0203;\r\n    public static inline var GREATER                        = 0x0204;\r\n    public static inline var NOTEQUAL                       = 0x0205;\r\n    public static inline var GEQUAL                         = 0x0206;\r\n    public static inline var ALWAYS                         = 0x0207;\r\n\r\n    /* StencilOp */\r\n    /*      ZERO */\r\n    public static inline var KEEP                           = 0x1E00;\r\n    public static inline var REPLACE                        = 0x1E01;\r\n    public static inline var INCR                           = 0x1E02;\r\n    public static inline var DECR                           = 0x1E03;\r\n    public static inline var INVERT                         = 0x150A;\r\n    public static inline var INCR_WRAP                      = 0x8507;\r\n    public static inline var DECR_WRAP                      = 0x8508;\r\n\r\n    /* StringName */\r\n    public static inline var VENDOR                         = 0x1F00;\r\n    public static inline var RENDERER                       = 0x1F01;\r\n    public static inline var VERSION                        = 0x1F02;\r\n\r\n    /* TextureMagFilter */\r\n    public static inline var NEAREST                        = 0x2600;\r\n    public static inline var LINEAR                         = 0x2601;\r\n\r\n    /* TextureMinFilter */\r\n    /*      NEAREST */\r\n    /*      LINEAR */\r\n    public static inline var NEAREST_MIPMAP_NEAREST         = 0x2700;\r\n    public static inline var LINEAR_MIPMAP_NEAREST          = 0x2701;\r\n    public static inline var NEAREST_MIPMAP_LINEAR          = 0x2702;\r\n    public static inline var LINEAR_MIPMAP_LINEAR           = 0x2703;\r\n\r\n    /* TextureParameterName */\r\n    public static inline var TEXTURE_MAG_FILTER             = 0x2800;\r\n    public static inline var TEXTURE_MIN_FILTER             = 0x2801;\r\n    public static inline var TEXTURE_WRAP_S                 = 0x2802;\r\n    public static inline var TEXTURE_WRAP_T                 = 0x2803;\r\n\r\n    /* TextureTarget */\r\n    public static inline var TEXTURE_2D                     = 0x0DE1;\r\n    public static inline var TEXTURE                        = 0x1702;\r\n\r\n    public static inline var TEXTURE_CUBE_MAP               = 0x8513;\r\n    public static inline var TEXTURE_BINDING_CUBE_MAP       = 0x8514;\r\n    public static inline var TEXTURE_CUBE_MAP_POSITIVE_X    = 0x8515;\r\n    public static inline var TEXTURE_CUBE_MAP_NEGATIVE_X    = 0x8516;\r\n    public static inline var TEXTURE_CUBE_MAP_POSITIVE_Y    = 0x8517;\r\n    public static inline var TEXTURE_CUBE_MAP_NEGATIVE_Y    = 0x8518;\r\n    public static inline var TEXTURE_CUBE_MAP_POSITIVE_Z    = 0x8519;\r\n    public static inline var TEXTURE_CUBE_MAP_NEGATIVE_Z    = 0x851A;\r\n    public static inline var MAX_CUBE_MAP_TEXTURE_SIZE      = 0x851C;\r\n\r\n    /* TextureUnit */\r\n    public static inline var TEXTURE0                       = 0x84C0;\r\n    public static inline var TEXTURE1                       = 0x84C1;\r\n    public static inline var TEXTURE2                       = 0x84C2;\r\n    public static inline var TEXTURE3                       = 0x84C3;\r\n    public static inline var TEXTURE4                       = 0x84C4;\r\n    public static inline var TEXTURE5                       = 0x84C5;\r\n    public static inline var TEXTURE6                       = 0x84C6;\r\n    public static inline var TEXTURE7                       = 0x84C7;\r\n    public static inline var TEXTURE8                       = 0x84C8;\r\n    public static inline var TEXTURE9                       = 0x84C9;\r\n    public static inline var TEXTURE10                      = 0x84CA;\r\n    public static inline var TEXTURE11                      = 0x84CB;\r\n    public static inline var TEXTURE12                      = 0x84CC;\r\n    public static inline var TEXTURE13                      = 0x84CD;\r\n    public static inline var TEXTURE14                      = 0x84CE;\r\n    public static inline var TEXTURE15                      = 0x84CF;\r\n    public static inline var TEXTURE16                      = 0x84D0;\r\n    public static inline var TEXTURE17                      = 0x84D1;\r\n    public static inline var TEXTURE18                      = 0x84D2;\r\n    public static inline var TEXTURE19                      = 0x84D3;\r\n    public static inline var TEXTURE20                      = 0x84D4;\r\n    public static inline var TEXTURE21                      = 0x84D5;\r\n    public static inline var TEXTURE22                      = 0x84D6;\r\n    public static inline var TEXTURE23                      = 0x84D7;\r\n    public static inline var TEXTURE24                      = 0x84D8;\r\n    public static inline var TEXTURE25                      = 0x84D9;\r\n    public static inline var TEXTURE26                      = 0x84DA;\r\n    public static inline var TEXTURE27                      = 0x84DB;\r\n    public static inline var TEXTURE28                      = 0x84DC;\r\n    public static inline var TEXTURE29                      = 0x84DD;\r\n    public static inline var TEXTURE30                      = 0x84DE;\r\n    public static inline var TEXTURE31                      = 0x84DF;\r\n    public static inline var ACTIVE_TEXTURE                 = 0x84E0;\r\n\r\n    /* TextureWrapMode */\r\n    public static inline var REPEAT                         = 0x2901;\r\n    public static inline var CLAMP_TO_EDGE                  = 0x812F;\r\n    public static inline var MIRRORED_REPEAT                = 0x8370;\r\n\r\n    /* Uniform Types */\r\n    public static inline var FLOAT_VEC2                     = 0x8B50;\r\n    public static inline var FLOAT_VEC3                     = 0x8B51;\r\n    public static inline var FLOAT_VEC4                     = 0x8B52;\r\n    public static inline var INT_VEC2                       = 0x8B53;\r\n    public static inline var INT_VEC3                       = 0x8B54;\r\n    public static inline var INT_VEC4                       = 0x8B55;\r\n    public static inline var BOOL                           = 0x8B56;\r\n    public static inline var BOOL_VEC2                      = 0x8B57;\r\n    public static inline var BOOL_VEC3                      = 0x8B58;\r\n    public static inline var BOOL_VEC4                      = 0x8B59;\r\n    public static inline var FLOAT_MAT2                     = 0x8B5A;\r\n    public static inline var FLOAT_MAT3                     = 0x8B5B;\r\n    public static inline var FLOAT_MAT4                     = 0x8B5C;\r\n    public static inline var SAMPLER_2D                     = 0x8B5E;\r\n    public static inline var SAMPLER_CUBE                   = 0x8B60;\r\n\r\n    /* Vertex Arrays */\r\n    public static inline var VERTEX_ATTRIB_ARRAY_ENABLED        = 0x8622;\r\n    public static inline var VERTEX_ATTRIB_ARRAY_SIZE           = 0x8623;\r\n    public static inline var VERTEX_ATTRIB_ARRAY_STRIDE         = 0x8624;\r\n    public static inline var VERTEX_ATTRIB_ARRAY_TYPE           = 0x8625;\r\n    public static inline var VERTEX_ATTRIB_ARRAY_NORMALIZED     = 0x886A;\r\n    public static inline var VERTEX_ATTRIB_ARRAY_POINTER        = 0x8645;\r\n    public static inline var VERTEX_ATTRIB_ARRAY_BUFFER_BINDING = 0x889F;\r\n\r\n    /* Point Size */\r\n    public static inline var VERTEX_PROGRAM_POINT_SIZE       = 0x8642;\r\n    public static inline var POINT_SPRITE                    = 0x8861;\r\n\r\n    /* GLShader Source */\r\n    public static inline var COMPILE_STATUS                 = 0x8B81;\r\n\r\n    /* GLShader Precision-Specified Types */\r\n    public static inline var LOW_FLOAT                      = 0x8DF0;\r\n    public static inline var MEDIUM_FLOAT                   = 0x8DF1;\r\n    public static inline var HIGH_FLOAT                     = 0x8DF2;\r\n    public static inline var LOW_INT                        = 0x8DF3;\r\n    public static inline var MEDIUM_INT                     = 0x8DF4;\r\n    public static inline var HIGH_INT                       = 0x8DF5;\r\n\r\n    /* GLFramebuffer Object. */\r\n    public static inline var FRAMEBUFFER                    = 0x8D40;\r\n    public static inline var RENDERBUFFER                   = 0x8D41;\r\n\r\n    public static inline var RGBA4                          = 0x8056;\r\n    public static inline var RGB5_A1                        = 0x8057;\r\n    public static inline var RGB565                         = 0x8D62;\r\n    public static inline var DEPTH_COMPONENT16              = 0x81A5;\r\n    public static inline var STENCIL_INDEX                  = 0x1901;\r\n    public static inline var STENCIL_INDEX8                 = 0x8D48;\r\n    public static inline var DEPTH_STENCIL                  = 0x84F9;\r\n\r\n    public static inline var RENDERBUFFER_WIDTH             = 0x8D42;\r\n    public static inline var RENDERBUFFER_HEIGHT            = 0x8D43;\r\n    public static inline var RENDERBUFFER_INTERNAL_FORMAT   = 0x8D44;\r\n    public static inline var RENDERBUFFER_RED_SIZE          = 0x8D50;\r\n    public static inline var RENDERBUFFER_GREEN_SIZE        = 0x8D51;\r\n    public static inline var RENDERBUFFER_BLUE_SIZE         = 0x8D52;\r\n    public static inline var RENDERBUFFER_ALPHA_SIZE        = 0x8D53;\r\n    public static inline var RENDERBUFFER_DEPTH_SIZE        = 0x8D54;\r\n    public static inline var RENDERBUFFER_STENCIL_SIZE      = 0x8D55;\r\n\r\n    public static inline var FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE           = 0x8CD0;\r\n    public static inline var FRAMEBUFFER_ATTACHMENT_OBJECT_NAME           = 0x8CD1;\r\n    public static inline var FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL         = 0x8CD2;\r\n    public static inline var FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE = 0x8CD3;\r\n\r\n    public static inline var COLOR_ATTACHMENT0              = 0x8CE0;\r\n    public static inline var DEPTH_ATTACHMENT               = 0x8D00;\r\n    public static inline var STENCIL_ATTACHMENT             = 0x8D20;\r\n    public static inline var DEPTH_STENCIL_ATTACHMENT       = 0x821A;\r\n\r\n    public static inline var NONE                           = 0;\r\n\r\n    public static inline var FRAMEBUFFER_COMPLETE                      = 0x8CD5;\r\n    public static inline var FRAMEBUFFER_INCOMPLETE_ATTACHMENT         = 0x8CD6;\r\n    public static inline var FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT = 0x8CD7;\r\n    public static inline var FRAMEBUFFER_INCOMPLETE_DIMENSIONS         = 0x8CD9;\r\n    public static inline var FRAMEBUFFER_UNSUPPORTED                   = 0x8CDD;\r\n\r\n    public static inline var FRAMEBUFFER_BINDING            = 0x8CA6;\r\n    public static inline var RENDERBUFFER_BINDING           = 0x8CA7;\r\n    public static inline var MAX_RENDERBUFFER_SIZE          = 0x84E8;\r\n\r\n    public static inline var INVALID_FRAMEBUFFER_OPERATION  = 0x0506;\r\n\r\n    /* WebGL-specific enums */\r\n    public static inline var UNPACK_FLIP_Y_WEBGL            = 0x9240;\r\n    public static inline var UNPACK_PREMULTIPLY_ALPHA_WEBGL = 0x9241;\r\n    public static inline var CONTEXT_LOST_WEBGL             = 0x9242;\r\n    public static inline var UNPACK_COLORSPACE_CONVERSION_WEBGL = 0x9243;\r\n    public static inline var BROWSER_DEFAULT_WEBGL          = 0x9244;\r\n\r\n\r\n\r\n}\r\n\r\n#end //snow_web\r\n","package snow.modules.webaudio;\n\n#if js\n\nimport snow.api.Debug.*;\nimport snow.types.Types;\nimport snow.api.Promise;\nimport snow.api.buffers.Uint8Array;\nimport snow.api.buffers.Float32Array;\nimport snow.systems.audio.AudioSource;\nimport snow.systems.audio.AudioInstance;\n\nprivate typedef WebSound = {\n    source: AudioSource,\n    handle: AudioHandle,\n    instance: AudioInstance,\n\n    buffer_node: js.html.audio.AudioBufferSourceNode,\n    media_node: js.html.audio.MediaElementAudioSourceNode,\n    media_elem: js.html.Audio,\n\n    gain_node: js.html.audio.GainNode,\n    pan_node: js.html.audio.PannerNode,\n\n    state: AudioState,\n    loop: Bool,\n    pan: Float,\n    time_start: Float,\n    ?time_pause: Float,\n}\n\n@:allow(snow.modules.webaudio)\n@:allow(snow.systems.audio.Audio)\nclass Audio implements snow.modules.interfaces.Audio {\n\n    var handle_seq = 0;\n\n    var instances: Map<AudioHandle, WebSound>;\n    var buffers: Map<AudioSource, js.html.audio.AudioBuffer>;\n\n    var context: js.html.audio.AudioContext;\n\n    static inline var half_pi : Float = 1.5707;\n\n    var app: snow.Snow;\n    var active: Bool = false;\n\n    function new(_app:snow.Snow) {\n\n        app = _app;\n        instances = new Map();\n\n        try {\n            context = new js.html.audio.AudioContext();\n        } catch(err:Dynamic) {\n            try {\n                context = untyped __js__('new window.webkitAudioContext()');\n            } catch(err:Dynamic) {\n                log('WebAudio: no AudioContext could be created! No audio loading or playback will be available.');\n                return;\n            }\n        }\n\n        assertnull(context, 'Audio / webaudio / no AudioContext could be created, is the Web Audio API supported?');\n\n        var info =\n            'channelCount: ${context.destination.channelCount}, ' +\n            'channelCountMode: \"${context.destination.channelCountMode}\", ' +\n            'channelInterpretation: \"${context.destination.channelInterpretation}\", ' +\n            'maxChannelCount: ${context.destination.maxChannelCount}, ' +\n            'numberOfInputs: ${context.destination.numberOfInputs}, ' +\n            'numberOfOutputs: ${context.destination.numberOfOutputs}';\n\n        log('webaudio: $context / sampleRate: ${context.sampleRate} / destination: $info');\n\n        active = true;\n\n    } //new\n\n    function shutdown():Void {\n\n            //:todo: haxe js.html.audio.AudioContext api lacks suspend property\n        untyped context.close();\n\n    } //shutdown\n\n    function onevent(event:SystemEvent):Void {\n\n    } //onevent\n\n    inline function snd_of(_handle:AudioHandle) : WebSound {\n\n        return instances.get(_handle);\n\n    } //snd_of\n\n    function play_buffer(_data:AudioDataWebAudio) : js.html.audio.AudioBufferSourceNode {\n\n        var _node = context.createBufferSource();\n            _node.buffer = _data.buffer;\n\n        return _node;\n\n    } //play_buffer\n\n    function play_buffer_again(_handle:AudioHandle, _snd:WebSound, _start_time:Float) {\n\n        _snd.buffer_node = play_buffer(cast _snd.source.data);\n        _snd.buffer_node.connect(_snd.pan_node);\n        _snd.buffer_node.loop = _snd.loop;\n        _snd.pan_node.connect(_snd.gain_node);\n        _snd.gain_node.connect(context.destination);\n        _snd.buffer_node.start(0, _start_time);\n        _snd.buffer_node.onended = destroy_snd.bind(_snd);\n\n    } //play_buffer_again\n\n    function play_instance(\n        _handle:AudioHandle,\n        _source:AudioSource,\n        _inst:AudioInstance,\n        _data:AudioDataWebAudio,\n        _buffer_node:js.html.audio.AudioBufferSourceNode,\n        _volume:Float,\n        _loop:Bool\n    ) {\n\n        var _gain = context.createGain();\n        var _pan = context.createPanner();\n        var _node: js.html.audio.AudioNode = null;\n        var _pan_val = 0;\n\n        _gain.gain.value = _volume;\n        _pan.panningModel = js.html.audio.PanningModelType.EQUALPOWER;\n        _pan.setPosition(Math.cos(-1 * half_pi), 0, Math.sin(1 * half_pi));\n\n        if(_buffer_node != null) {\n            _node = _buffer_node;\n            _buffer_node.loop = _loop;\n        }\n\n        if(_data.media_node != null) {\n            _node = _data.media_node;\n            _data.media_elem.loop = _loop;\n        }\n\n            //source -> pan -> gain -> output\n        _node.connect(_pan);\n        _pan.connect(_gain);\n        _gain.connect(context.destination);\n\n        var _snd : WebSound = {\n            handle      : _handle,\n            source      : _source,\n            instance    : _inst,\n\n            buffer_node : _buffer_node,\n            media_node  : _data.media_node,\n            media_elem  : _data.media_elem,\n            gain_node   : _gain,\n            pan_node    : _pan,\n\n            state       : as_playing,\n            time_start  : app.time,\n            loop        : _loop,\n            pan         : 0\n        };\n\n        instances.set(_handle, _snd);\n\n        //:todo: handle _paused flag, also why is there a paused flag? \n        //when do you ever want to call play with paused as true?\n\n        if(_buffer_node != null) {\n            _buffer_node.start(0);\n            _buffer_node.onended = destroy_snd.bind(_snd);\n        }\n\n        if(_data.media_node != null) {\n\n            _data.media_elem.play();\n                //:todo: looping audio element ended event\n            _data.media_node.addEventListener('ended', function() {\n                app.audio.emit(ae_end, _handle);\n                _snd.state = as_stopped;\n            });\n\n        } //media node\n\n    }\n\n    public function play(_source:AudioSource, _volume:Float, _paused:Bool) : AudioHandle {\n\n        var _data:AudioDataWebAudio = cast _source.data;\n        var _handle = handle_seq;\n        var _inst = _source.instance(_handle);\n\n        if(_source.data.is_stream) {\n            _data.media_elem.play();\n            _data.media_elem.volume = 1.0;\n            play_instance(_handle, _source, _inst, _data, null, _volume, false);\n        } else {\n            play_instance(_handle, _source, _inst, _data, play_buffer(_data), _volume, false);\n        }\n\n        handle_seq++;\n\n        return _handle;\n\n    } //play\n\n    public function loop(_source:AudioSource, _volume:Float, _paused:Bool) : AudioHandle {\n\n        var _data:AudioDataWebAudio = cast _source.data;\n        var _handle = handle_seq;\n        var _inst = _source.instance(_handle);\n\n        if(_source.data.is_stream) {\n            _data.media_elem.play();\n            _data.media_elem.volume = 1.0;\n            play_instance(_handle, _source, _inst, _data, null, _volume, true);\n        } else {\n            play_instance(_handle, _source, _inst, _data, play_buffer(_data), _volume, true);\n        }\n\n        handle_seq++;\n\n        return _handle;\n\n    } //loop\n\n    function stop_buffer(_snd:WebSound) {\n        _snd.buffer_node.stop();\n        _snd.buffer_node.disconnect();\n        _snd.gain_node.disconnect();\n        _snd.pan_node.disconnect();\n        _snd.buffer_node = null;\n    }\n\n    public function pause(_handle:AudioHandle) : Void {\n\n        var _snd = snd_of(_handle);\n        if(_snd == null) return;\n\n        _debug('pause handle=$_handle, ' + _snd.source.data.id);\n\n        _snd.time_pause = app.time - _snd.time_start;\n        _snd.state = as_paused;\n\n        if(_snd.buffer_node != null) {\n            stop_buffer(_snd);\n        } else if(_snd.media_node != null) {\n            _snd.media_elem.pause();\n        }\n\n    } //pause\n\n    public function unpause(_handle:AudioHandle) : Void {\n\n        var _snd = snd_of(_handle);\n        if(_snd == null) return;\n        if(_snd.state != as_paused) return;\n\n        _debug('unpause handle=$_handle, ' + _snd.source.data.id);\n\n        if(_snd.media_node == null) {\n            play_buffer_again(_handle, _snd, _snd.time_pause);\n        } else {\n            _snd.media_elem.play();\n        }\n\n        _snd.state = as_playing;\n\n    } //unpause\n\n    inline function destroy_snd(_snd:WebSound) {\n\n        if(_snd.buffer_node != null) {\n            _snd.buffer_node.stop();\n            _snd.buffer_node.disconnect();\n            _snd.buffer_node = null;\n        }\n\n        if(_snd.media_node != null) {\n            _snd.media_elem.pause();\n            _snd.media_elem.currentTime = 0;\n            _snd.media_node.disconnect();\n            _snd.media_elem = null;\n            _snd.media_node = null;\n        }\n\n        if(_snd.gain_node != null) {\n            _snd.gain_node.disconnect();\n            _snd.gain_node = null;\n        } \n\n        if(_snd.pan_node != null) {\n            _snd.pan_node.disconnect();\n            _snd.pan_node = null;\n        }\n\n        instances.remove(_snd.handle);\n        _snd = null;\n\n    } //destroy_snd\n\n    public function stop(_handle:AudioHandle) : Void {\n\n        var _snd = snd_of(_handle);\n        if(_snd == null) return;\n\n        _debug('stop handle=$_handle, ' + _snd.source.data.id);\n\n        destroy_snd(_snd);\n\n        _snd.state = as_stopped;\n\n    } //stop\n\n\n    public function volume(_handle:AudioHandle, _volume:Float) : Void {\n\n        var _snd = snd_of(_handle);\n        if(_snd == null) return;\n\n        _debug('volume=$_volume handle=$_handle, ' + _snd.source.data.id);\n\n        _snd.gain_node.gain.value = _volume;\n\n    } //volume\n\n    public function pan(_handle:AudioHandle, _pan:Float) : Void {\n\n        var _snd = snd_of(_handle);\n        if(_snd == null) return;\n\n        _debug('pan=$_pan handle=$_handle, ' + _snd.source.data.id);\n\n        _snd.pan = _pan;\n        _snd.pan_node.setPosition( Math.cos( (_pan-1)*half_pi ),   0,   Math.sin( (_pan+1)*half_pi ) );\n\n    } //pan\n\n    public function pitch(_handle:AudioHandle, _pitch:Float) : Void {\n\n        var _snd = snd_of(_handle);\n        if(_snd == null) return;\n\n        _debug('pitch=$_pitch handle=$_handle, ' + _snd.source.data.id);\n\n        if(_snd.buffer_node != null) {\n            _snd.buffer_node.playbackRate.value = _pitch;\n        } else if(_snd.media_node != null) {\n            _snd.media_elem.playbackRate = _pitch;\n        }\n\n    } //pitch\n\n    public function position(_handle:AudioHandle, _time:Float) : Void {\n\n        var _snd = snd_of(_handle);\n        if(_snd == null) return;\n\n        _debug('position=_time handle=$_handle, ' + _snd.source.data.id);\n\n        if(_snd.buffer_node != null) {\n            stop_buffer(_snd);\n            play_buffer_again(_handle, _snd, _time);\n        } else {\n            _snd.media_elem.currentTime = _time;\n        }\n\n    } //position\n\n\n    public function volume_of(_handle:AudioHandle) : Float {\n\n        var _snd = snd_of(_handle);\n        if(_snd == null) return 0.0;\n\n        return _snd.gain_node.gain.value;\n\n    } //volume_of\n\n    public function pan_of(_handle:AudioHandle) : Float {\n\n        var _snd = snd_of(_handle);\n        if(_snd == null) return 0.0;\n\n        return _snd.pan;\n\n    } //pan_of\n\n    public function pitch_of(_handle:AudioHandle) : Float {\n\n        var _snd = snd_of(_handle);\n        if(_snd == null) return 0.0;\n\n        var _result = 1.0;\n\n        if(_snd.buffer_node != null) {\n            _result = _snd.buffer_node.playbackRate.value;\n        } else if(_snd.media_node != null) {\n            _result = _snd.media_elem.playbackRate;\n        }\n\n        return _result;\n\n    } //pitch_of\n\n    public function position_of(_handle:AudioHandle) : Float {\n\n        var _snd = snd_of(_handle);\n        if(_snd == null) return 0.0;\n\n        //:todo: web audio position_of\n\n        return 0.0;\n\n    } //position_of\n\n    public function state_of(_handle:AudioHandle) : AudioState {\n\n        var _snd = snd_of(_handle);\n        if(_snd == null) return as_invalid;\n\n        return _snd.state;\n\n    } //state_of\n\n    public function loop_of(_handle:AudioHandle) : Bool {\n\n        var _snd = snd_of(_handle);\n        if(_snd == null) return false;\n\n        return _snd.loop;\n\n    } //loop_of\n\n    public function instance_of(_handle:AudioHandle) : AudioInstance {\n\n        var _snd = snd_of(_handle);\n        if(_snd == null) return null;\n\n        return _snd.instance;\n\n    } //instance_of\n\n\n    public function suspend():Void {\n\n            //:todo: haxe js.html.audio.AudioContext api lacks suspend property\n        untyped context.suspend();\n\n    } //suspend\n\n    public function resume():Void {\n\n            //:todo: haxe js.html.audio.AudioContext api lacks resume property\n        untyped context.resume();\n\n    } //resume\n\n//Data API\n\n    public function data_from_load(_path:String, ?_is_stream:Bool=false, ?_format:AudioFormatType) : Promise {\n\n        if(!active) return Promise.reject('WebAudio context unavailable');\n\n        if(_format == null) _format = snow.core.Audio.audio_format_from_path(_path);\n\n        if(_is_stream) {\n            return data_from_load_stream(_path, _format);\n        }\n\n        return data_from_load_sound(_path, _format);\n\n    } //data_from_load\n\n    public function data_from_bytes(_id:String, _bytes:Uint8Array, ?_format:AudioFormatType) : Promise {\n\n        if(!active) return Promise.reject('WebAudio context unavailable');\n\n        return new Promise(function(resolve, reject) {\n\n            data_from_bytes_direct(_id, _bytes, _format, resolve, reject);\n\n        }); //Promise\n\n    } //data_from_bytes\n\n    //Internal helpers\n\n        function data_from_bytes_direct(_id:String, _bytes:Uint8Array, _format:AudioFormatType, resolve:AudioDataWebAudio->Void, reject:Dynamic->Void) {\n\n            context.decodeAudioData(_bytes.buffer, function(_buffer:js.html.audio.AudioBuffer) {\n\n                var _data = new AudioDataWebAudio(app, _buffer, {\n                    id         : _id,\n                    is_stream  : false,\n                    format     : _format,\n                    samples    : null,\n                    length     : _buffer.length,\n                    channels   : _buffer.numberOfChannels,\n                    rate       : Std.int(_buffer.sampleRate)\n                });\n\n                return resolve(_data);\n\n            }, function() {\n\n                return reject('failed to decode audio for `$_id`');\n\n            }); //error\n\n        } //data_from_bytes_direct\n\n        function data_from_load_sound(_path:String, _format:AudioFormatType) {\n\n            return new Promise(function(resolve,reject) {\n\n                var _load = app.io.data_load(_path);\n\n                _load.then(function(_bytes:Uint8Array) {\n\n                    data_from_bytes_direct(_path, _bytes, _format, resolve, reject);\n\n                }); //load\n\n            }); //Promise\n\n        } //data_from_load_sound\n\n        function data_from_load_stream(_path:String, _format:AudioFormatType) : Promise {\n\n            return new Promise(function(resolve, reject) {\n\n                //create audio element\n                var _element = new js.html.Audio(_path);\n                    _element.autoplay = false;\n                    _element.controls = false;\n                    _element.preload = 'auto';\n\n                _element.onerror = function(err) {\n\n                    var _error = switch(_element.error.code) {\n                        case 1: 'MEDIA_ERR_ABORTED';\n                        case 2: 'MEDIA_ERR_NETWORK';\n                        case 3: 'MEDIA_ERR_DECODE';\n                        case 4: 'MEDIA_ERR_SRC_NOT_SUPPORTED';\n                        case 5: 'MEDIA_ERR_ENCRYPTED';\n                        case _: 'unknown error';\n                    }\n\n                    return reject('failed to load `$_path` as stream : `$_error`');\n\n                } //onerror\n\n                _element.onloadedmetadata = function(_) {\n\n                    var _node = context.createMediaElementSource(_element);\n\n                        //Web Audio works with 32 bit IEEE float samples\n                    var _bytes_per_sample = 2; //this is for 16, though\n                    var _rate = Std.int(context.sampleRate);\n                    var _channels = _node.channelCount;\n\n                    var _sample_frames = _rate * _channels * _bytes_per_sample;\n                    var _length = Std.int(_element.duration * _sample_frames);\n\n                    var _data = new AudioDataWebAudio(app, _node, _element, {\n                            id         : _path,\n                            is_stream  : true,\n                            format     : _format,\n                            samples    : null,\n                            length     : _length,\n                            channels   : _channels,\n                            rate       : _rate\n                        });\n\n                    return resolve(_data);\n\n                } //onloadedmetadata\n\n            }); //promise\n\n        } //data_from_load_stream\n\n\n} //Audio\n\nprivate class AudioDataWebAudio extends AudioData {\n\n    public var buffer: js.html.audio.AudioBuffer;\n    public var media_node: js.html.audio.MediaElementAudioSourceNode;\n    public var media_elem: js.html.Audio;\n\n    inline public function new(\n        _app:snow.Snow,\n        ?_buffer:js.html.audio.AudioBuffer,\n        ?_media_node:js.html.audio.MediaElementAudioSourceNode,\n        ?_media_elem:js.html.Audio,\n        _opt:AudioDataOptions\n    ) {\n\n        buffer = _buffer;\n        media_node = _media_node;\n        media_elem = _media_elem;\n\n        super(_app, _opt);\n\n    } //new\n\n    override public function destroy() {\n\n        buffer = null;\n        media_node = null;\n        media_elem = null;\n\n        super.destroy();\n\n    } //destroy\n\n} //AudioDataWebAudio\n\n#end","package snow.types;\n\nimport snow.api.Debug.*;\nimport snow.api.buffers.Uint8Array;\n\n//Common types\n\n    //These types include further types we don't want to\n    #if !macro\n        typedef Asset      = snow.systems.assets.Asset.Asset;\n        typedef AssetBytes = snow.systems.assets.Asset.AssetBytes;\n        typedef AssetText  = snow.systems.assets.Asset.AssetText;\n        typedef AssetJSON  = snow.systems.assets.Asset.AssetJSON;\n        typedef AssetImage = snow.systems.assets.Asset.AssetImage;\n        typedef AssetAudio = snow.systems.assets.Asset.AssetAudio;\n        typedef Key        = snow.systems.input.Keycodes.Keycodes;\n        typedef Scan       = snow.systems.input.Keycodes.Scancodes;\n    #end\n\n    enum Error {\n        error(value:Dynamic);\n        init(value:Dynamic);\n        parse(value:Dynamic);\n    }\n\n    /** A platform identifier string */\n    @:enum abstract Platform(String)\n        from String to String {\n\n            /** */\n        var platform_unknown = 'unknown';\n            /** */\n        var platform_windows = 'windows';\n            /** */\n        var platform_mac     = 'mac';\n            /** */\n        var platform_linux   = 'linux';\n            /** */\n        var platform_android = 'android';\n            /** */\n        var platform_ios     = 'ios';\n            /** */\n        var platform_tvos    = 'tvos';\n            /** */\n        var platform_web     = 'web';\n\n    } //Platform\n\n    /** A platform identifier string */\n    @:enum abstract OS(String)\n        from String to String {\n\n            /** */\n        var os_unknown = 'unknown';\n            /** */\n        var os_windows = 'windows';\n            /** */\n        var os_mac     = 'mac';\n            /** */\n        var os_linux   = 'linux';\n            /** */\n        var os_android = 'android';\n            /** */\n        var os_ios     = 'ios';\n\n        var os_tvos    = 'tvos';\n\n    } //OS\n\n//Init bound types\n\n    private typedef UserConfigInit     = haxe.macro.MacroType<[snow.types.TypeCreate.build(\"UserConfig\")]>;\n    private typedef RuntimeConfigInit  = haxe.macro.MacroType<[snow.types.TypeCreate.build(\"RuntimeConfig\")]>;\n    private typedef WindowHandleInit   = haxe.macro.MacroType<[snow.types.TypeCreate.build(\"WindowHandle\")]>;\n    private typedef AppHostInit        = haxe.macro.MacroType<[snow.types.TypeCreate.build(\"AppHost\")]>;\n    private typedef AppRuntimeInit     = haxe.macro.MacroType<[snow.types.TypeCreate.build(\"AppRuntime\")]>;\n    private typedef ModuleIOInit       = haxe.macro.MacroType<[snow.types.TypeCreate.build(\"ModuleIO\")]>;\n    private typedef ModuleAudioInit    = haxe.macro.MacroType<[snow.types.TypeCreate.build(\"ModuleAudio\")]>;\n    private typedef ModuleAssetsInit   = haxe.macro.MacroType<[snow.types.TypeCreate.build(\"ModuleAssets\")]>;\n    #if snow_native\n        private typedef FileHandleInit = haxe.macro.MacroType<[snow.types.TypeCreate.build(\"FileHandle\")]>; //:todo: snow_native use\n    #end\n\n//Then define aliases\n//Trying to directly alias from the MacroType build call, \n//triggers assertions in the compiler with no error message\n\n    typedef UserConfig      = snow.types.user.UserConfig;\n    typedef RuntimeConfig   = snow.types.user.RuntimeConfig;\n    typedef WindowHandle    = snow.types.user.WindowHandle;\n    typedef AppHost         = snow.types.user.AppHost;\n    typedef AppRuntime      = snow.types.user.AppRuntime;\n    typedef ModuleIO        = snow.types.user.ModuleIO;\n    typedef ModuleAudio     = snow.types.user.ModuleAudio;\n    typedef ModuleAssets    = snow.types.user.ModuleAssets;\n    #if snow_native\n        typedef FileHandle  = snow.types.user.FileHandle;\n    #end\n\n\n    @:build(snow.types.TypeCreate.ext())\n    private class ExtensionsInit {}\n\n//Asset types\n\n    /** A type to identify assets when stored as an Asset */\n    @:enum abstract AssetType(Int)\n        from Int to Int {\n\n            /** An unknown asset type */\n        var at_unknown = 0;\n            /** An asset holding bytes data, as `Uint8Array` */\n        var at_bytes   = 1;\n            /** An asset holding text data, as `String` */\n        var at_text    = 2;\n            /** An asset holding JSON data, as `Dynamic` */\n        var at_json    = 3;\n            /** An asset holding image data, as `ImageData` */\n        var at_image   = 4;\n            /** An asset holding audio data, as `AudioSource` */\n        var at_audio   = 5;\n\n        inline function toString() {\n            return switch(this) {\n                case at_unknown: 'at_unknown';\n                case at_bytes:   'at_bytes';\n                case at_text:    'at_text';\n                case at_json:    'at_json';\n                case at_image:   'at_image';\n                case at_audio:   'at_audio';\n                case _:          '$this';\n            }\n        } //toString\n\n    } //AssetType\n\n    /** Information about an image file/data */\n    typedef ImageDataOptions = {\n\n            /** source asset id */\n        var id : String;\n            /** image width from source image */\n        var width : Int;\n            /** image height from source image */\n        var height : Int;\n            /** The actual width, used when image is automatically padded to POT */\n        var width_actual : Int;\n            /** The actual height, used when image is automatically padded to POT */\n        var height_actual : Int;\n            /** used bits per pixel */\n        var bpp : Int;\n            /** source bits per pixel */\n        var bpp_source : Int;\n            /** image pixel data */\n        var pixels : Uint8Array;\n\n    } //ImageDataOptions\n\n    class ImageData {\n\n        public var app : snow.Snow;\n            /** source asset id */\n        public var id : String = 'ImageData';\n            /** image width from source image */\n        public var width : Int = 0;\n            /** image height from source image */\n        public var height : Int = 0;\n            /** The actual width, used when image is automatically padded to POT */\n        public var width_actual : Int = 0;\n            /** The actual height, used when image is automatically padded to POT */\n        public var height_actual : Int = 0;\n            /** used bits per pixel */\n        public var bpp : Int = 4;\n            /** source bits per pixel */\n        public var bpp_source : Int = 4;\n            /** image pixel data */\n        public var pixels : Uint8Array;\n\n        inline public function new(_app:snow.Snow, _options:ImageDataOptions) {\n\n            app = _app;\n\n            id = def(_options.id, id);\n            width = _options.width;\n            height = _options.height;\n            width_actual = _options.width_actual;\n            height_actual = _options.height_actual;\n            bpp = _options.bpp;\n            bpp_source = _options.bpp_source;\n            pixels = def(_options.pixels, pixels);\n\n            _options = null;\n\n        } //new\n\n        public function destroy() {\n\n            id = null;\n            #if snow_native pixels.buffer = null; #end\n            pixels = null;\n\n        } //destroy\n\n        inline function toString() return '{ \"ImageData\":true, \"id\":$id, \"width\":$width, \"height\":$height, \"width_actual\":$width_actual, \"height_actual\":$height_actual, \"bpp\":$bpp, \"bpp_source\":$bpp_source }';\n\n    } //ImageData\n\n    /** Options for an IO data query */\n    typedef IODataOptions = {\n\n        /** Whether or not the data should be treated as binary. */\n        @:optional var binary:Bool;\n\n    } //IODataOptions\n\n//Audio types\n\n    /** An audio handle for tracking audio instances */\n    typedef AudioHandle = Null<Int>;\n\n    /** The type of format data for audio */\n    @:enum abstract AudioFormatType(Null<Int>)\n        from Null<Int> to Null<Int> {\n\n            /** */\n        var af_unknown  = 0;\n            /** */\n        var af_custom   = 1;\n            /** */\n        var af_ogg      = 2;\n            /** */\n        var af_wav      = 3;\n            /** */\n        var af_pcm      = 4;\n\n        inline function toString() {\n            return switch(this) {\n                case af_unknown:   'af_unknown';\n                case af_custom:    'af_custom';\n                case af_ogg:       'af_ogg';\n                case af_wav:       'af_wav';\n                case af_pcm:       'af_pcm';\n                case _:             '$this';\n            }\n        }\n\n    } //AudioFormatType\n\n    /**  */\n    @:enum abstract AudioEvent(Int)\n        from Int to Int {\n\n            /** */\n        var ae_end = 0;\n            /** */\n        var ae_destroyed = 1;\n            /** */\n        var ae_destroyed_source = 2;\n\n        inline function toString() {\n            return switch(this) {\n                case ae_end:                'ae_end';\n                case ae_destroyed:          'ae_destroyed';\n                case ae_destroyed_source:   'ae_destroyed_source';\n                case _:                     '$this';\n            }\n        } //toString\n    } //AudioEvent\n\n    /**  */\n    @:enum abstract AudioState(Int)\n        from Int to Int {\n\n            /** */\n        var as_invalid  = -1;\n            /** */\n        var as_paused   = 0;\n            /** */\n        var as_playing  = 1;\n            /** */\n        var as_stopped  = 2;\n\n        inline function toString() {\n            return switch(this) {\n                case as_invalid:    'as_invalid';\n                case as_paused:     'as_paused';\n                case as_playing:    'as_playing';\n                case as_stopped:    'as_stopped';\n                case _:             '$this';\n            }\n        } //toString\n    } //AudioState\n\n        /** Options for constructing an AudioData instance */\n    typedef AudioDataOptions = {\n\n        @:optional var id: String;\n\n        @:optional var rate: Int;\n        @:optional var length: Int;\n        @:optional var channels: Int;\n        @:optional var bits_per_sample: Int;\n        @:optional var format: AudioFormatType;\n        @:optional var samples: Uint8Array;\n        @:optional var is_stream: Bool;\n\n    } //AudioDataOptions\n\n        /** An audio data object contains information about audio samples or streams, ready to be used.\n            `AudioData` objects typically come from the `app.assets.audio` API or `app.audio.module.data_from_path`,\n            since the implemenation details of decoding audio and streams are module level implementation details.\n            This is stored by `AudioSource` and `AssetAudio` objects for example.*/\n    @:allow(snow.systems.audio.AudioInstance)\n    class AudioData {\n\n            /** Access to the snow runtime */\n        public var app: snow.Snow;\n            /** The associated id for the data */\n        public var id: String = 'AudioData';\n            /** The sample data bytes, if any (streams don't populate this) */\n        public var samples: Uint8Array;\n            /** The sample rate in samples per second */\n        public var rate: Int = 44100;\n            /** The PCM length in samples */\n        public var length: Int = 0;\n            /** The number of channels for this data */\n        public var channels: Int = 1;\n            /** The number of bits per sample for this data */\n        public var bits_per_sample: Int = 16;\n            /** The audio format type of the sample data */\n        public var format: AudioFormatType = af_unknown;\n            /** Whether or not this data is a stream of samples */\n        public var is_stream: Bool = false;\n            /** Whether or not this data has been destroyed */\n        public var destroyed: Bool = false;\n\n        inline public function new(_app:snow.Snow, _options:AudioDataOptions) {\n\n            app = _app;\n\n            id = def(_options.id, id);\n            rate = def(_options.rate, rate);\n            length = def(_options.length, length);\n            format = def(_options.format, format);\n            channels = def(_options.channels, channels);\n            bits_per_sample = def(_options.bits_per_sample, bits_per_sample);\n            is_stream = def(_options.is_stream, is_stream);\n            samples = def(_options.samples, samples);\n\n            _options = null;\n\n        } //new\n\n        //Public API, typically populated by subclasses\n\n            public function destroy() {\n\n                if(destroyed) return;\n\n                _debug('destroy AudioData `$id`');\n                destroyed = true;\n\n                id = null;\n                #if snow_native \n                    if(samples != null) {\n                        samples.buffer = null; \n                    }\n                #end\n                samples = null;\n\n            } //destroy\n\n        //Internal implementation details, populated by subclasses\n\n            function seek(_to:Int) : Bool return false;\n\n            function portion(_into:Uint8Array, _start:Int, _len:Int, _into_result:Array<Int>) : Array<Int> return _into_result;\n\n            inline function toString() return '{ \"AudioData\":true, \"id\":$id, \"rate\":$rate, \"length\":$length, \"channels\":$channels, \"format\":\"$format\", \"is_stream\":$is_stream }';\n\n    } //AudioData\n\n//App config types\n\n    /** The runtime application config info */\n    typedef AppConfig = {\n\n        /** The window config for the default window. default: see `WindowConfig` docs*/\n        @:optional var window       : WindowConfig;\n            /** The render config that specifies rendering and context backend specifics.  */\n        @:optional var render       : RenderConfig;\n            /** The user specific config, by default, read from a json file at runtime */\n        @:optional var user         : UserConfig;\n            /** The runtime specific config */\n        @:optional var runtime      : RuntimeConfig;\n\n    } //AppConfig\n\n    /** Config specific to the rendering context that would be used when creating windows */\n    typedef RenderConfig = {\n\n        /** Request the number of depth bits for the rendering context.\n            A value of 0 will not request a depth buffer. default: 0 */\n        @:optional var depth   : Int;\n            /** Request the number of stencil bits for the rendering context.\n                A value of 0 will not request a stencil buffer. default: 0 */\n        @:optional var stencil   : Int;\n            /** A value of `0`, `2`, `4`, `8` or other valid system value.\n                On WebGL contexts this value is true or false, bigger than 0 being true.\n                On native contexts this value sets the MSAA typically.\n                default webgl: 1 (enabled)\n                default: 0 */\n        @:optional var antialiasing : Int;\n\n            /** Request a specific number of red bits for the rendering context.\n                Unless you need to change this, don't. default: 8 */\n        @:optional var red_bits   : Int;\n            /** Request a specific number of green bits for the rendering context.\n                Unless you need to change this, don't. default: 8 */\n        @:optional var green_bits   : Int;\n            /** Request a specific number of blue bits for the rendering context.\n                Unless you need to change this, don't. default: 8 */\n        @:optional var blue_bits   : Int;\n            /** Request a specific number of alpha bits for the rendering context.\n                Unless you need to change this, don't. default: 8 */\n        @:optional var alpha_bits   : Int;\n\n            /** A color value that when creating the window, the window backbuffer will be cleared to.\n                A framework above snow can also use this for default clear color if desired.\n                The values are specified as 0..1. default: black, 0,0,0,1  */\n        @:optional var default_clear : { r:Float, g:Float, b:Float, a:Float };\n\n            /** OpenGL render context specific settings */\n        @:optional var opengl : RenderConfigOpenGL;\n            /** WebGL render context specific settings */\n        @:optional var webgl : RenderConfigWebGL;\n\n    } //RenderConfig\n\n\n    /** A type of OpenGL context profile to request. see RenderConfigOpenGL for info */\n    @:enum abstract OpenGLProfile(Int)\n        from Int to Int {\n\n            /** */\n        var compatibility = 0;\n            /** */\n        var core = 1;\n            /** */\n        var gles = 2;\n\n        inline function toString() {\n            return switch(this) {\n                case compatibility: 'compatibility';\n                case core:          'core';\n                case gles:          'gles';\n                case _:             '$this';\n            }\n        } //toString\n\n    } //OpenGLProfile\n\n    /** Config specific to an OpenGL rendering context.\n        Note that these are hints to the system,\n        you must always check the values after initializing\n        for what you actually received. The OS/driver decides. */\n    typedef RenderConfigOpenGL = {\n\n        /** The major OpenGL version to request */\n        @:optional var major : Int;\n            /** The minor OpenGL version to request */\n        @:optional var minor : Int;\n            /** The OpenGL context profile to request */\n        @:optional var profile : OpenGLProfile;\n\n    } //RenderConfigOpenGL\n\n    /** Config specific to a WebGL rendering context.\n        See: https://www.khronos.org/registry/webgl/specs/latest/1.0/#WEBGLCONTEXTATTRIBUTES */\n    typedef RenderConfigWebGL = {\n\n        /** The WebGL version to request. default: 1 */\n        @:optional var version : Int;\n            /** If the value is true, the drawing buffer has an alpha channel for the\n                purposes of performing OpenGL destination alpha operations and\n                compositing with the page. If the value is false, no alpha buffer is available.\n                snow default: false\n                webgl default:true */\n        @:optional var alpha : Bool;\n            /** If the value is true, the drawing buffer has a depth buffer of at least 16 bits.\n                If the value is false, no depth buffer is available.\n                snow default: uses render config depth flag\n                webgl default:true */\n        @:optional var depth : Bool;\n            /** If the value is true, the drawing buffer has a stencil buffer of at least 8 bits.\n                If the value is false, no stencil buffer is available.\n                snow default: uses render config stencil flag\n                webgl default: false */\n        @:optional var stencil : Bool;\n            /** If the value is true and the implementation supports antialiasing the drawing buffer\n                will perform antialiasing using its choice of technique (multisample/supersample) and quality.\n                If the value is false or the implementation does not support\n                antialiasing, no antialiasing is performed\n                snow default: uses render config antialias flag\n                webgl default: true */\n        @:optional var antialias : Bool;\n            /** If the value is true the page compositor will assume the drawing buffer contains colors with premultiplied alpha.\n                If the value is false the page compositor will assume that colors in the drawing buffer are not premultiplied.\n                This flag is ignored if the alpha flag is false.\n                snow default: false\n                webgl default: true */\n        @:optional var premultipliedAlpha : Bool;\n            /** If false, once the drawing buffer is presented as described in theDrawing Buffer section,\n                the contents of the drawing buffer are cleared to their default values. All elements of the\n                drawing buffer (color, depth and stencil) are cleared. If the value is true the buffers will\n                not be cleared and will preserve their values until cleared or overwritten by the author.\n                On some hardware setting the preserveDrawingBuffer flag to true can have significant performance implications.\n                snow default: uses webgl default\n                webgl default: false */\n        @:optional var preserveDrawingBuffer : Bool;\n            /** Provides a hint to the implementation suggesting that, if possible, it creates a context\n                that optimizes for power consumption over performance. For example, on hardware that has more\n                than one GPU, it may be the case that one of them is less powerful but also uses less power.\n                An implementation may choose to, and may have to, ignore this hint.\n                snow default: uses webgl default\n                webgl default: false */\n        @:optional var preferLowPowerToHighPerformance : Bool;\n            /** If the value is true, context creation will fail if the implementation determines that the\n                performance of the created WebGL context would be dramatically lower than that of a native\n                application making equivalent OpenGL calls.\n                snow default: uses webgl default\n                webgl default: false */\n        @:optional var failIfMajorPerformanceCaveat : Bool;\n\n    } //RenderConfigWebGL\n\n    /** Window configuration information for creating windows */\n    typedef WindowConfig = {\n\n        /** create in fullscreen, default: false, `mobile` true */\n        @:optional var fullscreen       : Bool;\n            /** If false, the users native window/desktop resolution will be used instead of the specified window size. default: false\n                On native, changing the users video mode is less than ideal, so true_fullscreen is commonly discouraged. */\n        @:optional var true_fullscreen  : Bool;\n            /** allow the window to be resized, default: true */\n        @:optional var resizable        : Bool;\n            /** create as a borderless window, default: false */\n        @:optional var borderless       : Bool;\n            /** window x at creation. Leave this alone to use the OS default. */\n        @:optional var x                : Int;\n            /** window y at creation. Leave this alone to use the OS default. */\n        @:optional var y                : Int;\n            /** window width at creation, default: 960 */\n        @:optional var width            : Int;\n            /** window height at creation, default: 640 */\n        @:optional var height           : Int;\n            /** window title, default: 'snow app' */\n        @:optional var title            : String;\n            /** disables input arriving at/from this window. default: false */\n        @:optional var no_input         : Bool;\n            /** Time in seconds to sleep when in the background. \n                Setting this to zero disables the behavior. \n                This has no effect on the web target, \n                as there is no concept of sleep there (and browsers usually throttle background tabs).\n                Higher sleep times (i.e 1/10 or 1/30) use less cpu. default: 1/15 */\n        @:optional var background_sleep : Float;\n\n    } //WindowConfig\n\n//Event types\n\n    /** A system event */\n    @:allow(snow.Snow)\n    class SystemEvent {\n     //\n            /** The type of system event this event is. SystemEventType */\n        public var type (default,null) : SystemEventType;\n            /** If type is `window` this will be populated, otherwise null */\n        public var window (default,null) : WindowEvent;\n            /** If type is `input` this will be populated, otherwise null */\n        public var input (default,null) : InputEvent;\n\n        inline function new() {}\n\n        inline function set(_type:SystemEventType, _window:WindowEvent, _input:InputEvent) {\n            type = _type;\n            window = _window;\n            input = _input;\n        }\n\n        inline function toString() {\n            var _s = '{ \"SystemEvent\":true, \"type\":\"$type\"';\n            if(window != null) _s += ', \"window\":$window';\n            if(input != null) _s += ', \"input\":$input';\n            _s += ' }';\n            return _s;\n        }\n\n    } //SystemEvent\n\n    /** A system window event */\n    @:allow(snow.Snow)\n    class WindowEvent {\n     //\n            /** The type of window event this was. */\n        public var type (default,null) : WindowEventType = we_unknown;\n            /** The time in seconds that this event occured, useful for deltas */\n        public var timestamp (default,null) : Float = 0.0;\n            /** The window id from which this event originated */\n        public var window_id (default,null) : Int = -1;\n            /** Potential window event data */\n        public var x (default,default) : Null<Int>;\n            /** Potential window event data */\n        public var y (default,default) : Null<Int>;\n\n        inline function new() {}\n\n        inline function set(_type:WindowEventType, _timestamp:Float, _window_id:Int, ?_x:Null<Int>, ?_y:Null<Int>) {\n            type = _type;\n            timestamp = _timestamp;\n            window_id = _window_id;\n            x = _x;\n            y = _y;\n        }\n\n        inline function toString() return '{ \"WindowEvent\":true, \"type\":\"$type\", \"window\":$window_id, \"x\":$x, \"y\":$y, \"time\":$timestamp }';\n\n    } //WindowEvent\n\n    @:allow(snow.systems.input.Input)\n    class KeyEvent {\n\n        public var type (default,null): Null<KeyEventType>;\n        public var keycode (default,null): Null<Int>;\n        public var scancode (default,null): Null<Int>;\n        public var repeat (default,null): Null<Bool>;\n        public var mod (default,null): ModState;\n\n        inline function new() {}\n\n        inline function set(_type:KeyEventType, _keycode:Int, _scancode:Int, _repeat:Bool, _mod:ModState) {\n            type = _type;\n            keycode = _keycode;\n            scancode = _scancode;\n            repeat = _repeat;\n            mod = _mod;\n        }\n\n        inline function toString() return '{ \"KeyEvent\":true, \"type\":\"$type\", \"keycode\":$keycode, \"scancode\":$scancode, \"repeat\":$repeat, \"mod\":$mod }';\n\n    } //KeyEvent\n\n    @:allow(snow.systems.input.Input)\n    class TextEvent {\n\n        public var type (default, null): Null<TextEventType>;\n        public var text (default, null): String;\n        public var start (default, null): Null<Int>;\n        public var length (default, null): Null<Int>;\n\n        inline function new() {}\n\n        @:allow(snow.core.Runtime)\n        inline function set(_type:TextEventType, _text:String, _start:Int, _length:Int) {\n            type = _type;\n            text = _text;\n            start = _start;\n            length = _length;\n        }\n\n        inline function toString() return '{ \"TextEvent\":true, \"type\":\"$type\", \"text\":\"$text\", \"start\":$start, \"length\":$length }';\n\n    } //TextEvent\n\n    @:allow(snow.systems.input.Input)\n    class MouseEvent {\n        public var type (default, null): MouseEventType;\n        public var x (default, null): Int;\n        public var y (default, null): Int;\n        public var x_rel (default, null): Int;\n        public var y_rel (default, null): Int;\n        public var button (default, null): Int;\n        public var wheel_x (default, null): Float;\n        public var wheel_y (default, null): Float;\n\n        inline function new() {}\n\n        inline function set(_type:MouseEventType, _x:Int, _y:Int, _x_rel:Int, _y_rel:Int, _button:Int, _wheel_x:Float, _wheel_y:Float) {\n            type = _type;\n            x = _x;\n            y = _y;\n            x_rel = _x_rel;\n            y_rel = _y_rel;\n            button = _button;\n            wheel_x = _wheel_x;\n            wheel_y = _wheel_y;\n        }\n\n        inline function toString() return '{ \"MouseEvent\":true, \"type\":\"$type\", \"x\":$x, \"y\":$y, \"button\":$button, \"x_rel\":$x_rel, \"y_rel\":$y_rel, \"wheel_x\":$wheel_x, \"wheel_y\":$wheel_y }';\n\n    } //MouseEvent\n\n    @:allow(snow.systems.input.Input)\n    class TouchEvent {\n\n        public var type (default,null): TouchEventType;\n        public var touch_id (default,null): Int;\n        public var x (default,null): Float;\n        public var y (default,null): Float;\n        public var dx (default,null): Float;\n        public var dy (default,null): Float;\n\n        inline function new() {}\n\n        inline function set(_type:TouchEventType, _id:Int, _x:Float, _y:Float, _dx:Float, _dy:Float) {\n            type = _type;\n            touch_id = _id;\n            x = _x;\n            y = _y;\n            dx = _dx;\n            dy = _dy;\n        }\n\n        inline function toString() return '{ \"TouchEvent\":true, \"type\":\"$type\", \"touch_id\":$touch_id, \"x\":$x, \"y\":$y, \"dx\":$dx, \"dy\":$dy }';\n\n    } //TouchEvent\n\n    @:allow(snow.systems.input.Input)\n    class GamepadEvent {\n\n        public var type (default,null): GamepadEventType;\n        public var gamepad (default,null): Int;\n        public var axis (default,null): Null<Int>;\n        public var button (default,null): Null<Int>;\n        public var value (default,null): Null<Float>;\n        public var device_id (default,null): String;\n        public var device_event (default,null): Null<GamepadDeviceEventType>;\n\n        inline function new() {}\n\n        inline function set_axis(_gamepad:Int, _axis:Int, _value:Float) {\n            button = null;\n            device_id = null;\n            device_event = null;\n\n            axis    = _axis;\n            value   = _value;\n            type    = ge_axis;\n            gamepad = _gamepad;\n        } //set_axis\n\n        inline function set_button(_type:GamepadEventType, _gamepad:Int, _button:Int, _value:Float) {\n            axis = null;\n            device_id = null;\n            device_event = null;\n\n            type    = _type;\n            value   = _value;\n            button  = _button;\n            gamepad = _gamepad;\n        } //set_button\n\n        inline function set_device(_gamepad:Int, _id:String, _event:GamepadDeviceEventType) {\n            axis = null;\n            value = null;\n            button = null;\n\n            device_id    = _id;\n            device_event = _event;\n            gamepad      = _gamepad;\n            type         = ge_device;\n        } //set_device\n\n        inline function toString() return '{ \"GamepadEvent\":true, \"type\":\"$type\", \"gamepad\":$gamepad, \"axis\":$axis, \"button\":$button, \"value\":$value, \"device_id\":\"$device_id\", \"device_event\":\"$device_event\" }';\n\n    } //GamepadEvent\n\n    @:allow(snow.systems.input.Input)\n    class InputEvent {\n     //\n            /** The type of input event this was. */\n        public var type (default,null) : InputEventType;\n            /** The time in seconds that this event occured, useful for deltas. 0.0 if not specified */\n        public var timestamp (default,null) : Float = 0.0;\n            /** The window id from which this event originated, if any. -1 if not specified */\n        public var window_id (default,null) : Int = -1;\n            /** Populated if the event type is ie_key, otherwise null */\n        public var key (default,null) : KeyEvent;\n            /** Populated if the event type is ie_text, otherwise null */\n        public var text (default,null) : TextEvent;\n            /** Populated if the event type is ie_mouse, otherwise null */\n        public var mouse (default,null) : MouseEvent;\n            /** Populated if the event type is ie_touch, otherwise null */\n        public var touch (default,null) : TouchEvent;\n            /** Populated if the event type is ie_gamepad, otherwise null */\n        public var gamepad (default,null) : GamepadEvent;\n\n        function new() {}\n\n        inline function reset(_type:InputEventType, _window_id:Int, _timestamp:Float) {\n\n            type = _type;\n            key = null;\n            text = null;\n            mouse = null;\n            touch = null;\n            gamepad = null;\n            window_id = _window_id;\n            timestamp = _timestamp;\n\n        } //reset\n\n        inline function set_key(_event:KeyEvent, _window_id:Int, _timestamp:Float) {\n            reset(ie_key, _window_id, _timestamp);\n            key = _event;\n        } //set_key\n\n        inline function set_text(_event:TextEvent, _window_id:Int, _timestamp:Float) {\n            reset(ie_text, _window_id, _timestamp);\n            text = _event;\n        } //set_text\n\n        inline function set_mouse(_event:MouseEvent, _window_id:Int, _timestamp:Float) {\n            reset(ie_mouse, _window_id, _timestamp);\n            mouse = _event;\n        } //set_mouse\n\n        inline function set_touch(_event:TouchEvent, _timestamp:Float) {\n            reset(ie_touch, 0, _timestamp);\n            touch = _event;\n        } //set_touch\n\n        inline function set_gamepad(_event:GamepadEvent, _timestamp:Float) {\n            reset(ie_gamepad, 0, _timestamp);\n            gamepad = _event;\n        } //set_gamepad\n\n        inline function toString() {\n            var _s = '{ \"InputEvent\":true, \"type\":\"$type\"';\n\n                if(key != null)     _s += ', \"key\":$key';\n                if(text != null)    _s += ', \"text\":$text';\n                if(mouse != null)   _s += ', \"mouse\":$mouse';\n                if(touch != null)   _s += ', \"touch\":$touch';\n                if(gamepad != null) _s += ', \"gamepad\":$gamepad';\n\n                _s += '\"window\":$window_id, \"time\":$timestamp }';\n\n            return _s;\n        }\n\n    } //InputEvent\n\n    /** Input modifier state */\n    @:publicFields\n    class ModState {\n\n        @:allow(snow)\n        private inline function new() {}\n\n            /** no modifiers are down */\n        var none : Bool = false;\n            /** left shift key is down */\n        var lshift : Bool = false;\n            /** right shift key is down */\n        var rshift : Bool = false;\n            /** left ctrl key is down */\n        var lctrl : Bool = false;\n            /** right ctrl key is down */\n        var rctrl : Bool = false;\n            /** left alt/option key is down */\n        var lalt : Bool = false;\n            /** right alt/option key is down */\n        var ralt : Bool = false;\n            /** left windows/command key is down */\n        var lmeta : Bool = false;\n            /** right windows/command key is down */\n        var rmeta : Bool = false;\n            /** numlock is enabled */\n        var num : Bool = false;\n            /** capslock is enabled */\n        var caps : Bool = false;\n            /** mode key is down */\n        var mode : Bool = false;\n            /** left or right ctrl key is down */\n        var ctrl : Bool = false;\n            /** left or right shift key is down */\n        var shift : Bool = false;\n            /** left or right alt/option key is down */\n        var alt : Bool = false;\n            /** left or right windows/command key is down */\n        var meta : Bool = false;\n\n        inline function toString() {\n\n            var _s = '{ \"ModState\":true ';\n\n            if(none) return _s + ', \"none\":true }';\n\n                if(lshift) _s += ', \"lshift\":true';\n                if(rshift) _s += ', \"rshift\":true';\n                if(lctrl)  _s += ', \"lctrl\":true';\n                if(rctrl)  _s += ', \"rctrl\":true';\n                if(lalt)   _s += ', \"lalt\":true';\n                if(ralt)   _s += ', \"ralt\":true';\n                if(lmeta)  _s += ', \"lmeta\":true';\n                if(rmeta)  _s += ', \"rmeta\":true';\n                if(num)    _s += ', \"num\":true';\n                if(caps)   _s += ', \"caps\":true';\n                if(mode)   _s += ', \"mode\":true';\n                if(ctrl)   _s += ', \"ctrl\":true';\n                if(shift)  _s += ', \"shift\":true';\n                if(alt)    _s += ', \"alt\":true';\n                if(meta)   _s += ', \"meta\":true';\n\n            _s += '}';\n\n            return _s;\n\n        } //toString\n\n    } //ModState\n\n//Event Type enums\n\n    /** A key specific event event type */\n    @:enum abstract KeyEventType(Int)\n        from Int to Int {\n\n            /** */\n        var ke_unknown  = 0;\n            /** */\n        var ke_down     = 1;\n            /** */\n        var ke_up       = 2;\n\n        inline function toString() {\n            return switch(this) {\n                case ke_unknown: 'ke_unknown';\n                case ke_down:    'ke_down';\n                case ke_up:      'ke_up';\n                case _:          '$this';\n            }\n        } //toString\n    } //KeyEventType\n\n    /** A mouse specific event event type */\n    @:enum abstract MouseEventType(Int)\n        from Int to Int {\n\n            /** */\n        var me_unknown  = 0;\n            /** */\n        var me_move     = 1;\n            /** */\n        var me_down     = 2;\n            /** */\n        var me_up       = 3;\n            /** */\n        var me_wheel    = 4;\n\n        inline function toString() {\n            return switch(this) {\n                case me_unknown:    'me_unknown';\n                case me_move:       'me_move';\n                case me_down:       'me_down';\n                case me_up:         'me_up';\n                case me_wheel:      'me_wheel';\n                case _:             '$this';\n            }\n        } //toString\n    } //MouseEventType\n\n    /** A touch specific event event type */\n    @:enum abstract TouchEventType(Int)\n        from Int to Int {\n\n            /** */\n        var te_unknown  = 0;\n            /** */\n        var te_move     = 1;\n            /** */\n        var te_down     = 2;\n            /** */\n        var te_up       = 3;\n\n        inline function toString() {\n            return switch(this) {\n                case te_unknown:    'te_unknown';\n                case te_move:       'te_move';\n                case te_down:       'te_down';\n                case te_up:         'te_up';\n                case _:             '$this';\n            }\n        } //toString\n    } //TouchEventType\n\n    /** A touch specific event event type */\n    @:enum abstract GamepadEventType(Int)\n        from Int to Int {\n\n            /** */\n        var ge_unknown  = 0;\n            /** */\n        var ge_axis     = 1;\n            /** */\n        var ge_down     = 2;\n            /** */\n        var ge_up       = 3;\n            /** */\n        var ge_device   = 4;\n\n        inline function toString() {\n            return switch(this) {\n                case ge_unknown:    'ge_unknown';\n                case ge_axis:       'ge_axis';\n                case ge_down:       'ge_down';\n                case ge_up:         'ge_up';\n                case ge_device:     'ge_device';\n                case _:             '$this';\n            }\n        } //toString\n    } //GamepadEventType\n\n    /** A text specific event event type */\n    @:enum abstract TextEventType(Int)\n        from Int to Int {\n\n            /** An unknown text event */\n        var te_unknown    = 0;\n            /** An edit text typing event */\n        var te_edit    = 1;\n            /** An input text typing event */\n        var te_input   = 2;\n\n        inline function toString() {\n            return switch(this) {\n                case te_unknown: 'te_unknown';\n                case te_edit:    'te_edit';\n                case te_input:   'te_input';\n                case _:          '$this';\n            }\n        } //toString\n    } //TextEventType\n\n    /** A gamepad device event type */\n    @:enum abstract GamepadDeviceEventType(Int)\n        from Int to Int {\n\n            /** A unknown device event */\n        var ge_unknown             = 0;\n            /** A device added event */\n        var ge_device_added        = 1;\n            /** A device removed event */\n        var ge_device_removed      = 2;\n            /** A device was remapped */\n        var ge_device_remapped     = 3;\n\n        inline function toString() {\n            return switch(this) {\n                case ge_unknown:         'ge_unknown';\n                case ge_device_added:    'ge_device_added';\n                case ge_device_removed:  'ge_device_removed';\n                case ge_device_remapped: 'ge_device_remapped';\n                case _:                  '$this';\n            }\n        } //toString\n    } //GamepadDeviceEventType\n\n    @:enum abstract SystemEventType(Int)\n        from Int to Int {\n\n            /** An unknown system event */\n        var se_unknown                  = 0;\n            /** An system init event */\n        var se_init                     = 1;\n            /** An system ready event */\n        var se_ready                    = 2;\n            /** An system tick event */\n        var se_tick                     = 3;\n            /** An system freeze event */\n        var se_freeze                   = 4;\n            /** An system unfreeze event */\n        var se_unfreeze                 = 5;\n            /** An system pause event */\n        var se_suspend                  = 6;\n            /** An system shutdown event */\n        var se_shutdown                 = 7;\n            /** An system window event */\n        var se_window                   = 8;\n            /** An system input event */\n        var se_input                    = 9;\n\n            //snow application events\n\n            /** An system quit event. Initiated by user, can be cancelled/ignored */\n        var se_quit                       = 10;\n            /** An system terminating event, called by the OS (mobile specific) */\n        var se_app_terminating            = 11;\n            /** An system low memory event, clear memory if you can. Called by the OS (mobile specific) */\n        var se_app_lowmemory              = 12;\n            /** An event for just before the app enters the background, called by the OS (mobile specific) */\n        var se_app_willenterbackground    = 13;\n            /** An event for when the app enters the background, called by the OS (mobile specific) */\n        var se_app_didenterbackground     = 14;\n            /** An event for just before the app enters the foreground, called by the OS (mobile specific) */\n        var se_app_willenterforeground    = 15;\n            /** An event for when the app enters the foreground, called by the OS (mobile specific) */\n        var se_app_didenterforeground     = 16;\n\n\n        inline function toString() {\n            return switch(this) {\n                case se_unknown:                    'se_unknown';\n                case se_init:                       'se_init';\n                case se_ready:                      'se_ready';\n                case se_tick:                       'se_tick';\n                case se_freeze:                     'se_freeze';\n                case se_unfreeze:                   'se_unfreeze';\n                case se_shutdown:                   'se_shutdown';\n                case se_window:                     'se_window';\n                case se_input:                      'se_input';\n                case se_quit:                       'se_quit';\n                case se_app_terminating:            'se_app_terminating';\n                case se_app_lowmemory:              'se_app_lowmemory';\n                case se_app_willenterbackground:    'se_app_willenterbackground';\n                case se_app_didenterbackground:     'se_app_didenterbackground';\n                case se_app_willenterforeground:    'se_app_willenterforeground';\n                case se_app_didenterforeground:     'se_app_didenterforeground';\n                case _:                             '$this';\n            }\n        } //toString\n    } //SystemEventType\n\n    @:enum abstract WindowEventType(Int)\n        from Int to Int {\n\n            /** An unknown window event */\n        var we_unknown          = 0;\n            /** The window is shown */\n        var we_shown            = 1;\n            /** The window is hidden */\n        var we_hidden           = 2;\n            /** The window is exposed */\n        var we_exposed          = 3;\n            /** The window is moved */\n        var we_moved            = 4;\n            /** The window is resized, by the user or code. */\n        var we_resized          = 5;\n            /** The window is resized, by the OS or internals. */\n        var we_size_changed     = 6;\n            /** The window is minimized */\n        var we_minimized        = 7;\n            /** The window is maximized */\n        var we_maximized        = 8;\n            /** The window is restored */\n        var we_restored         = 9;\n            /** The window is entered by a mouse */\n        var we_enter            = 10;\n            /** The window is left by a mouse */\n        var we_leave            = 11;\n            /** The window has gained focus */\n        var we_focus_gained     = 12;\n            /** The window has lost focus */\n        var we_focus_lost       = 13;\n            /** The window is being closed/hidden */\n        var we_close            = 14;\n\n        inline function toString() {\n            return switch(this) {\n                case we_unknown:       'we_unknown';\n                case we_shown:         'we_shown';\n                case we_hidden:        'we_hidden';\n                case we_exposed:       'we_exposed';\n                case we_moved:         'we_moved';\n                case we_resized:       'we_resized';\n                case we_size_changed:  'we_size_changed';\n                case we_minimized:     'we_minimized';\n                case we_maximized:     'we_maximized';\n                case we_restored:      'we_restored';\n                case we_enter:         'we_enter';\n                case we_leave:         'we_leave';\n                case we_focus_gained:  'we_focus_gained';\n                case we_focus_lost:    'we_focus_lost';\n                case we_close:         'we_close';\n                case _:                '$this';\n            }\n        } //toString\n    } //WindowEventType\n\n    @:enum abstract InputEventType(Int)\n        from Int to Int {\n\n            /** An unknown input event */\n        var ie_unknown        = 0;\n            /** An keyboard input event */\n        var ie_key            = 1;\n            /** An keyboard text input event */\n        var ie_text           = 2;\n            /** An mouse input event */\n        var ie_mouse          = 3;\n            /** An touch input event */\n        var ie_touch          = 4;\n            /** An gamepad input event. */\n        var ie_gamepad        = 5;\n            /** An joystick input event. These are for older devices, and on mobile (for now): accellerometer */\n        var ie_joystick       = 6;\n\n        inline function toString() {\n            return switch(this) {\n                case ie_unknown:       'ie_unknown';\n                case ie_key:           'ie_key';\n                case ie_text:          'ie_text';\n                case ie_mouse:         'ie_mouse';\n                case ie_touch:         'ie_touch';\n                case ie_gamepad:       'ie_gamepad';\n                case ie_joystick:      'ie_joystick';\n                case _:                '$this';\n            }\n        } //toString\n    } //InputEventType\n","package snow.systems.assets;\n\nimport snow.systems.assets.Asset;\nimport snow.systems.assets.Assets;\nimport snow.types.Types;\nimport snow.api.buffers.Uint8Array;\nimport snow.api.Promise;\nimport snow.api.Debug.*;\n\n\n/**  An asset base class. Get assets from the `app.assets` */\nclass Asset {\n\n        /** The asset system */\n    public var system : Assets;\n        /** The id of this asset, i.e `assets/image.png` */\n    public var id : String;\n        /** True if this asset has completely loaded. */\n    public var loaded : Bool = false;\n        /** A convenience type id when dealing with the base class.\n            This is an Int because it can be any number for custom types,\n            by default uses AssetType for the base types. */\n    public var type : Int;\n\n\n        /** Called from subclasses, by `app.assets` */\n    public function new( _system:Assets, _id:String, _type:Int=0 ) {\n\n        assertnull( _id );\n        assertnull( _system );\n\n        system = _system;\n        type = _type;\n        id = _id;\n\n    } //new\n\n        /** Implemented by subclasses to clean up their data and references. */\n    public function destroy() {\n\n    }\n\n} //Asset\n\n\n//Image\n\n\n\n    class AssetImage extends snow.systems.assets.Asset {\n\n        public var image (default,set): ImageData;\n\n        public function new(_system:Assets, _id:String, _image:ImageData) {\n\n            super(_system, _id, at_image);\n            image = _image;\n\n        } //new\n\n        //Public API\n\n                /** Reloads the bytes from the stored id, using the default processor, returning a promise for the asset. */\n            public function reload() : Promise {\n\n                loaded = false;\n\n                return new Promise(function(resolve, reject) {\n\n                    var _load = system.app.io.data_flow(system.path(id), provider);\n\n                    _load.then(\n                        function(_image:ImageData){\n                            image = _image;\n                            resolve(this);\n                        }\n                    ).error(reject);\n\n                }); //promise\n\n            } //reload\n\n            override public function destroy() {\n\n                image.destroy();\n                image = null;\n\n            }\n\n                /** Reload the asset from bytes */\n            public function reload_from_bytes(_bytes:Uint8Array) {\n\n                loaded = false;\n\n                return new Promise(function(resolve, reject){\n\n                    var _load = system.module.image_info_from_bytes(id, _bytes);\n\n                    _load.then(function(_image:ImageData){\n                        image = _image;\n                        resolve(this);\n                    }).error(reject);\n\n                });\n\n            } //reload_from_bytes\n\n                /** Reload the asset from already decoded pixels */\n            public function reload_from_pixels(_width:Int, _height:Int, _pixels:Uint8Array) {\n\n                loaded = false;\n\n                image = system.module.image_info_from_pixels(id, _width, _height, _pixels);\n\n            } //reload_from_bytes\n\n        //Public Static API\n\n            public static function load(_system:Assets, _id:String) : Promise {\n\n                assertnull( _id );\n                assertnull( _system );\n\n                return new AssetImage(_system, _id, null).reload();\n\n            } //load\n\n            public static function load_from_bytes(_system:Assets, _id:String, _bytes:Uint8Array) : Promise {\n\n                assertnull( _id );\n                assertnull( _bytes );\n                assertnull( _system );\n\n                return new AssetImage(_system, _id, null).reload_from_bytes(_bytes);\n\n            } //load_from_bytes\n\n            public static function load_from_pixels(_system:Assets, _id:String, _width:Int, _height:Int, _pixels:Uint8Array) : AssetImage {\n\n                assertnull( _id );\n                assertnull( _pixels );\n                assertnull( _system );\n\n                var info = _system.module.image_info_from_pixels(_id, _width, _height, _pixels);\n\n                return new AssetImage(_system, _id, info);\n\n            } //load_from_pixels\n\n                /** A default io provider, using image_info_from_load from the asset module.\n                    Promises ImageData. Takes an asset path, not an asset id (use assets.path(id))*/\n            public static function provider(_app:snow.Snow, _path:String) : Promise {\n\n                return _app.assets.module.image_info_from_load(_path);\n\n            } //provider\n\n                /** A convenience io processor, using image_info_from_bytes, from the asset module. Promises ImageData */\n            public static function processor(_app:snow.Snow, _id:String, _data:Uint8Array) : Promise {\n\n                if(_data == null) return Promise.reject(Error.error(\"AssetImage processor: data was null\"));\n\n                return _app.assets.module.image_info_from_bytes(_id, _data);\n\n            } //load\n\n        //Internal\n\n                /** Set the image contained to a new value */\n            function set_image(_image:ImageData) {\n\n                loaded = _image != null;\n                return image = _image;\n\n            } //set_image\n\n    } //AssetImage\n\n\n//Audio\n\n\n    class AssetAudio extends snow.systems.assets.Asset {\n\n        public var audio (default,set): AudioData;\n\n        public function new(_system:Assets, _id:String, _audio:AudioData) {\n\n            super(_system, _id, at_audio);\n            audio = _audio;\n\n        } //new\n\n        //Public API\n\n                /** Reloads the audio from the stored id, using audio module `data_from_load`, returning a promise for the asset. */\n            public function reload(?_is_stream:Bool=false) : Promise {\n\n                loaded = false;\n\n                return new Promise(function(resolve, reject) {\n\n                    var _load = system.app.audio.module.data_from_load(system.path(id), _is_stream);\n\n                    _load.then(\n                        function(_audio:AudioData){\n                            audio = _audio;\n                            resolve(this);\n                        }\n                    ).error(reject);\n\n                }); //promise\n\n            } //reload\n\n            override public function destroy() {\n            \n                audio.destroy();\n                audio = null;\n            \n            } //destroy\n\n                /** Reload the asset from bytes */\n            public function reload_from_bytes(_bytes:Uint8Array, _format:AudioFormatType) {\n\n                loaded = false;\n\n                return new Promise(function(resolve, reject){\n\n                    var _load = system.app.audio.module.data_from_bytes(id, _bytes, _format);\n\n                    _load.then(function(_audio:AudioData){\n                        audio = _audio;\n                        resolve(this);\n                    }).error(reject);\n\n                });\n\n            } //reload_from_bytes\n\n        //Public Static API\n\n            public static function load(_system:Assets, _id:String, ?_is_stream:Bool=false) : Promise {\n\n                assertnull( _id );\n                assertnull( _system );\n\n                return new AssetAudio(_system, _id, null).reload(_is_stream);\n\n            } //load\n\n            public static function load_from_bytes(_system:Assets, _id:String, _bytes:Uint8Array, _format:AudioFormatType) : Promise {\n\n                assertnull( _id );\n                assertnull( _bytes );\n                assertnull( _system );\n\n                return new AssetAudio(_system, _id, null).reload_from_bytes(_bytes, _format);\n\n            } //load_from_bytes\n\n        //Internal\n\n                /** Set the audio contained to a new value */\n            function set_audio(_audio:AudioData) {\n\n                loaded = _audio != null;\n                return audio = _audio;\n\n            } //set_audio\n\n    } //AssetAudio\n\n\n//Bytes\n\n\n    class AssetBytes extends Asset {\n\n        public var bytes (default,set): Uint8Array;\n\n        public function new(_system:Assets, _id:String, _bytes:Uint8Array) {\n\n            super(_system, _id, at_bytes);\n            bytes = _bytes;\n\n        } //new\n\n        //Public API\n\n                /** Reloads the bytes from it's stored id, using the default processor, returning a promise for the asset. */\n            public function reload() : Promise {\n\n                return new Promise(function(resolve, reject) {\n\n                    system.app.io.data_flow(system.path(id)).then(function(_bytes:Uint8Array){\n\n                        bytes = _bytes;\n                        resolve(this);\n\n                    }).error(reject);\n\n                }); //promise\n\n            } //reload\n\n            override public function destroy() {\n                //:note: can't set the buffer on js, this is mostly for cpp gc anyway\n                #if snow_native if(bytes != null) bytes.buffer = null; #end\n                bytes = null;\n            }\n\n        //Static API\n\n                /** Create a new AssetBytes from an id, which returns a promise for the asset. */\n            public static function load( _system:Assets, _id:String ) : Promise {\n\n                return new AssetBytes(_system, _id, null).reload();\n\n            } //load\n\n\n        //Internal\n\n                /** Set the bytes contained to a new value */\n            function set_bytes(_bytes:Uint8Array) {\n\n                loaded = _bytes != null;\n                return bytes = _bytes;\n\n            } //set_bytes\n\n    } //AssetBytes\n\n\n//Text\n\n\n    class AssetText extends Asset {\n\n        public var text (default,set): String;\n\n        public function new(_system:Assets, _id:String, _text:String) {\n\n            super(_system, _id, at_text);\n            text = _text;\n\n        } //new\n\n        //Public API\n\n                /** Reloads the text from it's stored id, returning a promise for the asset. */\n            public function reload() : Promise {\n\n                return new Promise(function(resolve, reject) {\n\n                    system.app.io.data_flow(system.path(id), processor).then(function(_text:String){\n\n                        text = _text;\n                        resolve(this);\n\n                    }).error(reject);\n\n                }); //promise\n\n            } //reload\n\n            override public function destroy() {\n                text = null;\n            }\n\n        //Static API\n\n                /** Create a new AssetText from an id, which returns a promise for the asset. */\n            public static function load( _system:Assets, _id:String ) : Promise {\n\n                return new AssetText(_system, _id, null).reload();\n\n            } //load\n\n                /** A default text processor for the data processor API */\n            public static function processor(_app:snow.Snow, _id:String, _data:Uint8Array) : Promise {\n\n                if(_data == null) return Promise.reject(Error.error(\"AssetText processor: data was null\"));\n\n                var _string = _data.toBytes().toString();\n                    //:note: can't set the buffer on js, this is mostly for cpp gc anyway\n                    #if snow_native _data.buffer = null; #end\n                    _data = null;\n\n                return Promise.resolve(_string);\n\n            } //processor\n\n        //Internal\n\n                /** Set the text contained to a new value */\n            function set_text(_text:String) {\n\n                loaded = _text != null;\n                return text = _text;\n\n            } //set_text\n\n    } //AssetText\n\n//JSON\n\n    class AssetJSON extends Asset {\n\n        /** The json data stored in the asset */\n        public var json (default,set): Dynamic;\n\n        public function new( _system:snow.systems.assets.Assets, _id:String, _json:Dynamic ) {\n\n            super(_system, _id, at_json);\n            json = _json;\n\n        } //new\n\n        //Public API\n\n                /** Reloads the json from it's stored id, returning a promise for the asset. */\n            public function reload() : Promise {\n\n                return new Promise(function(resolve, reject) {\n\n                    system.app.io.data_flow(system.path(id), processor).then(function(_json:Dynamic){\n\n                        json = _json;\n                        resolve(this);\n\n                    }).error(reject);\n\n                }); //promise\n\n            } //reload\n\n            override public function destroy() {\n                json = null;\n            }\n\n        //Static API\n\n                /** Create a new AssetJSON from an id, which returns a promise for the asset. */\n            public static function load( _system:snow.systems.assets.Assets, _id:String ) : Promise {\n\n                return new AssetJSON(_system, _id, null).reload();\n\n            } //load\n\n                /** A default json processor for the data processor API */\n            public static function processor(_app:snow.Snow, _id:String, _data:Uint8Array) : Promise {\n\n                if(_data == null) return Promise.reject(Error.error(\"AssetJSON: data was null\"));\n\n                return new Promise(function(resolve, reject) {\n\n                    var _data_json : Dynamic = null;\n\n                    try { \n                        _data_json = haxe.Json.parse(_data.toBytes().toString()); \n                        _data = null;\n                    } catch(e:Dynamic) {\n                        _data = null;\n                        return reject(Error.parse(e));\n                    }\n\n                    return resolve(_data_json);\n\n                }); //promise\n\n            } //processor\n\n        //Internal\n\n                /** Set the json contained to a new value */\n            function set_json(_json:Dynamic) {\n\n                loaded = _json != null;\n                return json = _json;\n\n            } //set_json\n\n    } //AssetJSON\n","package snow.systems.assets;\n\nimport snow.api.Promise;\nimport snow.api.buffers.Uint8Array;\nimport snow.api.Debug.*;\n\nimport snow.systems.assets.Asset;\nimport snow.types.Types;\n\n/** The asset system class gives you access to fetching and manipulating assets,\n    handling loading files and data in a consistent cross platform way */\n@:allow(snow.Snow)\nclass Assets {\n\n\n        /** If the assets are not relative to the runtime root path, this value can adjust all asset paths. This is automatically handled and exists to allow control. */\n    public var root : String = '';\n\n        /** access to module implementation */\n    public var module : ModuleAssets;\n        /** access to snow from subsystems */\n    public var app : Snow;\n\n\n        /** constructed internally, use `app.assets` */\n    function new( _app:Snow ) {\n\n        #if (ios || tvos)\n                //This is because of how the files are put into the xcode project\n                //for the iOS builds, it stores them inside of /assets to avoid\n                //including the root in the project in the Resources/ folder\n            root = 'assets/';\n        #end\n\n        app = _app;\n        module = new ModuleAssets(app);\n\n    } //new\n\n        /** Shutdown and clean up etc. */\n    function shutdown() {\n\n        module.shutdown();\n\n    } //shutdown\n\n\n//Public API\n\n        /** Get the asset path for an asset, adjusted by platform, root etc. */\n    public inline function path(_id:String) : String\n        return haxe.io.Path.join([root,_id]);\n\n        /** Get an asset as an `AssetBytes`, data stored as `Uint8Array`, using the default processor and provider */\n    public inline function bytes(_id:String) : Promise\n        return AssetBytes.load(this, _id);\n\n        /** Get an asset as an `AssetText`, data stored as `String`, using the default processor and provider */\n    public inline function text(_id:String) : Promise\n        return AssetText.load(this, _id);\n\n        /** Get an asset as an `AssetJSON`, data stored as `Dynamic`, using the default processor and provider */\n    public inline function json(_id:String) : Promise\n        return AssetJSON.load(this, _id);\n\n        /** Get an asset as an `AssetImage`, data stored as `ImageData`, using the default processor and provider */\n    public inline function image(_id:String) : Promise\n        return AssetImage.load(this, _id);\n\n        /** Get an asset as an `AssetImage`, data stored as `ImageData`, created from image file bytes (not pixels). */\n    public inline function image_from_bytes(_id:String, _bytes:Uint8Array) : Promise\n        return AssetImage.load_from_bytes(this, _id, _bytes);\n\n        /** Get an asset as an `AssetImage`, data stored as `ImageData`, created from image file pixels */\n    public inline function image_from_pixels(_id:String, _width:Int, _height:Int, _pixels:Uint8Array) : AssetImage\n        return AssetImage.load_from_pixels(this, _id, _width, _height, _pixels);\n\n        /** Get an asset as an `AssetAudio`, data stored as `AudioData`, using the default processor and provider */\n    public inline function audio(_id:String, ?_is_stream:Bool=false) : Promise\n        return AssetAudio.load(this, _id, _is_stream);\n\n        /** Get an asset as an `AssetAudio`, data stored as `AudioData`, created from audio file bytes. */\n    public inline function audio_from_bytes(_id:String, _bytes:Uint8Array, _format:AudioFormatType) : Promise\n        return AssetAudio.load_from_bytes(this, _id, _bytes, _format);\n\n} //Assets\n","package snow.systems.audio;\n\nimport snow.types.Types;\nimport snow.systems.assets.Asset;\nimport snow.systems.audio.AudioInstance;\nimport snow.api.Promise;\nimport snow.api.Debug.*;\nimport snow.api.Emitter;\n\n\n@:allow(snow.Snow)\nclass Audio {\n\n        /** access to snow from subsystems */\n    public var app : Snow;\n        /** access to module specific implementation */\n    public var module : ModuleAudio;\n        /** Set to false to stop any and all processing in the audio system */\n    public var active : Bool = false;\n\n    var emitter : Emitter<AudioEvent>;\n\n        /** constructed internally, use `app.audio` */\n    function new(_app:Snow) {\n\n        app = _app;\n        module = new ModuleAudio(app);\n        emitter = new Emitter();\n        active = module.active;\n\n    } //new\n\n//Public API\n\n    @:generic\n    public function on<T>(_event:AudioEvent, _handler:T->Void) : Void {\n    \n        emitter.on(_event, _handler);\n    \n    } //on\n    \n    @:generic\n    public function off<T>(_event:AudioEvent, _handler:T->Void) : Bool {\n    \n        return emitter.off(_event, _handler);\n    \n    } //off\n        \n    @:generic\n    public function emit<T>(_event:AudioEvent, _data:T) : Void {\n    \n        emitter.emit(_event, _data);\n    \n    } //emit\n    \n    public function play(_source:AudioSource, ?_volume:Float=1.0, ?_paused:Bool=false) : AudioHandle {\n\n        assert(_source != null, 'audio source must not be null');\n\n        if(!active) {\n            return -1;\n        }\n\n        return module.play(_source, _volume, _paused);\n\n    } //play\n\n        /** play and loop a sound source, indefinitely. Use stop to end it. */\n    public function loop(_source:AudioSource, ?_volume:Float=1.0, ?_paused:Bool=false) : AudioHandle {\n        \n        assert(_source != null, 'audio source must not be null');\n\n        if(!active) {\n            return -1;\n        }\n\n        return module.loop(_source, _volume, _paused);\n\n    } //loop\n\n    public function pause(_handle:AudioHandle) : Void {\n        if(!active || _handle == null) return;\n        module.pause(_handle);\n    } //pause\n\n    public function unpause(_handle:AudioHandle) : Void {\n        if(!active || _handle == null) return;\n        module.unpause(_handle);\n    } //unpause\n\n    public function stop(_handle:AudioHandle) : Void {\n        if(!active || _handle == null) return;\n        module.stop(_handle);\n    } //stop\n\n    public function volume(_handle:AudioHandle, _volume:Float) : Void {\n        if(!active || _handle == null) return;\n        module.volume(_handle, _volume);\n    } //volume\n\n    public function pan(_handle:AudioHandle, _pan:Float) : Void {\n        if(!active || _handle == null) return;\n        module.pan(_handle, _pan);\n    } //pan\n\n    public function pitch(_handle:AudioHandle, _pitch:Float) : Void {\n        if(!active || _handle == null) return;\n        module.pitch(_handle, _pitch);\n    } //pitch\n\n    public function position(_handle:AudioHandle, _position:Float) : Void {\n        if(!active || _handle == null) return;\n        module.position(_handle, _position);\n    } //position\n\n    public function state_of(_handle:AudioHandle) : AudioState {\n        return module.state_of(_handle);\n    } //state_of\n\n    public function loop_of(_handle:AudioHandle) : Bool {\n        assert(active, 'audio is suspended, queries are invalid');\n        return module.loop_of(_handle);\n    } //loop_of\n\n    public function instance_of(_handle:AudioHandle) : AudioInstance {\n        assert(active, 'audio is suspended, queries are invalid');\n        return module.instance_of(_handle); \n    } //instance_of\n\n    public function volume_of(_handle:AudioHandle) : Float {\n        assert(active, 'audio is suspended, queries are invalid');\n        return module.volume_of(_handle); \n    } //volume_of\n\n    public function pan_of(_handle:AudioHandle) : Float {\n        assert(active, 'audio is suspended, queries are invalid');\n        return module.pan_of(_handle); \n    } //pan_of\n\n    public function pitch_of(_handle:AudioHandle) : Float {\n        assert(active, 'audio is suspended, queries are invalid');\n        return module.pitch_of(_handle); \n    } //pitch_of\n\n    public function position_of(_handle:AudioHandle) : Float {\n        assert(active, 'audio is suspended, queries are invalid');\n        return module.position_of(_handle); \n    } //position_of\n\n    public function suspend() : Void {\n\n        if(!active) {\n            return;\n        }\n\n        _debug(\"suspending sound context\");\n        active = false;\n        module.suspend();\n\n    } //suspend\n\n    public function resume() : Void {\n\n        if(active || !module.active) {\n            return;\n        }\n\n        _debug(\"resuming sound context\");\n        active = true;\n        module.resume();\n\n    } //resume\n\n//Internal\n\n        /** Called by Snow when a system event is dispatched */\n    function onevent( _event:SystemEvent ) {\n\n        module.onevent(_event);\n\n        if(_event.type == se_freeze) {\n            suspend();\n        } else if(_event.type == se_unfreeze) {\n            resume();\n        } else if(_event.type == se_window) {\n            switch(_event.window.type) {\n                case WindowEventType.we_minimized:\n                    suspend();\n                case WindowEventType.we_restored:\n                    resume();\n                case _: {}\n            }\n        }\n\n    } //onevent\n\n        /** Called by Snow, cleans up sounds/system */\n    function shutdown() {\n\n        active = false;\n        module.shutdown();\n\n    } //shutdown\n\n} //Audio\n","package snow.systems.audio;\n\nimport snow.api.Emitter;\nimport snow.systems.audio.AudioSource;\nimport snow.types.Types.AudioHandle;\nimport snow.api.buffers.Uint8Array;\nimport snow.api.Debug.*;\n\nclass AudioInstance {\n\n    public var source : AudioSource;\n    public var handle : AudioHandle;\n    public var destroyed : Bool = false;\n\n        /** Create a new instance from the given audio source.\n            Usually called via `source.instance()`, not directly. */\n    public function new(_source:AudioSource, _handle:AudioHandle) {\n\n        source = _source;\n        handle = _handle;\n        \n    }\n\n    public function tick() : Void {\n\n    }\n\n    public function has_ended() : Bool {\n        \n        assert(destroyed == false, 'snow / Audio / Instance has_ended queried after being destroyed');\n\n        return source.app.audio.state_of(handle) == as_stopped;\n\n    } //has_ended\n\n    public function destroy() {\n\n        assert(destroyed == false, 'snow / Audio / Instance being destroyed more than once');\n\n        source.app.audio.emit(ae_destroyed, handle);\n        source.instance_killed(this);\n        destroyed = true;\n        source = null;\n        handle = -1;\n\n    } //destroy\n\n    public function data_get(_into:Uint8Array, _start:Int, _length:Int, _into_result:Array<Int>) : Array<Int> {\n\n        assert(destroyed == false, 'snow / Audio / Instance data_get queried after being destroyed');\n\n        return source.data.portion(_into, _start, _length, _into_result);\n\n    } //data_get\n        \n    public function data_seek(_to_samples:Int) : Bool {\n\n        assert(destroyed == false, 'snow / Audio / Instance data_seek queried after being destroyed');\n\n        return source.data.seek(_to_samples);\n\n    } //data_seek\n    \n} //AudioInstance\n","package snow.systems.audio;\n\nimport snow.api.Debug.*;\nimport snow.types.Types.AudioHandle;\nimport snow.types.Types.AudioData;\nimport snow.systems.audio.AudioInstance;\n\nclass AudioSource {\n\n    public var app: snow.Snow;\n    public var data: AudioData;\n\n        /** Streams only:  The size in bytes of a single stream buffer.\n            This is ~1 sec in 16 bit mono. default:176400\n            for most cases this can be left alone. */\n    public var stream_buffer_length : Int = 176400;\n        /** Streams only: The number of buffers to queue up. default:2\n            For most cases this can be left alone. */\n    public var stream_buffer_count : Int = 2;\n        /** Whether this source has been destroyed */\n    public var destroyed : Bool = false;\n        /** A unique key for this source  */\n    public var source_id : String;\n\n        //local list of instances spawned from this source.\n        //used when destroying the source, to take instances with it.\n    var instances : Array<AudioInstance>;\n\n    public function new(_app:snow.Snow, _data:AudioData) {\n\n        app = _app;\n        data = _data;\n        source_id = app.uniqueid;\n\n        _debug('AudioSource / `$source_id` / ${data.id}');\n\n        instances = [];\n\n    } //new\n\n        /** Called by the audio system to obtain a new instance of this source. */\n    public function instance(_handle:AudioHandle) : AudioInstance {\n\n        var _instance = new AudioInstance(this, _handle);\n\n        if(instances.indexOf(_instance) == -1) {\n            instances.push(_instance);\n        }\n\n        return _instance;\n\n    } //instance\n\n        /** A helper for converting bytes to seconds for a sound source */\n    public function bytes_to_seconds(_bytes:Int) : Float {\n\n        var _word = data.bits_per_sample == 16 ? 2 : 1;\n        var _sample_frames = (data.rate * data.channels * _word);\n\n        return _bytes / _sample_frames;\n\n    } //bytes_to_seconds\n\n        /** A helper for converting seconds to bytes for this audio source */\n    public function seconds_to_bytes(_seconds:Float) : Int {\n\n        var _word = data.bits_per_sample == 16 ? 2 : 1;\n        var _sample_frames = (data.rate * data.channels * _word);\n\n        return Std.int(_seconds * _sample_frames);\n\n    } //seconds_to_bytes\n\n        //\n    public function duration() : Float {\n\n        return bytes_to_seconds(data.length);\n\n    } //duration\n\n    public function destroy() {\n\n        if(destroyed) {\n            log('destroying already destroyed source!');\n            return;\n        }\n\n        destroyed = true;\n\n        var c = instances.length;\n        var i = 0;\n\n        _debug('destroy / $source_id / ${data.id}, stream=${data.is_stream}, instances=$c');\n\n        while(i < c) {\n            var _instance = instances.pop();\n            _instance.destroy();\n            _instance = null;\n            i++;\n        }\n\n        app.audio.emit(ae_destroyed_source, this);\n\n        data.destroy();\n        data = null;\n        instances = null;\n        app = null;\n\n    } //destroy\n\n    @:allow(snow.systems.audio.AudioInstance)\n    function instance_killed(_instance:AudioInstance) {\n\n        instances.remove(_instance);\n\n    }\n\n} //AudioSource\n","package snow.systems.input;\n\nimport snow.types.Types;\nimport snow.api.Debug.assert;\n\ntypedef MapIntBool = Map<Int, Bool>;\ntypedef MapIntFloat = Map<Int, Float>;\n\n/** The snow input system. Accessed via `app.input` */\n@:allow(snow.Snow)\nclass Input {\n\n        /** access to snow from subsystems */\n    var app : Snow;\n\n        /** An internal value for how many gamepads to pre-set up at creation time */\n    var gamepad_init_count = 16;\n        /** A prealloacated input event for dispatching */\n    var event: InputEvent;\n    var key_event: KeyEvent;\n    var text_event: TextEvent;\n    var mouse_event: MouseEvent;\n    var touch_event: TouchEvent;\n    var gamepad_event: GamepadEvent;\n\n    @:allow(snow.core.Runtime)\n    var mod_state: ModState;\n\n        /** Constructed internally, use `app.input` */\n    function new( _app:Snow ) {\n\n        app = _app;\n        event = new InputEvent();\n        key_event = new KeyEvent();\n        text_event = new TextEvent();\n        mouse_event = new MouseEvent();\n        touch_event = new TouchEvent();\n        gamepad_event = new GamepadEvent();\n        mod_state = new ModState();\n        mod_state.none = true;\n\n        //keys\n\n            key_code_pressed = new Map();\n            key_code_down = new Map();\n            key_code_released = new Map();\n\n            scan_code_pressed = new Map();\n            scan_code_down = new Map();\n            scan_code_released = new Map();\n\n        //mouse\n\n            mouse_button_pressed = new Map();\n            mouse_button_down = new Map();\n            mouse_button_released = new Map();\n\n        //gamepad\n\n            gamepad_button_pressed = new Map();\n            gamepad_button_down = new Map();\n            gamepad_button_released = new Map();\n            gamepad_axis_values = new Map();\n            \n            for(i in 0...gamepad_init_count) {\n                gamepad_button_pressed.set(i, new Map());\n                gamepad_button_down.set(i, new Map());\n                gamepad_button_released.set(i, new Map());\n                gamepad_axis_values.set(i, new Map());\n            }\n\n        //touch\n\n            touches_down = new Map();\n\n    } //new\n\n        /** Destroy and clean up etc. */\n    function shutdown() {\n\n    } //shutdown\n\n//Public facing API\n\n\n    //Key immediate style access\n     //\n            /** returns true if the `Key` value was pressed in the latest frame */\n        public function keypressed( _code:Int ) : Bool {\n            return key_code_pressed.exists(_code);\n        } //keypressed\n\n            /** returns true if the `Key` value was released in the latest frame */\n        public function keyreleased( _code:Int ) : Bool {\n            return key_code_released.exists(_code);\n        } //keyreleased\n\n            /** returns true if the `Key` value is down at the time of calling this */\n        public function keydown( _code:Int ) : Bool {\n           return key_code_down.exists(_code);\n        } //keydown\n\n            /** returns true if the `Scan` value was pressed in the latest frame */\n        public function scanpressed( _code:Int ) : Bool {\n            return scan_code_pressed.exists(_code);\n        } //scanpressed\n\n            /** returns true if the `Scan` value was released in the latest frame */\n        public function scanreleased( _code:Int ) : Bool {\n            return scan_code_released.exists(_code);\n        } //scanreleased\n\n            /** returns true if the `Scan` value is down at the time of calling this */\n        public function scandown( _code:Int ) : Bool {\n           return scan_code_down.exists(_code);\n        } //keydown\n\n    //Mouse immediate style access\n      //\n            /** returns true if the mouse button was pressed in the latest frame */\n        public function mousepressed( _button:Int ) : Bool {\n            return mouse_button_pressed.exists(_button);\n        } //keypressed\n\n            /** returns true if the mouse button was released in the latest frame */\n        public function mousereleased( _button:Int ) : Bool {\n            return mouse_button_released.exists(_button);\n        } //mousereleased\n\n            /** returns true if the mouse button value is down at the time of calling this */\n        public function mousedown( _button:Int ) : Bool {\n           return mouse_button_down.exists(_button);\n        } //mousedown\n\n    //Gamepad immediate style access\n     //\n            /** returns true if the mouse button was pressed in the latest frame */\n        public function gamepadpressed( _gamepad:Int, _button:Int ) : Bool {\n\n            var _gamepad_state = gamepad_button_pressed.get(_gamepad);\n            return _gamepad_state != null ? _gamepad_state.exists(_button) : false;\n\n        } //keypressed\n\n            /** returns true if the gamepad button was released in the latest frame */\n        public function gamepadreleased( _gamepad:Int, _button:Int ) : Bool {\n\n            var _gamepad_state = gamepad_button_released.get(_gamepad);\n            return _gamepad_state != null ? _gamepad_state.exists(_button) : false;\n\n        } //gamepadreleased\n\n            /** returns true if the gamepad button value is down at the time of calling this */\n        public function gamepaddown( _gamepad:Int, _button:Int ) : Bool {\n\n           var _gamepad_state = gamepad_button_down.get(_gamepad);\n            return _gamepad_state != null ? _gamepad_state.exists(_button) : false;\n\n        } //gamepaddown\n\n            /** returns true if the gamepad button value is down at the time of calling this */\n        public function gamepadaxis( _gamepad:Int, _axis:Int ) : Float {\n\n            var _gamepad_state = gamepad_axis_values.get(_gamepad);\n            if(_gamepad_state != null) {\n                if(_gamepad_state.exists(_axis)) {\n                    return _gamepad_state.get(_axis);\n                }\n            }\n\n            return 0;\n\n        } //gamepaddown\n\n        /** manually dispatch a key down event through the system, delivered to the app handlers, internal and external */\n\n    public function dispatch_key_down_event( keycode:Int, scancode:Int, repeat:Bool, mod:ModState, timestamp:Float, window_id:Int ) {\n        //\n\n            //only do the realtime flags if not key repeat\n        if(!repeat) {\n                //flag the key as pressed, but unprocessed (false)\n            key_code_pressed.set(keycode, false);\n                //flag it as down, because keyup removes it\n            key_code_down.set(keycode, true);\n                //flag the scan as pressed, but unprocessed (false)\n            scan_code_pressed.set(scancode, false);\n                //flag it as down, because keyup removes it\n            scan_code_down.set(scancode, true);\n        }\n\n            //dispatch the event\n        key_event.set(ke_down, keycode, scancode, repeat, mod);\n        event.set_key(key_event, window_id, timestamp);\n        app.dispatch_input_event(event);\n\n            //call the app directly\n        app.host.onkeydown(keycode, scancode, repeat, mod, timestamp, window_id);\n\n    } //dispatch_key_down_event\n\n        /** manually dispatch a key up event through the system, delivered to the app handlers, internal and external */\n    public function dispatch_key_up_event( keycode:Int, scancode:Int, repeat:Bool, mod:ModState, timestamp:Float, window_id:Int ) {\n        //\n\n            //flag it as released but unprocessed\n        key_code_released.set(keycode, false);\n            //remove the down flag\n        key_code_down.remove(keycode);\n\n            //flag it as released but unprocessed\n        scan_code_released.set(scancode, false);\n            //remove the down flag\n        scan_code_down.remove(scancode);\n\n\n            //dispatch the event\n        key_event.set(ke_up, keycode, scancode, repeat, mod);\n        event.set_key(key_event, window_id, timestamp);\n        app.dispatch_input_event(event);\n\n            //call the app directly\n        app.host.onkeyup(keycode, scancode, repeat, mod, timestamp, window_id);\n\n    } //dispatch_key_up_event\n\n        /** manually dispatch a text event through the system, delivered to the app handlers, internal and external */\n    public function dispatch_text_event( text:String, start:Int, length:Int, type:TextEventType, timestamp:Float, window_id:Int ) {\n\n        text_event.set(type, text, start, length);\n        event.set_text(text_event, window_id, timestamp);\n        app.dispatch_input_event(event);\n\n        app.host.ontextinput( text, start, length, type, timestamp, window_id );\n\n    } //dispatch_text_event\n\n\n        /** manually dispatch a mouse move event through the system, delivered to the app handlers, internal and external */\n    public function dispatch_mouse_move_event( x:Int, y:Int, xrel:Int, yrel:Int, timestamp:Float, window_id:Int ) {\n\n        mouse_event.set(me_move, x, y, xrel, yrel, 0, 0, 0);\n        event.set_mouse(mouse_event, window_id, timestamp);\n        app.dispatch_input_event(event);\n\n        app.host.onmousemove( x, y, xrel, yrel, timestamp, window_id );\n\n    } //dispatch_mouse_move_event\n\n        /** manually dispatch a mouse button down event through the system, delivered to the app handlers, internal and external */\n    public function dispatch_mouse_down_event( x:Int, y:Int, button:Int, timestamp:Float, window_id:Int ) {\n        //\n            //flag the button as pressed, but unprocessed (false)\n        mouse_button_pressed.set(button, false);\n            //flag it as down, because mouseup removes it\n        mouse_button_down.set(button, true);\n\n        mouse_event.set(me_down, x, y, 0, 0, button, 0, 0);\n        event.set_mouse(mouse_event, window_id, timestamp);\n        app.dispatch_input_event(event);\n\n        app.host.onmousedown( x, y, button, timestamp, window_id );\n\n    } //dispatch_mouse_down_event\n\n        /** manually dispatch a mouse button up event through the system, delivered to the app handlers, internal and external */\n    public function dispatch_mouse_up_event( x:Int, y:Int, button:Int, timestamp:Float, window_id:Int ) {\n        //\n            //flag it as released but unprocessed\n        mouse_button_released.set(button, false);\n            //remove the down flag\n        mouse_button_down.remove(button);\n\n        mouse_event.set(me_up, x, y, 0, 0, button, 0, 0);\n        event.set_mouse(mouse_event, window_id, timestamp);\n        app.dispatch_input_event(event);\n\n\n        app.host.onmouseup( x, y, button, timestamp, window_id );\n\n    } //dispatch_mouse_up_event\n\n        /** manually dispatch a mouse wheel event through the system, delivered to the app handlers, internal and external */\n    public function dispatch_mouse_wheel_event( x:Float, y:Float, timestamp:Float, window_id:Int ) {\n\n        mouse_event.set(me_wheel, 0, 0, 0, 0, 0, x, y);\n        event.set_mouse(mouse_event, window_id, timestamp);\n        app.dispatch_input_event(event);\n\n        app.host.onmousewheel( x, y, timestamp, window_id );\n\n    } //dispatch_mouse_wheel_event\n\n        /** manually dispatch a touch down through the system, delivered to the app handlers, internal and external */\n    public function dispatch_touch_down_event( x:Float, y:Float, dx:Float, dy:Float, touch_id:Int, timestamp:Float ) {\n\n        if(!touches_down.exists(touch_id)) {\n            touch_count++;\n            touches_down.set(touch_id, true);\n        }\n\n        touch_event.set(te_down, touch_id, x, y, dx, dy);\n        event.set_touch(touch_event, timestamp);\n        app.dispatch_input_event(event);\n\n        app.host.ontouchdown( x, y, dx, dy, touch_id, timestamp );\n\n    } //dispatch_touch_down_event\n\n        /** manually dispatch a touch up through the system, delivered to the app handlers, internal and external */\n    public function dispatch_touch_up_event( x:Float, y:Float, dx:Float, dy:Float, touch_id:Int, timestamp:Float ) {\n\n        touch_event.set(te_up, touch_id, x, y, dx, dy);\n        event.set_touch(touch_event, timestamp);\n        app.dispatch_input_event(event);\n\n        app.host.ontouchup( x, y, dx, dy, touch_id, timestamp );\n\n        if(touches_down.remove(touch_id)) {\n            touch_count--;\n        }\n\n    } //dispatch_touch_up_event\n\n        /** manually dispatch a touch move through the system, delivered to the app handlers, internal and external */\n    public function dispatch_touch_move_event( x:Float, y:Float, dx:Float, dy:Float, touch_id:Int, timestamp:Float ) {\n        \n        touch_event.set(te_move, touch_id, x, y, dx, dy);\n        event.set_touch(touch_event, timestamp);\n        app.dispatch_input_event(event);\n\n        app.host.ontouchmove( x, y, dx, dy, touch_id, timestamp );\n\n    } //dispatch_touch_move_event\n\n        /** manually dispatch a gamepad axis event through the system, delivered to the app handlers, internal and external */\n    public function dispatch_gamepad_axis_event( gamepad:Int, axis:Int, value:Float, timestamp:Float ) {\n\n        assert(gamepad_axis_values.exists(gamepad), 'gamepad with id $gamepad not pre-inited? Is gamepad_init_count too low, or the gamepad id not sequential from 0?');\n\n            //update the axis value\n        gamepad_axis_values.get(gamepad).set(axis, value);\n\n        gamepad_event.set_axis(gamepad, axis, value);\n        event.set_gamepad(gamepad_event, timestamp);\n        app.dispatch_input_event(event);\n\n        app.host.ongamepadaxis( gamepad, axis, value, timestamp );\n\n    } //dispatch_gamepad_axis_event\n\n        /** manually dispatch a gamepad button down event through the system, delivered to the app handlers, internal and external */\n    public function dispatch_gamepad_button_down_event( gamepad:Int, button:Int, value:Float, timestamp:Float ) {\n\n        assert(gamepad_button_pressed.exists(gamepad), 'gamepad with id $gamepad not pre-inited? Is gamepad_init_count too low, or the gamepad id not sequential from 0?');\n        assert(gamepad_button_down.exists(gamepad), 'gamepad with id $gamepad not pre-inited? Is gamepad_init_count too low, or the gamepad id not sequential from 0?');\n\n            //flag it as released but unprocessed\n        gamepad_button_pressed.get(gamepad).set(button, false);\n            //flag it as down, because gamepadup removes it\n        gamepad_button_down.get(gamepad).set(button, true);\n\n        gamepad_event.set_button(ge_down, gamepad, button, value);\n        event.set_gamepad(gamepad_event, timestamp);\n        app.dispatch_input_event(event);\n\n        app.host.ongamepaddown( gamepad, button, value, timestamp );\n\n    } //dispatch_gamepad_button_down_event\n\n        /** manually dispatch a gamepad button up event through the system, delivered to the app handlers, internal and external */\n    public function dispatch_gamepad_button_up_event( gamepad:Int, button:Int, value:Float, timestamp:Float ) {\n\n        assert(gamepad_button_released.exists(gamepad), 'gamepad with id $gamepad not pre-inited? Is gamepad_init_count too low, or the gamepad id not sequential from 0?');\n        assert(gamepad_button_down.exists(gamepad), 'gamepad with id $gamepad not pre-inited? Is gamepad_init_count too low, or the gamepad id not sequential from 0?');\n\n            //flag it as released but unprocessed\n        gamepad_button_released.get(gamepad).set(button, false);\n            //flag it as down, because gamepadup removes it\n        gamepad_button_down.get(gamepad).remove(button);\n\n        gamepad_event.set_button(ge_up, gamepad, button, value);\n        event.set_gamepad(gamepad_event, timestamp);\n        app.dispatch_input_event(event);\n\n        app.host.ongamepadup(gamepad, button, value, timestamp);\n\n    } //dispatch_gamepad_button_up_event\n\n        /** manually dispatch a gamepad device event through the system, delivered to the app handlers, internal and external */\n    public function dispatch_gamepad_device_event( gamepad:Int, id:String, type:GamepadDeviceEventType, timestamp:Float ) {\n\n        gamepad_event.set_device(gamepad, id, type);\n        event.set_gamepad(gamepad_event, timestamp);\n        app.dispatch_input_event(event);\n\n        app.host.ongamepaddevice(gamepad, id, type, timestamp);\n\n    } //dispatch_gamepad_device_event\n\n//Interal API\n //\n        /** Called when a system event is dispatched through the core */\n    function onevent( _event:SystemEvent ) {\n\n        if(_event.type == se_tick) {\n            _update_keystate();\n            _update_gamepadstate();\n            _update_mousestate();\n        }\n\n    } //onevent\n\n\n//internal\n //\n        /** update mouse pressed/released/down states */\n    function _update_mousestate() {\n\n        for(_code in mouse_button_pressed.keys()){\n\n            if(mouse_button_pressed.get(_code)){\n                mouse_button_pressed.remove(_code);\n            } else {\n                mouse_button_pressed.set(_code, true);\n            }\n\n        } //each mouse_button_pressed\n\n        for(_code in mouse_button_released.keys()){\n\n            if(mouse_button_released.get(_code)){\n                mouse_button_released.remove(_code);\n            } else {\n                mouse_button_released.set(_code, true);\n            }\n\n        } //each mouse_button_released\n\n    } //_update_mousestate\n\n        /** update gamepad pressed/released/down/axis states */\n    function _update_gamepadstate() {\n\n        for(_gamepad_pressed in gamepad_button_pressed){\n            for(_button in _gamepad_pressed.keys()) {\n\n                if(_gamepad_pressed.get(_button)){\n                    _gamepad_pressed.remove(_button);\n                } else {\n                    _gamepad_pressed.set(_button, true);\n                }\n\n            } //each _gamepad_pressed\n        } //each gamepad_button_pressed\n\n        for(_gamepad_released in gamepad_button_released){\n            for(_button in _gamepad_released.keys()) {\n\n                if(_gamepad_released.get(_button)){\n                    _gamepad_released.remove(_button);\n                } else {\n                    _gamepad_released.set(_button, true);\n                }\n\n            } //each _gamepad_released\n        } //each gamepad_button_released\n\n    } //_update_gamepadstate\n\n        /** update key pressed/released/down states */\n    function _update_keystate() {\n\n            //remove any stale key pressed value\n            //unless it wasn't alive for a full frame yet,\n            //then flag it so that it may be\n        for(_code in key_code_pressed.keys()){\n\n            if(key_code_pressed.get(_code)){\n                key_code_pressed.remove(_code);\n            } else {\n                key_code_pressed.set(_code, true);\n            }\n\n        } //each key_code_pressed\n\n            //remove any stale key released value\n            //unless it wasn't alive for a full frame yet,\n            //then flag it so that it may be\n        for(_code in key_code_released.keys()){\n\n            if(key_code_released.get(_code)){\n                key_code_released.remove(_code);\n            } else {\n                key_code_released.set(_code, true);\n            }\n\n        } //each key_code_released\n\n    //scans\n\n            //remove any stale key pressed value\n            //unless it wasn't alive for a full frame yet,\n            //then flag it so that it may be\n        for(_code in scan_code_pressed.keys()){\n\n            if(scan_code_pressed.get(_code)){\n                scan_code_pressed.remove(_code);\n            } else {\n                scan_code_pressed.set(_code, true);\n            }\n\n        } //each scan_code_pressed\n\n            //remove any stale key released value\n            //unless it wasn't alive for a full frame yet,\n            //then flag it so that it may be\n        for(_code in scan_code_released.keys()){\n\n            if(scan_code_released.get(_code)){\n                scan_code_released.remove(_code);\n            } else {\n                scan_code_released.set(_code, true);\n            }\n\n        } //each scan_code_released\n\n    } //_update_keystate\n\n\n\n        //this is the keycode based flags for keypressed/keyreleased/keydown\n    var key_code_down : MapIntBool;\n    var key_code_pressed : MapIntBool;\n    var key_code_released : MapIntBool;\n\n        //this is the scancode based flags for scanpressed/scanreleased/scandown\n    var scan_code_down : MapIntBool;\n    var scan_code_pressed : MapIntBool;\n    var scan_code_released : MapIntBool;\n\n        //this is the mouse button based flags for mousepressed/mousereleased/mousedown\n    var mouse_button_down : MapIntBool;\n    var mouse_button_pressed : MapIntBool;\n    var mouse_button_released : MapIntBool;\n\n        //this is the gamepad button based flags for gamepadpressed/gamepadreleased/gamepaddown\n    var gamepad_button_down : Map<Int, MapIntBool >;\n    var gamepad_button_pressed : Map<Int, MapIntBool >;\n    var gamepad_button_released : Map<Int, MapIntBool >;\n    var gamepad_axis_values : Map<Int, MapIntFloat >;\n\n        //:todo: touch state maps and count\n        //map of the touches currently down,\n    @:noCompletion public var touch_count : Int = 0;\n    @:noCompletion public var touches_down : MapIntBool;\n\n\n} //Input\n\n\n","package snow.systems.input;\n\n\n/** The keycode class, with conversion helpers for scancodes. The values below come directly from SDL header include files,\nbut they aren't specific to SDL so they are used generically */\n@:noCompletion class Keycodes {\n\n    /** Convert a scancode to a keycode for comparison */\n    public static inline function from_scan( scancode : Int ) : Int {\n\n        return (scancode | Scancodes.MASK);\n\n    } //from_scan\n\n        /** Convert a keycode to a scancode if possible.\n            NOTE - this will only map a large % but not all keys,\n            there is a list of unmapped keys commented in the code. */\n    public static function to_scan( keycode : Int ) : Int {\n\n            //quite a lot map directly to a masked scancode\n            //if that's the case, return it directly\n        if ((keycode & Scancodes.MASK) != 0) {\n            return keycode &~ Scancodes.MASK;\n        }\n\n            //now we translate them to the scan where unmapped\n\n        switch(keycode) {\n            case Keycodes.enter:         return Scancodes.enter;\n            case Keycodes.escape:        return Scancodes.escape;\n            case Keycodes.backspace:     return Scancodes.backspace;\n            case Keycodes.tab:           return Scancodes.tab;\n            case Keycodes.space:         return Scancodes.space;\n            case Keycodes.slash:         return Scancodes.slash;\n            case Keycodes.key_0:         return Scancodes.key_0;\n            case Keycodes.key_1:         return Scancodes.key_1;\n            case Keycodes.key_2:         return Scancodes.key_2;\n            case Keycodes.key_3:         return Scancodes.key_3;\n            case Keycodes.key_4:         return Scancodes.key_4;\n            case Keycodes.key_5:         return Scancodes.key_5;\n            case Keycodes.key_6:         return Scancodes.key_6;\n            case Keycodes.key_7:         return Scancodes.key_7;\n            case Keycodes.key_8:         return Scancodes.key_8;\n            case Keycodes.key_9:         return Scancodes.key_9;\n            case Keycodes.semicolon:     return Scancodes.semicolon;\n            case Keycodes.equals:        return Scancodes.equals;\n            case Keycodes.leftbracket:   return Scancodes.leftbracket;\n            case Keycodes.backslash:     return Scancodes.backslash;\n            case Keycodes.rightbracket:  return Scancodes.rightbracket;\n            case Keycodes.backquote:     return Scancodes.grave;\n            case Keycodes.key_a:         return Scancodes.key_a;\n            case Keycodes.key_b:         return Scancodes.key_b;\n            case Keycodes.key_c:         return Scancodes.key_c;\n            case Keycodes.key_d:         return Scancodes.key_d;\n            case Keycodes.key_e:         return Scancodes.key_e;\n            case Keycodes.key_f:         return Scancodes.key_f;\n            case Keycodes.key_g:         return Scancodes.key_g;\n            case Keycodes.key_h:         return Scancodes.key_h;\n            case Keycodes.key_i:         return Scancodes.key_i;\n            case Keycodes.key_j:         return Scancodes.key_j;\n            case Keycodes.key_k:         return Scancodes.key_k;\n            case Keycodes.key_l:         return Scancodes.key_l;\n            case Keycodes.key_m:         return Scancodes.key_m;\n            case Keycodes.key_n:         return Scancodes.key_n;\n            case Keycodes.key_o:         return Scancodes.key_o;\n            case Keycodes.key_p:         return Scancodes.key_p;\n            case Keycodes.key_q:         return Scancodes.key_q;\n            case Keycodes.key_r:         return Scancodes.key_r;\n            case Keycodes.key_s:         return Scancodes.key_s;\n            case Keycodes.key_t:         return Scancodes.key_t;\n            case Keycodes.key_u:         return Scancodes.key_u;\n            case Keycodes.key_v:         return Scancodes.key_v;\n            case Keycodes.key_w:         return Scancodes.key_w;\n            case Keycodes.key_x:         return Scancodes.key_x;\n            case Keycodes.key_y:         return Scancodes.key_y;\n            case Keycodes.key_z:         return Scancodes.key_z;\n\n\n                //These are unmappable because they are not keys\n                //but values on the key (like a shift key combo)\n                //and to hardcode them to the key you think it is,\n                //would be to map it to a fixed locale probably.\n                //They don't have scancodes, so we don't return one\n            // case exclaim:      ;\n            // case quotedbl:     ;\n            // case hash:         ;\n            // case percent:      ;\n            // case dollar:       ;\n            // case ampersand:    ;\n            // case quote:        ;\n            // case leftparen:    ;\n            // case rightparen:   ;\n            // case asterisk:     ;\n            // case plus:         ;\n            // case comma:        ;\n            // case minus:        ;\n            // case period:       ;\n            // case less:         ;\n            // case colon:        ;\n            // case greater:      ;\n            // case question:     ;\n            // case at:           ;\n            // case caret:        ;\n            // case underscore:   ;\n\n        } //switch(keycode)\n\n        return Scancodes.unknown;\n\n    } //to_scan\n\n        /** Convert a keycode to string */\n    public static function name( keycode : Int ) : String {\n\n        //we don't use to_scan because it would consume\n        //the typeable characters and we want those as unicode etc.\n\n        if ((keycode & Scancodes.MASK) != 0) {\n            return Scancodes.name(keycode &~ Scancodes.MASK);\n        }\n\n        switch(keycode) {\n\n            case Keycodes.enter:     return Scancodes.name(Scancodes.enter);\n            case Keycodes.escape:    return Scancodes.name(Scancodes.escape);\n            case Keycodes.backspace: return Scancodes.name(Scancodes.backspace);\n            case Keycodes.tab:       return Scancodes.name(Scancodes.tab);\n            case Keycodes.space:     return Scancodes.name(Scancodes.space);\n            case Keycodes.delete:    return Scancodes.name(Scancodes.delete);\n\n            default: {\n\n                var decoder = new haxe.Utf8();\n                    decoder.addChar(keycode);\n\n                return decoder.toString();\n\n            } //default\n\n        } //switch(keycode)\n\n    } //name\n\n    public static inline var unknown : Int              = 0;\n\n    public static inline var enter : Int                = 13;\n    public static inline var escape : Int               = 27;\n    public static inline var backspace : Int            = 8;\n    public static inline var tab : Int                  = 9;\n    public static inline var space : Int                = 32;\n    public static inline var exclaim : Int              = 33;\n    public static inline var quotedbl : Int             = 34;\n    public static inline var hash : Int                 = 35;\n    public static inline var percent : Int              = 37;\n    public static inline var dollar : Int               = 36;\n    public static inline var ampersand : Int            = 38;\n    public static inline var quote : Int                = 39;\n    public static inline var leftparen : Int            = 40;\n    public static inline var rightparen : Int           = 41;\n    public static inline var asterisk : Int             = 42;\n    public static inline var plus : Int                 = 43;\n    public static inline var comma : Int                = 44;\n    public static inline var minus : Int                = 45;\n    public static inline var period : Int               = 46;\n    public static inline var slash : Int                = 47;\n    public static inline var key_0 : Int                = 48;\n    public static inline var key_1 : Int                = 49;\n    public static inline var key_2 : Int                = 50;\n    public static inline var key_3 : Int                = 51;\n    public static inline var key_4 : Int                = 52;\n    public static inline var key_5 : Int                = 53;\n    public static inline var key_6 : Int                = 54;\n    public static inline var key_7 : Int                = 55;\n    public static inline var key_8 : Int                = 56;\n    public static inline var key_9 : Int                = 57;\n    public static inline var colon : Int                = 58;\n    public static inline var semicolon : Int            = 59;\n    public static inline var less : Int                 = 60;\n    public static inline var equals : Int               = 61;\n    public static inline var greater : Int              = 62;\n    public static inline var question : Int             = 63;\n    public static inline var at : Int                   = 64;\n\n       // Skip uppercase letters\n\n    public static inline var leftbracket : Int          = 91;\n    public static inline var backslash : Int            = 92;\n    public static inline var rightbracket : Int         = 93;\n    public static inline var caret : Int                = 94;\n    public static inline var underscore : Int           = 95;\n    public static inline var backquote : Int            = 96;\n    public static inline var key_a : Int                = 97;\n    public static inline var key_b : Int                = 98;\n    public static inline var key_c : Int                = 99;\n    public static inline var key_d : Int                = 100;\n    public static inline var key_e : Int                = 101;\n    public static inline var key_f : Int                = 102;\n    public static inline var key_g : Int                = 103;\n    public static inline var key_h : Int                = 104;\n    public static inline var key_i : Int                = 105;\n    public static inline var key_j : Int                = 106;\n    public static inline var key_k : Int                = 107;\n    public static inline var key_l : Int                = 108;\n    public static inline var key_m : Int                = 109;\n    public static inline var key_n : Int                = 110;\n    public static inline var key_o : Int                = 111;\n    public static inline var key_p : Int                = 112;\n    public static inline var key_q : Int                = 113;\n    public static inline var key_r : Int                = 114;\n    public static inline var key_s : Int                = 115;\n    public static inline var key_t : Int                = 116;\n    public static inline var key_u : Int                = 117;\n    public static inline var key_v : Int                = 118;\n    public static inline var key_w : Int                = 119;\n    public static inline var key_x : Int                = 120;\n    public static inline var key_y : Int                = 121;\n    public static inline var key_z : Int                = 122;\n\n    public static inline var capslock : Int             = from_scan(Scancodes.capslock);\n\n    public static inline var f1 : Int                   = from_scan(Scancodes.f1);\n    public static inline var f2 : Int                   = from_scan(Scancodes.f2);\n    public static inline var f3 : Int                   = from_scan(Scancodes.f3);\n    public static inline var f4 : Int                   = from_scan(Scancodes.f4);\n    public static inline var f5 : Int                   = from_scan(Scancodes.f5);\n    public static inline var f6 : Int                   = from_scan(Scancodes.f6);\n    public static inline var f7 : Int                   = from_scan(Scancodes.f7);\n    public static inline var f8 : Int                   = from_scan(Scancodes.f8);\n    public static inline var f9 : Int                   = from_scan(Scancodes.f9);\n    public static inline var f10 : Int                  = from_scan(Scancodes.f10);\n    public static inline var f11 : Int                  = from_scan(Scancodes.f11);\n    public static inline var f12 : Int                  = from_scan(Scancodes.f12);\n\n    public static inline var printscreen : Int          = from_scan(Scancodes.printscreen);\n    public static inline var scrolllock : Int           = from_scan(Scancodes.scrolllock);\n    public static inline var pause : Int                = from_scan(Scancodes.pause);\n    public static inline var insert : Int               = from_scan(Scancodes.insert);\n    public static inline var home : Int                 = from_scan(Scancodes.home);\n    public static inline var pageup : Int               = from_scan(Scancodes.pageup);\n    public static inline var delete : Int               = 127;\n    public static inline var end : Int                  = from_scan(Scancodes.end);\n    public static inline var pagedown : Int             = from_scan(Scancodes.pagedown);\n    public static inline var right : Int                = from_scan(Scancodes.right);\n    public static inline var left : Int                 = from_scan(Scancodes.left);\n    public static inline var down : Int                 = from_scan(Scancodes.down);\n    public static inline var up : Int                   = from_scan(Scancodes.up);\n\n    public static inline var numlockclear : Int         = from_scan(Scancodes.numlockclear);\n    public static inline var kp_divide : Int            = from_scan(Scancodes.kp_divide);\n    public static inline var kp_multiply : Int          = from_scan(Scancodes.kp_multiply);\n    public static inline var kp_minus : Int             = from_scan(Scancodes.kp_minus);\n    public static inline var kp_plus : Int              = from_scan(Scancodes.kp_plus);\n    public static inline var kp_enter : Int             = from_scan(Scancodes.kp_enter);\n    public static inline var kp_1 : Int                 = from_scan(Scancodes.kp_1);\n    public static inline var kp_2 : Int                 = from_scan(Scancodes.kp_2);\n    public static inline var kp_3 : Int                 = from_scan(Scancodes.kp_3);\n    public static inline var kp_4 : Int                 = from_scan(Scancodes.kp_4);\n    public static inline var kp_5 : Int                 = from_scan(Scancodes.kp_5);\n    public static inline var kp_6 : Int                 = from_scan(Scancodes.kp_6);\n    public static inline var kp_7 : Int                 = from_scan(Scancodes.kp_7);\n    public static inline var kp_8 : Int                 = from_scan(Scancodes.kp_8);\n    public static inline var kp_9 : Int                 = from_scan(Scancodes.kp_9);\n    public static inline var kp_0 : Int                 = from_scan(Scancodes.kp_0);\n    public static inline var kp_period : Int            = from_scan(Scancodes.kp_period);\n\n    public static inline var application : Int          = from_scan(Scancodes.application);\n    public static inline var power : Int                = from_scan(Scancodes.power);\n    public static inline var kp_equals : Int            = from_scan(Scancodes.kp_equals);\n    public static inline var f13 : Int                  = from_scan(Scancodes.f13);\n    public static inline var f14 : Int                  = from_scan(Scancodes.f14);\n    public static inline var f15 : Int                  = from_scan(Scancodes.f15);\n    public static inline var f16 : Int                  = from_scan(Scancodes.f16);\n    public static inline var f17 : Int                  = from_scan(Scancodes.f17);\n    public static inline var f18 : Int                  = from_scan(Scancodes.f18);\n    public static inline var f19 : Int                  = from_scan(Scancodes.f19);\n    public static inline var f20 : Int                  = from_scan(Scancodes.f20);\n    public static inline var f21 : Int                  = from_scan(Scancodes.f21);\n    public static inline var f22 : Int                  = from_scan(Scancodes.f22);\n    public static inline var f23 : Int                  = from_scan(Scancodes.f23);\n    public static inline var f24 : Int                  = from_scan(Scancodes.f24);\n    public static inline var execute : Int              = from_scan(Scancodes.execute);\n    public static inline var help : Int                 = from_scan(Scancodes.help);\n    public static inline var menu : Int                 = from_scan(Scancodes.menu);\n    public static inline var select : Int               = from_scan(Scancodes.select);\n    public static inline var stop : Int                 = from_scan(Scancodes.stop);\n    public static inline var again : Int                = from_scan(Scancodes.again);\n    public static inline var undo : Int                 = from_scan(Scancodes.undo);\n    public static inline var cut : Int                  = from_scan(Scancodes.cut);\n    public static inline var copy : Int                 = from_scan(Scancodes.copy);\n    public static inline var paste : Int                = from_scan(Scancodes.paste);\n    public static inline var find : Int                 = from_scan(Scancodes.find);\n    public static inline var mute : Int                 = from_scan(Scancodes.mute);\n    public static inline var volumeup : Int             = from_scan(Scancodes.volumeup);\n    public static inline var volumedown : Int           = from_scan(Scancodes.volumedown);\n    public static inline var kp_comma : Int             = from_scan(Scancodes.kp_comma);\n    public static inline var kp_equalsas400 : Int       = from_scan(Scancodes.kp_equalsas400);\n\n    public static inline var alterase : Int             = from_scan(Scancodes.alterase);\n    public static inline var sysreq : Int               = from_scan(Scancodes.sysreq);\n    public static inline var cancel : Int               = from_scan(Scancodes.cancel);\n    public static inline var clear : Int                = from_scan(Scancodes.clear);\n    public static inline var prior : Int                = from_scan(Scancodes.prior);\n    public static inline var return2 : Int              = from_scan(Scancodes.return2);\n    public static inline var separator : Int            = from_scan(Scancodes.separator);\n    public static inline var out : Int                  = from_scan(Scancodes.out);\n    public static inline var oper : Int                 = from_scan(Scancodes.oper);\n    public static inline var clearagain : Int           = from_scan(Scancodes.clearagain);\n    public static inline var crsel : Int                = from_scan(Scancodes.crsel);\n    public static inline var exsel : Int                = from_scan(Scancodes.exsel);\n\n    public static inline var kp_00 : Int                = from_scan(Scancodes.kp_00);\n    public static inline var kp_000 : Int               = from_scan(Scancodes.kp_000);\n    public static inline var thousandsseparator : Int   = from_scan(Scancodes.thousandsseparator);\n    public static inline var decimalseparator : Int     = from_scan(Scancodes.decimalseparator);\n    public static inline var currencyunit : Int         = from_scan(Scancodes.currencyunit);\n    public static inline var currencysubunit : Int      = from_scan(Scancodes.currencysubunit);\n    public static inline var kp_leftparen : Int         = from_scan(Scancodes.kp_leftparen);\n    public static inline var kp_rightparen : Int        = from_scan(Scancodes.kp_rightparen);\n    public static inline var kp_leftbrace : Int         = from_scan(Scancodes.kp_leftbrace);\n    public static inline var kp_rightbrace : Int        = from_scan(Scancodes.kp_rightbrace);\n    public static inline var kp_tab : Int               = from_scan(Scancodes.kp_tab);\n    public static inline var kp_backspace : Int         = from_scan(Scancodes.kp_backspace);\n    public static inline var kp_a : Int                 = from_scan(Scancodes.kp_a);\n    public static inline var kp_b : Int                 = from_scan(Scancodes.kp_b);\n    public static inline var kp_c : Int                 = from_scan(Scancodes.kp_c);\n    public static inline var kp_d : Int                 = from_scan(Scancodes.kp_d);\n    public static inline var kp_e : Int                 = from_scan(Scancodes.kp_e);\n    public static inline var kp_f : Int                 = from_scan(Scancodes.kp_f);\n    public static inline var kp_xor : Int               = from_scan(Scancodes.kp_xor);\n    public static inline var kp_power : Int             = from_scan(Scancodes.kp_power);\n    public static inline var kp_percent : Int           = from_scan(Scancodes.kp_percent);\n    public static inline var kp_less : Int              = from_scan(Scancodes.kp_less);\n    public static inline var kp_greater : Int           = from_scan(Scancodes.kp_greater);\n    public static inline var kp_ampersand : Int         = from_scan(Scancodes.kp_ampersand);\n    public static inline var kp_dblampersand : Int      = from_scan(Scancodes.kp_dblampersand);\n    public static inline var kp_verticalbar : Int       = from_scan(Scancodes.kp_verticalbar);\n    public static inline var kp_dblverticalbar : Int    = from_scan(Scancodes.kp_dblverticalbar);\n    public static inline var kp_colon : Int             = from_scan(Scancodes.kp_colon);\n    public static inline var kp_hash : Int              = from_scan(Scancodes.kp_hash);\n    public static inline var kp_space : Int             = from_scan(Scancodes.kp_space);\n    public static inline var kp_at : Int                = from_scan(Scancodes.kp_at);\n    public static inline var kp_exclam : Int            = from_scan(Scancodes.kp_exclam);\n    public static inline var kp_memstore : Int          = from_scan(Scancodes.kp_memstore);\n    public static inline var kp_memrecall : Int         = from_scan(Scancodes.kp_memrecall);\n    public static inline var kp_memclear : Int          = from_scan(Scancodes.kp_memclear);\n    public static inline var kp_memadd : Int            = from_scan(Scancodes.kp_memadd);\n    public static inline var kp_memsubtract : Int       = from_scan(Scancodes.kp_memsubtract);\n    public static inline var kp_memmultiply : Int       = from_scan(Scancodes.kp_memmultiply);\n    public static inline var kp_memdivide : Int         = from_scan(Scancodes.kp_memdivide);\n    public static inline var kp_plusminus : Int         = from_scan(Scancodes.kp_plusminus);\n    public static inline var kp_clear : Int             = from_scan(Scancodes.kp_clear);\n    public static inline var kp_clearentry : Int        = from_scan(Scancodes.kp_clearentry);\n    public static inline var kp_binary : Int            = from_scan(Scancodes.kp_binary);\n    public static inline var kp_octal : Int             = from_scan(Scancodes.kp_octal);\n    public static inline var kp_decimal : Int           = from_scan(Scancodes.kp_decimal);\n    public static inline var kp_hexadecimal : Int       = from_scan(Scancodes.kp_hexadecimal);\n\n    public static inline var lctrl : Int                = from_scan(Scancodes.lctrl);\n    public static inline var lshift : Int               = from_scan(Scancodes.lshift);\n    public static inline var lalt : Int                 = from_scan(Scancodes.lalt);\n    public static inline var lmeta : Int                = from_scan(Scancodes.lmeta);\n    public static inline var rctrl : Int                = from_scan(Scancodes.rctrl);\n    public static inline var rshift : Int               = from_scan(Scancodes.rshift);\n    public static inline var ralt : Int                 = from_scan(Scancodes.ralt);\n    public static inline var rmeta : Int                = from_scan(Scancodes.rmeta);\n\n    public static inline var mode : Int                 = from_scan(Scancodes.mode);\n\n    public static inline var audionext : Int            = from_scan(Scancodes.audionext);\n    public static inline var audioprev : Int            = from_scan(Scancodes.audioprev);\n    public static inline var audiostop : Int            = from_scan(Scancodes.audiostop);\n    public static inline var audioplay : Int            = from_scan(Scancodes.audioplay);\n    public static inline var audiomute : Int            = from_scan(Scancodes.audiomute);\n    public static inline var mediaselect : Int          = from_scan(Scancodes.mediaselect);\n    public static inline var www : Int                  = from_scan(Scancodes.www);\n    public static inline var mail : Int                 = from_scan(Scancodes.mail);\n    public static inline var calculator : Int           = from_scan(Scancodes.calculator);\n    public static inline var computer : Int             = from_scan(Scancodes.computer);\n    public static inline var ac_search : Int            = from_scan(Scancodes.ac_search);\n    public static inline var ac_home : Int              = from_scan(Scancodes.ac_home);\n    public static inline var ac_back : Int              = from_scan(Scancodes.ac_back);\n    public static inline var ac_forward : Int           = from_scan(Scancodes.ac_forward);\n    public static inline var ac_stop : Int              = from_scan(Scancodes.ac_stop);\n    public static inline var ac_refresh : Int           = from_scan(Scancodes.ac_refresh);\n    public static inline var ac_bookmarks : Int         = from_scan(Scancodes.ac_bookmarks);\n\n    public static inline var brightnessdown : Int       = from_scan(Scancodes.brightnessdown);\n    public static inline var brightnessup : Int         = from_scan(Scancodes.brightnessup);\n    public static inline var displayswitch : Int        = from_scan(Scancodes.displayswitch);\n    public static inline var kbdillumtoggle : Int       = from_scan(Scancodes.kbdillumtoggle);\n    public static inline var kbdillumdown : Int         = from_scan(Scancodes.kbdillumdown);\n    public static inline var kbdillumup : Int           = from_scan(Scancodes.kbdillumup);\n    public static inline var eject : Int                = from_scan(Scancodes.eject);\n    public static inline var sleep : Int                = from_scan(Scancodes.sleep);\n\n} //Keycodes\n\n\n/** The scancode class. The values below come directly from SDL header include files,\nbut they aren't specific to SDL so they are used generically */\n@:noCompletion class Scancodes {\n\n    /** Convert a scancode to a readable name */\n    public static function name( scancode : Int ) : String {\n\n        var res = null;\n\n        if (scancode >= 0 && scancode < scancode_names.length) {\n            res = scancode_names[scancode];\n        }\n\n        return res != null ? res : \"\";\n\n    } //name\n\n        //special value remains caps\n    public static inline var MASK:Int                      = (1<<30);\n\n    public static inline var unknown : Int                 = 0;\n\n       // Usage page 0x07\n       // These values are from usage page 0x07 (USB keyboard page).\n\n    public static inline var key_a : Int                   = 4;\n    public static inline var key_b : Int                   = 5;\n    public static inline var key_c : Int                   = 6;\n    public static inline var key_d : Int                   = 7;\n    public static inline var key_e : Int                   = 8;\n    public static inline var key_f : Int                   = 9;\n    public static inline var key_g : Int                   = 10;\n    public static inline var key_h : Int                   = 11;\n    public static inline var key_i : Int                   = 12;\n    public static inline var key_j : Int                   = 13;\n    public static inline var key_k : Int                   = 14;\n    public static inline var key_l : Int                   = 15;\n    public static inline var key_m : Int                   = 16;\n    public static inline var key_n : Int                   = 17;\n    public static inline var key_o : Int                   = 18;\n    public static inline var key_p : Int                   = 19;\n    public static inline var key_q : Int                   = 20;\n    public static inline var key_r : Int                   = 21;\n    public static inline var key_s : Int                   = 22;\n    public static inline var key_t : Int                   = 23;\n    public static inline var key_u : Int                   = 24;\n    public static inline var key_v : Int                   = 25;\n    public static inline var key_w : Int                   = 26;\n    public static inline var key_x : Int                   = 27;\n    public static inline var key_y : Int                   = 28;\n    public static inline var key_z : Int                   = 29;\n\n    public static inline var key_1 : Int                   = 30;\n    public static inline var key_2 : Int                   = 31;\n    public static inline var key_3 : Int                   = 32;\n    public static inline var key_4 : Int                   = 33;\n    public static inline var key_5 : Int                   = 34;\n    public static inline var key_6 : Int                   = 35;\n    public static inline var key_7 : Int                   = 36;\n    public static inline var key_8 : Int                   = 37;\n    public static inline var key_9 : Int                   = 38;\n    public static inline var key_0 : Int                   = 39;\n\n    public static inline var enter : Int                   = 40;\n    public static inline var escape : Int                  = 41;\n    public static inline var backspace : Int               = 42;\n    public static inline var tab : Int                     = 43;\n    public static inline var space : Int                   = 44;\n\n    public static inline var minus : Int                   = 45;\n    public static inline var equals : Int                  = 46;\n    public static inline var leftbracket : Int             = 47;\n    public static inline var rightbracket : Int            = 48;\n\n        // Located at the lower left of the return\n        // key on ISO keyboards and at the right end\n        // of the QWERTY row on ANSI keyboards.\n        // Produces REVERSE SOLIDUS (backslash) and\n        // VERTICAL LINE in a US layout, REVERSE\n        // SOLIDUS and VERTICAL LINE in a UK Mac\n        // layout, NUMBER SIGN and TILDE in a UK\n        // Windows layout, DOLLAR SIGN and POUND SIGN\n        // in a Swiss German layout, NUMBER SIGN and\n        // APOSTROPHE in a German layout, GRAVE\n        // ACCENT and POUND SIGN in a French Mac\n        // layout, and ASTERISK and MICRO SIGN in a\n        // French Windows layout.\n\n    public static inline var backslash : Int               = 49;\n\n        // ISO USB keyboards actually use this code\n        // instead of 49 for the same key, but all\n        // OSes I've seen treat the two codes\n        // identically. So, as an implementor, unless\n        // your keyboard generates both of those\n        // codes and your OS treats them differently,\n        // you should generate public static inline var BACKSLASH\n        // instead of this code. As a user, you\n        // should not rely on this code because SDL\n        // will never generate it with most (all?)\n        // keyboards.\n\n    public static inline var nonushash : Int          = 50;\n    public static inline var semicolon : Int          = 51;\n    public static inline var apostrophe : Int         = 52;\n\n        // Located in the top left corner (on both ANSI\n        // and ISO keyboards). Produces GRAVE ACCENT and\n        // TILDE in a US Windows layout and in US and UK\n        // Mac layouts on ANSI keyboards, GRAVE ACCENT\n        // and NOT SIGN in a UK Windows layout, SECTION\n        // SIGN and PLUS-MINUS SIGN in US and UK Mac\n        // layouts on ISO keyboards, SECTION SIGN and\n        // DEGREE SIGN in a Swiss German layout (Mac:\n        // only on ISO keyboards); CIRCUMFLEX ACCENT and\n        // DEGREE SIGN in a German layout (Mac: only on\n        // ISO keyboards), SUPERSCRIPT TWO and TILDE in a\n        // French Windows layout, COMMERCIAL AT and\n        // NUMBER SIGN in a French Mac layout on ISO\n        // keyboards, and LESS-THAN SIGN and GREATER-THAN\n        // SIGN in a Swiss German, German, or French Mac\n        // layout on ANSI keyboards.\n\n    public static inline var grave : Int              = 53;\n    public static inline var comma : Int              = 54;\n    public static inline var period : Int             = 55;\n    public static inline var slash : Int              = 56;\n\n    public static inline var capslock : Int           = 57;\n\n    public static inline var f1 : Int                 = 58;\n    public static inline var f2 : Int                 = 59;\n    public static inline var f3 : Int                 = 60;\n    public static inline var f4 : Int                 = 61;\n    public static inline var f5 : Int                 = 62;\n    public static inline var f6 : Int                 = 63;\n    public static inline var f7 : Int                 = 64;\n    public static inline var f8 : Int                 = 65;\n    public static inline var f9 : Int                 = 66;\n    public static inline var f10 : Int                = 67;\n    public static inline var f11 : Int                = 68;\n    public static inline var f12 : Int                = 69;\n\n    public static inline var printscreen : Int        = 70;\n    public static inline var scrolllock : Int         = 71;\n    public static inline var pause : Int              = 72;\n\n        // insert on PC, help on some Mac keyboards (but does send code 73, not 117)\n    public static inline var insert : Int             = 73;\n    public static inline var home : Int               = 74;\n    public static inline var pageup : Int             = 75;\n    public static inline var delete : Int             = 76;\n    public static inline var end : Int                = 77;\n    public static inline var pagedown : Int           = 78;\n    public static inline var right : Int              = 79;\n    public static inline var left : Int               = 80;\n    public static inline var down : Int               = 81;\n    public static inline var up : Int                 = 82;\n\n        // num lock on PC, clear on Mac keyboards\n    public static inline var numlockclear : Int       = 83;\n    public static inline var kp_divide : Int          = 84;\n    public static inline var kp_multiply : Int        = 85;\n    public static inline var kp_minus : Int           = 86;\n    public static inline var kp_plus : Int            = 87;\n    public static inline var kp_enter : Int           = 88;\n    public static inline var kp_1 : Int               = 89;\n    public static inline var kp_2 : Int               = 90;\n    public static inline var kp_3 : Int               = 91;\n    public static inline var kp_4 : Int               = 92;\n    public static inline var kp_5 : Int               = 93;\n    public static inline var kp_6 : Int               = 94;\n    public static inline var kp_7 : Int               = 95;\n    public static inline var kp_8 : Int               = 96;\n    public static inline var kp_9 : Int               = 97;\n    public static inline var kp_0 : Int               = 98;\n    public static inline var kp_period : Int          = 99;\n\n\n        // This is the additional key that ISO\n        // keyboards have over ANSI ones,\n        // located between left shift and Y.\n        // Produces GRAVE ACCENT and TILDE in a\n        // US or UK Mac layout, REVERSE SOLIDUS\n        // (backslash) and VERTICAL LINE in a\n        // US or UK Windows layout, and\n        // LESS-THAN SIGN and GREATER-THAN SIGN\n        // in a Swiss German, German, or French\n        // layout.\n    public static inline var nonusbackslash : Int     = 100;\n\n        // windows contextual menu, compose\n    public static inline var application : Int        = 101;\n\n        // The USB document says this is a status flag,\n        // not a physical key - but some Mac keyboards\n        // do have a power key.\n    public static inline var power : Int              = 102;\n    public static inline var kp_equals : Int          = 103;\n    public static inline var f13 : Int                = 104;\n    public static inline var f14 : Int                = 105;\n    public static inline var f15 : Int                = 106;\n    public static inline var f16 : Int                = 107;\n    public static inline var f17 : Int                = 108;\n    public static inline var f18 : Int                = 109;\n    public static inline var f19 : Int                = 110;\n    public static inline var f20 : Int                = 111;\n    public static inline var f21 : Int                = 112;\n    public static inline var f22 : Int                = 113;\n    public static inline var f23 : Int                = 114;\n    public static inline var f24 : Int                = 115;\n    public static inline var execute : Int            = 116;\n    public static inline var help : Int               = 117;\n    public static inline var menu : Int               = 118;\n    public static inline var select : Int             = 119;\n    public static inline var stop : Int               = 120;\n\n        // redo\n    public static inline var again : Int              = 121;\n    public static inline var undo : Int               = 122;\n    public static inline var cut : Int                = 123;\n    public static inline var copy : Int               = 124;\n    public static inline var paste : Int              = 125;\n    public static inline var find : Int               = 126;\n    public static inline var mute : Int               = 127;\n    public static inline var volumeup : Int           = 128;\n    public static inline var volumedown : Int         = 129;\n\n        // not sure whether there's a reason to enable these\n    //  public static inline var lockingcapslock = 130,\n    //  public static inline var lockingnumlock = 131,\n    //  public static inline var lockingscrolllock = 132,\n\n    public static inline var kp_comma : Int           = 133;\n    public static inline var kp_equalsas400 : Int     = 134;\n\n        // used on Asian keyboards; see footnotes in USB doc\n    public static inline var international1 : Int     = 135;\n    public static inline var international2 : Int     = 136;\n\n        // Yen\n    public static inline var international3 : Int     = 137;\n    public static inline var international4 : Int     = 138;\n    public static inline var international5 : Int     = 139;\n    public static inline var international6 : Int     = 140;\n    public static inline var international7 : Int     = 141;\n    public static inline var international8 : Int     = 142;\n    public static inline var international9 : Int     = 143;\n        // Hangul/English toggle\n    public static inline var lang1 : Int              = 144;\n        // Hanja conversion\n    public static inline var lang2 : Int              = 145;\n        // Katakana\n    public static inline var lang3 : Int              = 146;\n        // Hiragana\n    public static inline var lang4 : Int              = 147;\n        // Zenkaku/Hankaku\n    public static inline var lang5 : Int              = 148;\n        // reserved\n    public static inline var lang6 : Int              = 149;\n        // reserved\n    public static inline var lang7 : Int              = 150;\n        // reserved\n    public static inline var lang8 : Int              = 151;\n        // reserved\n    public static inline var lang9 : Int              = 152;\n        // Erase-Eaze\n    public static inline var alterase : Int           = 153;\n    public static inline var sysreq : Int             = 154;\n    public static inline var cancel : Int             = 155;\n    public static inline var clear : Int              = 156;\n    public static inline var prior : Int              = 157;\n    public static inline var return2 : Int            = 158;\n    public static inline var separator : Int          = 159;\n    public static inline var out : Int                = 160;\n    public static inline var oper : Int               = 161;\n    public static inline var clearagain : Int         = 162;\n    public static inline var crsel : Int              = 163;\n    public static inline var exsel : Int              = 164;\n\n    public static inline var kp_00 : Int              = 176;\n    public static inline var kp_000 : Int             = 177;\n    public static inline var thousandsseparator : Int = 178;\n    public static inline var decimalseparator : Int   = 179;\n    public static inline var currencyunit : Int       = 180;\n    public static inline var currencysubunit : Int    = 181;\n    public static inline var kp_leftparen : Int       = 182;\n    public static inline var kp_rightparen : Int      = 183;\n    public static inline var kp_leftbrace : Int       = 184;\n    public static inline var kp_rightbrace : Int      = 185;\n    public static inline var kp_tab : Int             = 186;\n    public static inline var kp_backspace : Int       = 187;\n    public static inline var kp_a : Int               = 188;\n    public static inline var kp_b : Int               = 189;\n    public static inline var kp_c : Int               = 190;\n    public static inline var kp_d : Int               = 191;\n    public static inline var kp_e : Int               = 192;\n    public static inline var kp_f : Int               = 193;\n    public static inline var kp_xor : Int             = 194;\n    public static inline var kp_power : Int           = 195;\n    public static inline var kp_percent : Int         = 196;\n    public static inline var kp_less : Int            = 197;\n    public static inline var kp_greater : Int         = 198;\n    public static inline var kp_ampersand : Int       = 199;\n    public static inline var kp_dblampersand : Int    = 200;\n    public static inline var kp_verticalbar : Int     = 201;\n    public static inline var kp_dblverticalbar : Int  = 202;\n    public static inline var kp_colon : Int           = 203;\n    public static inline var kp_hash : Int            = 204;\n    public static inline var kp_space : Int           = 205;\n    public static inline var kp_at : Int              = 206;\n    public static inline var kp_exclam : Int          = 207;\n    public static inline var kp_memstore : Int        = 208;\n    public static inline var kp_memrecall : Int       = 209;\n    public static inline var kp_memclear : Int        = 210;\n    public static inline var kp_memadd : Int          = 211;\n    public static inline var kp_memsubtract : Int     = 212;\n    public static inline var kp_memmultiply : Int     = 213;\n    public static inline var kp_memdivide : Int       = 214;\n    public static inline var kp_plusminus : Int       = 215;\n    public static inline var kp_clear : Int           = 216;\n    public static inline var kp_clearentry : Int      = 217;\n    public static inline var kp_binary : Int          = 218;\n    public static inline var kp_octal : Int           = 219;\n    public static inline var kp_decimal : Int         = 220;\n    public static inline var kp_hexadecimal : Int     = 221;\n\n    public static inline var lctrl : Int              = 224;\n    public static inline var lshift : Int             = 225;\n        // alt, option\n    public static inline var lalt : Int               = 226;\n        // windows, command (apple), meta, super\n    public static inline var lmeta : Int              = 227;\n    public static inline var rctrl : Int              = 228;\n    public static inline var rshift : Int             = 229;\n        // alt gr, option\n    public static inline var ralt : Int               = 230;\n        // windows, command (apple), meta, super\n    public static inline var rmeta : Int              = 231;\n\n        // Not sure if this is really not covered\n        // by any of the above, but since there's a\n        // special KMOD_MODE for it I'm adding it here\n    public static inline var mode : Int               = 257;\n\n        //\n        // Usage page 0x0C\n        // These values are mapped from usage page 0x0C (USB consumer page).\n\n    public static inline var audionext : Int          = 258;\n    public static inline var audioprev : Int          = 259;\n    public static inline var audiostop : Int          = 260;\n    public static inline var audioplay : Int          = 261;\n    public static inline var audiomute : Int          = 262;\n    public static inline var mediaselect : Int        = 263;\n    public static inline var www : Int                = 264;\n    public static inline var mail : Int               = 265;\n    public static inline var calculator : Int         = 266;\n    public static inline var computer : Int           = 267;\n    public static inline var ac_search : Int          = 268;\n    public static inline var ac_home : Int            = 269;\n    public static inline var ac_back : Int            = 270;\n    public static inline var ac_forward : Int         = 271;\n    public static inline var ac_stop : Int            = 272;\n    public static inline var ac_refresh : Int         = 273;\n    public static inline var ac_bookmarks : Int       = 274;\n\n        // Walther keys\n        // These are values that Christian Walther added (for mac keyboard?).\n\n    public static inline var brightnessdown : Int     = 275;\n    public static inline var brightnessup : Int       = 276;\n\n        // Display mirroring/dual display switch, video mode switch */\n    public static inline var displayswitch : Int      = 277;\n\n    public static inline var kbdillumtoggle : Int     = 278;\n    public static inline var kbdillumdown : Int       = 279;\n    public static inline var kbdillumup : Int         = 280;\n    public static inline var eject : Int              = 281;\n    public static inline var sleep : Int              = 282;\n\n    public static inline var app1 : Int               = 283;\n    public static inline var app2 : Int               = 284;\n\n    static var scancode_names:Array<String> = [\n        null, null, null, null,\n        \"A\",\n        \"B\",\n        \"C\",\n        \"D\",\n        \"E\",\n        \"F\",\n        \"G\",\n        \"H\",\n        \"I\",\n        \"J\",\n        \"K\",\n        \"L\",\n        \"M\",\n        \"N\",\n        \"O\",\n        \"P\",\n        \"Q\",\n        \"R\",\n        \"S\",\n        \"T\",\n        \"U\",\n        \"V\",\n        \"W\",\n        \"X\",\n        \"Y\",\n        \"Z\",\n        \"1\",\n        \"2\",\n        \"3\",\n        \"4\",\n        \"5\",\n        \"6\",\n        \"7\",\n        \"8\",\n        \"9\",\n        \"0\",\n        \"Enter\",\n        \"Escape\",\n        \"Backspace\",\n        \"Tab\",\n        \"Space\",\n        \"-\",\n        \"=\",\n        \"[\",\n        \"]\",\n        \"\\\\\",\n        \"#\",\n        \";\",\n        \"'\",\n        \"`\",\n        \",\",\n        \".\",\n        \"/\",\n        \"CapsLock\",\n        \"F1\",\n        \"F2\",\n        \"F3\",\n        \"F4\",\n        \"F5\",\n        \"F6\",\n        \"F7\",\n        \"F8\",\n        \"F9\",\n        \"F10\",\n        \"F11\",\n        \"F12\",\n        \"PrintScreen\",\n        \"ScrollLock\",\n        \"Pause\",\n        \"Insert\",\n        \"Home\",\n        \"PageUp\",\n        \"Delete\",\n        \"End\",\n        \"PageDown\",\n        \"Right\",\n        \"Left\",\n        \"Down\",\n        \"Up\",\n        \"Numlock\",\n        \"Keypad /\",\n        \"Keypad *\",\n        \"Keypad -\",\n        \"Keypad +\",\n        \"Keypad Enter\",\n        \"Keypad 1\",\n        \"Keypad 2\",\n        \"Keypad 3\",\n        \"Keypad 4\",\n        \"Keypad 5\",\n        \"Keypad 6\",\n        \"Keypad 7\",\n        \"Keypad 8\",\n        \"Keypad 9\",\n        \"Keypad 0\",\n        \"Keypad .\",\n        null,\n        \"Application\",\n        \"Power\",\n        \"Keypad =\",\n        \"F13\",\n        \"F14\",\n        \"F15\",\n        \"F16\",\n        \"F17\",\n        \"F18\",\n        \"F19\",\n        \"F20\",\n        \"F21\",\n        \"F22\",\n        \"F23\",\n        \"F24\",\n        \"Execute\",\n        \"Help\",\n        \"Menu\",\n        \"Select\",\n        \"Stop\",\n        \"Again\",\n        \"Undo\",\n        \"Cut\",\n        \"Copy\",\n        \"Paste\",\n        \"Find\",\n        \"Mute\",\n        \"VolumeUp\",\n        \"VolumeDown\",\n        null, null, null,\n        \"Keypad ,\",\n        \"Keypad = (AS400)\",\n        null, null, null, null, null, null, null, null, null, null, null, null,\n        null, null, null, null, null, null,\n        \"AltErase\",\n        \"SysReq\",\n        \"Cancel\",\n        \"Clear\",\n        \"Prior\",\n        \"Enter\",\n        \"Separator\",\n        \"Out\",\n        \"Oper\",\n        \"Clear / Again\",\n        \"CrSel\",\n        \"ExSel\",\n        null, null, null, null, null, null, null, null, null, null, null,\n        \"Keypad 00\",\n        \"Keypad 000\",\n        \"ThousandsSeparator\",\n        \"DecimalSeparator\",\n        \"CurrencyUnit\",\n        \"CurrencySubUnit\",\n        \"Keypad (\",\n        \"Keypad )\",\n        \"Keypad {\",\n        \"Keypad }\",\n        \"Keypad Tab\",\n        \"Keypad Backspace\",\n        \"Keypad A\",\n        \"Keypad B\",\n        \"Keypad C\",\n        \"Keypad D\",\n        \"Keypad E\",\n        \"Keypad F\",\n        \"Keypad XOR\",\n        \"Keypad ^\",\n        \"Keypad %\",\n        \"Keypad <\",\n        \"Keypad >\",\n        \"Keypad &\",\n        \"Keypad &&\",\n        \"Keypad |\",\n        \"Keypad ||\",\n        \"Keypad :\",\n        \"Keypad #\",\n        \"Keypad Space\",\n        \"Keypad @\",\n        \"Keypad !\",\n        \"Keypad MemStore\",\n        \"Keypad MemRecall\",\n        \"Keypad MemClear\",\n        \"Keypad MemAdd\",\n        \"Keypad MemSubtract\",\n        \"Keypad MemMultiply\",\n        \"Keypad MemDivide\",\n        \"Keypad +/-\",\n        \"Keypad Clear\",\n        \"Keypad ClearEntry\",\n        \"Keypad Binary\",\n        \"Keypad Octal\",\n        \"Keypad Decimal\",\n        \"Keypad Hexadecimal\",\n        null, null,\n        \"Left Ctrl\",\n        \"Left Shift\",\n        \"Left Alt\",\n        \"Left Meta\",\n        \"Right Ctrl\",\n        \"Right Shift\",\n        \"Right Alt\",\n        \"Right Meta\",\n        null, null, null, null, null, null, null, null, null, null, null, null,\n        null, null, null, null, null, null, null, null, null, null, null, null,\n        null,\n        \"ModeSwitch\",\n        \"AudioNext\",\n        \"AudioPrev\",\n        \"AudioStop\",\n        \"AudioPlay\",\n        \"AudioMute\",\n        \"MediaSelect\",\n        \"WWW\",\n        \"Mail\",\n        \"Calculator\",\n        \"Computer\",\n        \"AC Search\",\n        \"AC Home\",\n        \"AC Back\",\n        \"AC Forward\",\n        \"AC Stop\",\n        \"AC Refresh\",\n        \"AC Bookmarks\",\n        \"BrightnessDown\",\n        \"BrightnessUp\",\n        \"DisplaySwitch\",\n        \"KBDIllumToggle\",\n        \"KBDIllumDown\",\n        \"KBDIllumUp\",\n        \"Eject\",\n        \"Sleep\",\n    ]; //scancode names\n\n} //Scancodes\n\n","package snow.systems.io;\n\nimport snow.types.Types;\nimport snow.api.buffers.Uint8Array;\nimport snow.api.Promise;\nimport snow.api.Debug.*;\n\n@:allow(snow.Snow)\nclass IO {\n\n\n    @:noCompletion public var app : snow.Snow;\n\n    /** Access to the platform specific api, if any */\n    public var module : ModuleIO;\n\n    /** The string_save file name prefix. For example, the default being `slot.0`,\n        by changing this you can rename the save slots to `custom.0`.\n        Only the prefix will change, the slot index is always appended with `.` for predictability. */\n    public var string_save_prefix : String = 'slot';\n\n        /** Constructed internally, use `app.io` */\n    function new( _app:snow.Snow ) {\n\n        app = _app;\n        module = new ModuleIO(app);\n\n    } //new\n\n    public inline function app_path() : String {\n\n        return module.app_path();\n\n    } //app_path\n\n    public inline function app_path_prefs() : String {\n\n        return module.app_path_prefs();\n\n    } //app_path_prefs\n\n        /** Call this to open a url in the default browser */\n    public inline function url_open( _url:String ) {\n\n        module.url_open(_url);\n\n    } //url_open\n\n        /** Load bytes from the file path/url given.\n            On web a request is sent for the data */\n    public inline function data_load( _path:String, ?_options:IODataOptions ) : Promise {\n\n        return module.data_load( _path, _options );\n\n    } //data_load\n\n\n        /** Save bytes to the file path/url given.\n            On platforms where this doesn't make sense (web) this will do nothing atm */\n    public inline function data_save( _path:String, _data:Uint8Array, ?_options:IODataOptions ) : Bool {\n\n        return module.data_save( _path, _data, _options );\n\n    } //data_save\n\n        /** Returns a promise for data, optionally provided by the given provider, and optionally processed by the given processor. */\n    public function data_flow<T>( _id:String, ?_processor:Snow->String->T->Promise, ?_provider:Snow->String->Promise ) : Promise {\n\n        if(_provider == null) _provider = default_provider;\n\n        return new Promise(function(resolve, reject) {\n\n            _provider(app, _id).then(\n\n                function(data) {\n                    if(_processor != null) {\n                        _processor(app, _id, data).then(resolve, reject);\n                    } else {\n                        resolve(data);\n                    }\n                }\n\n            ).error(reject);\n\n        }); //promise\n\n    } //data_flow\n\n        /** The string slot <-> key:value pairs,\n            for the string sync API. */\n    var string_slots: Map<Int, Map<String, String> >;\n\n        /** Returns the path where string_save operates.\n            One targets where this is not a path, the path will be prefaced with `< >/`,\n            i.e on web targets the path will be `<localstorage>/` followed by the ID. */\n    public function string_save_path( _slot:Int = 0 ) : String {\n\n        return module.string_save_path(_slot);\n\n    } //string_save_path\n\n        /** Save a string value by key, with an optional slot.\n            To remove a saved key, pass value in as null.\n            Works on all targets as a simple save/load mechanism.\n            Data saved is plain text but obscured with basic encoding.\n            Any further obfuscation can be done on the value prior to saving.\n            Returns false if the save failed, errors being logged. */\n    public function string_save( _key:String, _value:String, _slot:Int = 0 ) : Bool {\n\n        var _string_map = string_slots_sync(_slot);\n\n        var _encoded_key = module.string_slot_encode(_key);\n\n            //if the value is null, we remove the key\n        if(_value == null) {\n\n            _debug('removing key $_key ($_encoded_key)');\n\n            _string_map.remove(_encoded_key);\n\n        } else {\n\n            var _encoded_value = module.string_slot_encode(_value);\n\n            _debug('storing key $_key:$_value as $_encoded_key:$_encoded_value');\n\n            _string_map.set(_encoded_key, _encoded_value);\n\n        }\n\n        var _contents = haxe.Serializer.run(_string_map);\n            _contents = module.string_slot_encode(_contents);\n\n        return module.string_slot_save(_slot, _contents);\n\n    } //string_save\n\n        /** Load a string value by key, with an optional slot.\n            Works on all targets as a simple save/load mechanism.\n            Returns the string or null if the key was invalid, or the slot was not found. */\n    public function string_load( _key:String, _slot:Int = 0 ) : String {\n\n        var _string_map = string_slots_sync(_slot);\n\n        var _encoded_key = module.string_slot_encode(_key);\n        var _encoded_value = _string_map.get(_encoded_key);\n\n        _debug('reading `$_key` as $_encoded_key:$_encoded_value');\n\n        if(_encoded_value == null) {\n            return null;\n        }\n\n        return module.string_slot_decode(_encoded_value);\n\n    } //string_load\n\n        /** Destroy a specific string slot, removing all values stored.\n            Does not ask for confirmation. Returns true if successful, false otherwise. */\n    public function string_destroy(_slot:Int = 0) : Bool {\n\n        if(string_slots == null) {\n            string_slots = new Map();\n        } else {\n            string_slots.remove(_slot);\n        }\n\n        return module.string_slot_destroy(_slot);\n\n    } //string_destroy\n\n//Internal string load/save\n\n        //check if the string map exists yet,\n        //if not, try to load it,\n        //if it doesn't exist yet, make it.\n        //returns a valid map for the slot\n    inline function string_slots_sync( _slot:Int = 0 ) {\n\n        //not loaded yet?\n        if(string_slots == null) {\n            string_slots = new Map();\n        }\n\n        var _string_map = string_slots.get(_slot);\n\n        if(_string_map == null) {\n\n            var _string = module.string_slot_load(_slot);\n            if(_string == null) {\n                _string_map = new Map();\n            } else {\n                _string = module.string_slot_decode(_string);\n                _string_map = haxe.Unserializer.run(_string);\n            }\n\n            string_slots.set(_slot, _string_map);\n\n        }\n\n        return _string_map;\n\n    } //string_slots_sync\n\n//Internal\n\n        /** The default data flow provider */\n    inline function default_provider(_app:Snow, _id:String) return data_load(_id);\n\n        /** Called by Snow when a system event happens. */\n    inline function onevent( _event:SystemEvent ) {\n\n        module.onevent( _event );\n\n    } //onevent\n\n        /** Destroy and clean up etc. */\n    function shutdown() {\n\n        module.shutdown();\n\n    } //shutdown\n\n\n} //IO\n","package unifill;\n\nabstract CodePoint(Int) {\n\n\t@:from\n\tpublic static inline function fromInt(code : Int) : CodePoint {\n\t\tif (!Unicode.isScalar(code)) {\n\t\t\tthrow new Exception.InvalidCodePoint(code);\n\t\t}\n\t\treturn new CodePoint(code);\n\t}\n\n\t@:op(A + B)\n\tpublic static inline function cons(a : CodePoint, b : String) : String\n\t\treturn a.toString() + b;\n\n\t@:op(A + B)\n\tpublic static inline function snoc(a : String, b : CodePoint) : String\n\t\treturn a + b.toString();\n\n\t@:op(A + B)\n\tpublic static inline function addInt(a : CodePoint, b : Int) : CodePoint\n\t\treturn CodePoint.fromInt(a.toInt() + b);\n\n\t@:op(A - B)\n\tpublic static inline function sub(a : CodePoint, b : CodePoint) : Int\n\t\treturn (a.toInt()) - (b.toInt());\n\n\t@:op(A - B)\n\tpublic static inline function subInt(a : CodePoint, b : Int) : CodePoint\n\t\treturn CodePoint.fromInt(a.toInt() - b);\n\n\t@:op(A == B) public static function eq(a : CodePoint, b : CodePoint) : Bool;\n\t@:op(A != B) public static function ne(a : CodePoint, b : CodePoint) : Bool;\n\t@:op(A < B) public static function lt(a : CodePoint, b : CodePoint) : Bool;\n\t@:op(A <= B) public static function lte(a : CodePoint, b : CodePoint) : Bool;\n\t@:op(A > B) public static function gt(a : CodePoint, b : CodePoint) : Bool;\n\t@:op(A >= B) public static function gte(a : CodePoint, b : CodePoint) : Bool;\n\n\tinline function new(code : Int) : Void {\n\t\tthis = code;\n\t}\n\n\t@:to\n\tpublic inline function toString() : String\n\t\treturn InternalEncoding.fromCodePoint(this);\n\n\t@:to\n\tpublic inline function toInt() : Int\n\t\treturn this;\n}\n","package unifill;\n\nclass CodePointIter {\n\n\tvar string : String;\n\tvar index : Int;\n\tvar endIndex : Int;\n\n\tpublic inline function new(s : String) {\n\t\tstring = s;\n\t\tindex = 0;\n\t\tendIndex = s.length;\n\t}\n\n\tpublic inline function hasNext() : Bool {\n\t\treturn index < endIndex;\n\t}\n\n\tvar i = 0; // FIXME: blocked by HaxeFoundation/haxe#4353\n\tpublic inline function next() : CodePoint {\n\t\ti = index;\n\t\tindex += InternalEncoding.codePointWidthAt(string, index);\n\t\treturn cast InternalEncoding.codePointAt(string, i);\n\t}\n\n}\n","package unifill;\n\nclass Exception {\n\tfunction new() {\n\t}\n\tpublic function toString() : String {\n\t\tthrow null;\n\t}\n}\n\nclass InvalidCodePoint extends Exception {\n\tpublic var code(default, null) : Int;\n\tpublic function new(code : Int) {\n\t\tsuper();\n\t\tthis.code = code;\n\t}\n\toverride public function toString() : String {\n\t\treturn 'InvalidCodePoint(code: $code)';\n\t}\n}\n\nclass InvalidCodeUnitSequence extends Exception {\n\tpublic var index(default, null) : Int;\n\tpublic function new(index : Int) {\n\t\tsuper();\n\t\tthis.index = index;\n\t}\n\toverride public function toString() : String {\n\t\treturn 'InvalidCodeUnitSequence(index: $index)';\n\t}\n}\n","package unifill;\n\n#if (neko || php || cpp || lua || macro)\n\tprivate typedef UtfX = Utf8;\n#elseif python\n\tprivate typedef UtfX = Utf32;\n#else\n\tprivate typedef UtfX = Utf16;\n#end\n\n/**\n   InternalEncoding provides primitive API to deal with strings across\n   all platforms. You should consider adopting Unifill before this.\n **/\nclass InternalEncoding {\n\n\t/**\n\t   Returns Encoding strings on the platform are encoded in.\n\t **/\n\tpublic static var internalEncoding(get, never) : String;\n\n\tstatic inline function get_internalEncoding() : String\n\t#if (neko || php || cpp || lua || macro)\n\t\treturn \"UTF-8\";\n\t#elseif python\n\t\treturn \"UTF-32\";\n\t#else\n\t\treturn \"UTF-16\";\n\t#end\n\n\t/**\n\t   Returns the UTF-8/16/32 code unit at position `index` of\n\t   String `s`.\n\t **/\n\tpublic static inline function codeUnitAt(s : String, index : Int) : Int {\n\t\treturn UtfX.fromString(s).codeUnitAt(index);\n\t}\n\n\t/**\n\t   Returns the Unicode code point at position `index` of\n\t   String `s`.\n\t **/\n\tpublic static inline function codePointAt(s : String, index : Int) : Int {\n\t\treturn UtfX.fromString(s).codePointAt(index);\n\t}\n\n\t/**\n\t   Returns the character as a String at position `index` of\n\t   String `s`.\n\t **/\n\tpublic static inline function charAt(s : String, index : Int) : String {\n\t\treturn UtfX.fromString(s).charAt(index).toString();\n\t}\n\n\t/**\n\t   Returns the number of Unicode code points from `beginIndex`\n\t   to `endIndex` in String `s`.\n\t **/\n\tpublic static inline function codePointCount(s : String, beginIndex : Int, endIndex : Int) : Int {\n\t\treturn UtfX.fromString(s).codePointCount(beginIndex, endIndex);\n\t}\n\n\t/**\n\t   Returns the number of units of the code point at position\n\t   `index` of String `s`.\n\t **/\n\tpublic static inline function codePointWidthAt(s : String, index : Int) : Int {\n\t\treturn UtfX.fromString(s).codePointWidthAt(index);\n\t}\n\n\t/**\n\t   Returns the number of units of the code point before\n\t   position `index` of String `s`.\n\t **/\n\tpublic static inline function codePointWidthBefore(s : String, index : Int) : Int {\n\t\treturn UtfX.fromString(s).codePointWidthBefore(index);\n\t}\n\n\t/**\n\t   Returns the index within String `s` that is offset from\n\t   position `index` by `codePointOffset` code points.\n\t **/\n\tpublic static inline function offsetByCodePoints(s : String, index : Int, codePointOffset : Int) : Int {\n\t\treturn UtfX.fromString(s).offsetByCodePoints(index, codePointOffset);\n\t}\n\n\t/**\n\t   Returns the index within String `s` that is offset from\n\t   position `index` by `codePointOffset` code points counting\n\t   backward.\n\t **/\n\tpublic static inline function backwardOffsetByCodePoints(s : String, index : Int, codePointOffset : Int) : Int {\n\t\treturn UtfX.fromString(s).offsetByCodePoints(index, -codePointOffset);\n\t}\n\n\t/**\n\t   Converts the code point `code` to a character as String.\n\t **/\n\tpublic static inline function fromCodePoint(codePoint : Int) : String {\n\t\treturn UtfX.fromCodePoint(codePoint).toString();\n\t}\n\n\t/**\n\t   Converts `codePoints` to a String.\n\t **/\n\tpublic static inline function fromCodePoints(codePoints : Iterable<Int>) : String {\n\t\treturn UtfX.fromCodePoints(codePoints).toString();\n\t}\n\n\t/**\n\t   Validates String `s`.\n\n\t   If the code unit sequence of `s` is invalid,\n\t   `Exception.InvalidCodeUnitSequence` is throwed.\n\t **/\n\tpublic static inline function validate(s : String) : Void {\n\t\tUtfX.fromString(s).validate();\n\t}\n\n\t/**\n\t   Returns if String `s` is valid.\n\t **/\n\tpublic static function isValidString(s : String) : Bool {\n\t\ttry {\n\t\t\tvalidate(s);\n\t\t\treturn true;\n\t\t} catch (e : Exception.InvalidCodeUnitSequence) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tpublic static inline function encodeWith(f : Int -> Void, c : Int) : Void {\n\t\tUtfX.encodeWith(f, c);\n\t}\n\n}\n","package unifill;\n\nclass InternalEncodingIter {\n\n\tpublic var string : String;\n\tpublic var index : Int;\n\tpublic var endIndex : Int;\n\n\tpublic inline function new(s : String, beginIndex : Int, endIndex : Int) {\n\t\tstring = s;\n\t\tthis.index = beginIndex;\n\t\tthis.endIndex = endIndex;\n\t}\n\n\tpublic inline function hasNext() : Bool {\n\t\treturn index < endIndex;\n\t}\n\n\tvar i = 0; // FIXME: blocked by HaxeFoundation/haxe#4353\n\tpublic inline function next() : Int {\n\t\ti = index;\n\t\tindex += InternalEncoding.codePointWidthAt(string, index);\n\t\treturn i;\n\t}\n\n}\n","package unifill;\n\nclass Unicode {\n\n\tpublic static inline var minCodePoint : Int = 0x0000;\n\tpublic static inline var maxCodePoint : Int = 0x10FFFF;\n\tpublic static inline var minHighSurrogate : Int = 0xD800;\n\tpublic static inline var maxHighSurrogate : Int = 0xDBFF;\n\tpublic static inline var minLowSurrogate : Int = 0xDC00;\n\tpublic static inline var maxLowSurrogate : Int = 0xDFFF;\n\n\tpublic static inline function decodeSurrogate(hi : Int, lo : Int) : Int\n\t\treturn (hi - 0xD7C0 << 10) | (lo & 0x3FF);\n\n\tpublic static inline function encodeHighSurrogate(c : Int) : Int\n\t\treturn (c >> 10) + 0xD7C0;\n\n\tpublic static inline function encodeLowSurrogate(c : Int) : Int\n\t\treturn (c & 0x3FF) | 0xDC00;\n\n\tpublic static inline function isScalar(code : Int) : Bool {\n\t\treturn minCodePoint <= code && code <= maxCodePoint && !isHighSurrogate(code) && !isLowSurrogate(code);\n\t}\n\n\tpublic static inline function isHighSurrogate(code : Int) : Bool {\n\t\treturn minHighSurrogate <= code && code <= maxHighSurrogate;\n\t}\n\n\tpublic static inline function isLowSurrogate(code : Int) : Bool {\n\t\treturn minLowSurrogate <= code && code <= maxLowSurrogate;\n\t}\n\n}\n","package unifill;\n\n/**\n   Unifill provides Unicode-code-point-wise methods on Strings. It is\n   ideally used with 'using Unifill' and then acts as an extension to\n   the String class.\n **/\nclass Unifill {\n\n\t/**\n\t   Returns the number of Unicode code points of String `s`.\n\t **/\n\tpublic static inline function uLength(s : String) : Int\n\t\treturn InternalEncoding.codePointCount(s, 0, s.length);\n\n\t/**\n\t   Returns the character at position `index` by code points of String `s`.\n\t **/\n\tpublic static inline function uCharAt(s : String, index : Int) : String {\n\t#if (neko || php || cpp)\n\t\treturn InternalEncoding.fromCodePoint(haxe.Utf8.charCodeAt(s, index));\n\t#else\n\t\tvar i = InternalEncoding.offsetByCodePoints(s, 0, index);\n\t\treturn InternalEncoding.charAt(s, i);\n\t#end\n\t}\n\n\t/**\n\t   Returns the code point as Int at position `index` by code points of String `s`.\n\t **/\n\tpublic static inline function uCharCodeAt(s : String, index : Int) : Int {\n\t#if (neko || php || cpp || lua || macro)\n\t\treturn cast haxe.Utf8.charCodeAt(s, index);\n\t#else\n\t\tvar i = InternalEncoding.offsetByCodePoints(s, 0, index);\n\t\treturn InternalEncoding.codePointAt(s, i);\n\t#end\n\t}\n\n\t/**\n\t   Returns the code point at position `index` by code points of String `s`.\n\t **/\n\tpublic static inline function uCodePointAt(s : String, index : Int) : CodePoint {\n\t\treturn cast uCharCodeAt(s, index);\n\t}\n\n\t/**\n\t   Returns the position of the leftmost occurence of the str within String `s`.\n\n\t   `startIndex` is counted by code points.\n\t **/\n\tpublic static inline function uIndexOf(s : String, value : String, startIndex : Int = 0) : Int {\n\t\tvar index = s.indexOf(value, InternalEncoding.offsetByCodePoints(s, 0, startIndex));\n\t\treturn if (index >= 0) InternalEncoding.codePointCount(s, 0, index) else -1;\n\t}\n\n\t/**\n\t   Returns the position of the rightmost occurence of the str within String `s`.\n\n\t   `startIndex` is counted by code points.\n\t **/\n\tpublic static inline function uLastIndexOf(s : String, value : String, ?startIndex) : Int {\n\t\tif (startIndex == null)\n\t\t\tstartIndex = s.length - 1;\n\t\tvar index = s.lastIndexOf(value, InternalEncoding.offsetByCodePoints(s, 0, startIndex));\n\t\treturn if (index >= 0) InternalEncoding.codePointCount(s, 0, index) else -1;\n\t}\n\n\t/**\n\t   Splits String `s` at each occurence of `delimiter`.\n\t **/\n\tpublic static inline function uSplit(s : String, delimiter : String) : Array<String> {\n\t\treturn if (delimiter.length == 0) {\n\t\t\t[for (i in new InternalEncodingIter(s, 0, s.length)) InternalEncoding.charAt(s, i)];\n\t\t} else {\n\t\t\ts.split(delimiter);\n\t\t}\n\t}\n\n\t/**\n\t   Returns `length` characters of String `s`, starting at position `startIndex`.\n\n\t   `startIndex` and `length` are counted by code points.\n\t **/\n\tpublic static inline function uSubstr(s : String, startIndex : Int, ?length : Int) : String {\n\t\tvar si = InternalEncoding.offsetByCodePoints(s,\n\t\t\tif (startIndex >= 0) 0 else s.length,\n\t\t\tstartIndex);\n\t\tvar ei = if (length == null) s.length\n\t\t\telse if (length < 0) si\n\t\t\telse InternalEncoding.offsetByCodePoints(s, si, length);\n\t\treturn s.substring(si, ei);\n\t}\n\n\t/**\n\t   Returns the part of String `s` from `startIndex` to `endIndex`.\n\n\t   `startIndex` and `endIndex` are counted by code points.\n\t **/\n\tpublic static inline function uSubstring(s : String, startIndex : Int, ?endIndex : Int) : String {\n\t\tvar si = if (startIndex < 0) 0\n\t\t\telse InternalEncoding.offsetByCodePoints(s, 0, startIndex);\n\t\tvar ei = if (endIndex == null) s.length\n\t\t\telse if (endIndex < 0) 0\n\t\t\telse InternalEncoding.offsetByCodePoints(s, 0, endIndex);\n\t\treturn s.substring(si, ei);\n\t}\n\n\t/**\n\t   Returns an iterator of the code points of String `s`.\n\t **/\n\tpublic static inline function uIterator(s : String) : CodePointIter {\n\t\treturn new CodePointIter(s);\n\t}\n\n\t/**\n\t   Compares String `a` and `b`.\n\t **/\n\tpublic static function uCompare(a : String, b : String) : Int {\n\t\tvar aiter = new InternalEncodingIter(a, 0, a.length);\n\t\tvar biter = new InternalEncodingIter(b, 0, b.length);\n\t\twhile (aiter.hasNext() && biter.hasNext()) {\n\t\t\tvar acode = InternalEncoding.codePointAt(a, aiter.next());\n\t\t\tvar bcode = InternalEncoding.codePointAt(b, biter.next());\n\t\t\tif (acode < bcode)\n\t\t\t\treturn -1;\n\t\t\tif (acode > bcode)\n\t\t\t\treturn 1;\n\t\t}\n\t\tif (biter.hasNext())\n\t\t\treturn -1;\n\t\tif (aiter.hasNext())\n\t\t\treturn 1;\n\t\treturn 0;\n\t}\n\n\t/**\n\t   Converts `codePoints` to string.\n\t **/\n\tpublic static inline function uToString(codePoints : Iterable<CodePoint>) : String\n\t\treturn InternalEncoding.fromCodePoints(cast codePoints);\n\n\t/**\n\t   Appends the character `c` to StringBuf `sb`.\n\t **/\n\tpublic static inline function uAddChar(sb : StringBuf, c : CodePoint) : Void {\n\t\t#if (neko || php || cpp || lua || macro)\n\t\t\tUtf8.encodeWith(function(c) sb.addChar(c), c.toInt());\n\t\t#elseif python\n\t\t\t// Utf32.encodeWith(function(c) sb.addChar(c), c.toInt());\n\t\t\tsb.addChar(c);\n\t\t#else\n\t\t\tUtf16.encodeWith(function(c) sb.addChar(c), c.toInt());\n\t\t#end\n\t}\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage;\n\n// Can't enable @:coreApi because some fields are now inline getters\n// @:coreApi\n@:keepInit\nextern class Math\n{\n\tstatic var PI(default,null) : Float;\n\n\tstatic var NEGATIVE_INFINITY(get, null) : Float;\n\t@:pure private static inline function get_NEGATIVE_INFINITY () : Float {\n\t\treturn -(untyped __js__(\"Infinity\"));\n\t}\n\n\tstatic var POSITIVE_INFINITY(get,null) : Float;\n\t@:pure private static inline function get_POSITIVE_INFINITY () : Float {\n\t\treturn (untyped __js__(\"Infinity\"));\n\t}\n\n\tstatic var NaN(get, null) : Float;\n\t@:pure private static inline function get_NaN () : Float {\n\t\treturn (untyped __js__(\"NaN\"));\n\t}\n\n\t@:pure static function abs(v:Float):Float;\n\t@:pure static function acos(v:Float):Float;\n\t@:pure static function asin(v:Float):Float;\n\t@:pure static function atan(v:Float):Float;\n\t@:pure static function atan2(y:Float, x:Float):Float;\n\t@:pure static function ceil(v:Float):Int;\n\t@:pure static function cos(v:Float):Float;\n\t@:pure static function exp(v:Float):Float;\n\t@:pure static function floor(v:Float):Int;\n\t@:pure static function log(v:Float):Float;\n\t@:pure static function max(a:Float, b:Float):Float;\n\t@:pure static function min(a:Float, b:Float):Float;\n\t@:pure static function pow(v:Float, exp:Float):Float;\n\tstatic function random() : Float;\n\t@:pure static function round(v:Float):Int;\n\t@:pure static function sin(v:Float):Float;\n\t@:pure static function sqrt(v:Float):Float;\n\t@:pure static function tan(v:Float):Float;\n\n\t@:pure static inline function ffloor( v : Float ) : Float {\n\t\treturn floor(v);\n\t}\n\n\t@:pure static inline function fceil( v : Float ) : Float {\n\t\treturn ceil(v);\n\t}\n\n\t@:pure static inline function fround( v : Float ) : Float {\n\t\treturn round(v);\n\t}\n\n\t@:pure static inline function isFinite( f : Float ) : Bool {\n\t\treturn (untyped __js__(\"isFinite\"))(f);\n\t}\n\n\t@:pure static inline function isNaN( f : Float ) : Bool {\n\t\treturn (untyped __js__(\"isNaN\"))(f);\n\t}\n\n\tstatic function __init__() : Void {\n\t\tuntyped __feature__(\"Type.resolveClass\", $hxClasses[\"Math\"] = Math);\n\t}\n}\n","package ceramic.macros;\n\nimport haxe.macro.Context;\nimport haxe.macro.Expr;\nimport haxe.io.Path;\nimport sys.FileSystem;\n\nusing StringTools;\n\nclass AssetsMacro {\n\n    public static var backendInfo:backend.Info = null;\n\n    public static var allAssets:Array<String> = null;\n\n    public static var allAssetDirs:Array<String> = null;\n\n    public static var assetsByBaseName:Map<String,Array<String>> = null;\n\n    public static var assetDirsByBaseName:Map<String,Array<String>> = null;\n\n    public static var reAsciiChar = ~/^[a-zA-Z0-9]$/;\n\n    public static var reConstStart = ~/^[a-zA-Z_]$/;\n\n    macro static public function buildNames(kind:String, ?extensions:Array<String>, dir:Bool = false):Array<Field> {\n        \n        initData(Context.definedValue('assets_path'), Context.definedValue('ceramic_assets_path'));\n\n        var fields = Context.getBuildFields();\n        var pos = Context.currentPos();\n\n        for (field in computeNames(fields, pos, kind, extensions, dir)) {\n            fields.push(field);\n        }\n\n        return fields;\n\n    } //buildNames\n\n    static public function computeNames(inFields:Array<Field>, pos:Position, kind:String, ?extensions:Array<String>, dir:Bool = false):Array<Field> {\n\n        if (extensions == null) extensions = [];\n        extensions = extensions.concat(switch (kind) {\n            case 'image': backendInfo.imageExtensions();\n            case 'text': backendInfo.textExtensions();\n            case 'sound': backendInfo.soundExtensions();\n            case 'shader': backendInfo.shaderExtensions();\n            case 'database': ['csv'];\n            case 'font': ['fnt'];\n            default: [];\n        });\n\n        var fields = [];\n        if (extensions.length == 0) return fields;\n\n        var used = new Map<String,String>();\n        var fileList = dir ? allAssetDirs : allAssets;\n\n        for (ext in extensions) {\n\n            for (name in fileList) {\n\n                var lowerName = name.toLowerCase();\n                var dotIndex = lowerName.lastIndexOf('.');\n                var fileExt = null;\n                var baseName = null;\n                var fieldName = null;\n\n                if (dotIndex != -1) {\n                    fileExt = lowerName.substr(dotIndex + 1);\n\n                    if (fileExt == ext) {\n\n                        var truncatedName = name.substr(0, dotIndex);\n                        var baseAtIndex = truncatedName.lastIndexOf('@');\n                        if (baseAtIndex == -1) baseAtIndex = dotIndex;\n\n                        baseName = name.substr(0, cast Math.min(baseAtIndex, dotIndex));\n                        fieldName = toAssetConstName(baseName);\n                    \n                        if (fieldName != null && !used.exists(fieldName) && fileExt != null) {\n                            used.set(fieldName, baseName);\n                        }\n                    }\n                }\n            }\n        }\n\n        // Add fields\n        var byBaseName = dir ? assetDirsByBaseName : assetsByBaseName;\n        for (fieldName in used.keys()) {\n            var value = kind + ':' + used.get(fieldName);\n\n            var expr = { expr: ECast({ expr: EConst(CString(value)), pos: pos }, null), pos: pos };\n            \n            var fieldDoc = [];\n            var files = byBaseName.get(used.get(fieldName));\n            for (file in files) {\n                for (ext in extensions) {\n                    if (file.endsWith('.$ext')) {\n                        fieldDoc.push(file);\n                        break;\n                    }\n                }\n            }\n\n            var field = {\n                pos: pos,\n                name: fieldName,\n                kind: FProp('default', 'null', macro :ceramic.AssetId<String>, expr),\n                access: [AStatic, APublic],\n                doc: fieldDoc.join(', '),\n                meta: []\n            };\n\n            fields.push(field);\n        }\n\n        return fields;\n\n    } //computeNames\n\n    macro static public function buildLists():Array<Field> {\n        \n        initData(Context.definedValue('assets_path'), Context.definedValue('ceramic_assets_path'));\n\n        var fields = Context.getBuildFields();\n        var pos = Context.currentPos();\n\n        // All assets\n        //\n        var exprEntries = [];\n        \n        for (name in allAssets) {\n            exprEntries.push({expr: EConst(CString(name)), pos: pos});\n        }\n\n        var expr = {expr: EArrayDecl(exprEntries), pos: pos};\n\n        var field = {\n            pos: pos,\n            name: 'all',\n            kind: FProp('default', 'null', macro :Array<String>, expr),\n            access: [AStatic, APublic],\n            doc: 'All asset file paths array',\n            meta: []\n        };\n\n        fields.push(field);\n\n        // All asset dirs\n        //\n        var exprEntries = [];\n        \n        for (name in allAssetDirs) {\n            exprEntries.push({expr: EConst(CString(name)), pos: pos});\n        }\n\n        var expr = {expr: EArrayDecl(exprEntries), pos: pos};\n\n        var field = {\n            pos: pos,\n            name: 'allDirs',\n            kind: FProp('default', 'null', macro :Array<String>, expr),\n            access: [AStatic, APublic],\n            doc: 'All asset directory paths array',\n            meta: []\n        };\n\n        fields.push(field);\n\n        // Assets by base name\n        //\n        var exprEntries = [];\n\n        for (baseName in assetsByBaseName.keys()) {\n            var list = assetsByBaseName.get(baseName);\n            var listExprs = [];\n\n            for (entry in list) {\n                listExprs.push({expr: EConst(CString(entry)), pos: pos});\n            }\n\n            exprEntries.push({expr: EBinop(OpArrow, {expr: EConst(CString(baseName)), pos: pos}, {expr: EArrayDecl(listExprs), pos: pos}), pos: pos});\n        }\n\n        var expr = exprEntries.length == 0 ? (macro new Map()) : {expr: EArrayDecl(exprEntries), pos: pos};\n\n        var field = {\n            pos: pos,\n            name: 'allByName',\n            kind: FProp('default', 'null', macro :Map<String,Array<String>>, expr),\n            access: [AStatic, APublic],\n            doc: 'Assets by base name',\n            meta: []\n        };\n\n        fields.push(field);\n\n        // Asset dirs by base name\n        //\n        var exprEntries = [];\n\n        for (baseName in assetDirsByBaseName.keys()) {\n            var list = assetDirsByBaseName.get(baseName);\n            var listExprs = [];\n\n            for (entry in list) {\n                listExprs.push({expr: EConst(CString(entry)), pos: pos});\n            }\n\n            exprEntries.push({expr: EBinop(OpArrow, {expr: EConst(CString(baseName)), pos: pos}, {expr: EArrayDecl(listExprs), pos: pos}), pos: pos});\n        }\n\n        var expr = exprEntries.length == 0 ? (macro new Map()) : {expr: EArrayDecl(exprEntries), pos: pos};\n\n        var field = {\n            pos: pos,\n            name: 'allDirsByName',\n            kind: FProp('default', 'null', macro :Map<String,Array<String>>, expr),\n            access: [AStatic, APublic],\n            doc: 'Asset directories by base name',\n            meta: []\n        };\n\n        fields.push(field);\n\n        return fields;\n\n    } //buildLists\n\n    public static function initData(assetsPath:String, ceramicAssetsPath:String):Void {\n\n        if (backendInfo == null) backendInfo = new backend.Info();\n\n        if (allAssets == null) {\n\n            var usedPaths:Map<String,Bool> = new Map();\n\n            if (FileSystem.exists(assetsPath)) {\n                allAssets = getFlatDirectory(assetsPath);\n            } else {\n                allAssets = [];\n            }\n\n            for (asset in allAssets) {\n                usedPaths.set(asset, true);\n            }\n\n            if (FileSystem.exists(ceramicAssetsPath)) {\n                for (asset in getFlatDirectory(ceramicAssetsPath)) {\n                    if (!usedPaths.exists(asset)) {\n                        allAssets.push(asset);\n                        usedPaths.set(asset, true);\n                    }\n                }\n            }\n\n            var usedDirs:Map<String,Bool> = new Map();\n            allAssetDirs = [];\n            for (asset in allAssets) {\n                var lastSlash = asset.lastIndexOf('/');\n                if (lastSlash != -1) {\n                    var dir = asset.substr(0, lastSlash);\n                    while (!usedDirs.exists(dir)) {\n                        allAssetDirs.push(dir);\n                        usedDirs.set(dir, true);\n                        lastSlash = dir.lastIndexOf('/');\n                        if (lastSlash == -1) break;\n                        dir = dir.substr(0, lastSlash);\n                    }\n                }\n            }\n        }\n\n        if (assetsByBaseName == null) {\n\n            assetsByBaseName = new Map();\n\n            for (name in allAssets) {\n                var dotIndex = name.lastIndexOf('.');\n                var truncatedName = name.substr(0, dotIndex);\n                var baseAtIndex = truncatedName.lastIndexOf('@');\n                if (baseAtIndex == -1) baseAtIndex = dotIndex;\n\n                var baseName = name.substr(0, cast Math.min(baseAtIndex, dotIndex));\n                if (!assetsByBaseName.exists(baseName)) {\n                    assetsByBaseName.set(baseName, []);\n                }\n                var list = assetsByBaseName.get(baseName);\n                list.push(name);\n            }\n        }\n\n        if (assetDirsByBaseName == null) {\n\n            assetDirsByBaseName = new Map();\n\n            for (name in allAssetDirs) {\n                var dotIndex = name.lastIndexOf('.');\n                var truncatedName = name.substr(0, dotIndex);\n                var baseAtIndex = truncatedName.lastIndexOf('@');\n                if (baseAtIndex == -1) baseAtIndex = dotIndex;\n\n                var baseName = name.substr(0, cast Math.min(baseAtIndex, dotIndex));\n                if (!assetDirsByBaseName.exists(baseName)) {\n                    assetDirsByBaseName.set(baseName, []);\n                }\n                var list = assetDirsByBaseName.get(baseName);\n                list.push(name);\n            }\n        }\n\n    } //initData\n\n    public static function toAssetConstName(input:String):String {\n\n        var res = new StringBuf();\n        var len = input.length;\n        var i = 0;\n        var canAddSpace = false;\n\n        while (i < len) {\n\n            var c = input.charAt(i);\n            if (c == '/') {\n                res.add('__');\n                canAddSpace = false;\n            }\n            else if (c == '.') {\n                res.add('_');\n                canAddSpace = false;\n            }\n            else if (reAsciiChar.match(c)) {\n\n                var uc = c.toUpperCase();\n                var isUpperCase = (c == uc);\n\n                if (canAddSpace && isUpperCase) {\n                    res.add('_');\n                    canAddSpace = false;\n                }\n\n                res.add(uc);\n                canAddSpace = !isUpperCase;\n            }\n            else {\n                res.add('_');\n                canAddSpace = false;\n            }\n\n            i++;\n        }\n\n        var str = res.toString();\n        if (!reConstStart.match(str.charAt(0))) str = '_' + str;\n        if (str.endsWith('_')) str = str.substr(0, str.length - 1);\n\n        return str;\n\n    } //toAssetConstName\n    \n    static function getFlatDirectory(dir:String, excludeSystemFiles:Bool = true, subCall:Bool = false):Array<String> {\n\n        var result:Array<String> = [];\n\n        for (name in FileSystem.readDirectory(dir)) {\n\n            if (excludeSystemFiles && name == '.DS_Store') continue;\n\n            var path = Path.join([dir, name]);\n            if (FileSystem.isDirectory(path)) {\n                result = result.concat(getFlatDirectory(path, excludeSystemFiles, true));\n            } else {\n                result.push(path);\n            }\n        }\n\n        if (!subCall) {\n            var prevResult = result;\n            result = [];\n            var prefix = Path.normalize(dir);\n            if (!prefix.endsWith('/')) prefix += '/';\n            for (item in prevResult) {\n                result.push(item.substr(prefix.length));\n            }\n        }\n\n        return result;\n\n    } //getFlatDirectory\n\n}","package ceramic;\n\n#if !macro\n@:build(ceramic.macros.AssetsMacro.buildNames('font'))\n#end\nclass Fonts {}\n","package snow.types;\n\n\n#if macro\n    import haxe.macro.Expr;\n#end\n\n/**\n    The snow.types.Config class holds static variables \n    containing the currently configured modules and types\n    that are configured by snow.Set at the initialization macro context.\n*/\n@:noCompletion\nclass Config {\n    \n    public static var app_runtime : String #if (!macro && !display) = snow.types.Config.get_runtime() #end;\n    public static var app_config : String #if (!macro && !display) = snow.types.Config.get_config() #end;\n    public static var app_ident : String #if (!macro && !display) = snow.types.Config.get_ident() #end;\n    public static var app_main : String #if (!macro && !display) = snow.types.Config.get_main() #end;\n\n    public static var module_assets : String #if (!macro && !display) = snow.types.Config.get_module_assets() #end;\n    public static var module_audio : String #if (!macro && !display) = snow.types.Config.get_module_audio() #end;\n    public static var module_io : String #if (!macro && !display) = snow.types.Config.get_module_io() #end;\n\n    public static var extensions : Array<String> #if (!macro && !display) = snow.types.Config.get_extensions() #end;\n\n    #if (!display || !macro) \n        macro static function get_runtime():Expr return macro $v{snow.types.Config.app_runtime};\n        macro static function get_config():Expr return macro $v{snow.types.Config.app_config};\n        macro static function get_ident():Expr return macro $v{snow.types.Config.app_ident};\n        macro static function get_main():Expr return macro $v{snow.types.Config.app_main};\n\n        macro static function get_module_assets():Expr return macro $v{snow.types.Config.module_assets};\n        macro static function get_module_audio():Expr return macro $v{snow.types.Config.module_audio};\n        macro static function get_module_io():Expr return macro $v{snow.types.Config.module_io};\n\n        macro static function get_extensions():Expr return macro $v{ ${snow.types.Config.extensions} };\n    #end\n\n} //Config"],
"names":[],
"mappings":";;;;;;;;;WAyBe,gBACb;AAAA,UAAS,WAAe,EAAG,UAAU,UAAU;;;;;QAGzC,YAAoC;AAAA,EAC1C,EAAI,gBAAW;AAAA,sBAAc;;EAC7B,WAAM,YAAO;EACb,WAAM;EACN,OAAO,AAAC,YAAO;;WAGT,YACC;AAAA,IAAI,aAAO,QAAQ,KAAK,KAAK,IAAI,iBAAa;AAAA,mBAAI;SAAQ;AAAA,SAAM;;;gBAQjE,WAAiC;AAAA,EACvC,EAAI,aAAO,MAAO;AAAA,SAAM;;EACxB,SAAS,iBAAU,SAAI;EAChB,mCAAW,GAAG,kBAAW;;;;;;;sBCV1B,YACN;AAAA,CAAQ;;MACR;EACC,QAAQ,QAAQ;EAChB,QAAuB,IAAQ;EACvB,EAAE,WAAW;EACb,EAAE,eAAe,EAAE;EACnB,EAAE,iBAAiB,EAAE;EACrB,EAAE,iBAAiB,EAAE;EAC7B,OAAO;MACR;EACC,SAAQ,QAAQ;EAChB,OAAO,SAAS,AAAK,GAAE,GAAG,AAAa,GAAE,KAAK,EAAE,AAAK,GAAE,GAAG,EAAE,EAAE;MAC/D;EACC,SAAQ,QAAQ;EAChB,QAAQ,GAAE,SAAS;EACnB,QAAQ,GAAE,SAAS;EACnB,OAAO,SAAS,AAAK,EAAE,GAAG,AAAa,EAAE,KAAK,EAAE,AAAK,EAAE,GAAG,AAAK,EAAE,GAAG,AAAK,EAAE,GAAG,AAAK,EAAE;;EAErF,MAAM,mDAA2B;;;kBAI5B,kBAAoD;AAAA,CAC1D,QAAQ,AAAM,aAAc;CAC5B,EAAI,MAAK,GACR;AAAA,SAAO;;CACR,OAAO;;qBAGD,oBAA8D;AAAA,CACpE,EAAI,QAAO,MACV;AAAA,QAAM;QACA,EAAI,OAAM,GAChB;AAAA,IAAI,QAAO,GACV;AAAA,SAAM,WAAW;SAEjB;AAAA,UAAO;;;CAWT,OAAO,SAAmB,IAAK;;qBAiCzB,gBAA4C;AAAA,CAClD,QAAQ,UAAU;CAClB,EAAI,MAAK,IAAK;AAAA,SAAO;;CACrB,SAAS,EAAE;CACX,OAAO;;mBAGD,YACN;AAAA,QAAO,QACA,SACA,aACI,WACT;AAAA,SAAO,WAAe;WAEhB,WACN;AAAA,SAAO,SAAa;;;;;;aCXT,iBAAoD;AAAA,CACvD;;EAAV,SAAU;EACT,EAAI,OAAK,KACR;AAAA,UAAO;;;CACT,OAAO;;eAyFM,kBAAyD;AAAA,CACtE,QAAQ;CACR,EAAI,SAAQ,MACX;AAAA,EAAU;;GAAV,SAAU;GACT;;QAED;AAAA,EAAU;;GAAV,SAAU;GACT,EAAI,MAAK,KACR;AAAA;;;;CACH,OAAO;;WCvLD,WACN;AAAA,eAAS;;;;;MAQH,eAAyB;AAAA,EAC/B,QAAQ,oBAAgB,KAAM;EAC9B,EAAI,WAAK,MACR;AAAA,YAAI;SAEJ;AAAA,iBAAS;;EACV,SAAI;EACJ;;QAQM,eAA0B;AAAA,EAChC,QAAQ,oBAAgB,KAAM;EAC9B,SAAI;EACJ,EAAI,WAAK,MACR;AAAA,YAAI;;EACL;;QAiBM,WACC;AAAA,IAAI,WAAK,MAAO;AAAA;SAAU;AAAA;;;OAS3B,WAAyB;AAAA,EAC/B,EAAI,WAAK,MACR;AAAA,UAAO;;EACR,QAAQ;EACR,SAAI;EACJ,EAAI,WAAK,MACR;AAAA,YAAI;;EACL;EACA,OAAO;;UA8BD,YAAgC;AAAA,EACtC,WAAuB;EACvB,QAAQ;EACR,KAAO,MAAK,MAAZ;AAAA,GACC,EAAI,WAAU,GAAI;AAAA,IACjB,EAAI,SAAQ,MACX;AAAA,cAAI;WAEJ;AAAA,iBAAY;;IACb,EAAI,WAAK,GACR;AAAA,cAAI;;IACL;IACA,OAAO;;GAER,OAAO;GACP,IAAI;;EAEL,OAAO;;YAMM,WACb;AAAA,SAAO,wBAAoB;;;;sBA8FrB,oBAAuC;AAAA,CAC7C,YAAY;CACZ,YAAY;;;;;;;0BAWC,eACb;AAAA,aAAY;;;;;UAGC,WACb;AAAA,SAAO,aAAQ;;QAGF,WAAkB;AAAA,EAC/B,UAAU;EACV,YAAO;EACP,OAAO;;;;;;;;UChLS,wBACV;AAAA,sBAAgB,MAAO;;WAIb,wBACV;AAAA,QAAO,sBAAiB,MAAO;;YAId,eAEjB;AAAA,IAAU,QAAV;4BAAU;;;gBAKO,WAEjB;AAAA;;mBAKiB,gBAEjB;AAAA,6BAAqB;;gBAMX,WAA0C;AAAA,QAAO;;kBACjD,WAA0C;AAAA,QAAO;;gBACjD,WAA0C;AAAA,CAAO;;;mBACjD,WAA0C;AAAA,QAAO;;iBACjD,WAA0C;AAAA,QAAO;;cAEjD,WAA0C;AAAA,QAAO;;uBACjD,WAA0C;AAAA,QAAO;;4BACjD,WAA0C;AAAA,QAAO;;2BACjD,WAA0C;AAAA,QAAO;;uBACjD,WAA0C;AAAA,QAAO;;sBACjD,WAA0C;AAAA,QAAO;;2BACjD,WAA0C;AAAA,QAAO;;sBACjD,WAA0C;AAAA,QAAO;;qBACjD,WAA0C;AAAA,QAAO;;oBACjD,WAA0C;AAAA,QAAO;;qBACjD,WAA0C;AAAA,QAAO;;uBACjD,WAA0C;AAAA,QAAO;;0BACjD,WAA0C;AAAA,QAAO;;uBACjD,WAA0C;AAAA,QAAO;;4BACjD,WAA0C;AAAA,QAAO;;qBAEjD,eAA0C;AAAA,QAAO,sBAAiB;;uBAClE,eAA0C;AAAA,QAAO,wBAAmB;;uBACpE,eAA0C;AAAA,QAAO,wBAAmB;;0BACpE,eAA0C;AAAA,QAAO,2BAAsB;;2BACvE,eAA0C;AAAA,QAAO,4BAAuB;;4BACxE,eAA0C;AAAA,QAAO,6BAAwB;;gBC3IhF,WAAe;AAAA,CAElB,WAAM,gBAAgB;CACtB;;;;iBAVO,WAEH;AAAA;;;SAeD,kBAAoD;AAAA,SAAO;;SAE3D,WAAiB;AAAA;UAEjB,aAA0B;AAAA;aAG3B,WAAqB;AAAA;eAGrB,WAAuB;AAAA;YAEvB,WAAoB;AAAA;gBAEpB,WAAwB;AAAA;eAGxB,gBAAuC;AAAA;aAEvC,gBAAqC;AAAA;eAGrC,gBAAuC;AAAA;aAEvC,gBAAqC;AAAA;gBAErC,gBAAwC;AAAA;eAExC,gBAAuC;AAAA;aAGvC,gBAAmC;AAAA;WAEnC,gBAAiC;AAAA;eAEjC,gBAAsC;AAAA;eAGtC,gBAAuC;AAAA;aAEvC,gBAAqC;AAAA;eAErC,gBAAuC;AAAA;iBAGvC,gBAA2C;AAAA;iBAE3C,gBAA2C;AAAA;eAE3C,gBAAyC;AAAA;mBAEzC,gBAA6C;AAAA;iBAG7C,gBAA0C;AAAA;mBAE1C,gBAA4C;AAAA;iBAE5C,gBAA0C;AAAA;qBAE1C,gBAA8C;AAAA;oBAE9C,gBAA6C;AAAA;WAG7B,gBAAqD;AAAA;;;WCrE/E;AAAA;;;;;;SAsBa,iBAAwC;AAAA,EAE7C,gBAAW;EACX,eAA0B,YAAY;EACtC,UAA0B;EAG1B,6BAA6B,4BAA4B,IAAI;EAC7D,2BAA2B;EAC3B,EAAI,kCAA2B,GAAG;AAAA,yBAAsB,AAAK;;EAC7D,EAAI,mCAA4B,GAAG;AAAA,0BAAuB,AAAK;;EAC/D,0BAA0B;EAC1B,sBAAsB,AAAK;EAG3B,EAAI,mCAAkC,MAClC;AAAA,kCAA+B;SAE/B;AAAA,kCAA+B,+BAAyB;;EAE5D,0CAA0C;EAC1C,wCAAwC;EACxC,EAAI,wCACA;AAAA,yCAAsC;;EAI1C,oBAA2B,kCAAkC,OAAO,oCAAqC;EACzG,EAAI,yBAAwB;AAAA,GAExB,qBAAyB;GACzB,sBAA0B;GAE1B,aAAa,KAAM,gBAAgB;AAAA,IAC/B,kBAAkB,+BAAwB;IAC1C,EAAI,gBAAe,MAAM;AAAA,KACrB,YAAgB;KAChB,aAAiB;KAEjB,EAAI,UAAS,kBAAkB,UAAU,iBAAiB;AAAA,MACtD,iBAAiB;MACjB,kBAAkB;MAElB,YAAkC,AAAK,+BAAyB;MAChE,qBAAsB;MACtB,oBAAoB,iBAAkB;MACtC,qBAAqB,kBAAmB;MACxC,cAAc,WAAW,iBAAiB;MAC1C,eAAe,WAAW,kBAAkB;;;;;EAQ5D,gBAAgB;EAChB,EAAI,mBAAmB,gBAAe,IAClC;AAAA,OAAI;AAAA,IACA,kBAAkC;IAClC,EAAI,8BACA;AAAA,2BAAiB;;;;;EAI7B,EAAI,wBAAkB,MAAM;AAAA,GAGxB,oCAA+B,UACpB,gCACI,sCACE,+CACC;GAIV,cAAc;;EAI1B,OAAO;;SAIF,WAAsB;AAAA,EAI3B,4BAAuB;EACvB,iBAAY;EACZ,kBAAa;EAGb,8BAA8B;EAG9B,qBAAmB,mBAAgB,yBAAoB,0CAAgC,0BAAqB;EAG5G;EAGA,EAAI,wBAAkB,MAClB;AAAA;;;UAMC,gBAAkC;AAAA,EAIvC;EAGA,mCAAmC;;mBAI9B,gBAEL;AAAA;;eAOK,gBAAuC;AAAA,EAE5C,EAAI,wCAAwB,eACxB;AAAA,kBAAU;;EAGd,cAAS;EACT,cAAS;EAET,wBAAqB,gBAAc;EACnC,6CACI,aACA,QACA;;aAKC,gBAAqC;AAAA,EAE1C,EAAI,EAAC,uCAAwB,eACzB;AAAA;;EAGJ,cAAS;EACT,cAAS;EAET,6BAAwB;EACxB,2CACI,aACA,QACA;;gBAKC,gBAqBL;AAAA,gDACI,QACA;;eAKC,gBAAuC;AAAA,EAE5C,cAAS;EACT,cAAS;EAET,6CACI,QACA;;aAOC,gBAEL;AAAA,sCAAoC,gBACvB,cACC;;WAKT,gBAEL;AAAA,oCAAkC,gBACrB,cACC;;eAQT,gBAAuC;AAAA,EAE5C,YAAY;EACZ,KAAO,oCAAoB,QACvB;EAEJ,eAAY,kBAAgB;EAC5B,oBAAiB,SAAO;EAExB,6CACI,MACA,UAAU,eACV,UAAU;;aAKT,gBAAqC;AAAA,EAE1C,EAAI,EAAC,8BAAe,iBAChB;AAAA,oBAAY;;EAEhB,YAAY,eAAY;EAExB,2CACI,MACA,UAAU,eACV,UAAU;EAGd,oBAAe;EACf,yBAAoB;;eAIf,gBAAuC;AAAA,EAE5C,EAAI,EAAC,8BAAe,iBAChB;AAAA,oBAAY;;EAEhB,YAAY,eAAY;EAExB,6CACI,MACA,UAAU,eACV,UAAU;;iBAOF,gBAA2C;AAAA,EAEvD,SAAS;EACT,EAAI,EAAC,wCAAyB,OAAO,CAAC,yCAA0B,KAAK;AAAA,GACjE,yBAAsB,MAAI;GAC1B,WAA8E;GAC9E,6CAA6C,GAAI;;EAGrD,2CAA2C,GAAI,WAAY;;iBAI/C,gBAA2C;AAAA,EAEvD,SAAS;EACT,EAAI,EAAC,wCAAyB,OAAO,CAAC,yCAA0B,KAAK;AAAA,GACjE,yBAAsB,MAAI;GAC1B,WAA8E;GAC9E,6CAA6C,GAAI;;EAGrD,2CAA2C,GAAI;;eAInC,gBAAyC;AAAA,EAErD,SAAS;EACT,EAAI,EAAC,wCAAyB,OAAO,CAAC,yCAA0B,KAAK;AAAA,GACjE,yBAAsB,MAAI;GAC1B,WAA8E;GAC9E,6CAA6C,GAAI;;EAGrD,yCAAyC,GAAI;;mBAIjC,gBAA6C;AAAA,EAEzD,SAAS;EACT,EAAI,eAAc,sCACd;AAAA,KAAI,yCAAyB,KAAK;AAAA,IAC9B,8CAA8C;IAC9C,8BAAyB;IACzB,0BAAuB,MAAI;IAC3B,2BAA2B,KAAM,YAC7B;AAAA,oCAA0B;;;SAIjC,EAAI,eAAc,oCACnB;AAAA,KAAI,EAAC,wCAAyB,KAAK;AAAA,IAC/B,yBAAsB,MAAI;IAC1B,+BAA0B;IAC1B,WAA8E;IAC9E,6CAA6C,GAAI;;;;yBAQ7D,WAAsC;AAAA,EAGlC,EAAO,8CAAkC,6BAClC,0BAAqB,kBACrB,2BAAsB,iBAAY;AAAA;;EAGzC,4BAAuB;EACvB,iBAAY;EACZ,kBAAa;EAGb;EAGA,qBAAmB,mBAAgB,yBAAoB,0CAAgC,0BAAqB;;;;;;;;;;;qBClZpH;AAAA,CAoG4C,AApG5C,mBAoG4C;CAxC4B,AA5DxE,kBA4DwE;CApDxC,AARhC,iBAQgC;CAFL,AAN3B,UAM2B;CCkCkC,ADxC7D,gBCwC6D;;;;;;WDpC5C,WCoE2B;AAAA,EACR,EDrEnB,gBCqE8C;AAAA,GACrB,ADtEzB,gBCsE+C;GACtB,ADvEzB,YAA4B;;ECyET,ODzEnB;;4BC2FmB;AAAA,SAAS,AD3F5B,YC2FgD;;eDnFtD,WEgNyB;AAAA,EAER,UAAU;EACV,EAAI,uBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,yBAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,uBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,yBAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,uBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc;;GAElB,YAAY;;;aF1OjC,uBE0QyB;AAAA,EF1QzB;EE4QiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,sBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,kCAA8B,MAC9B;AAAA,oCAA6B;;GAEjC,mCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,kCAA8B,MAC9B;AAAA,oCAA6B;;GAEjC,mCAAgC;;EAIpC,EAAI,uBAAmB,MACnB;AAAA,wBAAkB;;EAEtB,wBAAuB;;eFrSxC,uBE+TyB;AAAA,EF/TzB;EEiUiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,sBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,oCAAgC,MAChC;AAAA,sCAA+B;;GAEnC,qCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,oCAAgC,MAChC;AAAA,sCAA+B;;GAEnC,qCAAkC;;EAItC,EAAI,yBAAqB,MACrB;AAAA,0BAAoB;;EAExB,0BAAyB;;cF1V1C,iBEiXiB;AAAA,IAAM,WAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,uBAAmB,MAAM;AAAA,IACzB,QAAQ,2BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,0BAAuB,MAAO;KAC9B,SAAS,8BAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,qCAAkC,MAAO;;;GAGjD,EAAI,yBAAqB,MAAM;AAAA,IAC3B,QAAQ,6BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,4BAAyB,MAAO;KAChC,SAAS,gCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,uCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,gCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,kCAA+B;GAC/B,qBAAkB;GAClB,uBAAoB;;;kBFhZzC,WEkawB;AAAA,OAAC,sBAAmB,QAAQ,4BAAyB,IACrD;AAAA,KAAC,yBAAqB,MAAQ;AAAA,yCAA2B;UAAzD;AAAA;;SADA;AAAA;;;WF9ZxB,WAAwB;AAAA,EAE3B,EAAI,iBAAW;AAAA;;EACf,iBAAY;EAEZ;EAGA,EAAI,oBAAc,MACd;AAAA,GAAa;;IAAb,YAAa;IACT,qBAAgB;;;;aAQrB,WAA4B;AAAA,EAE/B,gBAAgB,kBAAkB,iBAAc;EAChD,eAAe,sBAAuB;EACtC,EAAI,aAAY,IAAI;AAAA,eAAY,6BAAiB,WAAW,EAA5B;;EAChC,OAAO;;YAIX,WAA2B;AAAA,EAEvB,gBAAgB;EAEhB,EAAI,YAAM,MACN;AAAA,UAAQ,KAAC,YAAS,MAAE,UAAE;SAEtB;AAAA,UAAQ,KAAC;;;kBAWjB,qBAAkG;AAAA,EAC9F,EAAI,oBAAmB,YAAY;AAAA,UAAO;;EAG1C,EAAI,oBAAmB,MACnB;AAAA,GAAa;;IAAb,YAAa;IACT,EAAI,eAAc,QAAQ,CAAC,gBAAkB,UAAlB,iCAAkB,SAAlB,4BAAkB,SACzC;AAAA,0BAAgB;;;;EAM5B,EAAI,eAAc,MACd;AAAA,GAAa;;IAAb,YAAa;IACT,mBAAmB,eAAe,UAAf,8BAAe,SAAf,aAAe;IAClC,EAAI,oBAAmB,MAAM;AAAA,KACV;KAAf,eAAe,eAAoB,UAApB,yBAAoB,SAApB,QAAoB;KACnC,EAAI,aAAY,MACZ;AAAA,QAAI,aAAY,cAAc;AAAA,OAC1B,qBAAgB;OAChB,eAAU,MAAM;;YAGpB;AAAA,qBAAU,MAAM;;WAGpB;AAAA,oBAAU,MAAM;;;;EAM5B,kBAAkB;EAElB,OAAO;;aAMJ,yBAAgE;AAAA,EAAhE;EAEH,EAAI,cAAa,MAAM;AAAA,GACnB,EAAI,qBAAe,MACf;AAAA,uBAAc;UAEb;AAAA,IACc;IAAf,eAAe,eAAgB,SAAhB,yBAAgB,QAAhB,QAAgB;IAC/B,EAAI,aAAY,MACZ;AAAA;;;GAGR;qBAAgB,SAAhB;uBAAgB,KAAM;UAAtB;AAAA,aAAgB,QAAM;;GACtB,kDAAuB,aAAvB,gEAAuB,YAAvB;AAAA,cAAuB,YAAS;UAAhC;AAAA,kCAAuB,SAAS;;GAChC,sBAAsB,KAAM,WACxB;AAAA,MAAI,gEAAuB,YAAvB,8BAAuB,YAAvB,wBAAuB,cAAY,QACnC;AAAA,uDAAuB,aAAvB,gEAAuB,YAAvB;AAAA,gBAAuB,YAAS;YAAhC;AAAA,oCAAuB,SAAS;;;;GAGxB;GAChB,OAAO;SAEJ;AAAA,GACH,EAAI,qBAAe,MAAM;AAAA,WAAO;;GACzB;qBAAgB,SAAhB;8BAAgB;UAAhB;AAAA,oBAAgB;;;;gBAKxB,eAEH;AAAA,SAAO,eAAU,SAAS;;mBAIvB,eAA2C;AAAA,EAE/B;EAAf,eAAe,eAAgB,SAAhB,yBAAgB,QAAhB,QAAgB;EAC/B,EAAI,aAAY,MAAM;AAAA,GAClB,wBAAmB;GACnB;;;;;;cG7IR,mBAAoC;AAAA;CAEhC,iCAAwB;CACxB,iBAAsB;CAAtB;;;;;;CACA;;kBAAuB,KAAvB;AAAA,iCAAuB;EAAvB,6BAAuB,IAAvB;;CACA;;kBAAwB,KAAxB;AAAA,kCAAwB;EAAxB,8BAAwB,IAAxB;;CACA,cAAmB;CAAnB;;;;;;CACA,8BAAqB;CAErB,+BAAc;;;;;;QAIlB,WAAiB;AAAA,EAKb,YAAY;EACZ,cAAc;EACd,gBAAc;EACd,gBAAW;EAAX,iBAAe;EACf,kBAAa;EAAb,kBAAkB;EAClB,QAA8B,gCAAgB;EAA9C,YAAU,+BAAe;EAAzB;EACA,mBAAiB;EACjB,iBAAY;EAAZ,iBAAiB;EAEjB,YAAY;EACZ,gBAAc;EACd,cAAc;EACd,gBAAW;EAAX,iBAAe;EACf,kBAAa;EAAb,kBAAkB;EAClB,SAA8B,gCAAgB,MAAM;EAApD,YAAU,+BAAe;EAAzB;EACA,mBAAiB;EACjB,iBAAY;EAAZ,iBAAiB;EAEjB,yBAAa,KAAM,gBAAgB;AAAA,GAE/B,mBAAiB,CAAC,iBAAiB,QAAQ,OAAO;GAClD,mBAAiB,CAAC,iBAAiB,QAAQ,OAAO;;;;;;;;gBCrB/C,kBACb;AAAA,KAAI;AAAA,SAAe,EAAE;;EAA4B,OAAO;;;sBAO3C,kBAAsE;AAAA,CACnF;CACO,EAAI,MAAK,MAAO;AAAA,SAAyC;QAAW;AAAA,EAAI;uBAAoB;AAAA,GAAC,MAAI,iBAAiB,SAAO;GAAjD,OAAqB;SAArB;AAAA;;EAAJ,EAAI,OAA2D;AAAA,YAAE;SAAY;AAAA,YAAE;;;;sBAG7I,wBAAoF;AAAA,CACjG;CACI;sBAAoB;AAAA,EAAC,MAAI,iBAAiB,SAAO;EAAjD,OAAqB;QAArB;AAAA;;CAAJ,EAAI,OAA2D;AAAA,IAAE,KAAK;QAAY;AAAA,IAAE,SAAS,AAAyC;;;iBAOzH,YAA+C;AAAA,CAC5D,QAAQ;CACR,EAAI,MAAK,MAAc;AAAA,EACtB,qBAAqB;EACrB;EACA,EAAI,MAAK,YAAY,KAAK,oBAAoB,oBAAoB,EAAG,IAAK;AAAA,UAAO;;EACjF;;CAED,OAAO;;qBAGM,YACN;AAAA,iBAAuB,YAAc;AAAA,UAAC,CAAC,AAAgB,cAAM,AAAe;QAA5E;AAAA;;;sBA0BM,kBAAmE;AAAA,CAChF,EAAI,EAAC,qCAAS,EAAE,QAAS;AAAA,SAAO;;CAChC,OAAiB,EAAE;CACnB,OAAO;;;;;aCxDM,YACb;AAAA,QAAe,qBAAqB,EAAE;;eAQzB,YAA4C;AAAA,CACzD,QAAgB,SAAmB,EAAG;CAEtC,EAAI,MAAK,KAAK,CAAC,kBAAa,MAAM,OAAY,kBAAa,MAAM,KAChE;AAAA,MAAY,SAAmB;;CAChC,EAAY,OAAgB,IAC3B;AAAA,SAAO;;CACR,OAAO,AAAK;;aAOC,YACN;AAAA,SAAK,GAAI;AAAA;QAAI;AAAA,oBAAW,gBAAc;;;gBCbhC,WACb;AAAA,UAAI;;;;;;;;;;yBCyGS,mBAA2D;AAAA,CACxE,IAAI,QAAQ,UAAU,eAAe,UAAU,cAAc,UAAU;CAChE,WAAS;AAAA,iBAAS,WAAS,gBAAgB,UAAU;QAAY;AAAA;;;yBA4B9B,kBAiBpC;AAAA,GAAE,aAAY,cAAgB;AAAA,8BAAS,EAAG,iBAAiB;QAA3D;AAAA;;;uBAWoC,gBAAqD;AAAA,CAmB/F,WAAW;CACX,WAAW;CACL,EAAE,SAAQ,MAAQ;AAAA,8BAAS,OAAO,KAAM,SAAS;QAAjD;AAAA;;;sBAaO,gBAAiD;AAAA,CAI9D,QAAQ,kBAAc;CACf,KAAC,IAAI,KAAK,IAAI,KAAO;AAAA,cAAK;QAA1B;AAAA;;;oBAYyB,YAAsC;AAAA,CAItE,QAAQ;CACR,QAAQ;CACR,KAAO,KAAI,KAAK,oBAAQ,EAAE,IACzB;CAED,EAAI,KAAI,GACP;AAAA,SAAO,qBAAS,EAAG,IAAE;QAErB;AAAA,SAAO;;;oBAawB,YAAsC;AAAA,CAItE,QAAQ;CACR,QAAQ;CACR,KAAO,KAAI,KAAK,oBAAQ,EAAE,IAAE,IAAE,IAC7B;CAED,EAAI,KAAI,GACP;AAAA,SAAO,qBAAS,EAAG,IAAE;QAErB;AAAA,SAAO;;;mBAUkC,YAM1C;AAAA,QAAO,kBAAM,kBAAM;;mBAsCN,gBAA0D;AAAA,CACvE,EAAI,aAAY,GACf;AAAA,SAAO;;CAER,KAAO,YAAW,GACjB,KAAQ;CAET,OAAO;;sBAcM,mBAYb;AAAA,QAAO,QAAQ,UAAU;;kBAUZ,mBAAuC;AAAA,CAMnD,QAAQ;CACR,eAAe;CACf;EACC,IAAI,gBAAgB,IAAE,MAAM;EAC5B,OAAO;EAFR,EAGS,OAAI,IAHb;AAAA;;;CAaD,EAAI,WAAU,MACb;AAAA,OAAO,YAAW,QACjB,IAAI,MAAI;;CAEV,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qBCtXM,YACb;AAAA,QAAO;;oBAIM,YAAqD;AAAA,CAClE,QAAgC;CAChC,EAAI,MAAK,MACR;AAAA,SAAO;;CACR,OAAO,OAAO;;mBAGD,YAAmD;AAAA,CAChE,QAAgC;CAChC,OAAO,OAAO;;oBAGD,eAAgE;AAAA,CAC7E,SAA0B,WAAW;CAErC,EAAI,OAAM,QAAQ,CAAC,AAAgB,aAClC;AAAA,SAAO;;CACR,OAAO;;mBAGM,eAA8D;AAAA,CAC3E,QAAkB,WAAW;CAE7B,EAAI,MAAK,QAAQ,CAAC,AAAe,aAChC;AAAA,SAAO;;CACR,OAAO;;sBAGM,kBACb;AAAA,CAAQ;;MACR;EACC,OAAO,IAAQ;MAChB;EACC,OAAO,IAAQ,GAAG,KAAK;MACxB;EACC,OAAO,IAAQ,GAAG,KAAK,GAAG,KAAK;MAChC;EACC,OAAO,IAAQ,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK;MACxC;EACC,OAAO,IAAQ,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK;MAChD;EACC,OAAO,IAAQ,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK;MACxD;EACC,OAAO,IAAQ,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK;MAChE;EACC,OAAO,IAAQ,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK;MACxE;EACC,OAAO,IAAQ,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK;MAChF;EACC,OAAO,IAAQ,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK;MACxF;EACC,OAAO,IAAQ,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK;MAChG;EACC,OAAO,IAAQ,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK;MACxG;EACC,OAAO,IAAQ,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,IAAI,KAAK;MACjH;EACC,OAAO,IAAQ,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,IAAI,KAAK,IAAI,KAAK;MAC1H;EACC,OAAO,IAAQ,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK;;EAElI,MAAM;;;2BAIM,aAA6D;AAAA,CAC1E;CACA,OAAO;;kBAGM,0BAAqF;AAAA,CAClG,QAAgB,cAAc,EAAE;CAChC,EAAI,MAAK,MAAO;AAAA,QAAM,iDAAuB;;CAC7C,EAAI,oBAAmB,IAAK;AAAA,EAC3B,EAAI,WAAU,MAAO;AAAA,SAAM,yCAAe,SAAO;;EACjD,OAAO,AAAqB,QAAF,EAAI;;CAE/B,EAAI,WAAU,QAAQ,iBAAiB,GACtC;AAAA,QAAM,yCAAe,SAAO;;CAC7B,OAAO;;iBAgCM,YACb;AAAA,CAAQ,gBAAiB;CAAjB;MACR;EAAgB,OAAO;MAiBvB;EACC,EAAI,CAAgB,cAAM,AAAe,aACxC;AAAA,UAAO;;EACR,OAAO;MAlBR;EAEC,EAAI,WAAU,MAAM,IAAE,cACrB;AAAA,UAAO;;EACR,OAAO;MACR;EACC,EAAI,MAAK,MACR;AAAA,UAAO;;EACR,QAAQ;EACR,EAAI,MAAK,MACR;AAAA,UAAO,gBAAM;;EACd,QAAQ,iBAAiB;EACzB,EAAI,MAAK,MACR;AAAA,UAAO,iBAAO;;EACf,OAAO;MAfR;EAAe,OAAO,iBAAO;MAoB7B;EACC,OAAO;;EAEP,OAAO;;;UCqLT,mBAA+B;AAAA,CAC9B,gBAAgB;CAChB,gBAAW;CACX,oBAAe;;;;YApRF,cACb;AAAA,QAAO,sBAAsB;;oBA4DhB,eAA8C;AAAA,CAC3D,UAAU,QAAQ;CAClB;;;gBAAe;CACf,OAAO;;mBAMM,eAA6C;AAAA,CAC1D,UAAU,QAAQ;CAClB;;;iBAAgB;CAChB,OAAO;;kBAMM,eAA4C;AAAA,CACzD,UAAU,QAAQ;CAClB;;;iBAAgB;CAChB,OAAO;;oBAMM,eAA8C;AAAA,CAC3D,UAAU,QAAQ;CAClB;;;iBAAgB;CAChB,OAAO;;oBAMM,eAA8C;AAAA,CAC3D,UAAU,QAAQ;CAClB;;;iBAAgB;CAChB,OAAO;;kCAMM,eAA4D;AAAA,CACzE,UAAU,QAAQ;CAClB;;;iBAAgB;CAChB,OAAO;;qBAMM,WACb;AAAA,QAAO,QAAQ;;;MAOT,cAAsC;AAAA,EAC5C,EAAI,kBAAY,aACf;AAAA,SAAO,uEAA2C;;EAE5C;oBAAa,QAAb;4BAAa;SAAb;AAAA,kBAAa;;;OAOd,oBAAoD;AAAA,EAC1D,EAAI,kBAAY,aACf;AAAA,SAAO,uEAA2C;;EAEnD;oBAAiB,QAAjB;qBAAiB,IAAK;SAAtB;AAAA,WAAiB,OAAK;;;UAkBhB,cAAuC;AAAA,EAC7C,EAAI,kBAAY,aACf;AAAA,SAAO,uEAA2C;;EAE5C;oBAAoB,QAApB;+BAAoB;SAApB;AAAA,iCAAoB;;;cAMrB,WAAyC;AAAA,EAC/C,EAAI,kBAAY,aACf;AAAA,SAAO,uEAA2C;;EAE5C;;YAgBD,WAAoC;AAAA,EAC1C;;;EACU,SAAwD;EAAvD;YAAc;EAAd,YAAc,YAAd;AAAA,GAAK,YAAL,AAAc,IAAd;;GAAwB,EAAI,mBAAkB,aAAS;AAAA;;;EAAlE,UAAU;EACV,OAAO;;iBAOD,eAAwD;AAAA,EAC9D;;;EACU,SAAkF;EAAjF;YAAc;EAAd,YAAc,YAAd;AAAA,GAAK,YAAL,AAAc,IAAd;;GAA4B;wBAAkB,aAAlB;AAAA,IAA6B;;;IAA7B,MAA6B,kBAAkB;UAA/C;AAAA;;GAAJ,EAAI,MAAqD;AAAA;;;EAA5F,UAAU;EACV,OAAO;;gBAcD,WAA8B;AAAA,EACpC;;;EACA;YAAc;EAAd,WAAc,YAAd;AAAA,GAAK,YAAL,AAAc,IAAd;;GACC,EAAI,mBAAkB,aACrB;AAAA,WAAO;;;EAGT,OAAO;;YASD,YAAoC;AAAA,EAC1C;;;EACA,EAAI,aAAY,MACf;AAAA,wBAAqB;;EAEtB,mBAAc;EACd,WAAW;;eAOL,YAAuC;AAAA,EAC7C;;;EACA,EAAI,kCAAgB,IAAI;AAAA,GACvB,WAAW;GACX,OAAO;;EAER,OAAO;;;;;;;;;;oBCzUE,WATX;AAAA,CAKmD,AALnD,mBAKmD;CADJ,AAJ/C,sBAI+C;;;;;;OASpC,4BAAqF;AAAA,EAEjF,2BAAgB,SAAS,4BAAiB,cAAa,4BAAiB,aAC3E;AAAA,GADJ,OACI;SAEA;AAAA,GAHJ,OAGI,kBAAU,CAAC,oCAAqC;;EAEpD,0BAA0B,KAAM,cACjB,WAAW,QAAO,sBAE3B,gBACF;AAAA,QAAK;IAET,YACI;AAAA,QAAK;;;WAKC,gBAEV;AAAA,EAAC,cAAoD;;QAIlD;AAAA;;;;;;;;;;;;;;;EAEH,EAAI,EAAC,kCAAmB;AAAA,UAAO;;EAE/B,oBAAyD;EACzD,eAAe;EAIf,EAAI,WAAU;AAAA,GACV,WAAW;GACX,QAAQ;GACR,MAAM;;EAGV,aAAyB;EACzB,EAAI,OAyDI;AAAA,YAAS,gBAAgB,qBAAsB,OAAQ;SAI3D;AAAA,YAAS,gBAAgB,qBAAsB,OAAQ;;EAG3D,EAAI,QAAO,GAAG;AAAA,iCAAe,OAAQ;;EACrC,EAAI,UAAS,GAAG;AAAA,mCAAiB,OAAQ;;EACzC,EAAI,aAAY,GAAG;AAAA,sCAAoB,OAAQ;;EAE/C,OAAO;;SAIJ,iBAAwC;AAAA,EAE3C,EAAI,EAAC,kCAAmB;AAAA;;EAExB,EAAI,mCAAmB,SACV;AAAA,GAAT,SAAS,mBAAgB;;EAG7B,EAAI,sCAAsB,SACtB;AAAA,yBAAmB,UAAQ;;EAG/B,gCAAiB;;UAId,iBAAyC;AAAA,EAE5C,EAAI,EAAC,kCAAmB;AAAA;;EAExB,EAAI,mCAAmB,SACV;AAAA,GAAT,SAAS,mBAAgB;;EAG7B,EAAI,sCAAsB,SACtB;AAAA,yBAAmB,UAAQ;;EAG/B,kCAAmB;;QAIhB,iBAAuC;AAAA,EAE1C,EAAI,EAAC,kCAAmB;AAAA;;EAExB,EAAI,mCAAmB,SAAS;AAAA,GAC5B,iBAAiB;GACR,AAAT,SAAS,mBAAgB;GACzB,wBAAmB;;EAGvB,2BAAsB;EAEtB,+BAAgB;;aAIb,iBAA6C;AAAA,EAEhD,EAAI,EAAC,kCAAmB;AAAA,UAAO;;EAE/B,EAAI,mCAAmB,SACV;AAAA,GAAT,SAAS,mBAAgB;;EAGtB,2CAAqB;;aAIzB,wBAA0D;AAAA,EAE7D,EAAI,EAAC,kCAAmB;AAAA;;EAExB,EAAI,mCAAmB,SACV;AAAA,GAAT,SAAS,mBAAgB;;EAG7B,iCAAkB,OAAQ;;UAIvB,iBAA0C;AAAA,EAE7C,EAAI,EAAC,kCAAmB;AAAA,UAAO;;EAE/B,EAAI,mCAAmB,SACV;AAAA,GAAT,SAAS,mBAAgB;;EAGtB,wCAAkB;;UAItB,qBAAoD;AAAA,EAEvD,EAAI,EAAC,kCAAmB;AAAA;;EAExB,EAAI,mCAAmB,SACV;AAAA,GAAT,SAAS,mBAAgB;;EAG7B,8BAAe,OAAQ;;YAIpB,iBAA4C;AAAA,EAE/C,EAAI,EAAC,kCAAmB;AAAA,UAAO;;EAE/B,EAAI,mCAAmB,SACV;AAAA,GAAT,SAAS,mBAAgB;;EAGtB,0CAAoB;;YAIxB,uBAAwD;AAAA,EAE3D,EAAI,EAAC,kCAAmB;AAAA;;EAExB,EAAI,mCAAmB,SACV;AAAA,GAAT,SAAS,mBAAgB;;EAG7B,gCAAiB,OAAQ;;eAItB,iBAA+C;AAAA,EAElD,EAAI,EAAC,kCAAmB;AAAA,UAAO;;EAE/B,EAAI,mCAAmB,SACV;AAAA,GAAT,SAAS,mBAAgB;;EAGtB,6CAAuB;;eAI3B,0BAA8D;AAAA,EAEjE,EAAI,EAAC,kCAAmB;AAAA;;EAExB,EAAI,mCAAmB,SACV;AAAA,GAAT,SAAS,mBAAgB;;EAG7B,mCAAoB,OAAQ;;;;;;;;;;sBCtPzB,WAlBX;AAAA,CAgBsC,AAhBtC,cAgBsC;CAFC,AAdvC,eAcuC;CAFD,AAZtC,cAYsC;CAFD,AAVrC,aAUqC;CAFD,AARpC,YAQoC;CAFC,AANrC,aAMqC;CAFD,AAJpC,YAIoC;;;;;;OAgBzB,cAA+B;AAAA;aAU/B,WT+LyB;AAAA,EAER,UAAU;EACV,EAAI,qBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,uBAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,qBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,uBAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,qBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc;;GAElB,YAAY;;;WSzNjC,uBTyPyB;AAAA,ESzPzB;ET2PiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,oBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,gCAA8B,MAC9B;AAAA,kCAA6B;;GAEjC,iCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,gCAA8B,MAC9B;AAAA,kCAA6B;;GAEjC,iCAAgC;;EAIpC,EAAI,qBAAmB,MACnB;AAAA,sBAAkB;;EAEtB,sBAAuB;;aSpRxC,uBT8SyB;AAAA,ES9SzB;ETgTiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,oBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,kCAAgC,MAChC;AAAA,oCAA+B;;GAEnC,mCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,kCAAgC,MAChC;AAAA,oCAA+B;;GAEnC,mCAAkC;;EAItC,EAAI,uBAAqB,MACrB;AAAA,wBAAoB;;EAExB,wBAAyB;;YSzU1C,iBTgWiB;AAAA,IAAM,WAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,qBAAmB,MAAM;AAAA,IACzB,QAAQ,yBAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,wBAAuB,MAAO;KAC9B,SAAS,4BAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,mCAAkC,MAAO;;;GAGjD,EAAI,uBAAqB,MAAM;AAAA,IAC3B,QAAQ,2BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,0BAAyB,MAAO;KAChC,SAAS,8BAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,qCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,8BAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,gCAA+B;GAC/B,mBAAkB;GAClB,qBAAoB;;;gBS/XzC,WTiZwB;AAAA,OAAC,oBAAmB,QAAQ,0BAAyB,IACrD;AAAA,KAAC,uBAAqB,MAAQ;AAAA,uCAA2B;UAAzD;AAAA;;SADA;AAAA;;;cS/YxB,gBT6LyB;AAAA,EAdC;EAgBT,UAAU;EACV,EAAI,sBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,wBAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,sBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,wBAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,sBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;EAnCR;;YSpLzB,4BTuPyB;AAAA,ESvPzB;ETyPiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,qBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,iCAA8B,MAC9B;AAAA,mCAA6B;;GAEjC,kCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,iCAA8B,MAC9B;AAAA,mCAA6B;;GAEjC,kCAAgC;;EAIpC,EAAI,sBAAmB,MACnB;AAAA,uBAAkB;;EAEtB,uBAAuB;;cSlRxC,4BT4SyB;AAAA,ES5SzB;ET8SiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,qBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,mCAAgC,MAChC;AAAA,qCAA+B;;GAEnC,oCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,mCAAgC,MAChC;AAAA,qCAA+B;;GAEnC,oCAAkC;;EAItC,EAAI,wBAAqB,MACrB;AAAA,yBAAoB;;EAExB,yBAAyB;;aSvU1C,sBT8ViB;AAAA,IAAM,gBAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,sBAAmB,MAAM;AAAA,IACzB,QAAQ,0BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,yBAAuB,MAAO;KAC9B,SAAS,6BAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,oCAAkC,MAAO;;;GAGjD,EAAI,wBAAqB,MAAM;AAAA,IAC3B,QAAQ,4BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,2BAAyB,MAAO;KAChC,SAAS,+BAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,sCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,+BAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,iCAA+B;GAC/B,oBAAkB;GAClB,sBAAoB;;;iBS7XzC,WT+YwB;AAAA,OAAC,qBAAmB,QAAQ,2BAAyB,IACrD;AAAA,KAAC,wBAAqB,MAAQ;AAAA,wCAA2B;UAAzD;AAAA;;SADA;AAAA;;;eS7YxB,cT2LyB;AAAA,EAER,UAAU;EACV,EAAI,uBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,yBAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,uBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,yBAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,uBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;aSrNjC,0BTqPyB;AAAA,ESrPzB;ETuPiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,sBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,kCAA8B,MAC9B;AAAA,oCAA6B;;GAEjC,mCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,kCAA8B,MAC9B;AAAA,oCAA6B;;GAEjC,mCAAgC;;EAIpC,EAAI,uBAAmB,MACnB;AAAA,wBAAkB;;EAEtB,wBAAuB;;eShRxC,0BT0SyB;AAAA,ES1SzB;ET4SiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,sBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,oCAAgC,MAChC;AAAA,sCAA+B;;GAEnC,qCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,oCAAgC,MAChC;AAAA,sCAA+B;;GAEnC,qCAAkC;;EAItC,EAAI,yBAAqB,MACrB;AAAA,0BAAoB;;EAExB,0BAAyB;;cSrU1C,oBT4ViB;AAAA,IAAM,cAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,uBAAmB,MAAM;AAAA,IACzB,QAAQ,2BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,0BAAuB,MAAO;KAC9B,SAAS,8BAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,qCAAkC,MAAO;;;GAGjD,EAAI,yBAAqB,MAAM;AAAA,IAC3B,QAAQ,6BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,4BAAyB,MAAO;KAChC,SAAS,gCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,uCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,gCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,kCAA+B;GAC/B,qBAAkB;GAClB,uBAAoB;;;kBS3XzC,WT6YwB;AAAA,OAAC,sBAAmB,QAAQ,4BAAyB,IACrD;AAAA,KAAC,yBAAqB,MAAQ;AAAA,yCAA2B;UAAzD;AAAA;;SADA;AAAA;;;aS5YxB,cT0LyB;AAAA,EAER,UAAU;EACV,EAAI,qBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,uBAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,qBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,uBAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,qBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;WSpNjC,0BToPyB;AAAA,ESpPzB;ETsPiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,oBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,gCAA8B,MAC9B;AAAA,kCAA6B;;GAEjC,iCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,gCAA8B,MAC9B;AAAA,kCAA6B;;GAEjC,iCAAgC;;EAIpC,EAAI,qBAAmB,MACnB;AAAA,sBAAkB;;EAEtB,sBAAuB;;aS/QxC,0BTySyB;AAAA,ESzSzB;ET2SiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,oBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,kCAAgC,MAChC;AAAA,oCAA+B;;GAEnC,mCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,kCAAgC,MAChC;AAAA,oCAA+B;;GAEnC,mCAAkC;;EAItC,EAAI,uBAAqB,MACrB;AAAA,wBAAoB;;EAExB,wBAAyB;;YSpU1C,oBT2ViB;AAAA,IAAM,cAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,qBAAmB,MAAM;AAAA,IACzB,QAAQ,yBAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,wBAAuB,MAAO;KAC9B,SAAS,4BAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,mCAAkC,MAAO;;;GAGjD,EAAI,uBAAqB,MAAM;AAAA,IAC3B,QAAQ,2BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,0BAAyB,MAAO;KAChC,SAAS,8BAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,qCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,8BAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,gCAA+B;GAC/B,mBAAkB;GAClB,qBAAoB;;;gBS1XzC,WT4YwB;AAAA,OAAC,oBAAmB,QAAQ,0BAAyB,IACrD;AAAA,KAAC,uBAAqB,MAAQ;AAAA,uCAA2B;UAAzD;AAAA;;SADA;AAAA;;;sBS1YxB,oCTwLyB;AAAA,EAER,UAAU;EACV,EAAI,8BAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,gCAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,8BAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,gCAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,8BAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;oBSlNjC,8CTkPyB;AAAA,ESlPzB;EToPiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,6BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,yCAA8B,MAC9B;AAAA,2CAA6B;;GAEjC,0CAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,yCAA8B,MAC9B;AAAA,2CAA6B;;GAEjC,0CAAgC;;EAIpC,EAAI,8BAAmB,MACnB;AAAA,+BAAkB;;EAEtB,+BAAuB;;sBS7QxC,8CTuSyB;AAAA,ESvSzB;ETySiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,6BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,2CAAgC,MAChC;AAAA,6CAA+B;;GAEnC,4CAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,2CAAgC,MAChC;AAAA,6CAA+B;;GAEnC,4CAAkC;;EAItC,EAAI,gCAAqB,MACrB;AAAA,iCAAoB;;EAExB,iCAAyB;;qBSlU1C,wCTyViB;AAAA,IAAM,kCAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,8BAAmB,MAAM;AAAA,IACzB,QAAQ,kCAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,iCAAuB,MAAO;KAC9B,SAAS,qCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,4CAAkC,MAAO;;;GAGjD,EAAI,gCAAqB,MAAM;AAAA,IAC3B,QAAQ,oCAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,mCAAyB,MAAO;KAChC,SAAS,uCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,8CAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,uCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,yCAA+B;GAC/B,4BAAkB;GAClB,8BAAoB;;;yBSxXzC,WT0YwB;AAAA,OAAC,6BAAmB,QAAQ,mCAAyB,IACrD;AAAA,KAAC,gCAAqB,MAAQ;AAAA,gDAA2B;UAAzD;AAAA;;SADA;AAAA;;;sBSzYxB,gCTuLyB;AAAA,EAER,UAAU;EACV,EAAI,8BAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,gCAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,8BAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,gCAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,8BAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;oBSjNjC,2CTiPyB;AAAA,ESjPzB;ETmPiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,6BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,yCAA8B,MAC9B;AAAA,2CAA6B;;GAEjC,0CAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,yCAA8B,MAC9B;AAAA,2CAA6B;;GAEjC,0CAAgC;;EAIpC,EAAI,8BAAmB,MACnB;AAAA,+BAAkB;;EAEtB,+BAAuB;;sBS5QxC,2CTsSyB;AAAA,EStSzB;ETwSiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,6BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,2CAAgC,MAChC;AAAA,6CAA+B;;GAEnC,4CAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,2CAAgC,MAChC;AAAA,6CAA+B;;GAEnC,4CAAkC;;EAItC,EAAI,gCAAqB,MACrB;AAAA,iCAAoB;;EAExB,iCAAyB;;qBSjU1C,qCTwViB;AAAA,IAAM,+BAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,8BAAmB,MAAM;AAAA,IACzB,QAAQ,kCAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,iCAAuB,MAAO;KAC9B,SAAS,qCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,4CAAkC,MAAO;;;GAGjD,EAAI,gCAAqB,MAAM;AAAA,IAC3B,QAAQ,oCAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,mCAAyB,MAAO;KAChC,SAAS,uCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,8CAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,uCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,yCAA+B;GAC/B,4BAAkB;GAClB,8BAAoB;;;yBSvXzC,WTyYwB;AAAA,OAAC,6BAAmB,QAAQ,mCAAyB,IACrD;AAAA,KAAC,gCAAqB,MAAQ;AAAA,gDAA2B;UAAzD;AAAA;;SADA;AAAA;;;oBSxYxB,gCTsLyB;AAAA,EAER,UAAU;EACV,EAAI,4BAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,8BAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,4BAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,8BAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,4BAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;kBShNjC,2CTgPyB;AAAA,EShPzB;ETkPiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,2BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,uCAA8B,MAC9B;AAAA,yCAA6B;;GAEjC,wCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,uCAA8B,MAC9B;AAAA,yCAA6B;;GAEjC,wCAAgC;;EAIpC,EAAI,4BAAmB,MACnB;AAAA,6BAAkB;;EAEtB,6BAAuB;;oBS3QxC,2CTqSyB;AAAA,ESrSzB;ETuSiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,2BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,yCAAgC,MAChC;AAAA,2CAA+B;;GAEnC,0CAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,yCAAgC,MAChC;AAAA,2CAA+B;;GAEnC,0CAAkC;;EAItC,EAAI,8BAAqB,MACrB;AAAA,+BAAoB;;EAExB,+BAAyB;;mBShU1C,qCTuViB;AAAA,IAAM,+BAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,4BAAmB,MAAM;AAAA,IACzB,QAAQ,gCAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,+BAAuB,MAAO;KAC9B,SAAS,mCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,0CAAkC,MAAO;;;GAGjD,EAAI,8BAAqB,MAAM;AAAA,IAC3B,QAAQ,kCAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,iCAAyB,MAAO;KAChC,SAAS,qCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,4CAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,qCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,uCAA+B;GAC/B,0BAAkB;GAClB,4BAAoB;;;uBStXzC,WTwYwB;AAAA,OAAC,2BAAmB,QAAQ,iCAAyB,IACrD;AAAA,KAAC,8BAAqB,MAAQ;AAAA,8CAA2B;UAAzD;AAAA;;SADA;AAAA;;;wBSvYxB,4BTqLyB;AAAA,EAER,UAAU;EACV,EAAI,gCAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,kCAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,gCAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,kCAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,gCAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;sBS/MjC,uCT+OyB;AAAA,ES/OzB;ETiPiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,+BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,2CAA8B,MAC9B;AAAA,6CAA6B;;GAEjC,4CAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,2CAA8B,MAC9B;AAAA,6CAA6B;;GAEjC,4CAAgC;;EAIpC,EAAI,gCAAmB,MACnB;AAAA,iCAAkB;;EAEtB,iCAAuB;;wBS1QxC,uCToSyB;AAAA,ESpSzB;ETsSiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,+BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,6CAAgC,MAChC;AAAA,+CAA+B;;GAEnC,8CAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,6CAAgC,MAChC;AAAA,+CAA+B;;GAEnC,8CAAkC;;EAItC,EAAI,kCAAqB,MACrB;AAAA,mCAAoB;;EAExB,mCAAyB;;uBS/T1C,iCTsViB;AAAA,IAAM,2BAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,gCAAmB,MAAM;AAAA,IACzB,QAAQ,oCAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,mCAAuB,MAAO;KAC9B,SAAS,uCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,8CAAkC,MAAO;;;GAGjD,EAAI,kCAAqB,MAAM;AAAA,IAC3B,QAAQ,sCAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,qCAAyB,MAAO;KAChC,SAAS,yCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,gDAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,yCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,2CAA+B;GAC/B,8BAAkB;GAClB,gCAAoB;;;2BSrXzC,WTuYwB;AAAA,OAAC,+BAAmB,QAAQ,qCAAyB,IACrD;AAAA,KAAC,kCAAqB,MAAQ;AAAA,kDAA2B;UAAzD;AAAA;;SADA;AAAA;;;yBStYxB,uBToLyB;AAAA,EAER,UAAU;EACV,EAAI,iCAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,mCAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,iCAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,mCAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,iCAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;uBS9MjC,mCT8OyB;AAAA,ES9OzB;ETgPiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,gCAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,4CAA8B,MAC9B;AAAA,8CAA6B;;GAEjC,6CAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,4CAA8B,MAC9B;AAAA,8CAA6B;;GAEjC,6CAAgC;;EAIpC,EAAI,iCAAmB,MACnB;AAAA,kCAAkB;;EAEtB,kCAAuB;;yBSzQxC,mCTmSyB;AAAA,ESnSzB;ETqSiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,gCAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,8CAAgC,MAChC;AAAA,gDAA+B;;GAEnC,+CAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,8CAAgC,MAChC;AAAA,gDAA+B;;GAEnC,+CAAkC;;EAItC,EAAI,mCAAqB,MACrB;AAAA,oCAAoB;;EAExB,oCAAyB;;wBS9T1C,6BTqViB;AAAA,IAAM,uBAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,iCAAmB,MAAM;AAAA,IACzB,QAAQ,qCAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,oCAAuB,MAAO;KAC9B,SAAS,wCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,+CAAkC,MAAO;;;GAGjD,EAAI,mCAAqB,MAAM;AAAA,IAC3B,QAAQ,uCAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,sCAAyB,MAAO;KAChC,SAAS,0CAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,iDAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,0CAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,4CAA+B;GAC/B,+BAAkB;GAClB,iCAAoB;;;4BSpXzC,WTsYwB;AAAA,OAAC,gCAAmB,QAAQ,sCAAyB,IACrD;AAAA,KAAC,mCAAqB,MAAQ;AAAA,mDAA2B;UAAzD;AAAA;;SADA;AAAA;;;kBSlYxB,gBAEH;AAAA;;iBAIG,gBAEH;AAAA;;;;;;;;;;mBC+EG,WA9HX;AAAA,CA4E8B,AA5E9B,uBA4E8B;CADC,AA3E/B,wBA2E+B;CADqB,AA1EpD,kBA0EoD;CAFxB,AAxE5B,qBAwE4B;CADI,AAvEhC,yBAuEgC;CADH,AAtE7B,sBAsE6B;CADO,AArEpC,6BAqEoC;CADgB,AApEpD,gBAoEoD;CAFxB,AAlE5B,qBAkE4B;CADI,AAjEhC,yBAiEgC;CADH,AAhE7B,sBAgE6B;CADO,AA/DpC,6BA+DoC;CADoB,AA9DxD,gBA8DwD;;;;;;QAgB7B,WAAsB;AAAA,EAEzC,yBAAoB;EACpB,qBAAgB;EAEhB,yBAAoB;EACpB,qBAAgB;EAEhB,uBAAkB;;OAIC,WAAoB;AAAA,EAIvC,QAAQ;EACR,6BAAwB;EACxB,KAAO,KAAI,qBAAX;AAAA,GAEe;MAAmB,IAAnB,KAAmB,KAAnB;gEAAmB,IAAnB;;GAAX,WAAW,MAAmB;GAC9B;GAEA,EAAI,wBAAuB,GACvB;AAAA;OAAwB,KAAxB;iEAAwB,IAAxB;;WAAwB,UAAU;;;EAO1C,SAAQ;EACR,6BAAwB;EACxB,KAAO,MAAI,qBAAX;AAAA,GAEe;MAAmB,KAAnB,KAAmB,MAAnB;gEAAmB,KAAnB;;GAAX,YAAW,OAAmB;GAC9B;GAEA,EAAI,yBAAuB,GACvB;AAAA;OAAwB,KAAxB;iEAAwB,IAAxB;;WAAwB,UAAU;;;;WAWhC,iBAQV;AAAA,IAAI,sBAAO,OAAQ,eACf;AAAA,UAAO;SAEN,EAAI,sBAAO,OAAQ,eACpB;AAAA,UAAO;SAGP;AAAA,UAAO;;;QAKR,kBAAkD;AAAA,EAErD,EAAI,EAAC,uBAAuB;AAAA;;EAE5B;EACA;EACA,WAAW;EACX;EACA;EACgC;;EAAhC,0BAA0B,MAAM;EAChC,iBAAsB;EACtB,YAAkB;EAClB,YAAkB;EAClB,YAAkB;EAClB,YAAkB;EAClB,aAAmB;EACnB,aAAmB;EACnB,aAAmB;EACnB,aAAmB;EACnB,oBAA0B;EAC1B,qBAA2B;EAC3B,mBAAyB;EACzB,sBAA4B;EAE5B;EACA,YAA+B;EAC/B;EAEA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EAEA;EACA;EAEA;EACA;EACA;EAEA,YAAkB;EAElB;EAEA;EAEA;EAGA;aAAe,gBAAf;AAAA,GAAK,aAAL,AAAe,QAAf;;GAEI,EAAI,EAAC,wBACD;AAAA;;GAGI;;QAEJ;IACI,OAAO,AAAK;IAEZ,EAAI,mBAEA;AAAA;;IAKJ,EAAI,qBAAoB,IAAuB;AAAA,KAC3C,IAAI;KACJ,IAAI;WACD;AAAA,KACH,IAAI;KACJ,IAAI;;IAKR,aAAa;IACb,EAAI,4BAA2B;AAAA,KAC3B,iBAAiB;KACjB,KACQ,mBAAkB,MAAM;AAAA,MAC5B,EAAI,8BACA;AAAA,SAAI,EAAC,YAAY;AAAA,QAEb,aAAa;QACb,QAAQ;QACR,QAAQ;QACR,QAAQ,6BAAuB;QAC/B,QAAQ,8BAAwB;cAE/B;AAAA,QAED,SAAS;QACT,SAAS;QACT,SAAS,6BAAuB;QAChC,SAAS,8BAAwB;QACjC,gBAAgB,SAAS,MAAO;QAChC,iBAAiB,SAAS,QAAQ,MAAO,SAAS;QAClD,eAAe,SAAS,MAAO;QAC/B,kBAAkB,SAAS,QAAQ,MAAO,SAAS;QACnD,EAAI,kBAAiB,kBAAkB,eAAe,iBAAiB;AAAA,SACnE,QAAQ;SACR,QAAQ;SACR,QAAQ,iBAAiB;SACzB,QAAQ,kBAAkB;eACvB;AAAA,SACH,QAAQ;SACR,QAAQ;SACR,QAAQ;SACR,QAAQ;SACR;;;aAIP,EAAI,EAAC,qCAAqC;AAAA;;MAC/C,iBAAiB;;;IAIzB,EAAI,eAAc,CAAC,SAAS,KAAK,SAAS,IAEtC;AAAA;;IAKJ,EAAI,sBAAgB,qBAAgB;AAAA,KAErB;iBAAmB;KAAnB;;;KAAX,WAAW;KAGX,EAAI,gBAAe,MACf;AAAA,QAAI,0BAAmB,yBACnB;AAAA,2BAAkB;;YAEnB,EAAI,0BAAmB,MAC1B;AAAA,0BAAkB;;KAItB,EAAI,uBAAiB,4BACjB;AAAA,QAAI,8BAA6B,MAAM;AAAA,OACnC,oBAAyC,AAAK;OAC9C,gCAAgC,SAAU;aAG1C;AAAA,iCAA0B,SAAU;;YAIvC,EAAI,8BAA6B,MAAM;AAAA,MACxC,qBAAyC,AAAK;MAC5B;SAA4B,KAA5B;mEAA4B,IAA5B;;MAAlB,kBAAkB,OAA4B;MAC9C,EAAI,gBAAe,8BAA6B;AAAA,OAC5C,mBAAmB;OACnB,iCAAgC,SAAU;;YAG7C;AAAA,MACiB;SAA4B,KAA5B;mEAA4B,IAA5B;;MAAlB,mBAAkB,OAA4B;MAC9C,EAAI,iBAAe,uBAAuB;AAAA,OACtC,oBAAmB;OACnB,0BAA0B,SAAU;;;WAK3C;AAAA,KAED,WAAW,kCAAkC;KAC7C,mBAAc;KACd;KAGA,EAAI,gBAAe,MACf;AAAA,0BAAkB;;KAItB,EAAI,8BAA6B,MAAM;AAAA,MACnC,qBAAyC,AAAK;MAC9C,iCAAgC,SAAU;YAG1C;AAAA,gCAA0B,SAAU;;;IAI5C;IAEA,IAAI;IAGJ,GAAY,KAAZ;iEAAY,IAAZ;;mBAAY;IAAZ;;eAA0B;IAA1B;;sBAA0B;;;IAA1B,WAA+B;IAA/B;;sBAA+B;;;IAA/B;;;;;;;IAEA,GAAY,KAAZ;iEAAY,IAAZ;;mBAAY;IAAZ;;eAA0B;IAA1B;;sBAA0B;;;IAA1B,WAA+B;IAA/B;;sBAA+B;;;IAA/B;;;;;;;IAEA,GAAY,KAAZ;iEAAY,IAAZ;;mBAAY;IAAZ;;eAA0B;IAA1B;;sBAA0B;;;IAA1B,WAA+B;IAA/B;;sBAA+B;;;IAA/B;;;;;;;IAEA,GAAY,KAAZ;iEAAY,IAAZ;;mBAAY;IAAZ;;eAA0B;IAA1B;;sBAA0B;;;IAA1B,WAA+B;IAA/B;;sBAA+B;;;IAA/B;;;;;;;IAEA,GAAY,KAAZ;iEAAY,IAAZ;;mBAAY;IAAZ;;eAA0B;IAA1B;;sBAA0B;;;IAA1B,WAA+B;IAA/B;;sBAA+B;;;IAA/B;;;;;;;IAEA,GAAY,KAAZ;iEAAY,IAAZ;;mBAAY;IAAZ;;eAA0B;IAA1B;;sBAA0B;;;IAA1B,WAA+B;IAA/B;;sBAA+B;;;IAA/B;;;;;;;IAKI,AAAJ,IAAI;IACA,AAAJ,IAAI;IACA,AAAJ,IAAI;IACJ,IAAI;IAGJ,KAAK;IACL,KAAK;IACL,KAAK;IAEL,qBAAmB;IACnB,qBAAmB;IACnB,qBAAmB;IACnB,mBAAmB;IAEnB,mBAAiB;IACjB,SAAS;IAIT,EAAI,kBAAiB,GAAsB;AAAA,KACvC,6BAA2B;KAC3B,2BAAyB;KACzB,8BAA4B;KAC5B,4BAA0B;WAEzB;AAAA,KACD,6BAA2B;KAC3B,2BAAyB;KACzB,8BAA4B;KAC5B,4BAA0B;;IAK9B,EAAI,iBAAgB,MAAM;AAAA,KACtB,qBAAmB;KACnB,EAAI,qBAAoB,IACpB;AAAA,eACI,cAAc,qBACd,cAAc,qBACd,mBAAmB,qBACnB,kBAAkB;YAGtB;AAAA,eACI,cAAc,qBACd,cAAc,qBACd,kBAAkB,qBAClB,mBAAmB;;KAG3B;;;eAAY,SAAZ;eAAY,SAAZ;eAAY,SAAZ;eAAY,SAAZ;;;;;;;;;;;;;;;;;;;MCzSZ,aDySY;;;;gBCvSZ;ODuSY,ACvTZ,QDuTY;OCtTZ,ODsTY;OCrTZ,ODqTY;OCpTZ,ODoTY;OCnTZ,ODmTY;OCjTZ,QDiTY;OChTZ,ODgTY;OC/SZ,OD+SY;OC9SZ,OD8SY;OC7SZ,OD6SY;;;OCjSR,QDiSQ;OChSJ,ODgSI;OC/RJ,OD+RI;OC7RR,QD6RQ;OC5RJ,OD4RI;OC3RJ,OD2RI;OCxRR,QDwRQ;OCvRJ,ODuRI;OCtRJ,ODsRI;OCpRR,QDoRQ;OCnRJ,ODmRI;OClRJ,ODkRI;;;OC5QR,QD4QQ;OC3QJ,OD2QI;OC1QJ,OD0QI;OCxQR,QDwQQ;OCvQJ,ODuQI;OCtQJ,ODsQI;OCnQR,QDmQQ;OClQJ,ODkQI;OCjQJ,ODiQI;OC/PR,QD+PQ;OC9PJ,OD8PI;OC7PJ,OD6PI;;;;;;;;;;;;;;;;;;;;;;WAGA;AAAA,0BAAmB;;IAKvB;oBAA2B;IAA3B;;;;;QE/EZ;MF+EY;;;;;IACA,mCAAmC;IAC/B;;;;;;;;;IAAJ,IAAI;IAEJ,SAAQ;IAAR;IACA,UAAQ;IAAR;IACA,UAAQ;IAAR;IACA,UAAQ;IAAR;IACA,UAAQ;IAAR;IACA,UAAQ;IAAR;IAGA,EAAI,aAAY;AAAA,KACZ,WAAW;KACX,EAAI,aAAY,MACZ;AAAA,iBAAW,sBACP,QAAQ,oBACR,QAAQ,oBACR,QAAQ,oBACR,QAAQ;YAIZ;AAAA,mBACI,QAAQ,oBACR,QAAQ,oBACR,QAAQ,oBACR,QAAQ;;KAGhB,uBAAqB;WAGrB;AAAA,uBAAgB;;;QAGxB;IACI,OAAO,AAAK;IAIZ,aAAa;IACb,EAAI,4BAA2B;AAAA,KAC3B,iBAAiB;KACjB,KACQ,mBAAkB,MAAM;AAAA,MAC5B,EAAI,8BACA;AAAA,SAAI,EAAC,YAAY;AAAA,QAEb,aAAa;QACb,QAAQ;QACR,QAAQ;QACR,QAAQ,6BAAuB;QAC/B,QAAQ,8BAAwB;cAE/B;AAAA,QAED,SAAS;QACT,SAAS;QACT,SAAS,6BAAuB;QAChC,SAAS,8BAAwB;QACjC,gBAAgB,SAAS,MAAO;QAChC,iBAAiB,SAAS,QAAQ,MAAO,SAAS;QAClD,eAAe,SAAS,MAAO;QAC/B,kBAAkB,SAAS,QAAQ,MAAO,SAAS;QACnD,EAAI,kBAAiB,kBAAkB,eAAe,iBAAiB;AAAA,SACnE,QAAQ;SACR,QAAQ;SACR,QAAQ,iBAAiB;SACzB,QAAQ,kBAAkB;eACvB;AAAA,SACH,QAAQ;SACR,QAAQ;SACR,QAAQ;SACR,QAAQ;SACR;;;aAIP,EAAI,EAAC,qCAAqC;AAAA;;MAC/C,iBAAiB;;;IAIzB,EAAI,eAAc,CAAC,SAAS,KAAK,SAAS,IAEtC;AAAA;;IAKJ,EAAI,sBAAgB,qBAAgB;AAAA,KAErB;kBAAmB;KAAnB;;;KAAX,WAAW;KAGX,EAAI,uBAAiB,4BACjB;AAAA,QAAI,8BAA6B,MAAM;AAAA,OACnC,qBAAyC,AAAK;OAC9C,iCAAgC,SAAU;aAG1C;AAAA,iCAA0B,SAAU;;YAIvC,EAAI,8BAA6B,MAAM;AAAA,MACxC,qBAAyC,AAAK;MAC5B;SAA4B,KAA5B;mEAA4B,IAA5B;;MAAlB,mBAAkB,OAA4B;MAC9C,EAAI,iBAAe,8BAA6B;AAAA,OAC5C,oBAAmB;OACnB,iCAAgC,SAAU;;YAG7C;AAAA,MACiB;SAA4B,KAA5B;mEAA4B,IAA5B;;MAAlB,mBAAkB,OAA4B;MAC9C,EAAI,iBAAe,uBAAuB;AAAA,OACtC,oBAAmB;OACnB,0BAA0B,SAAU;;;WAK3C;AAAA,KAED,WAAW,8BAA8B,mBACrB;KAEpB,mBAAc;KACd;KAGA,EAAI,8BAA6B,MAAM;AAAA,MACnC,qBAAyC,AAAK;MAC9C,iCAAgC,SAAU;YAG1C;AAAA,gCAA0B,SAAU;;;IAI5C;IAEA,mBAAiB;IACjB,SAAS;IAIT,EAAI,kBAAiB,GAAsB;AAAA,KACvC,6BAA2B;KAC3B,2BAAyB;KACzB,8BAA4B;KAC5B,4BAA0B;WAEzB;AAAA,KACD,6BAA2B;KAC3B,2BAAyB;KACzB,8BAA4B;KAC5B,4BAA0B;;IAG9B,cAAc;IACd,eAAe;IACf,aAAa;IACb,cAAc;IACd,UAAU;IACV,gBAAsB;IACtB,gBAAsB;IACtB,cAAc;IACd,mBAAmB;IAGnB,EAAI,YAAW,MAAM;AAAA,KACjB,qBAAmB;KAGnB,YAAY,+BAAyB;KACrC,YAAY,gCAA0B;;IAG1C,MAAM;IACN,IAAI;IAGJ,EAAI,WAAU,KACV;AAAA,yBAAoB,IAAK,UAAU;WAChC,EAAI,WAAU,KACjB;AAAA,gBAAU;KAAV,WAAoB;KAApB;;MACI,aAAa,KAAK;;;IAI1B,kBAAkB,qBAAqB;IACvC,mBAAmB,qBAAqB;IACxC,EAAI,cACA;AAAA,KAAQ,GAAiB,KAAjB;kEAAiB,IAAjB;;KAAR,QAAQ,OAAiB;;IAG7B,KAAO,KAAI,KAAX;AAAA,KAEQ,GAAkB,IAAlB,KAAkB,KAAlB;kEAAkB,IAAlB;;KAAJ,IAAI,QAAkB;KAClB,aAAmB,IAAI;KAAvB;;;KAAJ,IAAI;KACA,aAAmB,IAAI,IAAI;KAA3B;;;KAAJ,IAAI;KACJ,EAAI,EAAC,aACO;AAAA,uBAAe;AAAA,UAAiB,IAAjB,KAAiB,KAAjB;oEAAiB,IAAjB;;OAAvB,QAAuB,OAAiB;aAAK;AAAA,UAAiB,IAAjB,KAAiB,KAAjB;oEAAiB,IAAjB;;OAA7C,QAA6C,OAAiB;;;KAIlE,IAAI;KACJ,IAAI;KACJ,IAAI;KACJ,IAAI,qBAAqB;KAGzB,KAAK;KACL,KAAK;KACL,KAAK;KAIL,EAAI,wBAAkB,uBAElB;AAAA,MAAS;mBAAqB;MAArB;;;MAAT,SAAS;YAGR;AAAA,MAED,SAAS,4BAA4B,mBAAmB,EAAE,EAAE;MAC5D,qBAAgB;MAChB;;KAGJ;KAEA;;;iBAAkB;KAAlB;;wBAAkB;;;KAAlB,YAAqB;KAArB;;wBAAqB;;;KAArB;;;;;;;KACA,iBAAiB,EAAG,EAAG,EAAG;KAE1B,EAAI,YAAW,MAAM;AAAA,MACX,aAAc,IAAI;MAAlB;;;MAAN,MAAM,cAAuB;MACvB,aAAc,IAAI,IAAI;MAAtB;;;MAAN,MAAM,cAA2B;YAC9B;AAAA,MACH,MAAM;MACN,MAAM;;KAGV;iBAAqB;KAArB,YAA0B;KAG1B,GAAuB,IAAvB,KAAuB,KAAvB;kEAAuB,IAAvB;;kBAAuB,KAAG;KAE1B;;IAKJ;oBAA2B;IAA3B;;;;;QE9UZ;MF8UY;;;;;IACA,mCAAmC;IAC/B;;;;;;;;;IAAJ,IAAI;IAEJ,UAAQ;IAAR;IACA,UAAQ;IAAR;IACA,UAAQ;IAAR;IACA,UAAQ;IAAR;IACA,WAAQ;IAAR;IACA,WAAQ;IAAR;IAGA,EAAI,aAAY;AAAA,KACZ,WAAW;KACX,EAAI,aAAY,MACZ;AAAA,iBAAW,sBACP,QAAQ,oBACR,QAAQ,oBACR,QAAQ,oBACR,QAAQ;YAIZ;AAAA,mBACI,QAAQ,oBACR,QAAQ,oBACR,QAAQ,oBACR,QAAQ;;KAGhB,uBAAqB;WAGrB;AAAA,uBAAgB;;;;;;;;;6BGrrB7B,mBArBX;AAAA,CAmByC,AAnBzC,WAmByC;CAIjC,GAAW,YAAX;;;CACA,GAAW,eAAX;;;CAEA,GAAI,mBAAJ;EAAI,kBAAiB;;CACrB,GAAI,0BAAJ;EAAI,yBAAwB;;CAE5B,UAAK;CACL,cAAS;CACT,qBAAgB;CAChB,eAAQ;CACR,aAAM;;;;;UAQH;AAAA;;;EAEH,GAAO,cAAS,GAAhB;AAAA;;EAEA,EAAG,EAAC,QAAQ;AAAA,GACR,GAAO,YAAM,GAAb;AAAA;;GACA;;;GACA,GAAO,WAAO,GAAd;AAAA;;;EAKJ,EAAG,aAAO,KAAK,QAAQ;AAAA,GAEnB;GACA,eAAQ;GACR,mBAAc;GACd,iBAAY,EAAW;;;cAQxB,WAA6B;AAAA,EAEhC,GAAO,cAAS,GAAhB;AAAA;;EAEA;EACA,eAAQ;EACR,iBAAY,EAAa;;UAMtB,WACH;AAAA,SAAO;;cAMJ,WACH;AAAA,SAAO;;WAKX,eAA6B;AAAA,EAEzB,UAAU;EACV,WAAM;EAEN,EAAG,YAAM,KACL;AAAA,oBAAY,EAAyB;SAClC,EAAG,YAAM,KACZ;AAAA,oBAAY,GAA2B;;EAG3C,OAAO;;aAIX,iBAA2C;AAAA,EAEvC,aAAQ;EAED;;OACH;GACI,iBAAY,EAAuB;;OACvC;GACI,iBAAY,EAAsB;;OACtC;GACI,iBAAY,EAAsB;;;;EAI1C,OAAO;;SAKX,WAAwB;AAAA;gBAKxB,WACI;AAAA,EAAc;;OACV;GAAiC;OACjC;GAAiC;OACjC;GAAiC;OACjC;GAAiC;OACjC;GAAiC;OACjC;GAAiC;;GACA;;;eAIzC,WACI;AAAA,EAAc;;OAEV;GAA6B;OAC7B;GAA6B;OAF7B;GAA6B;OAG7B;GAA6B;OAE7B;GAA6B;OAD7B;GAA6B;;GAEpB,YAAC;;;YAIlB,WACI;AAAA,SAAQ,eAAW,UAAE,QAAK,qBAAc,OAAI,sBAAe;;;;;sBClGxD,mBA/CX;AAAA,CA6CwC,AA7CxC,8BA6CwC;CAdV,AA/B9B,cA+B8B;CAFD,AA7B7B,aA6B6B;CAFQ,AA3BrC,qBA2BqC;CAFD,AAzBpC,oBAyBoC;CAHD,AAtBnC,kBAsBmC;CAVL,AAZ9B,cAY8B;CAFF,AAV5B,YAU4B;CAuCpB,GAAW,YAAX;qFCgKsB,CAAC,QDhKD,6CCgKmB;;CD9JzC,GAAI,0BAAJ;EAAI,yBAAwB;;CAE5B,iCAAO;CAIP,GAAI,oBAAJ;EAAI,mBAAkB;;CAEtB,eAAU;CAEV;CAEA,2BAAsB;CAGtB,EAAG,oBAAmB,MAAM;AAAA,EACxB,GAAW,kBAAX;4FC8IkB,CAAC,QD9IS,8DC8IS;;ED7IrC,GAAW,mBAAX;6FC6IkB,CAAC,QD7IU,8DC6IQ;;;CD1IzC,EAAG,mBAAkB,QAAQ,mBAAmB,MAAM;AAAA,EAGlD,GAAW,mBAAX;6FCuIkB,CAAC,QDvIU,sFCuIQ;;EDtIrC,GAAW,kBAAX;4FCsIkB,CAAC,QDtIS,uFCsIS;;EDpIrC,aAAQ,oBAAe;EACvB,cAAS,qBAAgB;EAEzB,EAAG,oBAAmB,MAClB;AAAA,eAAO;;;;;;2BAyNL,WAA0B;AAAA,QAAO,2CAAgB;;kCAGjD,iBCxLG;AAAA;4BD6QV,gBACI;AAAA,OAAO;MACV;EAA0B;MAC1B;EAA4B;;;8BAI7B,kBACI;AAAA,OAAO;MAEV;EAAsC;MADtC;EAAsC;MAKtC;EAAsC;MAFtC;EAAsC;MACtC;EAAsC;MAFtC;EAAsC;;;6BAOvC,iBACI;AAAA,OAAO;MAEV;EAAyB;MADzB;EAAyB;MAEzB;EAAyB;;;;;aA9TjB,WAGZ;AAAA,SAAO,AAAC,oBAAe,qBAAgB;;SAUpC;AAAA;;;;;;EAEH,GAAW,SAAX;mFCwGsB,CAAC,QDxGJ,+DCwGsB;;EDtGzC,GAAI,MAAJ;GAAI,KAAI;;EACR,GAAI,MAAJ;GAAI,KAAI;;EACR,GAAI,MAAJ;GAAI,KAAI;;EACR,GAAI,MAAJ;GAAI,KAAI;;EAER,gBAAgB,KAAK,KAAK;EAE1B,GAAQ,eAAgB,WAAxB;AAAA,yFC+EsB,CAAC,QD/Ea,sCAAiC,YAAS,iDAA8C,eAAa,OC+EhG;;EDzEzC,SAAS;EAET,8CAAmB,MAAgB;EACnC,mDAAwB,MAAgB,MAAsB,KAAe,aAAS;EAEtF,GAAO,qDAA0B,UAAmB,OAApD;AAAA;;EAEI,yCAAc,GAAI,GAAI,GAAI,GAAI,KAAS,KAAkB;EAE7D,8CAAmB,MAAgB;EACnC,gDAAqB;EACrB,KAAK;EAEL,OAAO;;UAKJ;AAAA;;;EAEH,GAAO,SAAU,GAAjB;AAAA,2ECqDsB,CAAC,QDrDF,4CCqDoB;;EDnDzC,WAAW;EAEX,GAAO,oBAAgB,MAAvB;AAAA,oFCiDsB,CAAC,QDjDO,oEAA+D,oBAAY,WAAO,OAAI,OCiD3E;;EDhDzC,GAAO,qBAAiB,MAAxB;AAAA,qFCgDsB,CAAC,QDhDQ,sEAAiE,qBAAa,WAAO,OAAI,OCgD/E;;ED9CzC;EAEA,GAAI,WAAJ;GAAI,UAAS;;EAEN;WACH,MAEI;AAAA,KAAG,kBACC;AAAA,uDAAwB,QAAS,OAAQ,YAAQ,kBAAc,mBAAe,YAAQ;UAEtF;AAAA,6CAAc,QAAS,OAAQ,YAAQ,kBAAc,mBAAe,YAAQ,YAAQ,eAAW;;;;oBAYxG,WAA4B;AAAA,EAE/B;EACA,6CAAkB;;QAQf,WAAgB;AAAA,EAEnB,kCAAmC,QAAY;EAC/C;YAAuC;EAAvC,OAAiC;OAAjC;;;;;;;;UAOY,WAA4B;AAAA,EAA5B;EAEZ,GAAO,cAAS,GAAhB;AAAA,gGCCsB,CAAC,QDDmB,kDCCD;;EDCzC;EAEA,OAAO,qBAAY,yBAA0B;AAAA,GAEzC,iBAAQ;GAER,UAAU,yDAAuB;GAEjC,SAAS,iBAA4B;AAAA,IAEjC,iBAAU;IAEV,kBAAW;IAEX,iBAAQ;IACR,QAAQ;;GAIZ,UAAU,iBAAiB;AAAA,IAEvB,iBAAQ;IACR,OAAO;;;;cAQnB;AAAA;;;EAII,aAAQ;EACR,cAAS;EACT,oBAAe;EACf,qBAAgB;EAEhB,EAAG,8BACC;AAAA,gCAA6B;;EAGjC,YAAQ;EAER,EAAG,eAAc;AAAA,GACb,sBAAsB;GACtB,SAAS;;EAGb;;;;;SAIK,WAEL;AAAA,IAAG,iBAAW,MACV;AAAA,+CAAiB;;;qBAQzB,WAEI;AAAA,SAAO;;eAIJ,WAAuB;AAAA,EAE1B,sDAAyB,MAAZ;EACb,sDAAyB,MAAZ;EACb,sDAAqB,MAAT;EACZ,sDAAqB,MAAT;;yBAIhB,mBAA0D;AAAA,EAIzB,GAAI,mCAAJ;GAAI,kCAAiC;;EAA9D,8BAA6B;EAChB,GAAI,uBAAJ;GAAI,sBAAqB;;EAAtC,kBAAiB;EACR,GAAI,mBAAJ;GAAI,kBAAiB;;EAA9B,cAAa;EACN,GAAI,iBAAJ;GAAI,gBAAe;;EAA1B,YAAW;EACC,GAAI,sBAAJ;GAAI,qBAAoB;;EAApC,iBAAgB;EAKC,GAAI,uBAAJ;GAAI,sBAAqB;;EAAtC,oBAAiB;EACJ,GAAI,uBAAJ;GAAI,sBAAqB;;EAAtC,oBAAiB;EAGP,GAAI,oBAAJ;GAAI,mBAAkB;;EAAhC,iBAAc;EACJ,GAAI,oBAAJ;GAAI,mBAAkB;;EAAhC,iBAAc;;eAwB1B,iBAAyC;AAAA,EAErC;EAEA,sDAAoB,MAAR;EAEZ,OAAO,eAAU;;eAIrB,iBAAyC;AAAA,EAErC;EAEA,sDAAoB,MAAR;EAEZ,OAAO,eAAU;;kBAIrB,kBAAgD;AAAA,EAE5C;EAEA,sDAAsB,MAAT;EAEb,OAAO,kBAAa;;kBAIxB,kBAAgD;AAAA,EAE5C;EAEA,sDAAsB,MAAT;EAEb,OAAO,kBAAa;;eAMjB,uBAEH;AAAA,8CAAiB,UAAM,MAAO;;gBAI3B,wBAEH;AAAA,8CAAiB,UAAM,MAAO;;YAIzB,WAAoB;AAAA,EAEzB,YAAY,0BAAU;EACtB,kBAAkB,4BAAY;EAC9B,kBAAkB,4BAAY;EAC9B,eAAe,2BAAW;EAC1B,eAAe,2BAAW;EAE1B,cAAe,iBAAa,cAAW,WAAO,cAAW;EACzD,aAAc,cAAU,WAAQ,UAAM,WAAQ;EAC9C,aAAc,gBAAa,aAAM,MAAG,cAAO,eAAY,oBAAa,MAAG,qBAAc;EAErF,OAAQ,iBAAa,UAAE,YAAQ,2BAAO,YAAQ,QAAK,OAAG,SAAM,MAAE,UAAO,MAAE,SAAM;;;;;;;;;;;4BE5X1E,mBARX;AAAA,CAMwC,AANxC,sBAMwC;CAIhC,yBAAyB;CAEzB,0BAAO;CAEP,GAAI,kBAAJ;EAAI,iBAAgB,AAAQ,2BAAR;;CACpB,GAAI,mBAAJ;EAAI,kBAAiB,AAAQ,2BAAR;;CAGrB,aAAQ,oBAAe;CACvB,cAAS,qBAAgB;CAMzB,EAAG,qBAAoB,MACnB;AAAA,cAAO;;CAGX;;;;CAGA,mBAAc;CAEd;CAGA,oBAAe;CAEf;CAIA,kDAAuB,MAAiB,MAAsB,WAAO;CAKrE,mDAAyB,MAAgB,MAAsB,KAAe,aAAS;CAEvF,sDAA4B,MAAgB,MAAqB,MAAiB;CAGlF,aAAa,qDAA2B;CAExC,MAAQ;MAEJ;;MAEA;EACI,MAAK;;MAET;EACI,MAAK;;MAET;EACI,MAAK;;MAET;EACI,MAAK;;;EAGL,MAAK,wBAAC,6BAA6B;;CAI3C;CACA;CAGA,gBAAW;;;;;;;QAIN,WAAiB;AAAA,EAEtB;EAEA,EAAG,qBAAe,MACd;AAAA,mDAAqB;;EAGzB,EAAG,sBAAgB,MACf;AAAA,oDAAsB;;;cAKR,WAElB;AAAA,sCAAoC;;gBAIlB,iBAElB;AAAA,sCAAqC;;oBAInB,WAElB;AAAA,uCAAsC;;sBAIpB,iBAElB;AAAA,uCAAsC;;;;mCCrHnC,mBANX;AAAA,CAImC,AAJnC,yBAImC,kBAAkB,IAAK,IAAK,IAAK;CAFrB,AAF/C,qBAE+C;CAMvC,gCAAM;CAEN,qBAAgB,6BAA6B,SACnC,AAAC,aAAY;CAEvB,8BAAiB,EAAW;CAC5B,8BAAiB,EAAY;CAC7B;WAAuC;CAAvC;;kBAAuC;;;CACvC,qCAA8B,sBAAmB,EAAG,EAAG,eAAgB;;;;;;UAIlE;AAAA;;;EAEL;EACA,qBAAgB;EAEhB,kDAAc;;uBAMlB,YAAgC;AAAA,EAE5B,yBAAuB;EACvB,oBAAoB,wBAAwB;;sBAIhD,YAEI;AAAA,2BAAuB;;;;;;;;;;qBAQpB,WAFX;AAAA,CA+KoD,AA/KpD,iCA+KoD;CAFC,AA7KrD,sBA6KqD;CAFY,AA3KjE,+BA2KiE;CA1DnC,AAjH9B,uBAiH8B;;;;;;OA7GnB,4BAAqF;AAAA,EAArF;EAGI,2BAAgB,SAAS,4BAAiB,cAAa,4BAAiB,aAC3E;AAAA,GADJ,OACI;SAEA;AAAA,GAHJ,OAGI,kBAAU,CAAC,oCAAqC;;EAGhD;EAAJ,EAAI,gBAAsB,SAAtB,4BAAsB,QAAtB,uBAAsB,OAAO;AAAA,GAC7B;GAAoC;GAApC,YAAoC,gBAA8B,SAA9B,0BAA8B,QAA9B,SAA8B,SAAQ;GAA1E;qBAA8B,SAA9B;uBAA8B,KAA9B;;aAA8B,QAA9B;;GACA,eAAe,yBAAuB;GACtC,EAAI,mBAAkB,GAClB;AAAA,SAAK;UAEL;AAAA,SAAK;;GAET;;EAIA;EAAJ,EAAI,gBAA+B,SAA/B,6BAA+B,QAA/B,wBAA+B,OAAO;AAAA,GAEtC;mBAA4B,SAA5B,0BAA4B,QAA5B,SAA4B,YAAW,kBAAwB;AAAA,IAC3D,EAAI,YAAW,MAAM;AAAA,KACjB;KAAa;uBAAiC,SAAjC,6BAAiC,QAAjC,wBAAiC,OAAQ;AAAA;wBAA8B,SAA9B,MAAtD;AAAA,gBAAsD,mBAA8B;aAApF;AAAA,gBAAsD,SAA8B;;YAApF;AAAA,eAA4F;;KAC5F;kBAAoC,SAAS;KAA7C,kBAA8B,SAA9B;yBAA8B,KAA9B;;eAA8B,QAA9B;;;IAEJ,KAAK;;GAET;;EAIJ,eAA8B,oBAAoB,OAC1C,eACI,6BACI,mBACA,gBACH,gBACA,+BACe,WAAW,QAAQ;EAI/C,mBAAmB;EAGnB;eAAkC,CAAC,mBAAwB;AAAA,GACvD,EAAI,aAAW,MAAM;AAAA,IACjB;IAAa;sBAAiC,SAAjC,6BAAiC,QAAjC,wBAAiC,OAAQ;AAAA;uBAA8B,SAA9B,MAAtD;AAAA,gBAAsD,oBAA8B;YAApF;AAAA,gBAAsD,UAA8B;;WAApF;AAAA,eAA4F;;IAC5F;iBAAoC,UAAS;IAA7C,kBAA8B,SAA9B;yBAA8B,KAA9B;;eAA8B,QAA9B;;;GAEJ,KAAK;;EALT,kBAA4B,SAA5B;sBAA4B,KAA5B;;YAA4B,QAA5B;;EASA,wBAAkB;AAAA,GAEd,mBAAgB;GAChB,UAAU,yDAAuB;GACjC,SAAS,gBAA2B;AAAA,IAChC,mBAAgB;IAEhB,0BAAoB;AAAA,KACA,mBAAkB;KAClB,oBAAmB;KAEnC;uBAAmB,SAAnB;0BAAmB,KAAM;YAAzB;AAAA,gBAAmB,QAAM;;KACT;KAAhB,gBAAgB,eAA4B,SAA5B,2BAA4B,QAA5B,UAA4B;KAC5C,sCAA+B;KAC/B;gBAAiB,kBAAjB;AAAA,MAAK,eAAL,AAAiB,UAAjB;;MACI,SAAS;;;IAMjB;;GAGJ,UAAU,YAAY;AAAA,IAElB,wBAAkB;AAAA,KACd,mBAAgB;KAChB,iBAAgB;KAEA;KAAhB,iBAAgB,eAA4B,SAA5B,2BAA4B,QAA5B,UAA4B;KAC5C,sCAA+B;KAC/B;iBAAiB,mBAAjB;AAAA,MAAK,gBAAL,AAAiB,WAAjB;;MACI,UAAS;;;IAMjB;;;EAQR;;eAOG,uBAEH;AAAA,SAAO;;sBAIG,uBAAyD;AAAA,EAEnE,SAAS,AAAC,YAAW,AAAC;EAEtB,oBAAoB,iCAAyB,OACrC,YACG,gBACC;EAGZ;oBAA8B,OAA9B;qBAA8B,GAAI;SAAlC;AAAA,WAA8B,MAAI;;EAElC,OAAO;;gBAIJ,kBAA0C;AAAA,EAE7C,SAAS,AAAC;EACN;EAAJ,EAAI,iBAA8B,OAA9B,yBAA8B,MAA9B,QAA8B,OAAM,GACpC;AAAA;GAAkC;GAAlC,YAAkC,gBAA8B,OAA9B,0BAA8B,MAA9B,SAA8B,OAAM;GAAtE;qBAA8B,OAA9B;uBAA8B,GAA9B;;aAA8B,MAA9B;;SAEC;AAAA,GACD,2BAAsB;GACtB,sCAAiC;GACjC,AAAC,gBAAiC;;;iBAK5B,kBAEV;AAAA,SAAO,AAAC;;kBAIE,kBAEV;AAAA,SAAO,AAAC;;kBAIE,kBAEV;AAAA,SAAO;;;;;;;;;;mBCxNJ,WAAe;AAAA;;;;;kBAIR,WACV;AAAA,SAAO,CAAE;;kBAGC,WACV;AAAA,SAAO,CAAE,MAAO,OAAQ;;mBAGd,WACV;AAAA,SAAO,CAAE,MAAO;;oBAGN,WACV;AAAA,SAAO,CAAE,OAAQ,OAAQ;;;;;;;;;;qBChBtB,WAAe;AAAA;;;;;aAIf,WnB4NyB;AAAA,EAER,UAAU;EACV,EAAI,sBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,wBAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,sBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,wBAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,sBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc;;GAElB,YAAY;;;YmBtPjC,uBnBsRyB;AAAA,EmBtRzB;EnBwRiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,qBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,iCAA8B,MAC9B;AAAA,mCAA6B;;GAEjC,kCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,iCAA8B,MAC9B;AAAA,mCAA6B;;GAEjC,kCAAgC;;EAIpC,EAAI,sBAAmB,MACnB;AAAA,uBAAkB;;EAEtB,uBAAuB;;cmBjTxC,uBnB2UyB;AAAA,EmB3UzB;EnB6UiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,qBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,mCAAgC,MAChC;AAAA,qCAA+B;;GAEnC,oCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,mCAAgC,MAChC;AAAA,qCAA+B;;GAEnC,oCAAkC;;EAItC,EAAI,wBAAqB,MACrB;AAAA,yBAAoB;;EAExB,yBAAyB;;amBtW1C,iBnB6XiB;AAAA,IAAM,WAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,sBAAmB,MAAM;AAAA,IACzB,QAAQ,0BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,yBAAuB,MAAO;KAC9B,SAAS,6BAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,oCAAkC,MAAO;;;GAGjD,EAAI,wBAAqB,MAAM;AAAA,IAC3B,QAAQ,4BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,2BAAyB,MAAO;KAChC,SAAS,+BAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,sCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,+BAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,iCAA+B;GAC/B,oBAAkB;GAClB,sBAAoB;;;iBmB5ZzC,WnB8awB;AAAA,OAAC,qBAAmB,QAAQ,2BAAyB,IACrD;AAAA,KAAC,wBAAqB,MAAQ;AAAA,wCAA2B;UAAzD;AAAA;;SADA;AAAA;;;iBmB5axB,uBnB0NyB;AAAA,EAER,UAAU;EACV,EAAI,yBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,2BAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,yBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,2BAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,yBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;emBpPjC,iCnBoRyB;AAAA,EmBpRzB;EnBsRiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,wBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,oCAA8B,MAC9B;AAAA,sCAA6B;;GAEjC,qCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,oCAA8B,MAC9B;AAAA,sCAA6B;;GAEjC,qCAAgC;;EAIpC,EAAI,yBAAmB,MACnB;AAAA,0BAAkB;;EAEtB,0BAAuB;;iBmB/SxC,iCnByUyB;AAAA,EmBzUzB;EnB2UiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,wBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,sCAAgC,MAChC;AAAA,wCAA+B;;GAEnC,uCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,sCAAgC,MAChC;AAAA,wCAA+B;;GAEnC,uCAAkC;;EAItC,EAAI,2BAAqB,MACrB;AAAA,4BAAoB;;EAExB,4BAAyB;;gBmBpW1C,2BnB2XiB;AAAA,IAAM,qBAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,yBAAmB,MAAM;AAAA,IACzB,QAAQ,6BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,4BAAuB,MAAO;KAC9B,SAAS,gCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,uCAAkC,MAAO;;;GAGjD,EAAI,2BAAqB,MAAM;AAAA,IAC3B,QAAQ,+BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,8BAAyB,MAAO;KAChC,SAAS,kCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,yCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,kCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,oCAA+B;GAC/B,uBAAkB;GAClB,yBAAoB;;;oBmB1ZzC,WnB4awB;AAAA,OAAC,wBAAmB,QAAQ,8BAAyB,IACrD;AAAA,KAAC,2BAAqB,MAAQ;AAAA,2CAA2B;UAAzD;AAAA;;SADA;AAAA;;;emB3axB,uBnByNyB;AAAA,EAER,UAAU;EACV,EAAI,uBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,yBAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,uBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,yBAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,uBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;amBnPjC,iCnBmRyB;AAAA,EmBnRzB;EnBqRiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,sBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,kCAA8B,MAC9B;AAAA,oCAA6B;;GAEjC,mCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,kCAA8B,MAC9B;AAAA,oCAA6B;;GAEjC,mCAAgC;;EAIpC,EAAI,uBAAmB,MACnB;AAAA,wBAAkB;;EAEtB,wBAAuB;;emB9SxC,iCnBwUyB;AAAA,EmBxUzB;EnB0UiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,sBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,oCAAgC,MAChC;AAAA,sCAA+B;;GAEnC,qCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,oCAAgC,MAChC;AAAA,sCAA+B;;GAEnC,qCAAkC;;EAItC,EAAI,yBAAqB,MACrB;AAAA,0BAAoB;;EAExB,0BAAyB;;cmBnW1C,2BnB0XiB;AAAA,IAAM,qBAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,uBAAmB,MAAM;AAAA,IACzB,QAAQ,2BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,0BAAuB,MAAO;KAC9B,SAAS,8BAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,qCAAkC,MAAO;;;GAGjD,EAAI,yBAAqB,MAAM;AAAA,IAC3B,QAAQ,6BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,4BAAyB,MAAO;KAChC,SAAS,gCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,uCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,gCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,kCAA+B;GAC/B,qBAAkB;GAClB,uBAAoB;;;kBmBzZzC,WnB2awB;AAAA,OAAC,sBAAmB,QAAQ,4BAAyB,IACrD;AAAA,KAAC,yBAAqB,MAAQ;AAAA,yCAA2B;UAAzD;AAAA;;SADA;AAAA;;;kBmB1axB,cnBwNyB;AAAA,EAER,UAAU;EACV,EAAI,0BAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,4BAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,0BAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,4BAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,0BAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;gBmBlPjC,yBnBkRyB;AAAA,EmBlRzB;EnBoRiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,yBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,qCAA8B,MAC9B;AAAA,uCAA6B;;GAEjC,sCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,qCAA8B,MAC9B;AAAA,uCAA6B;;GAEjC,sCAAgC;;EAIpC,EAAI,0BAAmB,MACnB;AAAA,2BAAkB;;EAEtB,2BAAuB;;kBmB7SxC,yBnBuUyB;AAAA,EmBvUzB;EnByUiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,yBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,uCAAgC,MAChC;AAAA,yCAA+B;;GAEnC,wCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,uCAAgC,MAChC;AAAA,yCAA+B;;GAEnC,wCAAkC;;EAItC,EAAI,4BAAqB,MACrB;AAAA,6BAAoB;;EAExB,6BAAyB;;iBmBlW1C,mBnByXiB;AAAA,IAAM,aAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,0BAAmB,MAAM;AAAA,IACzB,QAAQ,8BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,6BAAuB,MAAO;KAC9B,SAAS,iCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,wCAAkC,MAAO;;;GAGjD,EAAI,4BAAqB,MAAM;AAAA,IAC3B,QAAQ,gCAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,+BAAyB,MAAO;KAChC,SAAS,mCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,0CAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,mCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,qCAA+B;GAC/B,wBAAkB;GAClB,0BAAoB;;;qBmBxZzC,WnB0awB;AAAA,OAAC,yBAAmB,QAAQ,+BAAyB,IACrD;AAAA,KAAC,4BAAqB,MAAQ;AAAA,4CAA2B;UAAzD;AAAA;;SADA;AAAA;;;iBmBzaxB,cnBuNyB;AAAA,EAER,UAAU;EACV,EAAI,yBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,2BAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,yBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,2BAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,yBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;emBjPjC,yBnBiRyB;AAAA,EmBjRzB;EnBmRiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,wBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,oCAA8B,MAC9B;AAAA,sCAA6B;;GAEjC,qCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,oCAA8B,MAC9B;AAAA,sCAA6B;;GAEjC,qCAAgC;;EAIpC,EAAI,yBAAmB,MACnB;AAAA,0BAAkB;;EAEtB,0BAAuB;;iBmB5SxC,yBnBsUyB;AAAA,EmBtUzB;EnBwUiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,wBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,sCAAgC,MAChC;AAAA,wCAA+B;;GAEnC,uCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,sCAAgC,MAChC;AAAA,wCAA+B;;GAEnC,uCAAkC;;EAItC,EAAI,2BAAqB,MACrB;AAAA,4BAAoB;;EAExB,4BAAyB;;gBmBjW1C,mBnBwXiB;AAAA,IAAM,aAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,yBAAmB,MAAM;AAAA,IACzB,QAAQ,6BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,4BAAuB,MAAO;KAC9B,SAAS,gCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,uCAAkC,MAAO;;;GAGjD,EAAI,2BAAqB,MAAM;AAAA,IAC3B,QAAQ,+BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,8BAAyB,MAAO;KAChC,SAAS,kCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,yCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,kCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,oCAA+B;GAC/B,uBAAkB;GAClB,yBAAoB;;;oBmBvZzC,WnByawB;AAAA,OAAC,wBAAmB,QAAQ,8BAAyB,IACrD;AAAA,KAAC,2BAAqB,MAAQ;AAAA,2CAA2B;UAAzD;AAAA;;SADA;AAAA;;;iBmBvaxB,yBnBqNyB;AAAA,EAER,UAAU;EACV,EAAI,yBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,2BAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,yBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,2BAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,yBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;emB/OjC,mCnB+QyB;AAAA,EmB/QzB;EnBiRiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,wBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,oCAA8B,MAC9B;AAAA,sCAA6B;;GAEjC,qCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,oCAA8B,MAC9B;AAAA,sCAA6B;;GAEjC,qCAAgC;;EAIpC,EAAI,yBAAmB,MACnB;AAAA,0BAAkB;;EAEtB,0BAAuB;;iBmB1SxC,mCnBoUyB;AAAA,EmBpUzB;EnBsUiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,wBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,sCAAgC,MAChC;AAAA,wCAA+B;;GAEnC,uCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,sCAAgC,MAChC;AAAA,wCAA+B;;GAEnC,uCAAkC;;EAItC,EAAI,2BAAqB,MACrB;AAAA,4BAAoB;;EAExB,4BAAyB;;gBmB/V1C,6BnBsXiB;AAAA,IAAM,uBAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,yBAAmB,MAAM;AAAA,IACzB,QAAQ,6BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,4BAAuB,MAAO;KAC9B,SAAS,gCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,uCAAkC,MAAO;;;GAGjD,EAAI,2BAAqB,MAAM;AAAA,IAC3B,QAAQ,+BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,8BAAyB,MAAO;KAChC,SAAS,kCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,yCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,kCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,oCAA+B;GAC/B,uBAAkB;GAClB,yBAAoB;;;oBmBrZzC,WnBuawB;AAAA,OAAC,wBAAmB,QAAQ,8BAAyB,IACrD;AAAA,KAAC,2BAAqB,MAAQ;AAAA,2CAA2B;UAAzD;AAAA;;SADA;AAAA;;;emBtaxB,yBnBoNyB;AAAA,EAER,UAAU;EACV,EAAI,uBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,yBAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,uBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,yBAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,uBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;amB9OjC,mCnB8QyB;AAAA,EmB9QzB;EnBgRiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,sBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,kCAA8B,MAC9B;AAAA,oCAA6B;;GAEjC,mCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,kCAA8B,MAC9B;AAAA,oCAA6B;;GAEjC,mCAAgC;;EAIpC,EAAI,uBAAmB,MACnB;AAAA,wBAAkB;;EAEtB,wBAAuB;;emBzSxC,mCnBmUyB;AAAA,EmBnUzB;EnBqUiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,sBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,oCAAgC,MAChC;AAAA,sCAA+B;;GAEnC,qCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,oCAAgC,MAChC;AAAA,sCAA+B;;GAEnC,qCAAkC;;EAItC,EAAI,yBAAqB,MACrB;AAAA,0BAAoB;;EAExB,0BAAyB;;cmB9V1C,6BnBqXiB;AAAA,IAAM,uBAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,uBAAmB,MAAM;AAAA,IACzB,QAAQ,2BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,0BAAuB,MAAO;KAC9B,SAAS,8BAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,qCAAkC,MAAO;;;GAGjD,EAAI,yBAAqB,MAAM;AAAA,IAC3B,QAAQ,6BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,4BAAyB,MAAO;KAChC,SAAS,gCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,uCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,gCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,kCAA+B;GAC/B,qBAAkB;GAClB,uBAAoB;;;kBmBpZzC,WnBsawB;AAAA,OAAC,sBAAmB,QAAQ,4BAAyB,IACrD;AAAA,KAAC,yBAAqB,MAAQ;AAAA,yCAA2B;UAAzD;AAAA;;SADA;AAAA;;;iBmBraxB,yBnBmNyB;AAAA,EAER,UAAU;EACV,EAAI,yBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,2BAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,yBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,2BAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,yBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;emB7OjC,mCnB6QyB;AAAA,EmB7QzB;EnB+QiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,wBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,oCAA8B,MAC9B;AAAA,sCAA6B;;GAEjC,qCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,oCAA8B,MAC9B;AAAA,sCAA6B;;GAEjC,qCAAgC;;EAIpC,EAAI,yBAAmB,MACnB;AAAA,0BAAkB;;EAEtB,0BAAuB;;iBmBxSxC,mCnBkUyB;AAAA,EmBlUzB;EnBoUiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,wBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,sCAAgC,MAChC;AAAA,wCAA+B;;GAEnC,uCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,sCAAgC,MAChC;AAAA,wCAA+B;;GAEnC,uCAAkC;;EAItC,EAAI,2BAAqB,MACrB;AAAA,4BAAoB;;EAExB,4BAAyB;;gBmB7V1C,6BnBoXiB;AAAA,IAAM,uBAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,yBAAmB,MAAM;AAAA,IACzB,QAAQ,6BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,4BAAuB,MAAO;KAC9B,SAAS,gCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,uCAAkC,MAAO;;;GAGjD,EAAI,2BAAqB,MAAM;AAAA,IAC3B,QAAQ,+BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,8BAAyB,MAAO;KAChC,SAAS,kCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,yCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,kCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,oCAA+B;GAC/B,uBAAkB;GAClB,yBAAoB;;;oBmBnZzC,WnBqawB;AAAA,OAAC,wBAAmB,QAAQ,8BAAyB,IACrD;AAAA,KAAC,2BAAqB,MAAQ;AAAA,2CAA2B;UAAzD;AAAA;;SADA;AAAA;;;YmBjajB,WAEV;AAAA,SAAO;;aAIG,WAEV;AAAA,SAAO;;cAIG,WAKV;AAAA,SAAuB;;iBAKpB,qBAEH;AAAA,gCAA8B;;;;;;;;;;sBCrC3B,WAFX;AAAA,CA0HmD,AA1HnD,gCA0HmD;CAFA,AAxHnD,qBAwHmD;;;;;;OApHxC,4BAA8E;AAAA,EAE1E,2BAAgB,SAAS,4BAAiB,cAAa,4BAAiB,aAC3E;AAAA,GADJ,OACI;SAEA;AAAA,GAHJ,OAGI,kBAAU,CAAC,oCAAqC;;EAEpD,UAAU;EAEV,aAAa,kBAAkB,OAAO,iBAAkB;EACxD,aAAa,kBAAkB,OAAO,iBAAkB;EAExD,QAAQ,AAAC,OAAM,SAAU,MAAK,SAAU;EAExC,EAAI,WAAW,WACX;AAAA,YAAS,kBAAU,CAAC,IAAK;;EAG7B,EAAI,WAAW,WACX;AAAA,YAAS,kBAAU,CAAC,IAAK;;EAGzB;EAAJ,EAAI,gBAAqB,SAArB,4BAAqB,QAArB,uBAAqB,OAAO;AAAA,GAC5B;GAAmC;GAAnC,YAAmC,gBAA6B,SAA7B,0BAA6B,QAA7B,SAA6B,SAAQ;GAAxE;qBAA6B,SAA7B;uBAA6B,KAA7B;;aAA6B,QAA7B;;GACA,eAAe,yBAAsB;GACrC,EAAI,mBAAkB,GAClB;AAAA,SAAK;UAEL;AAAA,SAAK;;GAET;;EAGJ,2BAA2B,KAAM,YACpB,kBACA,8BACY,iCAEnB,cACF;AAAA,QAAK;IAET,YACI;AAAA,QAAK;;;WAKC,iBAAqC;AAAA,EAE/C,SAAS,AAAC;EACN;EAAJ,EAAI,iBAA6B,OAA7B,yBAA6B,MAA7B,QAA6B,OAAM,GACnC;AAAA;GAAiC;GAAjC,YAAiC,gBAA6B,OAA7B,0BAA6B,MAA7B,SAA6B,OAAM;GAApE;qBAA6B,OAA7B;uBAA6B,GAA7B;;aAA6B,MAA7B;;SAEC;AAAA,GACD,0BAAqB;GACrB,qCAAgC;GAChC,AAAC,eAA+B;;;UAO1B,4BAEV;AAAA,cAAC;EAAD;iFAAgC;EAAhC,2BAAgC;EAAhC;gBAAsC;SAAtC;AAAA,GC4CI,OD5CJ,kCAAgC,KAAM,MAAtC;mBAAgC,KAAhC;;;;YAIU,4BAEV;AAAA,cAAC;EAAD;iFAAkC;EAAlC,+BAAkC;EAAlC;kBAAwC;SAAxC;AAAA,GCqDI,SDrDJ,oCAAkC,KAAM,MAAxC;qBAAkC,KAAlC;;;;YAIU,8BAEV;AAAA,cAAC;EAAD,aAAwC,kBAAkB,EAAG,EAAG,EAAG;EAAnE;iFAAkC;EAAlC,+BAAkC;EAAlC;;;GCsLI,SDtLJ,6CAAkC,KAAlC;qBAAkC,KAAlC;;;;WAIU,0BAEV;AAAA,cAAC;EAAD,aAA0C,mBAAmB,EAAG;EAAhE;iFAAoC;EAApC,mCAAoC;EAApC;;;GCwDI,WDxDJ,8CAAoC,KAApC;uBAAoC,KAApC;;;;WAIU,4BAEV;AAAA,cAAC;EAAD,aAA0C,mBAAmB,EAAG,EAAG;EAAnE;iFAAoC;EAApC,mCAAoC;EAApC;;;GCgFI,WDhFJ,8CAAoC,KAApC;uBAAoC,KAApC;;;;WAIU,8BAEV;AAAA,cAAC;EAAD,aAA0C,mBAAmB,EAAG,EAAG,EAAG;EAAtE;iFAAoC;EAApC,mCAAoC;EAApC;;;GCwGI,WDxGJ,8CAAoC,KAApC;uBAAoC,KAApC;;;;cAIU,8BAEV;AAAA,cAAC;EAAD;iFAAoC;EAApC,mCAAoC;EAApC;oBAA0C;SAA1C;AAAA,GC6KI,WD7KJ,+CAAoC,KAAM,QAA1C;uBAAoC,KAApC;;;;;;;;;;;;oBExGG,WAqEoD;AAAA,CAvE/D,4BAuE+D;;;;;;OAnEpD,4BAA6E;AAAA,EAA7E;EAEI,2BAAgB,SAAS,4BAAiB,cAAa,4BAAiB,aAC3E;AAAA,GADJ,OACI;SAEA;AAAA,GAHJ,OAGI,kBAAU,CAAC,oCAAqC;;EAGhD;EAAJ,EAAI,gBAA4B,SAA5B,4BAA4B,QAA5B,uBAA4B,OAAO;AAAA,GAEnC;mBAAyB,SAAzB,0BAAyB,QAAzB,SAAyB,YAAW,eAChC;AAAA,SAAK;;GAET;SAIA;AAAA;eAA+B;GAA/B,kBAAyB,SAAzB;uBAAyB,KAAzB;;aAAyB,QAAzB;;;EAGJ,yBAAyB,WACnB,cAAkD;AAAA,GAEpD,EAAI,cAAa,MAAM;AAAA,IACnB,YAAY;IAEI;IAAhB,gBAAgB,eAAyB,SAAzB,0BAAyB,QAAzB,SAAyB;IACzC,EAAI,cAAa,MAAM;AAAA,KACnB,mCAA4B;KAC5B,KAAK;KACL;gBAAiB,kBAAjB;AAAA,MAAK,eAAL,AAAiB,UAAjB;;MACI,SAAS;;WAIb;AAAA,UAAK;;IAGT;;GAGJ,YAAW;GACX,IAEI;AAAA,gBAAY;;;GAGA;GAAhB,iBAAgB,eAAyB,SAAzB,0BAAyB,QAAzB,SAAyB;GACzC,EAAI,eAAa,MAAM;AAAA,IACnB,mCAA4B;IAC5B,KAAK;IACL;gBAAiB,mBAAjB;AAAA,KAAK,gBAAL,AAAiB,WAAjB;;KACI,UAAS;;UAIb;AAAA,SAAK;;IAGb,YACI;AAAA,QAAK;;;;;;;;;;;;;;;;;;;+CCnDC;AAAA;;;;CACV,YAAuB,CAAQ,QAAR,KAAiB;CACxC;WAAc,QAAd,YAAc,QAAd,QAAc,UAAd;CACA,QAAO;CAHG;;oDAMP,gBACH;AAAA,CAAO,UAAc;CAAd,YAAmB;CAAnB,WAA0B;CAA1B;CCiEA,SDjEA;CCiEA,SDjEA;CCiEA,SDjEA;CCiEA,SDjEA;CCiEA,SDjEA;CCiEA,SDjEA;;;oDAEJ,sBAAsC;AAAA,CACzC,YAAM;CAAN;;CACA,aAAQ;CAAR;;CACA,aAAO;CAAP;;CACA,OAAO;;kDAGI,gBAEX;AAAA,QAAO,AAAC,SAAQ,KAAM;;oDAGX,gBAEX;AAAA,QAAO,AAAC,SAAQ,IAAK;;mDAGV,gBAEX;AAAA,QAAO,QAAO;;oDAGH,gBAEX;AAAA,QAAO,AAAC,SAAQ,KAAM;;uDAGX,gBAEX;AAAA,QAAO,sBAAM;;yDAGF,gBAEX;AAAA,QAAO,qBAAQ;;wDAGJ,gBAEX;AAAA,QAAO,gBAAO;;yDAGH,gBAEX;AAAA,QAAO,sBAAQ;;kDAGJ,sBACf;AAAA,CACI,SAAQ;CACR,SAAQ,CAAa,QAAb,YAAa,QAAb,QAAa,UAAU;CAC/B,OAAO;;oDAGI,sBACf;AAAA,CACI,SAAQ;CACR,SAAQ,CAAa,QAAb,YAAa,QAAb,QAAa,UAAU;CAC/B,OAAO;;mDAGI,sBACf;AAAA,CACI,SAAQ;CACR,SAAQ,AAAa,QAAb,YAAa,QAAb,QAAa;CACrB,OAAO;;oDAGI,sBACf;AAAA,CACI,SAAQ;CACR,SAAQ,CAAa,QAAb,YAAa,QAAb,QAAa,UAAU;CAC/B,OAAO;;uDAGI,sBACf;AAAA,CACI,aAAM,WAAW,QAAQ;CAAzB;;CACA,OAAO;;yDAGI,sBACf;AAAA,CACI,aAAQ,WAAW,QAAQ;CAA3B;;CACA,OAAO;;wDAGI,sBACf;AAAA,CACI,aAAO,WAAW,QAAQ;CAA1B;;CACA,OAAO;;yDAGI,sBACf;AAAA,CACI,aAAQ,WAAW,QAAQ;CAA3B;;CACA,OAAO;;uDAGI,sBAEJ;AAAA,YAAQ,KAAO;AAAA;QAAO,WAAQ,GAAI;AAAA;QAAI;AAAA;;;kBEnBjD,WA1FJ;AAAA,CAJC,AAID,YAJC;CAiFgD,AA7EjD,4BA6EiD;CAJnB,AAzE9B,sBAyE8B;CAJ+C,AArE7E,6BAqE6E;CAFP,AAnEtE,kBAmEsE;CAVf,AAzDvD,mBAyDuD;CAHV,AAtD7C,cAsD6C;CAHQ,AAnDrD,eAmDqD;CAHR,AAhD7C,cAgD6C;CA0C1B;CAEX,gBAAW;CACX,cAAS;CAET,eAAU;CACV,uBAAkB,KAAM;CACxB,kBAAa;;;;;sBA5FH,WAAyB;AAAA,QAAO;;0BA0BvC,iBAA6C;AAAA,CAChD,EAAI,iCAAoB,MAAM;AAAA,iCAAmB;;CACjD,kCAAsB;;mBAgDZ,WAA6B;AAAA,CAEvC,kBAAM;CACN,OAAO,yBAAiB;;;;YAzErB,WzBsMyB;AAAA,EAER,UAAU;EACV,EAAI,qBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,uBAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,qBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,uBAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,qBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc;;GAElB,YAAY;;;WyBhOjC,uBzBgQyB;AAAA,EyBhQzB;EzBkQiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,oBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,gCAA8B,MAC9B;AAAA,kCAA6B;;GAEjC,iCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,gCAA8B,MAC9B;AAAA,kCAA6B;;GAEjC,iCAAgC;;EAIpC,EAAI,qBAAmB,MACnB;AAAA,sBAAkB;;EAEtB,sBAAuB;;ayB3RxC,uBzBqTyB;AAAA,EyBrTzB;EzBuTiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,oBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,kCAAgC,MAChC;AAAA,oCAA+B;;GAEnC,mCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,kCAAgC,MAChC;AAAA,oCAA+B;;GAEnC,mCAAkC;;EAItC,EAAI,uBAAqB,MACrB;AAAA,wBAAoB;;EAExB,wBAAyB;;YyBhV1C,iBzBuWiB;AAAA,IAAM,WAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,qBAAmB,MAAM;AAAA,IACzB,QAAQ,yBAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,wBAAuB,MAAO;KAC9B,SAAS,4BAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,mCAAkC,MAAO;;;GAGjD,EAAI,uBAAqB,MAAM;AAAA,IAC3B,QAAQ,2BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,0BAAyB,MAAO;KAChC,SAAS,8BAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,qCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,8BAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,gCAA+B;GAC/B,mBAAkB;GAClB,qBAAoB;;;gByBtYzC,WzBwZwB;AAAA,OAAC,oBAAmB,QAAQ,0BAAyB,IACrD;AAAA,KAAC,uBAAqB,MAAQ;AAAA,uCAA2B;UAAzD;AAAA;;SADA;AAAA;;;cyBlZxB,gBzBgMyB;AAAA,EAER,UAAU;EACV,EAAI,sBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,wBAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,sBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,wBAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,sBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;YyB1NjC,4BzB0PyB;AAAA,EyB1PzB;EzB4PiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,qBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,iCAA8B,MAC9B;AAAA,mCAA6B;;GAEjC,kCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,iCAA8B,MAC9B;AAAA,mCAA6B;;GAEjC,kCAAgC;;EAIpC,EAAI,sBAAmB,MACnB;AAAA,uBAAkB;;EAEtB,uBAAuB;;cyBrRxC,4BzB+SyB;AAAA,EyB/SzB;EzBiTiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,qBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,mCAAgC,MAChC;AAAA,qCAA+B;;GAEnC,oCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,mCAAgC,MAChC;AAAA,qCAA+B;;GAEnC,oCAAkC;;EAItC,EAAI,wBAAqB,MACrB;AAAA,yBAAoB;;EAExB,yBAAyB;;ayB1U1C,sBzBiWiB;AAAA,IAAM,gBAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,sBAAmB,MAAM;AAAA,IACzB,QAAQ,0BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,yBAAuB,MAAO;KAC9B,SAAS,6BAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,oCAAkC,MAAO;;;GAGjD,EAAI,wBAAqB,MAAM;AAAA,IAC3B,QAAQ,4BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,2BAAyB,MAAO;KAChC,SAAS,+BAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,sCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,+BAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,iCAA+B;GAC/B,oBAAkB;GAClB,sBAAoB;;;iByBhYzC,WzBkZwB;AAAA,OAAC,qBAAmB,QAAQ,2BAAyB,IACrD;AAAA,KAAC,wBAAqB,MAAQ;AAAA,wCAA2B;UAAzD;AAAA;;SADA;AAAA;;;eyBhZxB,czB8LyB;AAAA,EAER,UAAU;EACV,EAAI,uBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,yBAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,uBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,yBAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,uBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;ayBxNjC,0BzBwPyB;AAAA,EyBxPzB;EzB0PiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,sBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,kCAA8B,MAC9B;AAAA,oCAA6B;;GAEjC,mCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,kCAA8B,MAC9B;AAAA,oCAA6B;;GAEjC,mCAAgC;;EAIpC,EAAI,uBAAmB,MACnB;AAAA,wBAAkB;;EAEtB,wBAAuB;;eyBnRxC,0BzB6SyB;AAAA,EyB7SzB;EzB+SiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,sBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,oCAAgC,MAChC;AAAA,sCAA+B;;GAEnC,qCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,oCAAgC,MAChC;AAAA,sCAA+B;;GAEnC,qCAAkC;;EAItC,EAAI,yBAAqB,MACrB;AAAA,0BAAoB;;EAExB,0BAAyB;;cyBxU1C,oBzB+ViB;AAAA,IAAM,cAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,uBAAmB,MAAM;AAAA,IACzB,QAAQ,2BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,0BAAuB,MAAO;KAC9B,SAAS,8BAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,qCAAkC,MAAO;;;GAGjD,EAAI,yBAAqB,MAAM;AAAA,IAC3B,QAAQ,6BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,4BAAyB,MAAO;KAChC,SAAS,gCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,uCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,gCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,kCAA+B;GAC/B,qBAAkB;GAClB,uBAAoB;;;kByB9XzC,WzBgZwB;AAAA,OAAC,sBAAmB,QAAQ,4BAAyB,IACrD;AAAA,KAAC,yBAAqB,MAAQ;AAAA,yCAA2B;UAAzD;AAAA;;SADA;AAAA;;;ayB/YxB,czB6LyB;AAAA,EAER,UAAU;EACV,EAAI,qBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,uBAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,qBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,uBAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,qBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;WyBvNjC,0BzBuPyB;AAAA,EyBvPzB;EzByPiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,oBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,gCAA8B,MAC9B;AAAA,kCAA6B;;GAEjC,iCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,gCAA8B,MAC9B;AAAA,kCAA6B;;GAEjC,iCAAgC;;EAIpC,EAAI,qBAAmB,MACnB;AAAA,sBAAkB;;EAEtB,sBAAuB;;ayBlRxC,0BzB4SyB;AAAA,EyB5SzB;EzB8SiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,oBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,kCAAgC,MAChC;AAAA,oCAA+B;;GAEnC,mCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,kCAAgC,MAChC;AAAA,oCAA+B;;GAEnC,mCAAkC;;EAItC,EAAI,uBAAqB,MACrB;AAAA,wBAAoB;;EAExB,wBAAyB;;YyBvU1C,oBzB8ViB;AAAA,IAAM,cAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,qBAAmB,MAAM;AAAA,IACzB,QAAQ,yBAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,wBAAuB,MAAO;KAC9B,SAAS,4BAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,mCAAkC,MAAO;;;GAGjD,EAAI,uBAAqB,MAAM;AAAA,IAC3B,QAAQ,2BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,0BAAyB,MAAO;KAChC,SAAS,8BAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,qCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,8BAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,gCAA+B;GAC/B,mBAAkB;GAClB,qBAAoB;;;gByB7XzC,WzB+YwB;AAAA,OAAC,oBAAmB,QAAQ,0BAAyB,IACrD;AAAA,KAAC,uBAAqB,MAAQ;AAAA,uCAA2B;UAAzD;AAAA;;SADA;AAAA;;;sByB7YxB,oCzB2LyB;AAAA,EAER,UAAU;EACV,EAAI,8BAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,gCAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,8BAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,gCAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,8BAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;oByBrNjC,8CzBqPyB;AAAA,EyBrPzB;EzBuPiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,6BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,yCAA8B,MAC9B;AAAA,2CAA6B;;GAEjC,0CAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,yCAA8B,MAC9B;AAAA,2CAA6B;;GAEjC,0CAAgC;;EAIpC,EAAI,8BAAmB,MACnB;AAAA,+BAAkB;;EAEtB,+BAAuB;;sByBhRxC,8CzB0SyB;AAAA,EyB1SzB;EzB4SiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,6BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,2CAAgC,MAChC;AAAA,6CAA+B;;GAEnC,4CAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,2CAAgC,MAChC;AAAA,6CAA+B;;GAEnC,4CAAkC;;EAItC,EAAI,gCAAqB,MACrB;AAAA,iCAAoB;;EAExB,iCAAyB;;qByBrU1C,wCzB4ViB;AAAA,IAAM,kCAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,8BAAmB,MAAM;AAAA,IACzB,QAAQ,kCAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,iCAAuB,MAAO;KAC9B,SAAS,qCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,4CAAkC,MAAO;;;GAGjD,EAAI,gCAAqB,MAAM;AAAA,IAC3B,QAAQ,oCAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,mCAAyB,MAAO;KAChC,SAAS,uCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,8CAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,uCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,yCAA+B;GAC/B,4BAAkB;GAClB,8BAAoB;;;yByB3XzC,WzB6YwB;AAAA,OAAC,6BAAmB,QAAQ,mCAAyB,IACrD;AAAA,KAAC,gCAAqB,MAAQ;AAAA,gDAA2B;UAAzD;AAAA;;SADA;AAAA;;;sByB5YxB,gCzB0LyB;AAAA,EAER,UAAU;EACV,EAAI,8BAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,gCAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,8BAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,gCAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,8BAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;oByBpNjC,2CzBoPyB;AAAA,EyBpPzB;EzBsPiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,6BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,yCAA8B,MAC9B;AAAA,2CAA6B;;GAEjC,0CAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,yCAA8B,MAC9B;AAAA,2CAA6B;;GAEjC,0CAAgC;;EAIpC,EAAI,8BAAmB,MACnB;AAAA,+BAAkB;;EAEtB,+BAAuB;;sByB/QxC,2CzBySyB;AAAA,EyBzSzB;EzB2SiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,6BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,2CAAgC,MAChC;AAAA,6CAA+B;;GAEnC,4CAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,2CAAgC,MAChC;AAAA,6CAA+B;;GAEnC,4CAAkC;;EAItC,EAAI,gCAAqB,MACrB;AAAA,iCAAoB;;EAExB,iCAAyB;;qByBpU1C,qCzB2ViB;AAAA,IAAM,+BAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,8BAAmB,MAAM;AAAA,IACzB,QAAQ,kCAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,iCAAuB,MAAO;KAC9B,SAAS,qCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,4CAAkC,MAAO;;;GAGjD,EAAI,gCAAqB,MAAM;AAAA,IAC3B,QAAQ,oCAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,mCAAyB,MAAO;KAChC,SAAS,uCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,8CAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,uCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,yCAA+B;GAC/B,4BAAkB;GAClB,8BAAoB;;;yByB1XzC,WzB4YwB;AAAA,OAAC,6BAAmB,QAAQ,mCAAyB,IACrD;AAAA,KAAC,gCAAqB,MAAQ;AAAA,gDAA2B;UAAzD;AAAA;;SADA;AAAA;;;oByB3YxB,gCzByLyB;AAAA,EAER,UAAU;EACV,EAAI,4BAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,8BAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,4BAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,8BAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,4BAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;kByBnNjC,2CzBmPyB;AAAA,EyBnPzB;EzBqPiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,2BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,uCAA8B,MAC9B;AAAA,yCAA6B;;GAEjC,wCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,uCAA8B,MAC9B;AAAA,yCAA6B;;GAEjC,wCAAgC;;EAIpC,EAAI,4BAAmB,MACnB;AAAA,6BAAkB;;EAEtB,6BAAuB;;oByB9QxC,2CzBwSyB;AAAA,EyBxSzB;EzB0SiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,2BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,yCAAgC,MAChC;AAAA,2CAA+B;;GAEnC,0CAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,yCAAgC,MAChC;AAAA,2CAA+B;;GAEnC,0CAAkC;;EAItC,EAAI,8BAAqB,MACrB;AAAA,+BAAoB;;EAExB,+BAAyB;;mByBnU1C,qCzB0ViB;AAAA,IAAM,+BAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,4BAAmB,MAAM;AAAA,IACzB,QAAQ,gCAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,+BAAuB,MAAO;KAC9B,SAAS,mCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,0CAAkC,MAAO;;;GAGjD,EAAI,8BAAqB,MAAM;AAAA,IAC3B,QAAQ,kCAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,iCAAyB,MAAO;KAChC,SAAS,qCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,4CAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,qCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,uCAA+B;GAC/B,0BAAkB;GAClB,4BAAoB;;;uByBzXzC,WzB2YwB;AAAA,OAAC,2BAAmB,QAAQ,iCAAyB,IACrD;AAAA,KAAC,8BAAqB,MAAQ;AAAA,8CAA2B;UAAzD;AAAA;;SADA;AAAA;;;wByB1YxB,4BzBwLyB;AAAA,EAER,UAAU;EACV,EAAI,gCAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,kCAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,gCAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,kCAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,gCAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;sByBlNjC,uCzBkPyB;AAAA,EyBlPzB;EzBoPiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,+BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,2CAA8B,MAC9B;AAAA,6CAA6B;;GAEjC,4CAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,2CAA8B,MAC9B;AAAA,6CAA6B;;GAEjC,4CAAgC;;EAIpC,EAAI,gCAAmB,MACnB;AAAA,iCAAkB;;EAEtB,iCAAuB;;wByB7QxC,uCzBuSyB;AAAA,EyBvSzB;EzBySiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,+BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,6CAAgC,MAChC;AAAA,+CAA+B;;GAEnC,8CAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,6CAAgC,MAChC;AAAA,+CAA+B;;GAEnC,8CAAkC;;EAItC,EAAI,kCAAqB,MACrB;AAAA,mCAAoB;;EAExB,mCAAyB;;uByBlU1C,iCzByViB;AAAA,IAAM,2BAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,gCAAmB,MAAM;AAAA,IACzB,QAAQ,oCAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,mCAAuB,MAAO;KAC9B,SAAS,uCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,8CAAkC,MAAO;;;GAGjD,EAAI,kCAAqB,MAAM;AAAA,IAC3B,QAAQ,sCAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,qCAAyB,MAAO;KAChC,SAAS,yCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,gDAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,yCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,2CAA+B;GAC/B,8BAAkB;GAClB,gCAAoB;;;2ByBxXzC,WzB0YwB;AAAA,OAAC,+BAAmB,QAAQ,qCAAyB,IACrD;AAAA,KAAC,kCAAqB,MAAQ;AAAA,kDAA2B;UAAzD;AAAA;;SADA;AAAA;;;yByBzYxB,uBzBuLyB;AAAA,EAER,UAAU;EACV,EAAI,iCAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,mCAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,iCAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,mCAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,iCAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;uByBjNjC,mCzBiPyB;AAAA,EyBjPzB;EzBmPiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,gCAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,4CAA8B,MAC9B;AAAA,8CAA6B;;GAEjC,6CAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,4CAA8B,MAC9B;AAAA,8CAA6B;;GAEjC,6CAAgC;;EAIpC,EAAI,iCAAmB,MACnB;AAAA,kCAAkB;;EAEtB,kCAAuB;;yByB5QxC,mCzBsSyB;AAAA,EyBtSzB;EzBwSiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,gCAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,8CAAgC,MAChC;AAAA,gDAA+B;;GAEnC,+CAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,8CAAgC,MAChC;AAAA,gDAA+B;;GAEnC,+CAAkC;;EAItC,EAAI,mCAAqB,MACrB;AAAA,oCAAoB;;EAExB,oCAAyB;;wByBjU1C,6BzBwViB;AAAA,IAAM,uBAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,iCAAmB,MAAM;AAAA,IACzB,QAAQ,qCAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,oCAAuB,MAAO;KAC9B,SAAS,wCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,+CAAkC,MAAO;;;GAGjD,EAAI,mCAAqB,MAAM;AAAA,IAC3B,QAAQ,uCAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,sCAAyB,MAAO;KAChC,SAAS,0CAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,iDAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,0CAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,4CAA+B;GAC/B,+BAAkB;GAClB,iCAAoB;;;4ByBvXzC,WzByYwB;AAAA,OAAC,gCAAmB,QAAQ,sCAAyB,IACrD;AAAA,KAAC,mCAAqB,MAAQ;AAAA,mDAA2B;UAAzD;AAAA;;SADA;AAAA;;;mByBtWxB,WACH;AAAA,SAAO,iBAAY;;gBAuCvB,WAA6B;AAAA,EAA7B;EAEI;EAGA,EAAI,iCAAoB,MAAM;AAAA,GAC1B;aAAiB,UAAU;GAA3B,WAAiB,YAAjB;AAAA,IAAK,eAAL,AAAiB,IAAjB;;IACI;;GAEJ,+BAAmB;;EAIvB;EAGA;EAGA;EAGA,gBAAW;EACX,yBAAoB,KAAM,kBAEtB;AAAA,KAAI,UAAS;AAAA,IACT,sBAAgB,yBAAhB;IACA;UAEA;AAAA,iCAAO,iCAAP;;;EAKR;;uBAIJ,WAAoC;AAAA,EAEhC;cAAkC;EAAlC;oBAAgB,sBAAhB;qBAAgB,kBAAhB;;WAAgB,qBAAhB;;EACA;eAAqC;EAArC;oBAAgB,yBAAhB;sBAAgB,qBAAhB;;YAAgB,wBAAhB;;EACA;eAAuC;EAAvC;oBAAgB,2BAAhB;sBAAgB,uBAAhB;;YAAgB,0BAAhB;;EACA;eAAqC;EAArC;oBAAgB,yBAAhB;sBAAgB,qBAAhB;;YAAgB,wBAAhB;;EACA;eAAmC;EAAnC;oBAAgB,uBAAhB;sBAAgB,mBAAhB;;YAAgB,sBAAhB;;EACA;eAA8C;EAA9C;oBAAgB,kCAAhB;sBAAgB,8BAAhB;;YAAgB,iCAAhB;;EACA;eAAoD;EAApD;oBAAgB,wCAAhB;sBAAgB,oCAAhB;;YAAgB,uCAAhB;;EACA;eAAiE;EAAjE;oBAAgB,qDAAhB;sBAAgB,iDAAhB;;YAAgB,oDAAhB;;;6BAIJ,WAA0C;AAAA;mBAM1C,WAAgC;AAAA,EAAhC;EAEI,kBAAkB;EAClB,eAAe;EAIf;YAAY,eAAe;EAA3B,WAAY,YAAZ;AAAA,GAAK,UAAL,AAAY,IAAZ;;GACI;aAAuB,eAAe,cAAc,sBAAkB;GAAtE,YAAuB,YAAvB;AAAA,IAAK,qBAAL,AAAuB,IAAvB;;IACI,qBAA6B,cAAc,cAAc,sBAAkB,KAAM;IACjF,EAAI,CAAC,OAAO,mBAAP,UAAgC;AAAA,KACjC,eAAe;KACf,EAAI,aAAY,MACZ;AAAA,QAAI,EAAC,gBAAmB,aAAnB,kCAAmB,YAAnB,6BAAmB,YAAW;AAAA,OAC/B,kBAAgB,aAAhB;gCAAgB,SAAU;cAA1B;AAAA,sBAAgB,YAAU;;OAC1B,wBAAmB;OACnB;;;;;;EAOpB,EAAI,YAAW,GAEX;AAAA,4BAAoB,KAAM,kBAItB;AAAA;eAAY,eAAe;IAA3B,YAAY,aAAZ;AAAA,KAAK,WAAL,AAAY,KAAZ;;KACI;gBAAuB,eAAe,cAAc,wBAAkB;KAAtE,aAAuB,aAAvB;AAAA,MAAK,sBAAL,AAAuB,KAAvB;;MACI,sBAA6B,cAAc,cAAc,wBAAkB,MAAM;MACjF,EAAI,CAAC,OAAO,oBAAP,UAAgC;AAAA,OACjC,gBAAe;OACf,EAAI,cAAY,MAAM;AAAA,QAElB,WAAW,uBAAgB;QAC3B,iBAA6C,cAAc,mBAAa;QACxE,iBAAiB,kBAAkB;QAEnC;qBAAa,aAAb;AAAA,SAAK,WAAL,AAAa,KAAb;;SACI,eAA+B,oBAAoB,WAAY;SAC/D,oBAAoB;SACpB,gBAAgB;;;;;;;;;gBAchD,WAA6B;AAAA,EAA7B;EAGI;EAEA;EAEA;EAEA,sBAAiB,KAAM;EAIvB,uBAAkB,KAAM,cACpB;AAAA,oCAA0B,WAAW;AAAA,uBAAY;;;EAErD,qBAAgB,KAAM,eAClB;AAAA,oCAA0B,WAAW;AAAA,qBAAU;;;EAInD,gCAA2B,KAAM,4BAC7B;AAAA,oCAA0B,WAAW;AAAA,gCAAqB,aAAc;;;EAE5E,iCAA4B,KAAM,wBAC9B;AAAA,oCAA0B,WAAW;AAAA,iCAAsB;;;EAE/D,8BAAyB,KAAM,iCAC3B;AAAA,oCAA0B,WAAW;AAAA,8BAAmB,cAAc;;;EAE1E,4BAAuB,KAAM,kCACzB;AAAA,oCAA0B,WAAW;AAAA,4BAAiB,cAAc;;;EAExE,8BAAyB,KAAM,qCAC3B;AAAA,oCAA0B,WAAW;AAAA,8BAAmB,cAAc,OAAQ;;;;UAKtF,gBAAkC;AAAA,EAE9B,qBAAa;EAGb,EAAI,oCAA8B,GAAG;AAAA,GACjC,gBAAgB;GAChB,4BAAuB;GACvB;cAAiB,kBAAjB;AAAA,IAAK,eAAL,AAAiB,UAAjB;;IACI;;;EAKR,2BAAe;EAGf,EAAI,6BACA;AAAA;;EAGJ;aAAe;EAAf,YAAe,aAAf;AAAA,GAAK,aAAL,AAAe,KAAf;;GAGI,EAAI,wBACA;AAAA;;GAIJ,EAAI,sBAAqB;AAAA,IAIrB,EAAI,yBACA;AAAA;;IAGJ,EAAI,yBAAwB;AAAA,KAExB,EAAI,2BACA;AAAA;;KAGJ;;;;EAOZ;;;;;MAsCI;IAtCJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAGA;aAAe;EAAf,YAAe,aAAf;AAAA,GAAK,cAAL,AAAe,KAAf;;GAEI,EAAI,sBAAoB,QAAQ,2BAC5B;AAAA;;;EAMR;aAAe;EAAf,YAAe,aAAf;AAAA,GAAK,cAAL,AAAe,KAAf;;GAEI,EAAI,4BACA;AAAA;;GAGJ,EAAI,sBACA;AAAA;;GAGJ,EAAI,0BACA;AAAA;;;EAMR,uBAAkB;;oBAIf,WAEH;AAAA,IAAI,sBAAgB;AAAA,GAGhB;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,aAAL,AAAe,IAAf;;IAEI,EAAI,kBAAiB,MAAM;AAAA,KACvB,uBAAuB;KAEvB,EAAI,oBAAmB,MACnB;AAAA;;;;GAKZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAEA,sBAAiB;;;eAKlB,WAGH;AAAA,yBAAuB,aAAS,cAAiC;AAAA,GAE7D,EAAI,mBAAkB,iBAAiB;AAAA,WAAO;;GAC9C,EAAI,mBAAkB,iBAAiB;AAAA,WAAO;;GAE9C,YAAiB;GACjB,YAAiB;GACjB,EAAI,UAAS,QAAQ,SAAS,MAAM;AAAA,WAAO;;GAC3C,EAAI,UAAS,QAAQ,SAAS,MAAM;AAAA,WAAO;;GAC3C,EAAI,UAAS,QAAQ,SAAS,MAAM;AAAA,IAChC,EAAI,kBAAiB,QAAQ,iBAAiB,MAAM;AAAA,YAAO;;IAC3D,EAAI,kBAAiB,QAAQ,iBAAiB,MAAM;AAAA,YAAO;;IAC3D,EAAI,kBAAiB,QAAQ,iBAAiB,MAAM;AAAA,KAChD,EAAI,uBAAsB,qBAAqB;AAAA,aAAO;;KACtD,EAAI,uBAAsB,qBAAqB;AAAA,aAAO;;;;GAG9D,OAAO;;;;;;;;;oBC5VR,4BA7CX;AAAA,CAyCwD,AAzCxD,mCAyCwD;CAFR,AAvChD,wBAuCgD;CAFJ,AArC5C,gBAqC4C;CALC,AAhC7C,cAgC6C;CAbA,AAnB7C,eAmB6C;CA0B4B;CAEjE,YAAY;CACZ,eAAe,WAAW,OAAO,UAAU;CAC3C,cAAY;CAEZ;;;;;;;eA/CG,kB1B0NyB;AAAA,EAdC,GAnH+B,WAmH/B;;;EAgBT,UAAU;EACV,EAAI,wBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,0BAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,wBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,0BAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,wBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;c0BpPjC,8B1BoRyB;AAAA,E0BpRzB;E1BsRiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,uBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,mCAA8B,MAC9B;AAAA,qCAA6B;;GAEjC,oCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,mCAA8B,MAC9B;AAAA,qCAA6B;;GAEjC,oCAAgC;;EAIpC,EAAI,wBAAmB,MACnB;AAAA,yBAAkB;;EAEtB,yBAAuB;;gB0B/SxC,8B1ByUyB;AAAA,E0BzUzB;E1B2UiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,uBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,qCAAgC,MAChC;AAAA,uCAA+B;;GAEnC,sCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,qCAAgC,MAChC;AAAA,uCAA+B;;GAEnC,sCAAkC;;EAItC,EAAI,0BAAqB,MACrB;AAAA,2BAAoB;;EAExB,2BAAyB;;e0BpW1C,wB1B2XiB;AAAA,IAAM,kBAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,wBAAmB,MAAM;AAAA,IACzB,QAAQ,4BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,2BAAuB,MAAO;KAC9B,SAAS,+BAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,sCAAkC,MAAO;;;GAGjD,EAAI,0BAAqB,MAAM;AAAA,IAC3B,QAAQ,8BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,6BAAyB,MAAO;KAChC,SAAS,iCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,wCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,iCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,mCAA+B;GAC/B,sBAAkB;GAClB,wBAAoB;;;mB0B1ZzC,W1B4awB;AAAA,OAAC,uBAAmB,QAAQ,6BAAyB,IACrD;AAAA,KAAC,0BAAqB,MAAQ;AAAA,0CAA2B;UAAzD;AAAA;;SADA;AAAA;;;c0BzYZ,WCgCa;AAAA,SAAO;;cDhCpB,iBCiDqB;AAAA,EACR,gBAAgB;EAChB,EAAI,cAAe,QACf;AAAA,UAAO;;EAEX,wBAA8B;EAC9B,sBAA4B,OAAa;EACzC,OAAS;;oBDxDtB,2B1BuLa;AAAA,EAER,UAAU;EACV,EAAI,4BAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,8BAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,4BAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,8BAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,4BAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;kB0BjNrB,sC1BiPa;AAAA,E0BjPb;E1BmPK,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,2BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,uCAA8B,MAC9B;AAAA,yCAA6B;;GAEjC,wCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,uCAA8B,MAC9B;AAAA,yCAA6B;;GAEjC,wCAAgC;;EAIpC,EAAI,4BAAmB,MACnB;AAAA,6BAAkB;;EAEtB,6BAAuB;;oB0B5Q5B,sC1BsSa;AAAA,E0BtSb;E1BwSK,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,2BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,yCAAgC,MAChC;AAAA,2CAA+B;;GAEnC,0CAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,yCAAgC,MAChC;AAAA,2CAA+B;;GAEnC,0CAAkC;;EAItC,EAAI,8BAAqB,MACrB;AAAA,+BAAoB;;EAExB,+BAAyB;;mB0BjU9B,gC1BwVK;AAAA,IAAM,0BAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,4BAAmB,MAAM;AAAA,IACzB,QAAQ,gCAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,+BAAuB,MAAO;KAC9B,SAAS,mCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,0CAAkC,MAAO;;;GAGjD,EAAI,8BAAqB,MAAM;AAAA,IAC3B,QAAQ,kCAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,iCAAyB,MAAO;KAChC,SAAS,qCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,4CAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,qCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,uCAA+B;GAC/B,0BAAkB;GAClB,4BAAoB;;;uB0BvX7B,W1ByYY;AAAA,OAAC,2BAAmB,QAAQ,iCAAyB,IACrD;AAAA,KAAC,8BAAqB,MAAQ;AAAA,8CAA2B;UAAzD;AAAA;;SADA;AAAA;;;Q0BzXxB,WAAqB;AAAA,EAExB,aAAS;EAAT;;;;;EACA,6BAAO,wCAAP;EACA,kBAAa;;WAIV,WAAwB;AAAA,EEkFK,EAAI,iBAAW;AAAA;;EACf;EFjFhC,EAAI,eAAS,MAAM;AAAA,GACf,uBAAkB;GAClB,aAAQ;;EAGZ,EAAI,gBAAU,MAAM;AAAA,GAChB;GACA,cAAS;;;eAKV,uCAA8F;AAAA,EAGjG,EAAI,kBAAiB,QAAQ,sBAAsB,MAC/C;AAAA,mBAAgB;;EAKpB,EAAI,eAAc,MACd;AAAA,GAAqB;;QAMjB;IAAiB,AANrB,aAMqB,CAAE;;QADnB;IAAa,AALjB,aAKiB,CAAE;;QAJf;IAAc;IADlB,aACkB;;QAGd;IAAe;IAJnB,aAImB;;QADf;IAAc;IAHlB,aAGkB;;QADd;IAAa;IAFjB,aAEiB;;;IAKJ,AAPb,aAOa;;;EAGjB,EAAI,eAAc,QAAQ,OAAO,MAC7B;AAAA,GAAI,UAA+B;GAA/B;GAAJ,EAAI,0FAAsC;AAAA,IACvB,WAA4B;IAA5B;IAAf,eAAe;IACf,EAAI,eAAc,MAAM;AAAA,kBAAa;;IACrC,EAAI,QAAO,MAAM;AAAA,WAAM;;;;EAG/B,EAAI,eAAc,MAAM;AAAA,gBAAa;;EACrC,EAAI,QAAO,MAAM;AAAA,SAAM;;EAIvB,oBAAoB;EACpB,WAAW;EACX,mBAAmB;EAEnB,aAAuC,MACnC,iBAAiB,OACb,yCAEA,+BAEJ,iBAAiB,OACb,qCAEA;EAGR,WAAW;EAEX,EAAI,qBAAoB,GAAG;AAAA,GAGvB;eAAY,mBAAZ;AAAA,IAAK,UAAL,AAAY,WAAZ;;IACI,EAAI,2BAAc,AAAC,MAAK,MAAM;AAAA,KACnB,AAAP,OAAO,wBAAY,EAAG,cAAc,aAAa;KACjD;;;GAIR,EAAI,gBAAc,SAAd,6BAAc,QAAd,wBAAc,OAAO;AAAA,IAErB,WAAW,eAAW,SAAX,0BAAW,QAAX,SAAW;IAEtB;gBAAY,mBAAZ;AAAA,KAAK,WAAL,AAAY,WAAZ;;KAEI,kBAAkB;KAClB,sBAAsB;KAEtB;kBAAa,aAAb;AAAA,MAAK,WAAL,AAAa,KAAb;;MACI,eAAe,0BAAkB;MAEjC,EAAI,uBAAsB,MAAK;AAAA,OAC3B,WAAW,SAAS,gBAAgB;OACpC,EAAI,QAAO,iBAAiB;AAAA,QACxB,kBAAkB;QAClB,cAAc;QACd,OAAO;QACP,eAAe;;;;KAI3B,EAAI,SAAQ,MACR;AAAA;;;;;EAMhB,cAAY;EAGZ,EAAI,iBAAgB,QAAQ,sBAAsB,MAC9C;AAAA,GAAa;;IAAb,YAAa;IACT,EAAI,EAAC,qCAAiB,aAAS,QAC3B;AAAA,KAAgC;KAAhC,AAAiB,aAAS,SAA1B,AAAgC,eAAuB,UAAvB,0BAAuB,SAAvB,SAAuB;;;;;YAOvE,eAAsC;AAAA,EAElC,EAAI,cAAa,MAAM;AAAA,UAAO;;EAG9B,EAAI,sBAAU,2BAAO;AAAA,gBAAS;GAAT;;;;;;EAErB,YAAY;EAEZ,EAAI,SAAQ,MACR;AAAA,kBAAU;SAEV;AAAA,kBAAU,0BAAkB;;EAGhC,OAAO;;YAIX,eAAsC;AAAA,EAElC,EAAI,cAAa,MAAM;AAAA,UAAO;;EAE9B,YAAY;EACZ,UAAM,WAAO,YAAI,MAAE;EAEnB,OAAO;;qBAIX,wBAAsE;AAAA,EAElE,EAAI,uBAAsB,eAAe;AAAA,UAAO;;EAEhD,qBAAqB;EACrB;EAEA,OAAO;;mCAIX,gBAA0D;AAAA,EAEtD,EAAI,qCAA+B,OAAO;AAAA,UAAO;;EACjD,mCAA8B;EAE9B,EAAI,QACA;AAAA,kDAA+B,KAAM;SAGrC;AAAA,mDAAgC;;EAGpC,OAAO;;4BAIX,iCAA4E;AAAA;YAQ5E,WAA2B;AAAA,EAEvB,gBAAgB;EAEhB,EAAI,cAAQ,QAAQ,+BAAe,IAC/B;AAAA,UAAQ,KAAC,YAAS,MAAE,YAAI,MAAE,YAAI;SAE9B;AAAA,UAAQ,KAAC,YAAS,MAAE,YAAI;;;oBAOzB,kBAEH;AAAA,IAAI,YAAW,cAAS,MACpB;AAAA,yBAAiB;;;UAOlB,WAEH;AAAA;;WAIG,WAEH;AAAA,IAAI,kBAAY,GAAG;AAAA,kCAAQ,AAAC,+BAA8B,mBAAQ,kCAA/C;SACd;AAAA;;;;;;;;;yCGvRK;AAAA,aACH;CADG;;4BCeP,eAA0B;AAAA,CAE7B,YAAY;CAEZ,eAAe,iBAAkB;CACjC,iBAAY,wBAAY,WAAW,EAAvB;CAEZ,oBAAoB,wBAAY,EAAG;CACnC,kBAAkB,0BAA2B;CAE7C,eAAU;CACV,EAAI,gBAAe,IACf;AAAA,gBAAc;QAEb;AAAA,EACD,mBAAmB,iCAAqB,cAAc,EAAnC;EACnB;YAAgB,mBAAoB;EAApC,WAAgB,YAAhB;AAAA,GAAK,cAAL,AAAgB,IAAhB;;GACI,aAAa;GACb,EAAI,8BAAkB,MAAK;AAAA,IACvB,UAAU,WAAe,2BAAe,EAAG,iBAAe;IAC1D,EAAI,EAAC,MAAW,MAAM;AAAA,KAClB,eAAU;KACV,SAAS;;;GAGjB,EAAI,SAAQ;AAAA,IACR,EAAI,eAAS,MAAM;AAAA,kBAAQ;;IAC3B,iBAAiB,gBAAiB;IAClC,EAAI,eAAc,IACd;AAAA;uBAAU,YAAV;wBAAU,QAAS;YAAnB;AAAA,cAAU,WAAS;;WAChB;AAAA,KACH,UAAU,2BAAe,EAAG;KAC5B,UAAU,2BAAe,aAAa,EAA5B;KACV;uBAAU,QAAV;yBAAU,IAAK;YAAf;AAAA,eAAU,OAAK;;;;;;CAM/B,YAAO,wBAAY,EAAG,AAAK,SAAS,YAAa;;;;;WAIrD,WAEI;AAAA,SAAO,KAAK,yBAAY,uBAAiB,kBAAY,qBAAe;;;;;;;;;;;;;;;;;qBC/BjE,WAvBX;AAAA,CAe6C,AAf7C,qBAe6C;CAHe,AAZ5D,2BAY4D;CAFzB,AAVnC,mBAUmC;CAaT;;;;4BAiaR,eAEV;AAAA,QAAO,0BAAkB;;8BAIf,wCAEV;AAAA;aAA2B,4BACjB,KACD,IACO,WACP,IACE;CALX;mBAAqB,SAArB;oBAAqB,KAArB;;UAAqB,QAArB;;;;;eA5bG,kB/BsNyB;AAAA,EAER,UAAU;EACV,EAAI,wBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,0BAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,wBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,0BAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,wBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;c+BhPjC,8B/BgRyB;AAAA,E+BhRzB;E/BkRiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,uBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,mCAA8B,MAC9B;AAAA,qCAA6B;;GAEjC,oCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,mCAA8B,MAC9B;AAAA,qCAA6B;;GAEjC,oCAAgC;;EAIpC,EAAI,wBAAmB,MACnB;AAAA,yBAAkB;;EAEtB,yBAAuB;;gB+B3SxC,8B/BqUyB;AAAA,E+BrUzB;E/BuUiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,uBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,qCAAgC,MAChC;AAAA,uCAA+B;;GAEnC,sCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,qCAAgC,MAChC;AAAA,uCAA+B;;GAEnC,sCAAkC;;EAItC,EAAI,0BAAqB,MACrB;AAAA,2BAAoB;;EAExB,2BAAyB;;e+BhW1C,wB/BuXiB;AAAA,IAAM,kBAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,wBAAmB,MAAM;AAAA,IACzB,QAAQ,4BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,2BAAuB,MAAO;KAC9B,SAAS,+BAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,sCAAkC,MAAO;;;GAGjD,EAAI,0BAAqB,MAAM;AAAA,IAC3B,QAAQ,8BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,6BAAyB,MAAO;KAChC,SAAS,iCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,wCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,iCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,mCAA+B;GAC/B,sBAAkB;GAClB,wBAAoB;;;mB+BtZzC,W/BwawB;AAAA,OAAC,uBAAmB,QAAQ,6BAAyB,IACrD;AAAA,KAAC,0BAAqB,MAAQ;AAAA,0CAA2B;UAAzD;AAAA;;SADA;AAAA;;;c+BtaxB,gB/BoNyB;AAAA,EAER,UAAU;EACV,EAAI,sBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,wBAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,sBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,wBAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,sBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;Y+B9OjC,4B/B8QyB;AAAA,E+B9QzB;E/BgRiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,qBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,iCAA8B,MAC9B;AAAA,mCAA6B;;GAEjC,kCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,iCAA8B,MAC9B;AAAA,mCAA6B;;GAEjC,kCAAgC;;EAIpC,EAAI,sBAAmB,MACnB;AAAA,uBAAkB;;EAEtB,uBAAuB;;c+BzSxC,4B/BmUyB;AAAA,E+BnUzB;E/BqUiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,qBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,mCAAgC,MAChC;AAAA,qCAA+B;;GAEnC,oCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,mCAAgC,MAChC;AAAA,qCAA+B;;GAEnC,oCAAkC;;EAItC,EAAI,wBAAqB,MACrB;AAAA,yBAAoB;;EAExB,yBAAyB;;a+B9V1C,sB/BqXiB;AAAA,IAAM,gBAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,sBAAmB,MAAM;AAAA,IACzB,QAAQ,0BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,yBAAuB,MAAO;KAC9B,SAAS,6BAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,oCAAkC,MAAO;;;GAGjD,EAAI,wBAAqB,MAAM;AAAA,IAC3B,QAAQ,4BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,2BAAyB,MAAO;KAChC,SAAS,+BAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,sCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,+BAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,iCAA+B;GAC/B,oBAAkB;GAClB,sBAAoB;;;iB+BpZzC,W/BsawB;AAAA,OAAC,qBAAmB,QAAQ,2BAAyB,IACrD;AAAA,KAAC,wBAAqB,MAAQ;AAAA,wCAA2B;UAAzD;AAAA;;SADA;AAAA;;;W+BjZxB,WAAmB;AAAA,EHkHU,EAAI,iBAAW;AAAA;;EACf;EGjHhC;YAAc,UAAU;EAAxB,WAAc,YAAd;AAAA,GAAK,YAAL,AAAc,IAAd;;GACI;;EAEJ,mBAAc;EACd,2BAAsB;;SAKnB,WAEH;AAAA;YAAc,UAAU;EAAxB,WAAc,YAAd;AAAA,GAAK,YAAL,AAAc,IAAd;;GACI,EAAI,mBAAkB,GAAG;AAAA;;;;OAO1B,qBAA8D;AAAA,EAEjE,YAAmB,OAAO,OAAP,WAAqB,AAAK,KAAK,AAAK,cAAc,GAAK;EAC1E,iBAAiB,cAAe;EAEhC,EAAI,eAAc,IACd;AAAA,SAAM,uDAA+B;;EAGzC,WAAW,yBAAa,EAAG;EAC3B,WAAW,yBAAa,aAAa,EAA1B;EAEX,MAAQ;OAIJ;GAAiB,iBAAY,KAAM;;OACnC;GAAa,aAAQ,KAAM;;OAJ3B;GAAc,cAAS,KAAM;;OAK7B;GAAe,eAAU,KAAM;;OAH/B;GAAc,cAAS,KAAM;;OAD7B;GAAa,aAAQ,KAAM;;;GAMvB,EAAI,wCAAwB,OACxB;AAAA,wCAAqB,UAAU,KAAM,KAAM;UAE3C;AAAA,UAAM,gEAAwC;;;;YAMvD,uBAA2D;AAAA,EAE9D,EAAI,6BAAiB,WAAU;AAAA,UAAO,wBAAY,EAAZ;;EACtC,cAAS,uBAAe,KAAM;;WAI3B,uBAA0D;AAAA,EAE7D,EAAI,6BAAiB,UAAS;AAAA,UAAO,wBAAY,EAAZ;;EACrC,cAAS,sBAAc,KAAM;;WAI1B,uBAA0D;AAAA,EAE7D,EAAI,6BAAiB,UAAS;AAAA,UAAO,wBAAY,EAAZ;;EACrC,cAAS,sBAAc,KAAM;;YAI1B,uBAA2D;AAAA,EAE9D,EAAI,6BAAiB,WAAU;AAAA,UAAO,wBAAY,EAAZ;;EACtC,cAAS,uBAAe,KAAM;;eAI3B,uBAA8D;AAAA,EAEjE,EAAI,6BAAiB,cAAa;AAAA,UAAO,wBAAY,EAAZ;;EACzC,cAAS,0BAAkB,KAAM;;aAI9B,uBAA4D;AAAA,EAE/D,EAAI,6BAAiB,YAAW;AAAA,UAAO,wBAAY,EAAZ;;EACvC,cAAS,wBAAgB,KAAM;;YAK5B,gBAAqC;AAAA,EAEnC,UAA2B;EAA3B;EAAL,EAAI,EAAC,yFAAwC;AAAA;cAAwB;GAAxB,YAAoC;GAApC;;;;;;;EAChC,WAAwB;EAAxB;EAAb,aAAa;EAEO,WAAW;EAA/B,oBAAoB;EACpB,EAAI,kBAAiB,MACjB;AAAA,KAAI,kBAAiB,OAAO;AAAA,IACxB,2BAAoB,aAAS,4BAAa,WAAO,kBAAjD;IACA,iBAAY;UACT;AAAA,IACH,+BAAwB,sBAAkB,oBAAK,4CAAyC,aAAW,IAAnG;IACA,OAAO;;;EAIf,WAAW;EAAX;2BAAuB;SAAvB;AAAA,oBAAuB;;EACvB,EAAI,gBAAe,QAAQ,eAAe,MACtC;AAAA,2BAAwB;;EAE5B,sBAAiB;EACjB,cAAc;EACd,wBAAsB;EAEtB,OAAO;;SAIJ,wBAA8E;AAAA,EAEjF,YAAmB,OAAO,aAAP,WAA2B,AAAK,WAAW,AAAK,cAAc,SAAW;EAC5F,iBAAiB,cAAe;EAEhC,WAAkB;EAElB,EAAI,eAAc,IAAI;AAAA,GAClB,OAAO,gBAAgB,aAAa;GACpC,OAAO,gBAAgB,EAAG;;EAG9B,EAAI,SAAQ,MAAM;AAAA,UAAO;;EACZ;EAAb,aAAa,eAAwB,SAAxB,yBAAwB,QAAxB,QAAwB;EACrC,EAAI,WAAU,MAAM;AAAA,UAAO;;EAC3B,OAAO,eAAW,SAAX,0BAAW,QAAX,SAAW;;eAIf,gBAAuC;AAAA,EAE7B,UAAwB;EAAxB;EAAb,aAAa;EACE,WAAW;EAA1B,eAAe;EAEf,EAAI,UAAS,UACT;AAAA,SAAO,iDAAqB,oBAAK;;EAGrC,oCAAmB;EACnB,cAAc;EACd,cAAc;;QAMX,WAAqB;AAAA,EAArB;EAEH,cAAc;EACd,iBAAiB;EAGjB;YAAc;EAAd,WAAc,YAAd;AAAA,GAAK,aAAL,AAAc,IAAd;;GAEI,EAAI,0BAAgB,0BAAM;AAAA,IAEG;AAAA,8BAAkB;AAAA,MAEvC,EAAI,EAAC,SAAS;AAAA,OACV,aAAa;OACb,6BAAsB,0BAAuB,iBAAW,OAAG,wBAAK,IAAhE;;MAGJ;MACA,EAAI,YAAW,GACX;AAAA,2BAAa;;;OATI;IAAzB,sBAAmB,KAAM;IAazB;;;EAOR,EAAI,WAAU,GAEV;AAAA;cAAc;GAAd,YAAc,aAAd;AAAA,IAAK,aAAL,AAAc,KAAd;;IAEI,EAAI,wBAAgB,0BAChB;AAAA;;;SAKL;AAAA,GAEH,+BAAwB,8BAAxB;GACA,kBAAa;;;UAYd,0BAAmF;AAAA,EAGtF,eAAe,WAAW;EAC1B,YAAkB;EAElB,EAAI,aAAY,MAAM;AAAA,GAElB,SAAI,GAAI;GACR,QAAQ,WAAW;SAGnB;AAAA,WAAQ;;EAGZ,EAAI,UAAS,MAAM;AAAA,GAEf,KAAK;GACL;;EAIJ,EAAI,uBAAgB,2BAEhB;AAAA,QAAK;SAEJ,EAAI,uBAAgB,+BAAW,sBAAgB,0BAAM;AAAA,GAEtD,wBAAmB,kBACf;AAAA,MAAI,UACA;AAAA,UAAK;WAGL;AAAA,UAAK;;;GAIb,EAAI,uBAAgB,0BAEhB;AAAA;;SAKJ;AAAA,QAAK;;;eAKN,4BAA6G;AAAA,EAEhH,EAAI,EAAC,4BAAiB,WAAU;AAAA,UAAO,AAAC,WAAU;;EAClD,YAAO,AAAK,KAAM,QAAS,gBACvB;AAAA,GAAK,+BAAO,MAAO,sBAAc,AAAK,QAAQ;GAA9C,KAAK;;;cAKN,4BAA2G;AAAA,EAE9G,EAAI,EAAC,4BAAiB,UAAS;AAAA,UAAO,AAAC,UAAS;;EAChD,YAAO,AAAK,KAAM,QAAS,gBACvB;AAAA,GAAK,+BAAO,MAAO,qBAAa,AAAK,QAAQ;GAA7C,KAAK;;;cAKN,4BAA2G;AAAA,EAE9G,EAAI,EAAC,4BAAiB,UAAS;AAAA,UAAO,AAAC,UAAS;;EAChD,YAAO,AAAK,KAAM,QAAS,gBACvB;AAAA,GAAK,+BAAO,MAAO,qBAAa,AAAK,QAAQ;GAA7C,KAAK;;;eAKN,4BAA6G;AAAA,EAEhH,EAAI,EAAC,4BAAiB,WAAU;AAAA,UAAO,AAAC,WAAU;;EAClD,YAAO,AAAK,KAAM,QAAS,gBACvB;AAAA,GAAK,+BAAO,MAAO,sBAAc,AAAK,QAAQ;GAA9C,KAAK;;;kBAKN,4BAAmH;AAAA,EAEtH,EAAI,EAAC,4BAAiB,cAAa;AAAA,UAAO,AAAC,cAAa;;EACxD,YAAO,AAAK,KAAM,QAAS,gBACvB;AAAA,GAAK,+BAAO,MAAO,yBAAiB,AAAK,QAAQ;GAAjD,KAAK;;;gBAKN,4BAA+G;AAAA,EAElH,EAAI,EAAC,4BAAiB,YAAW;AAAA,UAAO,AAAC,YAAW;;EACpD,YAAO,AAAK,KAAM,QAAS,gBACvB;AAAA,GAAK,+BAAO,MAAO,uBAAe,AAAK,QAAQ;GAA/C,KAAK;;;WAON,eAA8D;AAAA,EAEjE,eAAsB,AAAK;EAC3B,EAAI,iCAAqB,WAAU;AAAA,cAAW,4BAAgB,EAAhB;;EAEzC;EAAL,EAAI,EAAC,gBAA4B,YAA5B,4BAA4B,WAA5B,uBAA4B,WAAS;AAAA,UAAO;;EACrB;8BAAyB,YAAzB,0BAAyB,WAAzB,SAAyB;EAArD,YAAuB,AAAK,eAAqC,aAArC,0BAAqC,YAArC,SAAqC;EACjE,EAAI,UAAS,MAAM;AAAA,UAAO;;EAE1B,OAAO;;QAIJ,eAA8D;AAAA,EAEjE,eAAsB,AAAK;EAC3B,EAAI,iCAAqB,UAAS;AAAA,cAAW,4BAAgB,EAAhB;;EAExC;EAAL,EAAI,EAAC,gBAA4B,WAA5B,4BAA4B,UAA5B,uBAA4B,UAAQ;AAAA,UAAO;;EACrB;8BAAyB,WAAzB,0BAAyB,UAAzB,SAAyB;EAApD,YAAsB,AAAK,eAAoC,aAApC,0BAAoC,YAApC,SAAoC;EAC/D,EAAI,UAAS,MAAM;AAAA,UAAO;;EAE1B,OAAO;;SAIJ,eAA0D;AAAA,EAE7D,eAAsB,AAAK;EAC3B,EAAI,iCAAqB,WAAU;AAAA,cAAW,4BAAgB,EAAhB;;EAEzC;EAAL,EAAI,EAAC,gBAA4B,YAA5B,4BAA4B,WAA5B,uBAA4B,WAAS;AAAA,UAAO;;EACrB;8BAAyB,YAAzB,0BAAyB,WAAzB,SAAyB;EAArD,YAAuB,AAAK,eAAqC,aAArC,0BAAqC,YAArC,SAAqC;EACjE,EAAI,UAAS,MAAM;AAAA,UAAO;;EAE1B,OAAO;;QAIJ,eAA0D;AAAA,EAE7D,eAAsB,AAAK;EAC3B,EAAI,iCAAqB,UAAS;AAAA,cAAW,4BAAgB,EAAhB;;EAExC;EAAL,EAAI,EAAC,gBAA4B,WAA5B,4BAA4B,UAA5B,uBAA4B,UAAQ;AAAA,UAAO;;EACrB;8BAAyB,WAAzB,0BAAyB,UAAzB,SAAyB;EAApD,YAAsB,AAAK,eAAoC,aAApC,0BAAoC,YAApC,SAAoC;EAC/D,EAAI,UAAS,MAAM;AAAA,UAAO;;EAE1B,OAAO;;UAIJ,eAA4D;AAAA,EAE/D,eAAsB,AAAK;EAC3B,EAAI,iCAAqB,YAAW;AAAA,cAAW,4BAAgB,EAAhB;;EAE1C;EAAL,EAAI,EAAC,gBAA4B,aAA5B,4BAA4B,YAA5B,uBAA4B,YAAU;AAAA,UAAO;;EACrB;8BAAyB,aAAzB,0BAAyB,YAAzB,SAAyB;EAAtD,YAAwB,AAAK,eAAsC,aAAtC,0BAAsC,YAAtC,SAAsC;EACnE,EAAI,UAAS,MAAM;AAAA,UAAO;;EAE1B,OAAO;;YAIJ,eAAoF;AAAA,EAEvF,eAAsB,AAAK;EAC3B,EAAI,iCAAqB,cAAa;AAAA,cAAW,4BAAgB,EAAhB;;EAE5C;EAAL,EAAI,EAAC,gBAA4B,eAA5B,4BAA4B,cAA5B,uBAA4B,cAAY;AAAA,UAAO;;EACrB;8BAAyB,eAAzB,0BAAyB,cAAzB,SAAyB;EAAxD,YAA0B,AAAK,eAAwC,aAAxC,0BAAwC,YAAxC,SAAwC;EACvE,EAAI,UAAS,MAAM;AAAA,UAAO;;EAE1B,OAAO;;YAMJ,WAAoC;AAAA,EAEvC,WAAwB;EAET;;;GAAf,cAAe;GACG;;IAAd,aAAc;IACV,UAAU;;;EAIlB,OAAO;;;;yBChYJ,yBAtDX;AAAA,CAGwC,AAHxC,aAGwC;CAmDoC;CAEpE,kBAAgB;CAEhB,EAAI,aAAY,MACZ;AAAA,QAAO;;CAEX,EAAI,UAAS,MACT;AAAA,QAAO;;CAGX;WAAiB;CAAjB,WAAiB,YAAjB;AAAA,EAAK,eAAL,AAAiB,IAAjB;;EACkB,UAAU;EAAxB,cAAc;EACd,EAAI,YAAW,MACX;AAAA,SAAM,wBAAC,0CAAyC;;EAEpD,aAAe,eAAa;;;;;;;eA/DpC,mBAA+C;AAAA,EAE3C,gBAAgB;EAEhB,EAAI,aAAY,MACZ;AAAA,oBAAY,iBAAmB;;EAGnC,OAAO;;YAKJ,WAA6B;AAAA,SAAO;;YACpC,eAAwC;AAAA,SAAO,qBAAgB;;iBAG/D,WAAiC;AAAA,SAAO;;iBACxC,oBAAgD;AAAA,SAAO,0BAAqB;;gBAG5E,WAAgC;AAAA,SAAO;;gBACvC,mBAA8C;AAAA,SAAO,yBAAoB;;aAGzE,WAAoD;AAAA,SAAO;;aAC3D,gBAAsF;AAAA,SAAO,sBAAiB;;iBAG9G,WAA+B;AAAA,SAAO;;iBACtC,oBAA4C;AAAA,SAAO,0BAAqB;;kBAGxE,WAAkC;AAAA,SAAO;;kBACzC,qBAAkD;AAAA,SAAO,2BAAsB;;gBAG/E,WAAkD;AAAA,SAAO;;gBACzD,mBAAkF;AAAA,SAAO,yBAAoB;;WA8B7G,WAAmB;AAAA,EJsEU,EAAI,iBAAW;AAAA;;EACf;EIrEhC,EAAI,eAAS,MAAM;AAAA;;EAEH;;GAAhB,eAAgB;GACZ;;EAEJ,aAAQ;;WAQE,uBAAwC;AAAA,EAElD,UAAU,yBAAsB;EAEhC,EAAI,QAAO,QAAQ,qBAAW,SAC1B;AAAA,UAAO,MAAQ;;EAGnB,OAAO;;;;;kCCtGf;AAAA;;;;;;;;;;;;;;;6BCAA;AAAA;;;;;;;;;;;;;;;;;iCCKkB,sBAAkD;AAAA,CAE5D,EAAI,uBAAsB,GACtB;AAAA,QAAM;;CAKE;CACI;CAAc;CACE;CACpB;CALZ,WAA4B,2BACjB,KAEK,IAAc,IADlB,IAEI,EACJ,GADoB,IACL;CAG3B,YAA4B,kBAAkB;CAE9C,EAAI,iBAAgB,GAChB;AAAA,QAAM;;CAGV,YAAY,MAAM;CAClB,EAAI,sCAAkB,OAAc,EAAG,MAAO,QAC1C;AAAA,QAAM;;CAGV;aAAa,cAAb;AAAA,EAAK,WAAL,AAAa,MAAb;;EACI,aAAa,WAAW;EACxB;cAAgB,eAAhB;AAAA,GAAK,cAAL,AAAgB,OAAhB;;GACI,oCAAW,QAAS,OAAQ;;EAEhC,SAAS;;CAGb,QAAQ;CAER,OAAO;;sCAMJ,4BAA6E;AAAA,CAGhF;CAEA,YAAY,sCAAa;CAEzB,MAAQ;MAuBJ;EAGa,uBAAa,eAAM,SAAN,yBAAM,QAAN,QAAM;EACpB,qBAAe,eAAM,QAAN,yBAAM,OAAN,QAAM;EACrB,qBAAe,eAAM,QAAN,yBAAM,OAAN,QAAM;EACjB,qBAAe,eAAM,YAAN,yBAAM,WAAN,QAAM;EACpB,qBAAe,eAAM,aAAN,yBAAM,YAAN,QAAM;EACpB,qBAAe,eAAM,cAAN,yBAAM,aAAN,QAAM;EACrB,qBAAe,eAAM,cAAN,yBAAM,aAAN,QAAM;EACpB,oBAAe,eAAM,eAAN,yBAAM,cAAN,QAAM;EARpC,YAAiC,gCACxB,IACD,IACA,IACI,IACC,IACC,IACA,IACC,GACJ,aAAa,eAAM,WAAN,yBAAM,UAAN,QAAM;EAG9B,eAAe,SAAS;;MAlB5B;EACI,iBAAiB,aAAa,eAAM,YAAN,yBAAM,WAAN,QAAM;;MAbxC;EACI,kBAAkB,WAAe,eAAO,iBAAP,yBAAO,gBAAP,QAAO;EACxC,gBAAgB,WAAe,eAAO,WAAP,yBAAO,UAAP,QAAO;;MAP1C;EACgB,QAAQ,eAAO,WAAP,yBAAO,UAAP,QAAO;EAAf;GA8EhB,IA9EgB;;EAAZ,YAAY;EACZ,iBAAiB,WAAe,eAAO,WAAP,yBAAO,UAAP,QAAO;;MAqC3C;EAEI,YAAY,aAAa,eAAM,YAAN,yBAAM,WAAN,QAAM;EAC/B,aAAa,aAAa,eAAM,aAAN,yBAAM,YAAN,QAAM;EAChC,aAAa,WAAe,eAAM,aAAN,yBAAM,YAAN,QAAM;EAElC,UAAU,kBAAkB;EAC5B,EAAI,QAAO,MAAM;AAAA,GACb,MAAM;GACN,kBAAkB,MAAO;;EAG7B,MAAQ,UAAQ;;MAzCpB;EACI;EACS,uBAAa,eAAO,SAAP,yBAAO,QAAP,QAAO;EACb,SAAQ,eAAO,WAAP,yBAAO,UAAP,QAAO;EAAf;GAkEpB,KAlEoB;;EAFhB,WAAgB,OACP,YACE,iBAAK;;;;CA6CxB,QAAQ;;wCAIL,iBAA8C;AAAA,CAEjD,cAAoC;CAEpC;YAAc,eAAd;AAAA,EAAK,YAAL,AAAc,OAAd;;EACI,YAAY,YAAY;EACxB,UAAa,MAAM;EAAnB,YAAuB,MAAM;EAA7B;;;;;EACA,QAAQ;;CAGZ,OAAO;;gCAIG,YAA0B;AAAA,QAAO,iBAAiB;;mCAClD,YAA2B;AAAA,CACrC,EAAI,WAAW,SAAO,IAClB;AAAA,MAAI,oBAAoB,EAAG,KAAI;;CACjC,OAAO;;;;;+CCrIN;AAAA,aACI;CADJ;;8BCYA,kBAAqC;AAAA,CAExC,UAAU;CACV,YAAY;;;;;aAQT,eAAkC;AAAA,EAErC,YAAY,iBAAc;EAC1B,gBAAgB,kBAAkB;EAClC,YAAY,wBAAgB;EAEhB;;GAAZ,WAAY;GACR,WAAW,eAAU,SAAV,yBAAU,QAAV,QAAU;GAErB,EAAI,sCAAiB,KAAM,OAAM;AAAA,IAC7B,eAAuB,cAAc,KAAM;IAC3C,YAAoB;IAEpB,MAAQ;SAEJ;KACI,EAAI,QAAO,aAAP,WACA;AAAA,cAAQ;YAEP;AAAA,MACD,WAAW,KAAG;MACd,EAAI,aAAY,MAAM,YAAa,OAAM,YAAa,WAAU,YAAa,MACzE;AAAA,eAAQ;aAER;AAAA,eAAQ;;;;SAapB;KACI,EAAI,QAAO,aAAP,cAAO,WAAP,OAAO,aAAkB,OAAO,aAAP,UACzB;AAAA,cAAQ;YAEP;AAAA,MACO,AAAR,QAAQ,WAAe,KAAG;MAC1B,EAAI,OAAW,QAAQ;AAAA,eAAQ;;;;SAGvC;KACY,eAAY,QAAQ,YAAa,QAAQ;AAAA,MAAjD,QAAiD;YAAO;AAAA,MAAxD,QAAwD,KAAG;;;SAnB/D;KACI,EAAI,QAAO,aAAP,cAAO,WAAP,OAAO,aAAkB,OAAO,aAAP,UACzB;AAAA,cAAQ,AAAQ,WAAR;YAEP;AAAA,MACD,QAAQ,aAAa,KAAG;MACxB,EAAI,OAAW,QAAQ;AAAA,eAAQ;;;;;KAgBnC,gBAAe,KAAG;KAClB,mBAAmB,iBAAiB;KACpC,EAAI,iBAAgB,MAChB;AAAA;gBAAa,AAAuB;MAApC,WAAa,YAAb;AAAA,OAAK,WAAL,AAAa,IAAb;;OACI,EAAI,uBAAsB,WAAU;AAAA,QAChC,QAAQ,gBAAgB,aAAc;QACtC;;;;;IAOpB,AAAiB,KAAM,QAAK;;;;;;0BCjFjC,WAAe;AAAA;;;;;;;;;;wCdiED,gBAEjB;AAAA,QAAO,mCAAU;;wCAWA,yBACrB;AAAA,CACI,YAAY;CACL;WAAa,MAAb,YAAa,MAAb,QAAa,QAAb;;WAAkB,QAAlB,YAAkB,QAAlB,QAAkB,UAAlB;;UAAyB,OAAzB,YAAyB,OAAzB,QAAyB;CAAhC,OAAO;;6CAWU,yBACrB;AAAA,CACI,YAAY;CACL,uBAAkB,MAAlB;;;yBAAuB,QAAvB;;;yBAA8B,OAA9B;;;CAAP,OAAO;;yCAYU,oCACrB;AAAA,CACI,YAAY;CACL,iBAAc,QAAd,KAAqC;CAArC;;;mBAAoB,WAApB,KAAqC;CAArC;;;mBAA6B,UAA7B,KAAqC;CAArC;;;CAAP,OAAO;;wCAWG,oCACd;AAAA,CACI,YAAY;CACL,aAA8B,aAAZ;CAAlB,YAA8B,aAA9B;YAAa;CAAb;CA8SP,QA9SO;;;CAiTP,WAjTO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAAP,OAAO;;wCAWU,mCACrB;AAAA,CACI,YAAY;CACL,+BAA8B,YAA9B,MAAkB;CAAlB,YAA8B,YAA9B;YAAa;CAAb;CAgSP,QAhSO;;;CAmSP,WAnSO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAAP,OAAO;;2CAgBG,cACd;AAAA,CACI,aAAyB;CACzB,MAAM,iBAAiB;CAEvB,EAAI,8CAAe,MACnB;AAAA,EACI,eAAsB,OAAO,+CAAiB;EAC9C,SAAS,mCAAU,aAAa;QAGpC;AAAA,EACI,MAAM;EACM;;GAAZ,WAAY;GAER,EAAI,uBAAqB,KACzB;AAAA,IACuB;IAAnB,SAAS,mCAAU,eAAgB,SAAhB,yBAAgB,QAAhB,QAAgB;IACnC;;;;CAKZ,OAAO;;iDAQG,WAEV;AAAA,CAAO,SAAoB;CAAnB,UAAU;CAAV,YAAc,KAAd;AAAA;EAAmB,8CAAQ,EAAG,IAAK;;CAApC;;4CAWU;AAAA;;;CAEjB,QAAY,AAAQ,CAAC,uBAAa,wBAAc,SAAS,uBAA7C;CACZ,QAAY,AAAQ,CAAC,sBAAe,uBAAgB,SAAS,sBAAjD;CACZ,QAAY,AAAQ,CAAC,iBAAc,kBAAe,SAAS,iBAA/C;CAEL;CA3HA,SA2HA;CA3HA,SA2HA,CAAQ,IAAR,YAAQ,IAAR,QAAQ,MAAR;CA3HA,SA2HA;CA3HA,SA2HA,CAAW,IAAX,YAAW,IAAX,QAAW,MAAX;CA3HA,SA2HA;CA3HA,SA2HA,AAAc,IAAd,YAAc,IAAd,QAAc;CAAd;;yCAYG,mCACd;AAAA,CACI,aAAa;CAEb,EAAI,SAAQ,MAER;AAAA,SAAO,YAEH;AAAA,UAAO;;;CAIf,UAAa;CAAb,SAAiB;CAAjB;;EAEmB,aAA4B,KAAK,OAAO,CAAC,QAAQ;EAAjD,UAAoB,UAApB,aAAY,UAAZ,uBAAY,UAAZ;YAAoB,UAApB,YAAY,UAAZ,sBAAY,UAAZ;YAAoB,SAApB,QAAY,SAAZ,kBAAY,SAAZ;;EArJZ,SAqJY;EArJZ,SAqJY;EArJZ,SAqJY;EArJZ,SAqJY;EArJZ,SAqJY;EArJZ,SAqJY;EAAf,OAAO,QAAQ;;CAGnB,OAAO;;yCAOU,kBAEjB;AAAA,CAAO,UAAmB,0BAAe;CAAlC,YAAgD,yBAAiB;CAAjE,WAAiF,oBAAgB;CAAjG;;CAnJA,SAmJA;CAnJA,SAmJA;;CAnJA,SAmJA;CAnJA,SAmJA;;CAnJA,SAmJA;CAnJA,SAmJA;;;oCAOU,kBAEjB;AAAA,CAAO,UAAc,oBAAU;CAAxB,YAAiC,mBAAY;CAA7C,WAAwD,cAAW;CAAnE;CA1KA,SA0KA;CA1KA,SA0KA;CA1KA,SA0KA;CA1KA,SA0KA;CA1KA,SA0KA;CA1KA,SA0KA;;;yCAOU,kBAEjB;AAAA,CAAO,UAAc,oBAAU;CAAxB,YAAiC,mBAAY;CAA7C,WAAwD,cAAW;CAAnE;CAnLA,SAmLA;CAnLA,SAmLA;CAnLA,SAmLA;CAnLA,SAmLA;CAnLA,SAmLA;CAnLA,SAmLA;;;4CASG;AAAA;;;CAEV,OAAO,CAAC,SAAS,OAAO,MACpB,gBAAgB,kBAAK,KAAK,gBAAgB,iBAAO,KAAK,gBAAgB,YAAM;;4CAQtE,gBAEV;AAAA,QAAO,MAAM;;6CAQV,gBACP;AAAA,CAEI,aAAoB,qHAAgB;CAEpC,UAAU,UAAU,sBAAM,aAAa,qBAAQ,YAAY,gBAAO;CAElE,UAAU,UAAU,2CAAa,6CAAK,KAAK,kBAAkB,2CAAa,uRAAY,KAClF,kBAAkB,2CAAa,2FAAY,KAAK,iBAAiB,2CAAa,8LAAW;CAE7F,OAAO;;4CASJ;AAAA;;;CAEM,iBAAM,SAAQ,QAAR;CAAN,gBAAiB;EAA1B,SAA0B;QAAjB;AAAA,EAAT,SAAS;;CACT,aAAmB;CACnB,YAAmB,sMAAmB,CAAC,IAAI;CAA3C;;;;;CAiHA,QAjHA;;;CAoHA,WApHA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACA,OAAO;;6CASG;AAAA;;;CAED,iBAAM,SAAQ,QAAR;CAAN,gBAAiB;EAA1B,SAA0B;QAAjB;AAAA,EAAT,SAAS;;CACT,aAAmB;CACnB,YAAmB,sMAAmB,CAAC,IAAI,iMAAa;CAAxD;;;;;CAmGA,QAnGA;;;CAsGA,WAtGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACA,OAAO;;4CAQG,gBACd;AAAA,CACuB;gCAAc,SAAd;iCAAc,SAAd;2BAAc,QAAd;;CAjQZ,SAiQY;CAjQZ,SAiQY;CAjQZ,SAiQY;CAjQZ,SAiQY;CAjQZ,SAiQY;CAjQZ,SAiQY;CAAnB,aAAmB;CACnB,OAAO;;uCAWG,+BACd;AAAA,CACI;WAAQ,MAAR,YAAQ,MAAR,QAAQ,QAAR;CACA;WAAU,QAAV,YAAU,QAAV,QAAU,UAAV;CACA;UAAS,OAAT,YAAS,OAAT,QAAS;CACT,OAAO;;4CAWG,+BACd;AAAA,CACI,uBAAW,MAAX;;;CACA,wBAAa,QAAb;;;CACA,wBAAY,OAAZ;;;CACA,OAAO;;wCAYG,0CACd;AAAA,CACI,YAAW,CAAC,IAAI,QAAQ,CAAC,IAAI;CAA7B;;;CACA,aAAa,CAAC,IAAI,WAAW,CAAC,IAAI;CAAlC;;;CACA,aAAY,CAAC,IAAI,UAAU,CAAC,IAAI;CAAhC;;;CACA,OAAO;;uCAWG,0CACd;AAAA,CACI,aAAa,aAAa;CAC1B,YAAY,aAAa;CAClB,WAAiB;CAAjB,cAAkC;CAAlC,AAuBP,QAvBO;;oDAA0C;CAA1C,AA0BP,WA1BiD;CAA1C;;;;;;;;;0BAA0C,QAA1C;;;;;;;;;;;0BAA0C,QAA1C;;;;;0BAA0C,QAA1C;;;;;;;;;;;0BAA0C,QAA1C;;;;;;;;;;;;;;2BAA0C,QAA1C;;;;;;;;;;;2BAA0C,QAA1C;;;;;;;;;;uCAWG,yCACd;AAAA,CACI,aAAa,CAAC,IAAI,SAAS,IAAI,YAAY,MAAM;CACjD,YAAY,YAAY,SAAS;CAC1B,WAAiB;CAAjB,cAAkC;CAAlC,AAQP,QARO;;oDAA0C;CAA1C,AAWP,WAXiD;CAA1C;;;;;;;;;0BAA0C,QAA1C;;;;;;;;;;;0BAA0C,QAA1C;;;;;0BAA0C,QAA1C;;;;;;;;;;;0BAA0C,QAA1C;;;;;;;;;;;;;;2BAA0C,QAA1C;;;;;;;;;;;2BAA0C,QAA1C;;;;;;;;;;iDAMI,4CACf;AAAA,CACI,OAAO;CACP,WAAW,MAAM;CACjB,UAAU,SAAS,CAAC,IAAI,SAAS,OAAO,IAAI,MAAM;CAClD,UAAU;CAEF,SAAQ,OAAR;;MAEJ;EAAQ,uBAAY,SAAZ;;;0BAAoB,MAApB;;;0BAAyB,QAAzB;;;;MACR;EAAQ,wBAAY,MAAZ;;;0BAAiB,SAAjB;;;0BAAyB,QAAzB;;;;MACR;EAAQ,wBAAY,QAAZ;;;0BAAmB,SAAnB;;;0BAA2B,MAA3B;;;;MACR;EAAQ,wBAAY,QAAZ;;;2BAAmB,MAAnB;;;2BAAwB,SAAxB;;;;MACR;EAAQ,yBAAY,MAAZ;;;2BAAiB,QAAjB;;;2BAAwB,SAAxB;;;;MACR;EAAQ,yBAAY,SAAZ;;;2BAAoB,QAApB;;;2BAA2B,MAA3B;;;;;CAGZ,OAAO;;qCAGJ;AAAA;;;aAEI;CAFJ;;wCAKQ,gBAEX;AAAA,QAAO,AAAC,SAAQ,KAAM;;0CAGX,gBAEX;AAAA,QAAO,AAAC,SAAQ,IAAK;;yCAGV,gBAEX;AAAA,QAAO,QAAO;;6CAGH,gBAEX;AAAA,QAAO,sBAAM;;+CAGF,gBAEX;AAAA,QAAO,qBAAQ;;8CAGJ,gBAEX;AAAA,QAAO,gBAAO;;wCAGH,sBACf;AAAA,CACI,SAAQ;CACR,SAAQ,CAAa,QAAb,YAAa,QAAb,QAAa,UAAU;CAC/B,OAAO;;0CAGI,sBACf;AAAA,CACI,SAAQ;CACR,SAAQ,CAAa,QAAb,YAAa,QAAb,QAAa,UAAU;CAC/B,OAAO;;yCAGI,sBACf;AAAA,CACI,SAAQ;CACR,SAAQ,AAAa,QAAb,YAAa,QAAb,QAAa;CACrB,OAAO;;6CAGI,sBACf;AAAA,CACI,aAAM,WAAW,QAAQ;CAAzB;;CACA,OAAO;;+CAGI,sBACf;AAAA,CACI,aAAQ,WAAW,QAAQ;CAA3B;;CACA,OAAO;;8CAGI,sBACf;AAAA,CACI,aAAO,WAAW,QAAQ;CAA1B;;CACA,OAAO;;yCAGI,gBAEX;AAAA,QAAO,CAAC,IAAI,4BAAW,oGAAS;;4CAGrB,gBAEX;AAAA,QAAO,CAAC,IAAI,2BAAa,oGAAS;;2CAGvB,gBAEX;AAAA,QAAO,CAAC,IAAI,sBAAY,oGAAS;;0CAGtB,gBAEX;AAAA,QAAO,IAAI;;yCAGA,sBACf;AAAA,CACI,cAAe;CAAf,aAAwB;CAAxB,YAAgC;CAAhC,kBAAQ,SAAR;;;;;;;;;;;;CACA,OAAO;;4CAGI,sBACf;AAAA,CACI,aAAqB;CAArB,YAA6B;CAA7B,kBAAQ,mOAAR;;;;mBAAc,SAAd;;;;;;;;CACA,OAAO;;2CAGI,sBACf;AAAA,CACI,cAAc;CAAd,YAA8B;CAA9B,kBAAQ,mOAAR;;;;;;;;mBAAuB,SAAvB;;;;CACA,OAAO;;0CAGI,sBACf;AAAA,CACI,cAAc;CAAd,aAAuB;CAAvB,kBAAQ,mOAAR,KAA+B;CAA/B;;;mCAA+B;CAA/B;;;kCAA+B;CAA/B;;;CACA,OAAO;;wCAGH,gBACR;AAAA,CACI,aAAa,WAAW,UAAU,KAAK,CAAC,2BAAa,qBAAY,IAAI,8BAAW,2BAAa;CAC7F,UAAgB;CAChB,EAAI,WAAU,GAEV;AAAA,QAAM,MAAM,UAAU,WAAW,UAAU,KAAK,CAAC,2BAAa,qBAAY,IAAI,8BAAW,2BAAa;;CAGnG,SAAM,GAAI;AAAA,eAAM;QAAM;AAAA;;;+CAGlB,gBAEX;AAAA,QAAO;;+CAGI,gBAEX;AAAA,QAAO,CAAC,6FAAa,8FAAc;;8CAGxB,gBAEX;AAAA,QAAO,CAAC,6FAAa,8FAAc;;wCAGxB,sBACf;AAAA,CACI,iBAA0B;CAA1B,0BAAc;CAAd;WAAO;CAAP;CArKA,OAqKA;;;CAlKA,WAkKA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACA,OAAO;;+CAGI,sBACf;AAAA,CACI,UAAO;CAAP,iBAAmB;CAAnB,0BAAY;CAAZ;;;CA3KA,QA2KA;;;CAxKA,WAwKA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACA,OAAO;;+CAGI,sBACf;AAAA,CACI,UAAO;CAAP,aAAwB,QAAZ;CAAZ,YAAwB,QAAxB;;;CAjLA,QAiLA;;;CA9KA,WA8KA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACA,OAAO;;8CAGI,sBACf;AAAA,CACI,UAAO;CAAP,+BAAwB,QAAxB,MAAY;CAAZ,YAAwB,QAAxB;;;CAvLA,QAuLA;;;CApLA,WAoLA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACA,OAAO;;yCAGI,gBAEX;AAAA,QAAO,SAAS,0BAAU,SAAS,yBAAY;;yCAGpC,gBAEX;AAAA,QAAO,SAAS,0BAAU,SAAS,yBAAY;;6CAGpC,sBAEJ;AAAA,YAAQ,KAAO;AAAA;QAAO,WAAQ,GAAI;AAAA;QAAI;AAAA;;;6CAKlC,0BACf;AAAA,CACI,WAAiB;CACjB,UAAU;CAAV,SAAc;CAAd;;EAEI,QAAQ;;CAEZ,OAAO,WAAW,QAAQ,QAAQ;;sCAGhB,wBACtB;AAAA,CACI,iBAAuB,AAAC,OAAO,QAAQ,QAAQ,MAAO,MAAM;CACrD,GAAC,OAAO,QAAQ,aAAa,KAAO;AAAA;QAAM;AAAA;;;wBejoB9C,WAPX;AAAA,CAKsD,AALtD,uBAKsD;CAE5B;;;;;;OAItB,WAAqB;AAAA;;;;;;;;;kCCRd,WAAe;AAAA;;;;;eAEf,4BAAyG;AAAA,EAE5G,EAAI,UAAS,MAAM;AAAA,GACf,KAAK;GACL;;EAGJ,YAAY;EAEZ;YAAa;EAAb,WAAa,YAAb;AAAA,GAAK,WAAL,AAAa,IAAb;;GAEI,sBAAsB,MAAU;GAE5B;GAAJ,EAAI,gBAAiC,oBAAjC,4BAAiC,mBAAjC,uBAAiC,kBAAkB;AAAA,IACnC;IAAhB,gBAAgB,gBAA8B,oBAA9B,0BAA8B,mBAA9B,SAA8B,kBAAiB;IAC/D,EAAI,cAAa,MAAM;AAAA,KACH,4BAA4B;KAC5C,kBAAU,SAAV;wBAAU,KAAM;YAAhB;AAAA,cAAU,QAAM;;;UAKpB;AAAA,mCAAQ,AAAC,oCAAmC,gBAA5C;;;EAKR,KAAK;;gBAIF,gBAAyE;AAAA,EAE5E,EAAI,UAAS,MAAM;AAAA,UAAO;;EAE1B,YAAkC;EAErB;;GAAb,YAAa;GACT,gBAAgB,eAAU,UAAV,yBAAU,SAAV,QAAU;GAC1B,EAAI,cAAa,QAAQ,6BAA6B,MAClD;AAAA,UAAU,SAAM;;;EAIxB,OAAO;;;;0BChDJ,WAAe;AAAA;;;;;eAEf,4BAEH;AAAA,IAAI,UAAS,MACT;AAAA,KAAI,UAAS,gEACT;AAAA,IAAK;IAAL,KAAK;UAGL;AAAA,sBAAkB,MAAO,KAAM,gBAC3B;AAAA,UAAK,SAAS,OAAO,aAAa;;;SAK1C;AAAA,QAAK;;;gBAKN,gBAEI;AAAA,KAAC,SAAS,QAAQ,eAAe,MAAQ;AAAA;SAAO;AAAA;;;;;kCCxBpD,WAAe;AAAA;;;;;eAEf,4BAEH;AAAA,OAAK;;gBAIF,gBAEH;AAAA,SAAO;;;;yBCRJ,WAAe;AAAA;;;;;eAEf,4BAA4F;AAAA,EAE/F,EAAI,UAAS,MAAM;AAAA,GACf,KAAK;GACL;;EAGJ,YAAY;EAEZ;YAAY;EAAZ,WAAY,YAAZ;AAAA,GAAK,UAAL,AAAY,IAAZ;;GACI,aAAe,MAAU;GAAzB,kBAAU,QAAV;sBAAU,IAAV;;YAAU,OAAV;;;EAGJ,KAAK;;gBAIF,gBAA4D;AAAA,EAE/D,EAAI,UAAS,MAAM;AAAA,UAAO;;EAE1B,YAA6B;EAEjB;;GAAZ,WAAY;GACR,MAAU,QAAK,eAAU,SAAV,yBAAU,QAAV,QAAU;;EAG7B,OAAO;;;;6BC/BJ,WAAe;AAAA;;;;;eAEf,4BAEH;AAAA,IAAI,UAAS,MACT;AAAA,sBAAmB,MAAO,KAAM,gBAC5B;AAAA,SAAK,SAAS,OAAO,gBAAgB;;SAIzC;AAAA,QAAK;;;gBAKN,gBAEI;AAAA,KAAC,SAAS,QAAQ,eAAe,MAAQ;AAAA;SAAO;AAAA;;;;;;;;oBCP7C,cAAwD;AAAA,CAGlE,MAAM,yCAAY,KAAM;CAIxB,UAAU;CACV,QAAQ;CACR,QAAQ;CACR,SAAS;CACC;;CAAV,UAAU;CACV,eAAe;CACf,UAAU;CACV,WAAW;CAEX,KAAO,KAAI,KAAX;AAAA,EACQ;;;;KAAY,KAAZ;;;;cAAY,KAAZ;;ICwHb,SDxHa;MCyHX;;GDzHW;;;;kBAAY,KAAZ;;ICiIb,UDjIa;MCkIX;;GDlIW;;;;;;;;EAAJ,IAAI;EAEJ,EAAI,WACA;AAAA,KAAI,MAAM,MAAI;AAAA,IACL,aAAY,KAAZ;;;;;OAAY,KAAZ;;;;gBAAY,KAAZ;;MCoHtB,UDpHsB;QCqHpB;;KDrHoB;;;;qBAAY,KAAZ;;MC6HtB,UD7HsB;QC8HpB;;KD9HoB;;;;;;;;eAAe,KAAf;;KCoHtB,UDpHsB;OCqHpB;;IDrHoB;IAAL,KAAK;IACL,EAAI,OAAO,QAAK;AAAA,KACZ,OAAQ;KACR,KAAK;WACF;AAAA,KACH,WAAW;KACX;;UAED;AAAA,IACH,OAAO;IACP;;SAGH,EAAI,MAAK,MAAM;AAAA,GAChB;GACA;SAEC,EAAI,QAAO,MAAM,KAAM,MAAI;AAAA,GAC5B,WAAW;GACX;SAEC,EAAI,QAAO,IAAI;AAAA,GAChB,EAAI,MAAM,OAAM,KAAM,KAAI;AAAA,IACtB,MAAO;IACP,UAAU;IACV,MAAM;UAGN;AAAA,WAAO;;GAEX;SAEC,EAAI,MAAK,KAAK;AAAA,GACf,UAAU;GACV,MAAM;GACN;SAEC;AAAA,GACD,OAAO;GACP;;;CAIR,EAAI,QAAO,IAAI;AAAA,YAAU;;CAIzB,WAAW;CACX,MAAM;CACN,YAAoB;CACpB,qBAAqB;CACrB,aAAa;CACb,eAAe;CACf,UAAU;CACV,uBAAuB;CAEvB,KAAO,KAAI,KAAX;AAAA,EACQ;;;;KAAY,KAAZ;;;;cAAY,KAAZ;;IC2Db,UD3Da;MC4DX;;GD5DW;;;;mBAAY,KAAZ;;ICoEb,UDpEa;MCqEX;;GDrEW;;;;;;;;EAAJ,IAAI;EAEJ,EAAI,WACA;AAAA,KAAI,MAAM,MAAI;AAAA,IACL,aAAY,KAAZ;;;;;OAAY,KAAZ;;;;gBAAY,KAAZ;;MCuDtB,UDvDsB;QCwDpB;;KDxDoB;;;;qBAAY,KAAZ;;MCgEtB,WDhEsB;QCiEpB;;KDjEoB;;;;;;;;eAAe,KAAf;;KCuDtB,WDvDsB;OCwDpB;;IDxDoB;IAAL,KAAK;IACL,EAAI,OAAO,QAAK;AAAA,KACZ,OAAQ;KACR,KAAK;WACF;AAAA,KACH,WAAW;KACX;;UAED;AAAA,IACH,OAAO;IACP;;SAGH,EAAI,MAAK,MAAM;AAAA,GAEhB,MAAM,KAAK;GACX,EAAI,QAAO,MAAM;AAAA,IACb,AAAiB,MAAO,OAAK;IAC7B,iBAAiB;UACd,EAAI,qBAAoB,IAC3B;AAAA,uBAAmB;;GAEvB,MAAM;GAEN,YAAY;GACZ,iBAAiB;GACjB,WAAW;GACX,QAAQ;GACR;SAEC,EAAI,QAAO,MAAM,KAAM,MAAI;AAAA,GAC5B,WAAW;GACX;SAEC,EAAI,MAAK,KAAK;AAAA,GACf,MAAM,KAAK;GACX,EAAI,QAAO,MAAM;AAAA,IACb,AAAiB,MAAO,OAAK;IAC7B,iBAAiB;UACd,EAAI,qBAAoB,IAC3B;AAAA,uBAAmB;;GAEvB,MAAM;GACN;SAEC;AAAA,GACD,OAAO;GACP;;;CAIR,MAAM,KAAK;CACX,EAAI,QAAO,MAAM;AAAA,EACb,AAAiB,MAAO,OAAK;EAC7B,iBAAiB;QACd,EAAI,qBAAoB,IAAI;AAAA,EAC/B,oBAAQ;EACR,mBAAmB;;CAEvB,MAAM;CAEN,EAAI,iBACA;AAAA,cAAY;;CAGhB,EAAI,qBAAoB,GACpB;AAAA,sBAAQ,AAAC,6CAA4C;;CAGzD,OAAO;;sBAMJ,cAKK;AAAA,aAAY;;8BE7K5B;AAAA;;;;;;;;;;;4BCOoB,uBAJpB;AAAA,CAEuD,AAFvD,gBAEuD;CAI/C,wBAAO,WAAW,KAAM;;;;;;OAIZ,WAAgB;AAAA,EAAhB;EAEZ,aAAS;EAAT;;;;;EAEA,EAAI,cAAQ,MAAM;AAAA,GACd,+BAAS,mDAAT;GACA,cAAS;GAAT;;;;;GACA,kBAAa;GACb;;EAGJ,2BAAK,mBAAe,UAApB;EACA,mCAAuB,UAAvB,KAA6B,eAEzB;AAAA,KAAI,SAAQ,MAAM;AAAA,IACd,IACI;AAAA,uBAAgB,kBAAU;;KAE1B,cAAS;KAAT;;;;;KACA,6BAAO,uCAAmC,YAA1C;KACA,oBAAa;KACb;;IAEJ,cAAS;IAAT;;;;;IACA,oBAAa;UAEZ;AAAA,IACD,cAAS;IAAT;;;;;IACA,6BAAO,sCAAkC,YAAzC;IACA,oBAAa;;;;WAOzB,WAAwB;AAAA,EpBoGY,EAAI,iBAAW;AAAA;;EACf;EoBnGhC,gBAAW;;;;kCC/CD,WAFlB;AAAA,CAoB6B,AApB7B,aAoB6B;CAFA,AAlB7B,aAkB6B;CAFC,AAhB9B,cAgB8B;CAFA,AAd9B,cAc8B;CAFE,AAZhC,gBAYgC;CAFP,AAVzB,SAUyB;CAFA,AARzB,SAQyB;CAFK,AAN9B,cAM8B;CAFA,AAJ9B,cAI8B;;;;;;;;;;+BCFL,sBAAmD;AAAA,CAEpE,EAAI,SAAQ,KAAK,SAAS,cAAc;AAAA,QAAO,sDAA0B,QAAK,aAAU;;CAKxF,OAAO,MAAM;;+BAII,4BAA+D;AAAA,CAEhF,EAAI,SAAQ,KAAK,SAAS,cAAc;AAAA,QAAO,sDAA0B,QAAK,aAAU;;CAKxF,MAAM,SAAS;;iCAOE,+BAGvB;AAAA,GAAI,sCAAiB,SAAU,UAAqF,CAAC,CAAS,2BAAqC,wBAA0B,SAAS,SAIrM;AAAA,EAAiB,SAAU,SAAO;QAIlC;AAAA,sBAAoB,SAAU,MAAO;;;iCAMf,yBAEjB;AAAA,GAAoF,4BAAqC,wBAA0B,SAAS,QACxJ;AAAA,SAAO,oBAAoB,SAAU;QAGrC;AAAA,SAAO,cAAc,SAAU;;;;;;0BC1CzB,sBAAsD;AAAA,CAErD;CAAX,WAAW,eAAiB,gBAAjB,yBAAiB,eAAjB,QAAiB;CAE5B,EAAI,SAAQ,MAAM;AAAA,EACd,OAAO;EACP;oBAAiB,gBAAjB;sBAAiB,YAAa;SAA9B;AAAA,YAAiB,eAAa;;EAE9B,YAAY,kBAAkB;EAC9B,eAAe,KAAK;EACpB,iBAAiB;EACN;EAAX,WAAW,eAAY,aAAZ,0BAAY,YAAZ,SAAY;EACvB,EAAI,SAAQ,MAAM;AAAA,GACd,OAAO,0CAAc;GACrB;qBAAY,aAAZ;uBAAY,SAAU;UAAtB;AAAA,aAAY,YAAU;;;EAG1B,KAAO,UAAS,MAAhB;AAAA,GAEI,cAAc;GAAd;;;;IAEI,gBAAgB,kCAAgB;IAE3B,UAAkB;IAAvB,EAAI,EAAC,mGAA+B;AAAA,KAChC,WAAe;KAAf;kCAA2B;YAA3B;AAAA,2BAA2B;;KAC3B,WAAS;KAAT;4BAAqB;YAArB;AAAA,qBAAqB;;;;GAI7B,QAAQ,mBAAmB;GAC3B,EAAI,UAAS,MAAM;AAAA,IACf,WAAW,KAAK;IACT;sBAAY,aAAZ;KAAP,OAAO,mBAAY;WAAZ;AAAA,KAAP,OAAO,SAAY;;IACnB,EAAI,SAAQ,MAAM;AAAA,KACd,OAAO,0CAAc;KACrB;uBAAY,aAAZ;yBAAY,SAAU;YAAtB;AAAA,eAAY,YAAU;;;;;;CAOtC,OAAO;;2BAIG,4BAEV;AAAA,CAAO,oCAAM;CAAN,kBAAuB,UAAvB;2BAAuB;QAAvB;AAAA,iBAAuB;;;oCAIpB,eAA4C;AAAA,CAEtD,aAAa;CACb,QAAQ;CACR,UAAU;CAEV,MAAQ;MACJ;EAAiB,aADb;EACO,WADP;EAEA,UAAU;EACV,EAAI,iBAAgB,GAAG;AAAA,GACnB,UAAW;GACX,IAAI;GAAG,MAAM;GACb,cAAc;GAAd;;;;IACI,UAAU,kCAAgB;IAC1B,EAAI,KAAI,MAAM,GAAG;AAAA,eAAW;;IAC5B;;GAEJ,UAAW;;;MAVnB;EAAuC,cADnC;EAC6B,YAD7B;EAEA,UAAU;EACV,EAAI,kBAAgB,GAAG;AAAA,GACnB,UAAW;GACX,IAAI;GAAG,MAAM;GACb,eAAc;GAAd;;;;IACI,UAAU,kCAAgB;IAC1B,EAAI,KAAI,MAAM,GAAG;AAAA,eAAW;;IAC5B;;GAEJ,UAAW;;;MAVnB;EAA+D,cAD3D;EACqD,YADrD;EAEA,UAAU;EACV,EAAI,kBAAgB,GAAG;AAAA,GACnB,UAAW;GACX,IAAI;GAAG,MAAM;GACb,eAAc;GAAd;;;;IACI,UAAU,kCAAgB;IAC1B,EAAI,KAAI,MAAM,GAAG;AAAA,eAAW;;IAC5B;;GAEJ,UAAW;;;MAVnB;EAAwF,cADpF;EAC8E,YAD9E;EAEA,UAAU;EACV,EAAI,kBAAgB,GAAG;AAAA,GACnB,UAAW;GACX,IAAI;GAAG,MAAM;GACb,eAAc;GAAd;;;;IACI,UAAU,kCAAgB;IAC1B,EAAI,KAAI,MAAM,GAAG;AAAA,eAAW;;IAC5B;;GAEJ,UAAW;;;;EAGf,SAAU;;CAGlB,OAAO;;wBCxEK,uBAZpB;AAAA,CAQiC,AARjC,YAQiC;CAFU,AAN3C,aAM2C;CAFF,AAJzC,gBAIyC;CAUjC,wBAAO,OAAO,KAAM;CACpB,qCAA8B;CAE9B,cAAS;;;;;;OAIG,WAAgB;AAAA,EAAhB;EAGZ,gBAA6B;EACf;;GAAd,aAAc;GACV,eAAe;;EAInB,aAAS;EAAT;;;;;EAEA,EAAI,cAAQ,MAAM;AAAA,GACd,+BAAS,+CAAT;GACA,cAAS;GAAT;;;;;GACA,kBAAa;GACb;;EAGJ,2BAAK,eAAW,UAAhB;EAGA,4BAAuB;EAEvB,aAAY,sBAAc;EAC1B,uCAAoC;EACpC,gBAAa;EACb,qBAAgB;EAChB,yBAAoB,KAAM,kBAAkB;AAAA,GAExC,WAAW;GAEX,EAAI,SAAQ,MAER;AAAA,QAAI;AAAA,KACA,kBAAW,+BAAuB;KAGlC,YAAY;KACZ,gBAAkC;KAElC;eAAa;KAAb,WAAa,YAAb;AAAA,MAAK,WAAL,AAAa,IAAb;;MAEI,eAAe,0BAAkB;MACjC,aAAY,uBAAe;MAG3B,uCAAoC;MAEpC,gBAAa;MACb,uBAAgB;MAChB,eAAe;;KAInB,2BAAoB,OAAM,mBAEtB;AAAA,QAAI,WAAS;AAAA,OAET;mBAAc,kBAAd;AAAA,QAAK,aAAL,AAAc,UAAd;;QACI,UAAU;QAAV,YAAsB;QAAtB;;;;;;OAIJ,eAAe;OACf,cAAY,uBAAe,gBAAU;OACrC,iBAAe,AAAC,UAAS;OAIzB,oBAAkB;OAElB,EAAI,aAAY,MAAM;AAAA,QAElB;mBAAe;QAAf,YAAe,aAAf;AAAA,SAAK,aAAL,AAAe,KAAf;;SACI,EAAI,sBAAO,OAAQ,eAAO;AAAA,UACtB,YAAgB,AAAK;UACrB,EAAI,eAAa,UACb;AAAA,0BAAY;;;;QAOxB,iBAAiB;QAEjB;;OAIJ;mBAAc,kBAAd;AAAA,QAAK,aAAL,AAAc,UAAd;;QACI,EAAI,sBAAO,OAAO,qBAAa;AAAA,SAE3B,iBAA4B,AAAK;SACjC,EAAI,mBAAkB,eAAe,IACjC;AAAA;;eAGJ;AAAA;;;OAIR,cAAS;OAAT;;;;;OACA,oBAAa;OACb,EAAI,qCACA;AAAA;;aAIH;AAAA,OACD,cAAS;OAAT;;;;;OACA,6BAAO,+CAA2C,YAAlD;OACA,oBAAa;;;KAKrB;;KAGA,cAAS;KAAT;;;;;KACA,6BAAO,yCAAqC,YAA5C;KACA,oBAAa;;UAGhB;AAAA,IACD,cAAS;IAAT;;;;;IACA,6BAAO,uCAAmC,YAA1C;IACA,oBAAa;;;EAIrB;;4BAIK,iCAEL;AAAA,IAAI,sBAAU,2BAIV;AAAA;;;wBAKR,WAAqC;AAAA,EAEjC,eAAe;EACf;EAEA,EAAI,aAAY,WAAM;AAAA,GAClB,2BAAK,kBAAc,WAAQ,SAAK,YAAI,IAApC;GACA;;;WAKR,WAAwB;AAAA,ExBhCY,EAAI,iBAAW;AAAA;;EACf;EwBiChC,EAAI,cAAQ,MAAM;AAAA,GACd;GACA,YAAO;;EAGX,EAAI,eAAS,MAAM;AAAA,GACH;;IAAZ,WAAY;IACM;IAAd,cAAc,eAAU,SAAV,yBAAU,QAAV,QAAU;IACxB;;GAEJ,aAAQ;;;;;;;;wBC9JT;AAAA;;;;;;;;;;;;;;;;;;CAEH,SAAS;CACT,SAAS;CACT,SAAS;CACT,SAAS;CACT,UAAU;CACV,UAAU;CAEV,eAAU;;;;;;aAjCA,WrDuNkB;AAAA,EAER,UAAU;EACV,EAAI,sBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,wBAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,sBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,wBAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,sBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc;;GAElB,YAAY;;EAnCR;;YqD9MlB,uBrDiRkB;AAAA,EqDjRlB;ErDmRU,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,qBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,iCAA8B,MAC9B;AAAA,mCAA6B;;GAEjC,kCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,iCAA8B,MAC9B;AAAA,mCAA6B;;GAEjC,kCAAgC;;EAIpC,EAAI,sBAAmB,MACnB;AAAA,uBAAkB;;EAEtB,uBAAuB;;cqD5SjC,uBrDsUkB;AAAA,EqDtUlB;ErDwUU,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,qBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,mCAAgC,MAChC;AAAA,qCAA+B;;GAEnC,oCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,mCAAgC,MAChC;AAAA,qCAA+B;;GAEnC,oCAAkC;;EAItC,EAAI,wBAAqB,MACrB;AAAA,yBAAoB;;EAExB,yBAAyB;;aqDjWnC,iBrDwXU;AAAA,IAAM,WAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,sBAAmB,MAAM;AAAA,IACzB,QAAQ,0BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,yBAAuB,MAAO;KAC9B,SAAS,6BAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,oCAAkC,MAAO;;;GAGjD,EAAI,wBAAqB,MAAM;AAAA,IAC3B,QAAQ,4BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,2BAAyB,MAAO;KAChC,SAAS,+BAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,sCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,+BAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,iCAA+B;GAC/B,oBAAkB;GAClB,sBAAoB;;;iBqDvZlC,WrDyaiB;AAAA,OAAC,qBAAmB,QAAQ,2BAAyB,IACrD;AAAA,KAAC,wBAAqB,MAAQ;AAAA,wCAA2B;UAAzD;AAAA;;SADA;AAAA;;;iBqDpYxB,WAEH;AAAA,iBAAU;;SAIA,WAEV;AAAA,SAAO,sBAAc,OAAG,OAAG,OAAG,OAAG,QAAI;;UAI3B,YAAkC;AAAA,EAE5C,SAAS,SAAI,MAAM,SAAI;EACvB,SAAI,SAAI,MAAM,SAAI;EAClB,SAAI;EAEJ,SAAS,SAAI,MAAM,SAAI;EACvB,SAAI,SAAI,MAAM,SAAI;EAElB,SAAI;EAEJ,UAAU,UAAK,MAAM,UAAK,MAAM;EAChC,UAAK,UAAK,MAAM,UAAK,MAAM;EAC3B,UAAK;EAEL,eAAU;;aAIA,iBAAoE;AAAA,EAE9E,EAAI,WAAU,MAAM;AAAA,YAAS;;EAE7B,gBAAgB;EAChB,gBAAgB;EAEhB,eAAe,CAAC,WAAW,CAAC,OAAG;EAC/B,eAAe,WAAW,OAAG;EAE7B,YAAY,SAAS,eAAe;EAEpC,EAAI,SAAQ,SAAS;AAAA,GAEjB,kBAAkB;GAElB,EAAI,UAAI,KAAK,UAAK,GACd;AAAA,uBAAmB,mBAAmB,IAAI,UAAU,CAAC;;GAGzD,eAAe;GACf,eAAe;;EAInB,gBAAgB,UAAU,AAAC,SAAI,SAAK,AAAC,SAAI;EACzC,gBAAgB,UAAU,AAAC,SAAI,SAAK,AAAC,SAAI;EAEzC,WAAW;EACX,WAAW;EAEX,OAAO;;qBAIG,qBAEV;AAAA,eAA0C;EAA1C,aAA6D;EAA7D,eAAgF;EAAhF,YAAmG;EAAnG,YAAsH;EAAtH,aAA2I;EAA3I,aAA6J;EAA7J;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;aAAc,eAAd;aAA4B,eAA5B;;;iBAIU;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;EAEV;;;;;;;EACA,WAAU,CAAC;EAAX,WAAmB,CAAC;EAApB;EACA,EAAI,UAAS,GAAG;AAAA,YAAI,QAAQ,UAAU;;EACtC,EAAI,UAAS,GAAG;AAAA,YAAI,QAAQ,UAAU;;EACtC,EAAI,aAAY,GAAG;AAAA,eAAO,WAAW,UAAU;GAA5B;;;;;;;;;;;;;EACnB,WAAU;EAAV,WAAkB;EAAlB;EACA,EAAI,WAAU,OAAO,UAAU,KAAK;AAAA,aAAM;GAAN,UAAc;GAAd,UAAM;GAAN,UAAc;GAAd,WAAM;GAAN,WAAc;GAAd;;EACpC,WACI,IAAI,SAAS;EADjB,WAEI,IAAI,SAAS;EAFjB;;mBAOU,cAEV;AAAA,SAAO,IAAI,SAAI,IAAI;;mBAIT,cAEV;AAAA,SAAO,IAAI,SAAI,IAAI;;UAIT,oBAEH;AAAA,IAAC,cAAa,QAAQ,WAAM,gBAAgB,WAAM,gBAAgB,UAAK,eAAe,UAAK,eAAe,UAAK,aAAe;AAAA,oBAAK;SAAnI;AAAA;;;YAIG,WAAyB;AAAA,EAEnC,SAAI;EACJ,SAAI;EACJ,SAAI;EACJ,SAAI;EACJ,UAAK;EACL,UAAK;EAEL,eAAU;;UAIA,WAAuB;AAAA,EAEjC,WAAW,SAAI,SAAI,SAAI;EAEvB,EAAI,SAAQ,GAAG;AAAA,GAEX,SAAI,SAAI,SAAI,SAAI;GAChB,UAAK,CAAC;GACN,UAAK,CAAC;SAEH;AAAA,GAEH,OAAO,MAAM;GACb,SAAS,SAAI;GACb,SAAI,SAAI;GACR,SAAI;GACJ,UAAK,CAAC;GACN,UAAK,CAAC;GAEN,UAAU,CAAE,SAAI,UAAK,SAAI;GACzB,UAAK,CAAE,SAAI,UAAK,SAAI;GACpB,UAAK;;EAIT,eAAU;;UAKA,gBAAkC;AAAA,EAE5C,UAAU,SAAS;EACnB,UAAU,SAAS;EAEnB,SAAS,SAAI,MAAM,SAAI;EACvB,SAAI,SAAI,MAAM,SAAI;EAClB,SAAI;EAEJ,SAAS,SAAI,MAAM,SAAI;EACvB,SAAI,SAAI,MAAM,SAAI;EAClB,SAAI;EAEJ,UAAU,UAAK,MAAM,UAAK;EAC1B,UAAK,UAAK,MAAM,UAAK;EACrB,UAAK;EAEL,eAAU;;SAIA,cAAsC;AAAA,EAEhD,UAAK;EACL,UAAK;EAEL,UAAK;EACL,UAAK;EAEL,WAAM;EACN,WAAM;EAEN,eAAU;;aAIA,cAA0C;AAAA,EAEpD,WAAM;EACN,WAAM;EAEN,eAAU;;QAIA,sBAA6C;AAAA,EAEvD;;;;;;;;EAEA,SAAS;EACT,SAAS;EACT,SAAS,SAAS;EAClB,SAAS,SAAS;EAClB,UAAU,CAAC,SAAS;EACpB,SAAS,SAAS;EAElB,QAAQ;EACR,QAAQ;EACR,QAAQ,CAAC;EACT,QAAQ;EAER,2BAAS,AAAC,KAAK,IAAK,AAAC,KAAK;EAC1B,2BAAS,AAAC,KAAK,IAAK,AAAC,KAAK;EAC1B,2BAAS,AAAC,MAAM,IAAK,AAAC,KAAK;EAC3B,2BAAS,AAAC,MAAM,IAAK,AAAC,KAAK;EAE3B,QAAO;EAAP;;;;;;;;;;;eAIU;AAAA;;;EAEV,SAAI,SAAS,SAAS;EACtB,SAAI,SAAS,SAAS;EACtB,SAAI,CAAC;EACL,SAAI;EAEJ,eAAU;;SAIA,wBAA4E;AAAA,EAEtF,SAAS;EACT,SAAS;EACT,SAAS;EACT,SAAS;EACT,UAAU;EACV,UAAU;EAEV,eAAU;;kBAIA,oBAAkD;AAAA,EAE5D,SAAS;EACT,SAAS;EACT,SAAS;EACT,SAAS;EACT,UAAU;EACV,UAAU;EAEV,eAAU;;YAIP,WAEH;AAAA,SAAO,QAAQ,SAAI,SAAS,SAAI,SAAS,SAAI,SAAS,SAAI,UAAU,UAAK,UAAU,UAAK;;cAK9E,cAEV;AAAA,SAAO,IAAI,SAAI,IAAI,SAAI;;cAKb,cAEV;AAAA,SAAO,IAAI,SAAI,IAAI,SAAI;;;;oBCpTpB;AAAA;;;;;;CAEH,SAAS;CACT,SAAS;;;;;WATb,WAEI;AAAA,SAAQ,WAAO,SAAC,OAAG,SAAC;;;;qBC8ajB,WAlbX;AAAA,CAkW6C,AAlW7C,cAkW6C;CAFS,AAhWtD,gBAgWsD;CAJX,AA5V3C,4BA4V2C;CAFH,AA1VxC,yBA0VwC;CAFY,AAxVpD,4BAwVoD;CAFf,AAtVrC,qBAsVqC;CAFA,AApVrC,qBAoVqC;CAFC,AAlVtC,uBAkVsC;CAJZ,AA9U1B,UA8U0B;CAFA,AA5U1B,UA4U0B;CAFD,AA1UzB,SA0UyB;CAFA,AAxUzB,SAwUyB;CAFA,AAtUzB,SAsUyB;CAFA,AApUzB,SAoUyB;CAJM,AAhU/B,cAgU+B;CAlBmB,AA9SlD,iBA8SkD;CAX1B,AAnSxB,eAmSwB;CAZD,AAvRvB,cAuRuB;CAVqB,AA7Q5C,eA6Q4C;CATA,AApQ5C,eAoQ4C;CAVF,AA1P1C,aA0P0C;CAVA,AAhP1C,aAgP0C;CAVC,AAtO3C,cAsO2C;CAVA,AA5N3C,cA4N2C;CAVE,AAlN7C,gBAkN6C;CATH,AAzM1C,aAyM0C;CATJ,AAhMtC,SAgMsC;CATA,AAvLtC,SAuLsC;CATI,AA9K1C,aA8K0C;CATG,AArK7C,iBAqK6C;CATF,AA5J3C,eA4J2C;CANK,AAtJhD,gBAsJgD;CARS,AA9IzD,oBA8IyD;CAVV,AApI/C,kBAoI+C;CAhBM,AApHrD,yBAoHqD;CAdH,AAtGlD,sBAsGkD;CAdC,AAxFnD,uBAwFmD;CAdE,AA1ErD,yBA0EqD;CAdN,AA5D/C,mBA4D+C;CAHZ,AAzDnC,oBAyDmC;CAHO,AAtD1C,2BAsD0C;CAHL,AAnDrC,sBAmDqC;CATF,AA1CnC,oBA0CmC;CALL,AArC9B,uBAqC8B;CALA,AAhC9B,uBAgC8B;CAJG,AA5BjC,kBA4BiC;CAVN,AAlB3B,YAkB2B;CAHA,AAf3B,YAe2B;CAmaD;CAElB,6BAA6B;CAC7B,iCAAiC;CAEnB;CAAd,mBAAc,qBAAqC,KAArC,+DAAqC,KAArC;;;;;;kBAnbX,evD0NyB;AAAA,EAER,UAAU;EACV,EAAI,2BAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,6BAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,2BAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,6BAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,2BAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;iBuDpPjC,2BvDoRyB;AAAA,EuDpRzB;EvDsRiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,0BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,sCAA8B,MAC9B;AAAA,wCAA6B;;GAEjC,uCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,sCAA8B,MAC9B;AAAA,wCAA6B;;GAEjC,uCAAgC;;EAIpC,EAAI,2BAAmB,MACnB;AAAA,4BAAkB;;EAEtB,4BAAuB;;mBuD/SxC,2BvDyUyB;AAAA,EuDzUzB;EvD2UiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,0BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,wCAAgC,MAChC;AAAA,0CAA+B;;GAEnC,yCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,wCAAgC,MAChC;AAAA,0CAA+B;;GAEnC,yCAAkC;;EAItC,EAAI,6BAAqB,MACrB;AAAA,8BAAoB;;EAExB,8BAAyB;;kBuDpW1C,qBvD2XiB;AAAA,IAAM,eAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,2BAAmB,MAAM;AAAA,IACzB,QAAQ,+BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,8BAAuB,MAAO;KAC9B,SAAS,kCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,yCAAkC,MAAO;;;GAGjD,EAAI,6BAAqB,MAAM;AAAA,IAC3B,QAAQ,iCAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,gCAAyB,MAAO;KAChC,SAAS,oCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,2CAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,oCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,sCAA+B;GAC/B,yBAAkB;GAClB,2BAAoB;;;sBuD1ZzC,WvD4awB;AAAA,OAAC,0BAAmB,QAAQ,gCAAyB,IACrD;AAAA,KAAC,6BAAqB,MAAQ;AAAA,6CAA2B;UAAzD;AAAA;;SADA;AAAA;;;iBuD3axB,evDyNyB;AAAA,EAER,UAAU;EACV,EAAI,yBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,2BAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,yBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,2BAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,yBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;euDnPjC,2BvDmRyB;AAAA,EuDnRzB;EvDqRiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,wBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,oCAA8B,MAC9B;AAAA,sCAA6B;;GAEjC,qCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,oCAA8B,MAC9B;AAAA,sCAA6B;;GAEjC,qCAAgC;;EAIpC,EAAI,yBAAmB,MACnB;AAAA,0BAAkB;;EAEtB,0BAAuB;;iBuD9SxC,2BvDwUyB;AAAA,EuDxUzB;EvD0UiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,wBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,sCAAgC,MAChC;AAAA,wCAA+B;;GAEnC,uCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,sCAAgC,MAChC;AAAA,wCAA+B;;GAEnC,uCAAkC;;EAItC,EAAI,2BAAqB,MACrB;AAAA,4BAAoB;;EAExB,4BAAyB;;gBuDnW1C,qBvD0XiB;AAAA,IAAM,eAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,yBAAmB,MAAM;AAAA,IACzB,QAAQ,6BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,4BAAuB,MAAO;KAC9B,SAAS,gCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,uCAAkC,MAAO;;;GAGjD,EAAI,2BAAqB,MAAM;AAAA,IAC3B,QAAQ,+BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,8BAAyB,MAAO;KAChC,SAAS,kCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,yCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,kCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,oCAA+B;GAC/B,uBAAkB;GAClB,yBAAoB;;;oBuDzZzC,WvD2awB;AAAA,OAAC,wBAAmB,QAAQ,8BAAyB,IACrD;AAAA,KAAC,2BAAqB,MAAQ;AAAA,2CAA2B;UAAzD;AAAA;;SADA;AAAA;;;mBuD1axB,evDwNyB;AAAA,EAER,UAAU;EACV,EAAI,2BAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,6BAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,2BAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,6BAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,2BAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;iBuDlPjC,2BvDkRyB;AAAA,EuDlRzB;EvDoRiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,0BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,sCAA8B,MAC9B;AAAA,wCAA6B;;GAEjC,uCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,sCAA8B,MAC9B;AAAA,wCAA6B;;GAEjC,uCAAgC;;EAIpC,EAAI,2BAAmB,MACnB;AAAA,4BAAkB;;EAEtB,4BAAuB;;mBuD7SxC,2BvDuUyB;AAAA,EuDvUzB;EvDyUiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,0BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,wCAAgC,MAChC;AAAA,0CAA+B;;GAEnC,yCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,wCAAgC,MAChC;AAAA,0CAA+B;;GAEnC,yCAAkC;;EAItC,EAAI,6BAAqB,MACrB;AAAA,8BAAoB;;EAExB,8BAAyB;;kBuDlW1C,qBvDyXiB;AAAA,IAAM,eAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,2BAAmB,MAAM;AAAA,IACzB,QAAQ,+BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,8BAAuB,MAAO;KAC9B,SAAS,kCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,yCAAkC,MAAO;;;GAGjD,EAAI,6BAAqB,MAAM;AAAA,IAC3B,QAAQ,iCAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,gCAAyB,MAAO;KAChC,SAAS,oCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,2CAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,oCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,sCAA+B;GAC/B,yBAAkB;GAClB,2BAAoB;;;sBuDxZzC,WvD0awB;AAAA,OAAC,0BAAmB,QAAQ,gCAAyB,IACrD;AAAA,KAAC,6BAAqB,MAAQ;AAAA,6CAA2B;UAAzD;AAAA;;SADA;AAAA;;;kBuDzaxB,evDuNyB;AAAA,EAER,UAAU;EACV,EAAI,0BAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,4BAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,0BAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,4BAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,0BAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;gBuDjPjC,2BvDiRyB;AAAA,EuDjRzB;EvDmRiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,yBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,qCAA8B,MAC9B;AAAA,uCAA6B;;GAEjC,sCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,qCAA8B,MAC9B;AAAA,uCAA6B;;GAEjC,sCAAgC;;EAIpC,EAAI,0BAAmB,MACnB;AAAA,2BAAkB;;EAEtB,2BAAuB;;kBuD5SxC,2BvDsUyB;AAAA,EuDtUzB;EvDwUiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,yBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,uCAAgC,MAChC;AAAA,yCAA+B;;GAEnC,wCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,uCAAgC,MAChC;AAAA,yCAA+B;;GAEnC,wCAAkC;;EAItC,EAAI,4BAAqB,MACrB;AAAA,6BAAoB;;EAExB,6BAAyB;;iBuDjW1C,qBvDwXiB;AAAA,IAAM,eAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,0BAAmB,MAAM;AAAA,IACzB,QAAQ,8BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,6BAAuB,MAAO;KAC9B,SAAS,iCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,wCAAkC,MAAO;;;GAGjD,EAAI,4BAAqB,MAAM;AAAA,IAC3B,QAAQ,gCAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,+BAAyB,MAAO;KAChC,SAAS,mCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,0CAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,mCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,qCAA+B;GAC/B,wBAAkB;GAClB,0BAAoB;;;qBuDvZzC,WvDyawB;AAAA,OAAC,yBAAmB,QAAQ,+BAAyB,IACrD;AAAA,KAAC,4BAAqB,MAAQ;AAAA,4CAA2B;UAAzD;AAAA;;SADA;AAAA;;;auDvaxB,WvDqNyB;AAAA,EAER,UAAU;EACV,EAAI,qBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,uBAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,qBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,uBAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,qBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc;;GAElB,YAAY;;;WuD/OjC,uBvD+QyB;AAAA,EuD/QzB;EvDiRiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,oBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,gCAA8B,MAC9B;AAAA,kCAA6B;;GAEjC,iCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,gCAA8B,MAC9B;AAAA,kCAA6B;;GAEjC,iCAAgC;;EAIpC,EAAI,qBAAmB,MACnB;AAAA,sBAAkB;;EAEtB,sBAAuB;;auD1SxC,uBvDoUyB;AAAA,EuDpUzB;EvDsUiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,oBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,kCAAgC,MAChC;AAAA,oCAA+B;;GAEnC,mCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,kCAAgC,MAChC;AAAA,oCAA+B;;GAEnC,mCAAkC;;EAItC,EAAI,uBAAqB,MACrB;AAAA,wBAAoB;;EAExB,wBAAyB;;YuD/V1C,iBvDsXiB;AAAA,IAAM,WAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,qBAAmB,MAAM;AAAA,IACzB,QAAQ,yBAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,wBAAuB,MAAO;KAC9B,SAAS,4BAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,mCAAkC,MAAO;;;GAGjD,EAAI,uBAAqB,MAAM;AAAA,IAC3B,QAAQ,2BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,0BAAyB,MAAO;KAChC,SAAS,8BAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,qCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,8BAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,gCAA+B;GAC/B,mBAAkB;GAClB,qBAAoB;;;gBuDrZzC,WvDuawB;AAAA,OAAC,oBAAmB,QAAQ,0BAAyB,IACrD;AAAA,KAAC,uBAAqB,MAAQ;AAAA,uCAA2B;UAAzD;AAAA;;SADA;AAAA;;;YuDtaxB,WvDoNyB;AAAA,EAER,UAAU;EACV,EAAI,oBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,sBAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,oBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,sBAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,oBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc;;GAElB,YAAY;;;UuD9OjC,uBvD8QyB;AAAA,EuD9QzB;EvDgRiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,mBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,+BAA8B,MAC9B;AAAA,iCAA6B;;GAEjC,gCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,+BAA8B,MAC9B;AAAA,iCAA6B;;GAEjC,gCAAgC;;EAIpC,EAAI,oBAAmB,MACnB;AAAA,qBAAkB;;EAEtB,qBAAuB;;YuDzSxC,uBvDmUyB;AAAA,EuDnUzB;EvDqUiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,mBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,iCAAgC,MAChC;AAAA,mCAA+B;;GAEnC,kCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,iCAAgC,MAChC;AAAA,mCAA+B;;GAEnC,kCAAkC;;EAItC,EAAI,sBAAqB,MACrB;AAAA,uBAAoB;;EAExB,uBAAyB;;WuD9V1C,iBvDqXiB;AAAA,IAAM,WAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,oBAAmB,MAAM;AAAA,IACzB,QAAQ,wBAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,uBAAuB,MAAO;KAC9B,SAAS,2BAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,kCAAkC,MAAO;;;GAGjD,EAAI,sBAAqB,MAAM;AAAA,IAC3B,QAAQ,0BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,yBAAyB,MAAO;KAChC,SAAS,6BAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,oCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,6BAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,+BAA+B;GAC/B,kBAAkB;GAClB,oBAAoB;;;euDpZzC,WvDsawB;AAAA,OAAC,mBAAmB,QAAQ,yBAAyB,IACrD;AAAA,KAAC,sBAAqB,MAAQ;AAAA,sCAA2B;UAAzD;AAAA;;SADA;AAAA;;;qBuD/YxB,WAAoC;AAAA,SAAO,uBAAkB;;qBAK7D,WAAoC;AAAA,SAAO,uBAAkB;;mBAuB7D,sBAAgD;AAAA,EACnD,mBAAmB;EACnB,EAAI,cACA;AAAA,KAAI,kBAAY,MACZ;AAAA;cAAc;IAAd,WAAc,YAAd;AAAA,KAAK,YAAL,AAAc,IAAd;;KACI,sBAAoB;;;;EAIhC,OAAO;;yBAKJ,4BAA4D;AAAA,EAC/D,yBAAyB;EACzB,EAAI,oBACA;AAAA,KAAI,kBAAY,MACZ;AAAA;cAAc;IAAd,WAAc,YAAd;AAAA,KAAK,YAAL,AAAc,IAAd;;KACI,4BAA0B;;;;EAItC,OAAO;;uBAKJ,0BAAwD;AAAA,EAC3D,uBAAuB;EACvB,EAAI,kBACA;AAAA,KAAI,kBAAY,MACZ;AAAA;cAAc;IAAd,WAAc,YAAd;AAAA,KAAK,YAAL,AAAc,IAAd;;KACI,0BAAwB;;;;EAIpC,OAAO;;sBAKJ,yBAAsD;AAAA,EACzD,sBAAsB;EACtB,EAAI,iBACA;AAAA,KAAI,kBAAY,MACZ;AAAA;cAAc;IAAd,WAAc,YAAd;AAAA,KAAK,YAAL,AAAc,IAAd;;KACI,yBAAuB;;;;EAInC,OAAO;;yBAKJ,4BAA4D;AAAA,EAC/D,yBAAyB;EACzB,EAAI,oBACA;AAAA,KAAI,kBAAY,MACZ;AAAA;cAAc;IAAd,WAAc,YAAd;AAAA,KAAK,YAAL,AAAc,IAAd;;KACI,4BAA0B;;;;EAItC,OAAO;;kBAOJ,qBAAgD;AAAA,EACnD,EAAI,oBAAmB,YAAY;AAAA,UAAO;;EAC1C,kBAAkB;EAClB,iCAAiC;EACjC,OAAO;;oBAMX,uBAAoE;AAAA,EAChE,EAAI,sBAAqB,cAAc;AAAA,UAAO;;EAC9C,oBAAoB;EACpB,mBAAc;EAAd;;;;;MAjFQ;IAiFR;;;EACA,OAAO;;gBAIX,mBACI;AAAA,SAAO,gBAAgB;;eAK3B,kBAAwC;AAAA,EACpC,EAAI,iBAAgB,SAAS;AAAA,UAAO;;EACpC,eAAe;EACf,uBAAkB;EAAlB;;;;;MAnEQ;IAmER;;;EACA,OAAO;;iBAKX,oBAA4C;AAAA,EACxC,EAAI,mBAAkB,WAAW;AAAA,UAAO;;EACxC,iBAAiB;EACjB,sBAAiB;EAAjB;;;;;MA9DQ;IA8DR;;;EACA,OAAO;;aAKX,gBAAsC;AAAA,EAClC,EAAI,eAAc,OAAO;AAAA,UAAO;;EAChC,aAAa;EACb,uBAAkB;EAAlB;;;;;MArFQ;IAqFR;;;EACA,OAAO;;SAKX,YAA8B;AAAA,EAC1B,EAAI,WAAU,GAAG;AAAA,UAAO;;EACxB,SAAS;EACT,mBAAc;EAAd;;;;;MA1HQ;IA0HR;;;EACA,OAAO;;SAKX,YAA8B;AAAA,EAC1B,EAAI,WAAU,GAAG;AAAA,UAAO;;EACxB,SAAS;EACT,mBAAc;EAAd;;;;;MAnIQ;IAmIR;;;EACA,OAAO;;aAKX,gBAAsC;AAAA,EAClC,EAAI,eAAc,OAAO;AAAA,UAAO;;EAChC,aAAa;EACb,iCAAiC;EACjC,OAAO;;gBAKX,mBAA4C;AAAA,EACxC,EAAI,kBAAiB,UAAU;AAAA,UAAO;;EACtC,gBAAgB;EAChB,mBAAc;EAAd;;;;;MArJQ;IAqJR;;;EACA,2BAAsB;EACtB,OAAO;;cAKX,iBAAwC;AAAA,EACpC,EAAI,gBAAe,QAAQ;AAAA,UAAO;;EAClC,cAAc;EACd,mBAAc;EAAd;;;;;MA/JQ;IA+JR;;;EACA,2BAAsB;EACtB,OAAO;;cAKX,iBAAwC;AAAA,EACpC,EAAI,gBAAe,QAAQ;AAAA,UAAO;;EAClC,cAAc;EACd,mBAAc;EAAd;;;;;MAzKQ;IAyKR;;;EACA,2BAAsB;EACtB,OAAO;;aAKX,gBAAsC;AAAA,EAClC,EAAI,eAAc,OAAO;AAAA,UAAO;;EAChC,aAAa;EACb,mBAAc;EAAd;;;;;MAnLQ;IAmLR;;;EACA,2BAAsB;EACtB,OAAO;;aAKX,gBAAsC;AAAA,EAClC,EAAI,eAAc,OAAO;AAAA,UAAO;;EAChC,aAAa;EACb,mBAAc;EAAd;;;;;MA7LQ;IA6LR;;;EACA,2BAAsB;EACtB,OAAO;;eAKX,kBAA0C;AAAA,EACtC,EAAI,iBAAgB,SAAS;AAAA,UAAO;;EACpC,eAAe;EACf,mBAAc;EAAd;;;;;MAvMQ;IAuMR;;;EACA,OAAO;;eAKX,kBAA0C;AAAA,EACtC,EAAI,iBAAgB,SAAS;AAAA,UAAO;;EACpC,eAAe;EACf,mBAAc;EAAd;;;;;MAhNQ;IAgNR;;;EACA,OAAO;;aAMX,WACI;AAAA,SAAO;;aAEX,gBAAsC;AAAA,EAClC,EAAI,gBAAU,OAAO;AAAA,UAAO;;EAC5B,cAAS;EACT,OAAO;;cAMX,WACI;AAAA,SAAO;;cAEX,iBAAwC;AAAA,EACpC,EAAI,iBAAW,QAAQ;AAAA,UAAO;;EAC9B,eAAU;EACV,OAAO;;iBAKX,oBAAsD;AAAA,EAClD,EAAI,mBAAkB,WAAW;AAAA,UAAO;;EAExC,EAAI,mBAAkB,MAClB;AAAA,4BAAyB;;EAG7B,iBAAiB;EAEjB,EAAI,mBAAkB,MAClB;AAAA,2BAAwB,KAAM;;EAGlC,OAAO;;QAkDG,uBAA8C;AAAA,EAExD,eAAa;EACb,gBAAc;;UAIJ,0BAAmD;AAAA,EAE7D,iBAAe;EACf,iBAAe;;OAIL,cAAoC;AAAA,EAE9C,WAAS;EACT,WAAS;;SAIC;AAAA;;;EAEV,gBAAc;EACd,gBAAc,UAAU,KAAK,SAAS;;QAI5B,sBAA6C;AAAA,EAEvD,eAAa;EACb,eAAa;;sBAQV,0BAA+D;AAAA,EAElE,EAAI,iBAAgB,WAAW,gBAAgB,SAAS;AAAA;;EAGxD,oBAAe,EAAG,EAAG;EACrB,EAAI,gBAAU,MACV;AAAA,8BAAsB,wBAAU,wBAAU;;EAG9C,YAAY;EACZ,YAAY;EACZ,iBAAe;EACf,iBAAe;EAGf,oBAAoB,EAAG,EAAG;EAC1B,EAAI,gBAAU,MACV;AAAA,8BAAsB,wBAAU,wBAAU;;EAI9C;kBAAU,SAAQ;EAClB;oBAAU,SAAQ;;WAef,WAAmB;AAAA,E3B1SU,EAAI,iBAAW;AAAA;;EACf;E2B2ShC,EAAI,yCAAwC,MACxC;AAAA,4CAAuC;;EAG3C,2CAA+B;EAE/B,EAAI,gBAAU,MAAM;AAAA,sBAAc;;EAClC,EAAI,mBAAa,MAAM;AAAA,sBAAY;;EAEnC;;SAIG,WAEH;AAAA,IAAI,kBAAY,MAAM;AAAA,GAClB;aAAc,UAAU;GAAxB,WAAc,YAAd;AAAA,IAAK,YAAL,AAAc,IAAd;;IACI;;GAEJ,gBAAW;;;sBAOnB,WAEI;AAAA,qBAAc;EAAd;;;;;MAxZQ;IAwZR;;;;iBAIJ,WAAyB;AAAA,EAErB,EAAI,gBAAU,QAAQ,yBAClB;AAAA;;EAGJ;;;;;;;;EAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;yBAIG,WAEH;AAAA,wBAAiB,AAAC,iBAAY,KAAK,eAAU,KAAK,eAAU,KAAK,cAAS,KAAK,cAAS;;mBAIrF,WAA2B;AAAA,EAE9B,EAAI,2BACA;AAAA;;EAGJ,QAAQ;EACR,QAAQ;EAKR,EAAI,sBAAgB;AAAA,GAChB,6BAAc,SAAI,eAAU;GAC5B,6BAAc,SAAI,eAAU;SAE3B;AAAA,GACD;eAAkB,CAAC,eAAU;GAA7B,YAAgC,CAAC,eAAU;GAA3C;GAEA,EAAI,eAAS,KAAK,cAAS,GACvB;AAAA;gBAAa,aAAQ;IAArB,YAAgC,aAAQ;IAAxC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAGJ,EAAI,kBAAY,GAAG;AAAA;gBAAe,gBAAW;IAA1B;;;;;;;;;;;;;GACnB;gBAAkB,eAAU;GAA5B,aAA+B,eAAU;GAAzC;GACA,EAAI,gBAAU,OAAO,eAAU,KAAK;AAAA;YAAc;IAAd,QAAsB;IAAtB;;;;;;;;GACpC;gBACI,SAAI,AAAC,eAAU,IAAI;GADvB,aAEI,SAAI,AAAC,eAAU,IAAI;GAFvB;;EAMJ,EAAI,mBAAa,MAAM;AAAA,GAInB,UAAS,2BAAY,mBAAc,2BAAY;GAC/C,2BAAY,2BAAY,mBAAc,2BAAY;GAClD,2BAAY;GAEZ,UAAS,2BAAY,mBAAc,2BAAY;GAC/C,2BAAY,2BAAY,mBAAc,2BAAY;GAElD,2BAAY;GAEZ,WAAU,4BAAa,mBAAc,4BAAa,mBAAc;GAChE,4BAAa,4BAAa,mBAAc,4BAAa,mBAAc;GACnE,4BAAa;;EAIjB,EAAI,gBAAU,MAIV;AAAA,KAAI,wBAAkB,kBAAa,MAAM;AAAA,IAErC,2BAAY;IACZ,2BAAY;IACZ,2BAAY;IACZ,2BAAY;IAEZ,WAAU,4BAAa,gBAAW,4BAAa,gBAAW;IAC1D,4BAAa,4BAAa,gBAAW,4BAAa,gBAAW;IAC7D,4BAAa;UAGZ;AAAA,IAED,UAAS,2BAAY,gBAAW,2BAAY;IAC5C,2BAAY,2BAAY,gBAAW,2BAAY;IAC/C,2BAAY;IAEZ,UAAS,2BAAY,gBAAW,2BAAY;IAC5C,2BAAY,2BAAY,gBAAW,2BAAY;IAE/C,2BAAY;IAEZ,WAAU,4BAAa,gBAAW,4BAAa,gBAAW;IAC1D,4BAAa,4BAAa,gBAAW,4BAAa,gBAAW;IAC7D,4BAAa;;SAGd;AAAA,GAEH,EAAI,yBAAmB;AAAA;;GAEvB,EAAI,8BAAwB,MAAM;AAAA,IAI9B,SAAQ;IAER,UAAS,2BAAY,OAAM,2BAAY;IACvC,2BAAY,2BAAY,OAAM,2BAAY;IAC1C,2BAAY;IAEZ,UAAS,2BAAY,OAAM,2BAAY;IACvC,2BAAY,2BAAY,OAAM,2BAAY;IAE1C,2BAAY;IAEZ,WAAU,4BAAa,OAAM,4BAAa,OAAM;IAChD,4BAAa,4BAAa,OAAM,4BAAa,OAAM;IACnD,4BAAa;;;EAOrB,SAAI;EACJ,SAAI;EACJ,SAAI;EACJ,SAAI;EACJ,UAAK;EACL,UAAK;EAGL,mBAAc;;QAOX,cAAqC;AAAA,EAExC,EAAI,mBACA;AAAA;;EAGJ;;;;;;;;EAEA;aAAc;EAAd,WAAiB;EAAjB,WAAoB;EAApB,WAAuB;EAAvB,YAA0B;EAA1B,YAA8B;EAA9B;EAEA;UAAe;EAAf;;;;;;;;;;EACA;;;;;;;GFzcI,OEycJ;;;;;;;;;;;EAEa;EAAb,aAAa,AAAmB,IAAnB,WAAsB,IAAtB;EACA;EAAb,aAAa,AAAmB,IAAnB,WAAsB,IAAtB;EACA;EAAb,aAAa,AAAmB,KAAI,KAAvB,WAA0B,KAAI,KAA9B;EACA;EAAb,aAAa,AAAmB,KAAI,KAAvB,WAA0B,KAAI,KAA9B;EAEN,aAAU,KACV,UAAU,oBACV,UAAU,GACV;AAAA,oBAAU;SAHV;AAAA;;;kBAUJ,oBAA4D;AAAA,EAE/D,EAAI,mBACA;AAAA;;EAGJ;;;;;;;;EAEA;aAAc;EAAd,WAAiB;EAAjB,WAAoB;EAApB,WAAuB;EAAvB,YAA0B;EAA1B,YAA8B;EAA9B;EAEA,EAAI,yBAAmB;AAAA;;EACvB,EAAI,8BAAwB,MACxB;AAAA;WAAe;GAAf;;;;;;;;;;;EAEJ;;;;;;;GFxeI,OEweJ;;;;;;;;;;;EAEU;EAAV,UAAU,AAAmB,IAAnB,WAAsB,IAAtB;EACA;EAAV,UAAU,AAAmB,IAAnB,WAAsB,IAAtB;;kBAKP,oBAA4D;AAAA,EAE/D,EAAI,mBACA;AAAA;;EAGJ;;;;;;;;EAEA;aAAc;EAAd,WAAiB;EAAjB,WAAoB;EAApB,WAAuB;EAAvB,YAA0B;EAA1B,YAA8B;EAA9B;EAEA,EAAI,yBAAmB;AAAA;;EACvB,EAAI,8BAAwB,MACxB;AAAA;WAAe;GAAf;;;;;;;;;;;EAGM;EAAV,UAAU,AAAmB,IAAnB,WAAsB,IAAtB;EACA;EAAV,UAAU,AAAmB,IAAnB,WAAsB,IAAtB;;qBAOP,oBAAqD;AAAA,EAExD,EAAI,mBACA;AAAA;;EAGJ;;;;;;;EAEA,cAAgB;EAAhB,cAAmB;EAAnB,cAAsB;EAAtB,cAAyB;EAAzB,eAA4B;EAA5B,eAAgC;EAAhC;EAEA,QAAiB;EAAjB;;;;;;;;;;;qBAMJ,WAA6B;AAAA,EAEzB,EAAI,gBAAU,QAAQ,6BAClB;AAAA;;EAGJ,uBAAkB;EAClB,qBAAgB;EAEhB,EAAI,uBAAiB;AAAA,GAEjB,EAAI,gBAAU,MAAM;AAAA,IAChB,EAAI,EAAC,6BACD;AAAA,4BAAkB;;IAEtB,sBAAiB;;GAGrB,EAAI,uBAAiB,GACjB;AAAA,2BAAkB;;;EAK1B,uBAAkB;;uBAMtB,WAA+B;AAAA,EAE3B,EAAI,gBAAU,QAAQ,+BAClB;AAAA;;EAGJ,4BAAuB;EACvB,EAAI,gBAAU,MACV;AAAA,KAAI,qCAA+B,0BAC/B;AAAA,gCAAuB;;;EAI/B,yBAAoB;;oBAMxB,WAA4B;AAAA,EAExB,EAAI,gBAAU,QAAQ,4BAClB;AAAA;;EAGJ,yBAAoB;EAEpB,EAAI,yBAEA;AAAA,KAAI,gBAAU,MACV;AAAA,MAAI,EAAC,+BACD;AAAA,8BAAoB;;;;EAMhC,sBAAiB;;uBAMrB,WAA+B;AAAA,EAE3B,EAAI,gBAAU,QAAQ,+BAClB;AAAA;;EAGJ,4BAAuB;EACvB,EAAI,8BAAwB,QAAQ,eAAU,QAAQ,oCAA+B,MACjF;AAAA,+BAAuB;;EAG3B,yBAAoB;;kBAMxB,WAEI;AAAA,sBAAe;;wBAYnB,WAEI;AAAA,IAAI,kBAAY,MAAM;AAAA,GAGlB;aAAc;GAAd,WAAc,YAAd;AAAA,IAAK,YAAL,AAAc,IAAd;;IACI,sBAAsB;IACtB;;GAIJ,EAAI,oBAAc,IAAI;AAAA,IAElB,2BAAY;IACZ,2BAAY;IAGZ;eAAc;IAAd,YAAc,aAAd;AAAA,KAAK,aAAL,AAAc,KAAd;;KACI;;IAIJ;eAAc;IAAd,YAAc,aAAd;AAAA,KAAK,aAAL,AAAc,KAAd;;KACI,sBAAqB,mBAAe,kBAAa;;;;;uBAOjE,WAAoC;AAAA,EAEhC,EAAI,4BAAY,oBAAe;AAAA,8BAAY;;EAC3C,EAAI,4BAAY,oBAAe;AAAA,8BAAY;;EAE3C,EAAI,kBAAY,MAEZ;AAAA;aAAc;GAAd,WAAc,YAAd;AAAA,IAAK,YAAL,AAAc,IAAd;;IACI;;;;kBAMZ,iCAAkE;AAAA,EAE9D,EAAI,6BAAa,0BACb;AAAA,wBAAgB,aAAa,MAAM;SAEnC;AAAA,wBAAgB,aAAa,AAAC,CAAC,qBAAgB,4BAAa,CAAC,2BAAY,4BAAc;;EAI3F,EAAI,kBAAY,MAEZ;AAAA;aAAc;GAAd,WAAc,YAAd;AAAA,IAAK,YAAL,AAAc,IAAd;;IACI,qBAAqB,WAAY;;;;OAMtC,iBAAiC;AAAA,EAEpC,iCAAyB;EAEzB,EAAI,kBAAiB,MACjB;AAAA,wBAAqB;;EAGzB,gBAAgB;EAChB,yBAAyB;EAAzB;;;;;MAxxBQ;IAwxBR;;;EACA,qBAAqB;EAArB;;;;;MArzBQ;IAqzBR;;;EACA,2BAA2B;EAA3B;;;;;MAxyBQ;IAwyBR;;;EACA,EAAI,kBAAY,MACZ;AAAA,mBAAW;;EAEf,mBAAc;;UAIX,iBAAoC;AAAA,EAEvC,iCAAyB;EAEzB,EAAI,kBAAY,MAAM;AAAA;;EAEtB,qBAAgB,sBAAiB,QAAS;EAC1C,gBAAgB;EAChB,yBAAyB;EAAzB;;;;;MA1yBQ;IA0yBR;;;EACA,qBAAqB;EAArB;;;;;MAv0BQ;IAu0BR;;;EACA,2BAA2B;EAA3B;;;;;MA1zBQ;IA0zBR;;;;YAQG;AAAA;;;EAEH,aAAa;EAEb,KAAO,WAAU,MAAjB;AAAA,GAEI,EAAI,WAAU,MAAM;AAAA,WAAO;;GAC3B,SAAS;GAET,EAAI,EAAC,WAAW;AAAA;;;EAGpB,OAAO;;iBASX,WAEI;AAAA,IAAI,kBAAY,MAAM;AAAA,GAClB,cAAS;GACT,eAAU;SAET;AAAA,GACD,WAAW;GACX,WAAW;GACX,WAAW;GACX,WAAW;GACX,YAAY;GACZ;aAAc;GAAd,WAAc,YAAd;AAAA,IAAK,YAAL,AAAc,IAAd;;IAEI,EAAI,gBAKA;AAAA,OAAI,eAAc,MAAM;AAAA,MACpB,WAAgB;MAChB,eAAe;MACf,QAAQ;MACR,UAAU;MACV,QAAQ;MACR,QAAQ;MAER,KAAO,KAAI,KAAX;AAAA,OACI,IAAI,SAAS;OACb,IAAI,SAAS,IAAI;OAEjB,qBAAqB,EAAG,EAAG;OAC3B,EAAI,WAAU,MAAM;AAAA,eAAO;;OAC3B,EAAI,WAAU,MAAM;AAAA,eAAO;;OAC3B,EAAI,WAAU,MAAM;AAAA,eAAO;;OAC3B,EAAI,WAAU,MAAM;AAAA,eAAO;;OAE3B,KAAK;;YAIR;AAAA,MACD,qBAAqB,EAAG,EAAG;MAC3B,EAAI,WAAU,MAAM;AAAA,cAAO;;MAC3B,EAAI,WAAU,MAAM;AAAA,cAAO;;MAC3B,EAAI,WAAU,MAAM;AAAA,cAAO;;MAC3B,EAAI,WAAU,MAAM;AAAA,cAAO;;MAE3B,qBAAqB,kBAAa,EAAG;MACrC,EAAI,WAAU,MAAM;AAAA,cAAO;;MAC3B,EAAI,WAAU,MAAM;AAAA,cAAO;;MAC3B,EAAI,WAAU,MAAM;AAAA,cAAO;;MAC3B,EAAI,WAAU,MAAM;AAAA,cAAO;;MAE3B,qBAAqB,EAAG,mBAAc;MACtC,EAAI,WAAU,MAAM;AAAA,cAAO;;MAC3B,EAAI,WAAU,MAAM;AAAA,cAAO;;MAC3B,EAAI,WAAU,MAAM;AAAA,cAAO;;MAC3B,EAAI,WAAU,MAAM;AAAA,cAAO;;MAE3B,qBAAqB,kBAAa,mBAAc;MAChD,EAAI,WAAU,MAAM;AAAA,cAAO;;MAC3B,EAAI,WAAU,MAAM;AAAA,cAAO;;MAC3B,EAAI,WAAU,MAAM;AAAA,cAAO;;MAC3B,EAAI,WAAU,MAAM;AAAA,cAAO;;;;;GAMvC,oBAAe,EAAG,EAAG;GACrB,YAAY;GACZ,YAAY;GAEZ,oBAAe,KAAM,KAAM;GAC3B,OAAO;GACP,OAAO;GAEP,oBAAe,KAAM,KAAM;GAC3B,OAAO;GACP,OAAO;GAEP,cAAS,OAAO;GAChB,eAAU,OAAO;GAEjB,iBAAU,eAAU,IAAI,CAAC,OAAO,cAAS;GACzC,iBAAU,gBAAW,IAAI,CAAC,OAAO,eAAU;GAG3C,oBAAe,MAAO,MAAO;GAC7B,WAAS,UAAU,cAAS;GAC5B,WAAS,UAAU,eAAU;GAE7B,mBAAc;GAAd;;;;;OAl8BI;KAk8BJ;;;;;;;;uBC39BD,kBAnCX;AAAA,CA8bgF,AA9bhF,0BA8bgF;CAnbhC,AAXhD,oBAWgD;CAFQ,AATxD,oBASwD;CA4BhD;CAEA,eAAe;CACf,gBAAW;CACX,aAAQ;;;;;;YA5BL,WxD4MyB;AAAA,EAER,UAAU;EACV,EAAI,qBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,uBAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,qBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,uBAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,qBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc;;GAElB,YAAY;;;WwDtOjC,uBxDsQyB;AAAA,EwDtQzB;ExDwQiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,oBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,gCAA8B,MAC9B;AAAA,kCAA6B;;GAEjC,iCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,gCAA8B,MAC9B;AAAA,kCAA6B;;GAEjC,iCAAgC;;EAIpC,EAAI,qBAAmB,MACnB;AAAA,sBAAkB;;EAEtB,sBAAuB;;awDjSxC,uBxD2TyB;AAAA,EwD3TzB;ExD6TiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,oBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,kCAAgC,MAChC;AAAA,oCAA+B;;GAEnC,mCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,kCAAgC,MAChC;AAAA,oCAA+B;;GAEnC,mCAAkC;;EAItC,EAAI,uBAAqB,MACrB;AAAA,wBAAoB;;EAExB,wBAAyB;;YwDtV1C,iBxD6WiB;AAAA,IAAM,WAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,qBAAmB,MAAM;AAAA,IACzB,QAAQ,yBAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,wBAAuB,MAAO;KAC9B,SAAS,4BAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,mCAAkC,MAAO;;;GAGjD,EAAI,uBAAqB,MAAM;AAAA,IAC3B,QAAQ,2BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,0BAAyB,MAAO;KAChC,SAAS,8BAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,qCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,8BAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,gCAA+B;GAC/B,mBAAkB;GAClB,qBAAoB;;;gBwD5YzC,WxD8ZwB;AAAA,OAAC,oBAAmB,QAAQ,0BAAyB,IACrD;AAAA,KAAC,uBAAqB,MAAQ;AAAA,uCAA2B;UAAzD;AAAA;;SADA;AAAA;;;oBwD5X/B,uBAAkE;AAAA,EAAlE;EAEI;EAEA,oBAAoB;EACpB,cAAc;EAEd,EAAI,iBAAgB,MAAM;AAAA,GAEtB,eAAQ;GACR,gBAAS;GAET,EAAI,uBAAsB,MAEtB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,aAAQ;KACR,UAAY;KAAZ;8BAAqB;YAArB;AAAA,uBAAqB;;;;;EAOjC,EAAI,iBAAgB,QAAQ,qCAAiB,aAAe,UAAS;AAAA,GAEjE,eAAe;GACf;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,aAAL,AAAe,KAAf;;IACS,WAAe;IAApB,EAAI,EAAC,gGACD;AAAA,mBAAc;;;GAGtB;eAAW,iBAAX;AAAA,IAAK,SAAL,AAAW,SAAX;;IACI,gBAAW;;;EAKnB,EAAI,iBAAgB,MAAgC;AAAA,GAChD;GACgB;GAAhB,gBAAgB,eAAoB,qDAApB,yBAAoB,oDAApB,QAAoB;GACpC,uBACI,oBACA,wBACA,gBAAgB;AAAA,IACZ,EAAI,mBAAW;AAAA;;IACf;IAEA,iBAAU,OAAM,WACZ;AAAA,mCAA0B;;IAG9B,EAAI,wBAAgB,GAAG;AAAA;;;;EAKnC;EACA,EAAI,sBAAgB,GAAG;AAAA;;EAEvB,OAAO;;WAMJ,eAA2C;AAAA,EAA3C;EAEH,eAAe,qBAAgB;EAC/B,wBAAwB;EAGxB,EAAI,aAAY,MAAM;AAAA,GAClB,oBAAoB,qBAAO,SAAU;GACrC,EAAI,gBAAe,kBAAkB,AAAc,YAAd,+BAAc,YAAY;AAAA,IAC3D,gBAAW;IACX,WAAW;;SAIf;AAAA,mBAAW;;EAGf,kBAAkB,kBAAkB;EACpC,eAAsB,YAAY,OAAO,WAAW;EACpD,iBAAiB,eAAgB;EACjC,EAAI,aAAY,MAAM;AAAA,GAClB,cAAc;GACd,EAAI,aAAY;AAAA,IACZ,iBAAiC,4BACrB,oBACK;IAEjB,aAAa;;GAEjB,WAAW,AAAK,oBAAoB,YAAa;;EAErD,cAAc;EAEd,EAAI,aACA;AAAA,8BAAK;GAAL,uBAA8C,GAA9C;AAAA,uBAA8C;IAA9C;;;EAQJ,EAAI,6BAAsB,QAAQ,aAAa,MAAM;AAAA,8BAAqB;;EAG1E,EAAI,cAAa,QAAQ,uBAAiB,MACtC;AAAA;aAAY,eAAe;GAA3B,WAAY,YAAZ;AAAA,IAAK,UAAL,AAAY,IAAZ;;IACI,AAAiB,oBAAe,OAAK,cAAc,UAAW;;;EAKtE,EAAI,eAAc,MAAM;AAAA,GACpB,mBAAmB,eAAe;GAIlC,uBAAuB,aAAc,cAAiC;AAAA,IAElE,SAAS;IACT,SAAS;IAET,EAAI,MAAM,cAAa;AAAA;WAClB,EAAI,MAAM,cAAa;AAAA;;IAE5B,OAAO,KAAK;;GAIhB;eAAc,qBAAd;AAAA,IAAK,YAAL,AAAc,aAAd;;IACI,gBAAgB,yBAAiB,YAAa;IAC9C,YAAoB,cAAc,WAAY;IAC9C;IAAgB,gBAAa,MAAO;AAAA;uBAAmB,cAAnB,MAApC;AAAA,kBAAoC,mBAAmB;YAAvD;AAAA,kBAAoC,SAAmB;;WAAvD;AAAA,iBAAoE;;IACpE,EAAI,cAAa,MACG;AAAA,mBA4Cd;KA3CE;KACA,uBACI,sBACA,MACA;AAAA,8BAAwB;AAAA,OAEpB;OACA,EAAI,mBAAW;AAAA;;OAEf,EAAI,EAAC,oBAED;AAAA,UAAI,eAAc,aAAU,gBAAe;AAAA,SACvC,eAAwB,AAAK;SAC7B;SACyB;AAAA,4BAAW;AAAA,WAChC;WACA,EAAI,mBAAW;AAAA;;WACf,EAAI,wBAAgB,GAAG;AAAA;;;;SAH3B,mBAAmB,OAAM;SAKzB,0BAAwB;eAEvB,EAAI,cAAU,cACf;AAAA,0DAAqB,cAArB,8DAAqB,aAArB;AAAA,mBAAqB,aAAO;gBAA5B;AAAA,uCAAqB,UAAO;;eAQ5B;AAAA,SAAgB;AAAA,4BACZ;AAAA,4DAAqB,cAArB,8DAAqB,aAArB;AAAA,qBAAqB,aAAO;kBAA5B;AAAA,yCAAqB,UAAO;;;YADhB;SAAhB,iBAAU,OAAM;;;OAUxB,EAAI,wBAAgB,GAAG;AAAA;;;QApC3B;WAyCP;AAAA,KACI;KAAL,EAAI,EAAC,gBAAkB,cAAlB,6BAAkB,aAAlB,wBAAkB,aAAY;AAAA,MAC/B,mBAAmB,iBAAiB;MACpC,EAAI,iBAAgB,MAChB;AAAA;kBAAa,AAAuB;OAApC,aAAa,aAAb;AAAA,QAAK,WAAL,AAAa,KAAb;;QACI,EAAI,uBAAsB,qBAAqB;AAAA,SAC3C,QAAQ,gBAAgB,aAAc;SACtC;;;;;KAKhB,iDAAqB,UAArB,8DAAqB,SAArB;AAAA,eAAqB,SAAO;YAA5B;AAAA,mCAAqB,MAAO;;;;;EAMxC,EAAI,aAAY,MAAM;AAAA,GAGlB,EAAI,0BAAiB,YAAc,aAAa,kBAC5C;AAAA,iBAA+B;IAA/B,iDAAsB,aAAtB,8DAAsB,YAAtB;AAAA,cAAsB,YAAtB;;kCAAsB,SAAtB;;;GAIJ,mBAAc;;EAGlB,EAAI,sBAAO,SAAU,mBAAW,CAAC,mBAC7B;AAAA,YAAI,AAAK;;EAQb,OAAO;;mBAIJ,iBAA+C;AAAA,EAElD;YAAe;EAAf,WAAe,YAAf;AAAA,GAAK,aAAL,AAAe,IAAf;;GACI,EAAI,cAAa,QAEb;AAAA,WAAO;;;EAIf,OAAO;;yBAIJ,eAAmD;AAAA,EAEtD;YAAe;EAAf,WAAe,YAAf;AAAA,GAAK,aAAL,AAAe,IAAf;;GACI,EAAI,2BAAoB,MAEpB;AAAA,WAAO;;;EAIf,OAAO;;WAIJ,iBAA6C;AAAA,EAEhD;YAAa;EAAb,WAAa,YAAb;AAAA,GAAK,WAAL,AAAa,IAAb;;GACI,EAAI,YAAW,QAEX;AAAA,WAAO;;;EAIf,OAAO;;iBAIJ,eAAiD;AAAA,EAEpD;YAAa;EAAb,WAAa,YAAb;AAAA,GAAK,WAAL,AAAa,IAAb;;GACI,EAAI,cAAa,MAEb;AAAA,WAAO;;;EAIf,OAAO;;cAIJ,iBAAwC;AAAA,EAE3C;YAAe;EAAf,WAAe,YAAf;AAAA,GAAK,aAAL,AAAe,IAAf;;GACI,EAAI,cAAa,QAAQ;AAAA,IAErB,iCAAgB;IAChB;IAEA;;;EAIR;aAAa;EAAb,YAAa,aAAb;AAAA,GAAK,WAAL,AAAa,KAAb;;GACI,EAAI,YAAW,QAAQ;AAAA,IAEnB,8BAAa;IAEb;;;;kBAML,WAA+B;AAAA,EAElC;YAAe,UAAU;EAAzB,WAAe,YAAf;AAAA,GAAK,aAAL,AAAe,IAAf;;GAEI,iCAAgB;GAChB;;EAIJ;aAAa,UAAU;EAAvB,YAAa,aAAb;AAAA,GAAK,WAAL,AAAa,KAAb;;GAEI,8BAAa;;;WAMrB,WAAmB;AAAA,E5BlOiB,EAAI,iBAAW;AAAA;;EACf;E4BmOhC;;0BA+EJ,6BAAkH;AAAA,EAC9G,EAAI,4BAA2B,oBAAoB;AAAA,UAAO;;EAG1D,EAAI,4BAA2B,MAC3B;AAAA,GAAa;;IAAb,YAAa;IACT,EAAI,uBAAsB,QAAQ,CAAC,gBAA0B,UAA1B,yCAA0B,SAA1B,oCAA0B,SACzD;AAAA,0BAAgB;;;;EAM5B,EAAI,uBAAsB,MACtB;AAAA,GAAa;;IAAb,YAAa;IACT,mBAAmB,eAAuB,UAAvB,sCAAuB,SAAvB,qBAAuB;IAC1C,EAAI,4BAA2B,MAAM;AAAA,KAClB;KAAf,eAAe,eAA4B,UAA5B,yBAA4B,SAA5B,QAA4B;KAC3C,EAAI,aAAY,MACZ;AAAA,QAAI,aAAY,cAAc;AAAA,OAC1B,qBAAgB;OAChB,eAAU,MAAM;;YAGpB;AAAA,qBAAU,MAAM;;WAGpB;AAAA,oBAAU,MAAM;;;;EAM5B,0BAA0B;EAE1B,OAAO;;;;;8BC3ef;AAAA;;;;;;;;yBCWoB,uBAVpB;AAAA,CAMiC,AANjC,eAMiC;CAFF,AAJ/B,cAI+B;CAQvB,wBAAO,QAAQ,KAAM;CACrB,qCAA8B;;;;;;OAIlB,WAAgB;AAAA,EAAhB;EAEZ,aAAS;EAAT;;;;;EAEA,EAAI,cAAQ,MAAM;AAAA,GACd,+BAAS,gDAAT;GACA,cAAS;GAAT;;;;;GACA,kBAAa;GACb;;EAGJ,2BAAK,gBAAY,UAAjB;EACA,oCAAwB,UAAM,IAC3B,gBAEC;AAAA,KAAI,UAAS,MAAM;AAAA,IAEf,kBAAkB;IAClB,iBAAe,oBAAY,MAAO;IAClC,oBAAkB,AAAC,aAAY;IAI/B,uBAAqB;IAErB,EAAI,gBAAe,MAAM;AAAA,KAErB;eAAe;KAAf,WAAe,YAAf;AAAA,MAAK,aAAL,AAAe,IAAf;;MACI,EAAI,sBAAO,OAAQ,eAAO;AAAA,OACtB,WAAgB,AAAK;OACrB,EAAI,iBAAgB,aAAa;AAAA,QAI7B,aAAa;QACb,aAAa;QACb,iBAAiB;QACjB,kBAAkB;QAElB,cAAe;QAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAIA,cAAc;QACd,cAAc;QACd,sBAAkB,YAAlB;AAAA,2BAAkB;SAAlB,GAAkB,cAAlB;yBAAkB;;;QAClB,uBAAmB,aAAnB;AAAA,4BAAmB;SAAnB,GAAmB,eAAnB;0BAAmB;;;;aAGtB,EAAI,sBAAO,OAAQ,eAAO;AAAA,OAC3B,WAAgB,AAAK;OACrB,EAAI,iBAAgB,aAChB;AAAA,uBAAe;QAAf;;;;;;;;;;;;;;;;;;KAOZ,oBAAoB;KAEpB;;IAGJ,cAAS;IAAT;;;;;IACA,oBAAa;IACb,EAAI,qCACA;AAAA;;UAGH;AAAA,IACD,cAAS;IAAT;;;;;IACA,6BAAO,qCAAiC,YAAxC;IACA,oBAAa;;;;4BAOhB,iCAEL;AAAA,IAAI,sBAAU,2BAIV;AAAA;;;wBAKR,WAAqC;AAAA,EAEjC,eAAe;EACf;EAEA,EAAI,aAAY,WAAM;AAAA,GAClB,2BAAK,qBAAiB,WAAQ,SAAK,YAAI,IAAvC;GACA;;;WAKR,WAAwB;AAAA,E9B4BY,EAAI,iBAAW;AAAA;;EACf;E8B3BhC,EAAI,iBAAW,MAAM;AAAA,GACjB;GACA,eAAU;;;;;6BC5HtB;AAAA;;;;;;WAQI,WAEI;AAAA,SAAO,KAAK,iBACL,YACA;;;;2BCLH,mBAEJ;AAAA,iBAAgB;;;;;kBAQb,WACH;AAAA,SAAO;;mBAEJ,sBACH;AAAA,EAAO;;kBAAuB,aAAvB;AAAA;;iCAAuB;GAAvB,4BAAuB,YAAvB;GAAuB;;;oBAO3B,WACH;AAAA,SAAO;;oBAEJ,uBACH;AAAA,EAAO;;kBAAwB,cAAxB;AAAA;;kCAAwB;GAAxB,6BAAwB,aAAxB;GAAwB;;;qBAQ5B,WACH;AAAA,SAAO;;qBAEJ,wBACH;AAAA,EAAO;;kBAAyB,eAAzB;AAAA;;mCAAyB;GAAzB,8BAAyB,cAAzB;GAAyB;;;kBAK7B,WACH;AAAA,SAAO;;kBAEJ,qBACH;AAAA,EAAO;;kBAAsB,YAAtB;AAAA;;gCAAsB;GAAtB,2BAAsB,WAAtB;GAAsB;;;eAK1B,WACH;AAAA,SAAO;;eAEJ,kBACH;AAAA,EAAO;;kBAAmB,SAAnB;AAAA;;6BAAmB;GAAnB,wBAAmB,QAAnB;GAAmB;;;aAMvB,WACH;AAAA,SAAO;;aAEJ,gBACH;AAAA,SAAuB,sBAAiB;;oBAKrC,WACH;AAAA,SAAO;;oBAEJ,uBACH;AAAA,SAAuB,6BAAwB;;iBAK5C,WACH;AAAA,SAAO;;iBAEJ,oBACH;AAAA,SAAuB,0BAAqB;;kBAKzC,WACH;AAAA,SAAO;;kBAEJ,qBACH;AAAA,SAAuB,2BAAsB;;eAK1C,WACH;AAAA,SAAO;;eAEJ,kBACH;AAAA,SAAuB,wBAAmB;;;;;kBC5GvC,2BAAwC;AAAA,CAE3C,eAAe;CACf,gBAAgB;;;;;kBASb,WACH;AAAA,SAAO,sBAAa;;oBAQjB,WACH;AAAA,SAAO,uBAAc;;YAGzB,WAEI;AAAA,SAAQ,SAAK,eAAO,MAAE,sCAAW,QAAI,gBAAQ,MAAE,wCAAY;;;;;;;;+BCtB1C,mBAEjB;AAAA,QAAO,AAAC,WAAW;;6BAOT,kBAAuC;AAAA,CAIjD,EAAI,EAAC,UAAU,eAAkB,GAC7B;AAAA,SAAO,UAAS;;CAKpB,MAAO;MAGH;EAA4B,OAAO;MACnC;EAA4B,OAAO;MAHnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MAGnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;MACnC;EAA4B,OAAO;;CAiCvC,OAAO;;wBAKG,kBAAsC;AAAA,CAKhD,EAAI,EAAC,UAAU,eAAkB,GAC7B;AAAA,SAAO,uBAAc,UAAS;;CAGlC,MAAO;MAIH;EAAwB,OAAO,uBAAc;MAC7C;EAAwB,OAAO,uBAAc;MAH7C;EAAwB,OAAO,uBAAc;MAC7C;EAAwB,OAAO,uBAAc;MAG7C;EAAwB,OAAO,uBAAc;MAG7C;EAAwB,OAAO,uBAAc;MAC7C;EAAwB,OAAO,uBAAc;MAC7C;EAAwB,OAAO,uBAAc;MAC7C;EAAwB,OAAO,uBAAc;MAC7C;EAAwB,OAAO,uBAAc;MAC7C;EAAwB,OAAO,uBAAc;MAC7C;EAAwB,OAAO,uBAAc;MAC7C;EAAwB,OAAO,uBAAc;MAC7C;EAAwB,OAAO,uBAAc;MAC7C;EAAwB,OAAO,uBAAc;MAC7C;EAAwB,OAAO,uBAAc;MAC7C;EAAwB,OAAO,uBAAc;MAC7C;EAAwB,OAAO,uBAAc;MAC7C;EAAwB,OAAO,uBAAc;MAC7C;EAAwB,OAAO,uBAAc;MAC7C;EAAwB,OAAO,uBAAc;MAC7C;EAAwB,OAAO,uBAAc;MAC7C;EAAwB,OAAO,uBAAc;MAC7C;EAAwB,OAAO,uBAAc;MAC7C;EAAwB,OAAO,uBAAc;MAC7C;EAAwB,OAAO,uBAAc;MAC7C;EAAwB,OAAO,uBAAc;MAC7C;EAAwB,OAAO,uBAAc;MAC7C;EAAwB,OAAO,uBAAc;MAC7C;EAAwB,OAAO,uBAAc;MAC7C;EAAwB,OAAO,uBAAc;MA3B7C;EAAwB,OAAO,uBAAc;;EA+BzC,cAAc;EACV,mCAAgB;EAEpB,OAAO;;;qBC7JnB,WAAe;AAAA;;;;MAIR,oBAEH;AAAA,iBAAe,AAAC,WAAU,kBAAO;;WAI9B,oBAEH;AAAA,iBAAe,AAAC,eAAc,kBAAO;;WAIlC,oBAGK;AAAA,eAAa;;SAOlB,oBAGK;AAAA,gBAAc;;;;mBCzBnB,WARX;AAAA,CAqEkC,AArElC,WAqEkC;CAxBY,AA7C9C,eA6C8C;CALJ,AAxC1C,cAwC0C;CAHN,AArCpC,eAqCoC;CAHG,AAlCvC,gBAkCuC;CA9BQ,AAJ/C,oBAI+C;CAMvC;CAEA,YAAO;;;;;;YAQJ,WAA2B;AAAA,EAC9B,EAAI,gBAAU,QAAQ,sBAAiB,GAAG;AAAA,UAAO;;EAC1C,wBAAO;EAAP;;;;ExCkEA,SwClEA;ExCkEA,SwClEA;ExCkEA,SwClEA;ExCkEA,SwClEA;ExCkEA,SwClEA;ExCkEA,SwClEA;;;aAEJ,gBAAsC;AAAA,EACzC,EAAI,gBAAU,MAAM;AAAA,iBAAS;;EAC7B,EAAI,uBAAiB,GAAG;AAAA,GAAY;gBAAe,QAAf;GzCRpC,SyCQoC;GzCRpC,SyCQoC;GzCPpC,QyCOoC;GAAZ,iBAAY;SAC/B;AAAA,GAAY;iBAAe,QAAf;GzCTjB,UyCSiB;GzCTjB,UyCSiB;GzCRjB,QyCQiB;GAAZ,YAAO,KAAK;;EACjB,OAAO;;eAkBJ,kBAA8C;AAAA,EACjD,EAAI,iBAAgB,SAAS;AAAA,UAAO;;EAGpC,EAAI,iBAAgB,MAAM;AAAA,GACtB,wBAAwB;GACxB,EAAI,uBAAsB,MAAM;AAAA;;;EAGpC,eAAe;EAGf,EAAI,YAAW,MAAM;AAAA,GAEjB,kBAAkB,KAAM;GACxB,EAAI,kBAAiB,MAAM;AAAA;;;EAG/B,OAAO;;oBASX,WAGI;AAAA,mBAAe;;;;;qBC3DZ,WAAe;AAAA;;;;;;UAIf,WAAmB;AAAA,ErCgIU,EAAI,iBAAW;AAAA;;EACf;EqC/HhC,EAAI,eAAS,MAAM;AAAA;;;YAMvB,WAEI;AAAA,IAAI,YAAM,MAAM;AAAA,GACZ,WAAW;GACX,EAAI,6BAAiB,YAAW;AAAA,WAAO,wBAAY,EAAZ;;GACvC,OAAQ,YAAQ,OAAI,MAAE,aAAK,MAAE,cAAM;SAEnC;AAAA,UAAQ,YAAQ,aAAK,MAAE,cAAM;;;;;mBCkD9B,WAtFX;AAAA,CAyEgD,AAzEhD,mBAyEgD;CAXD,AA9D/C,kBA8D+C;CAFjB,AA5D9B,cA4D8B;CAFA,AA1D9B,cA0D8B;CATwB,AAjDtD,mBAiDsD;CAlCR,AAf9C,eAe8C;CAHF,AAZ5C,mBAY4C;CANL,AANvC,aAMuC;CAkF/B;CAEA,YAAO;;;;;;cA1EJ,kBAA8C;AAAA,EAEjD,EAAI,iBAAgB,SAAS;AAAA,UAAO;;EAGpC,EAAI,iBAAgB,MAAM;AAAA,GACtB,wBAAwB;GACxB,EAAI,uBAAsB,MAAM;AAAA;;;EAGpC,eAAe;EAGf,EAAI,YAAW,MAAM;AAAA,GACjB,cAAS;GACT,cAAS;GACT,sBAAa,IAAb;AAAA,sBAAa;;GACb,uBAAc,IAAd;AAAA,uBAAc;;SAEb;AAAA,GACD,cAAS;GACT,cAAS;GACT,iBAAa;GAAb;;;;;;GACA,kBAAc;GAAd;;;;;;GAGA,kBAAkB,KAAM;GACxB,EAAI,kBAAiB,MAAM;AAAA;;;EAG/B,OAAO;;mBAIJ,sBAA8D;AAAA,EACjE,EAAI,qBAAoB,aAAa;AAAA,UAAO;;EAE5C,mBAAmB;EACnB,mBAAc;EAAd;;;;;MXeQ;IWfR;;;EACA,OAAO;;kBAQJ,qBAAgD;AAAA,EACnD,EAAI,oBAAmB,YAAY;AAAA,UAAO;;EAC1C,kBAAkB;EAGlB,EAAI,eAAc,IAAI;AAAA,kBAAQ;;EAE9B,OAAO;;mBAIJ,sBAAkD;AAAA,EACrD,EAAI,qBAAoB,aAAa;AAAA,UAAO;;EAC5C,mBAAmB;EAGnB,EAAI,gBAAe,IAAI;AAAA,mBAAS;;EAEhC,OAAO;;SAeG,+CAAqF;AAAA,EAE/F,cAAc;EACd,cAAc;EACd,sBAAkB,YAAlB;AAAA,qBAAkB;GAAlB,GAAkB,cAAlB;mBAAkB;;;EAClB,uBAAmB,aAAnB;AAAA,sBAAmB;GAAnB,GAAmB,eAAnB;oBAAmB;;;;iBAMd,WAAyB;AAAA,EAE9B,EAAI,gBAAU,QAAQ,yBAClB;AAAA;;EAGJ;;;;;;;;EAEA,EAAI,iBAAW,MACX;AAAA,KAAI,qBAAe,IAAuB;AAAA,IACtC;gBAAe,KAAK;IAApB;;;;;;;;;;;;IACA,2BAAc;;;EAItB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oBAMJ,WAGI;AAAA,mBAAe;;;;;sBC/FZ,8BA9BX;AAAA,CA8BW;;;CAvBgB,AAP3B,aAO2B;CAuB2C;CAE9D,mBAAmB;CACnB,iBAAe;;;;;;cAjBnB,kBAA0C;AAAA,EACtC,EAAI,iBAAgB,SAAS;AAAA,UAAO;;EACpC,eAAe;EACP;EAAR,aAAQ,AAAiC,yBAAe;EAC/C;EAAT,cAAS,AAAkC,0BAAe;EAC1D,OAAO;;WAgBJ,WAAmB;AAAA,EvC0GU,EAAI,iBAAW;AAAA;;EACf;EuCzGhC,EAAI,eAAS,MAAM;AAAA;;EAEnB,4CAAgC;EAChC,mBAAc;;YAMlB,WAEI;AAAA,IAAI,YAAM,MAAM;AAAA,GACZ,WAAW;GACX,EAAI,6BAAiB,aAAY;AAAA,WAAO,wBAAY,EAAZ;;GACxC,OAAQ,aAAS,OAAI,MAAE,aAAK,MAAE,cAAM,MAAE,eAAO;SAE7C;AAAA,UAAQ,aAAS,aAAK,MAAE,cAAM,MAAE,eAAO;;;;;;4BCrDxC;AAAA;;;CAEH,kBAAkB;CAKlB,0BAAM,YAAa;;;;;;;;4BCehB,oBAzBX;AAAA,CAqBQ,AArBR,mBAqBQ;CAPE,AAdV,mBAcU;CAN8C,AARxD,2BAQwD;CAFH,AANrD,wBAMqD;CAFhB,AAJrC,oBAIqC;CAFH,AAFlC,iBAEkC;CAyB1B,iBAAiB;CAEjB;;;;yCA8KG,gBAA+C;AAAA,CAElD,YAAU;CACV,UAAU;CACV,QAAQ;CACR,kBAAkB;CAElB,KAAO,KAAI,KAAX;AAAA,EAEI,QAAQ,aAAa;EACrB,EAAI,MAAM,KAAI;AAAA,GACV;GACA,cAAc;SAEb,EAAI,MAAM,KAAI;AAAA,GACf;GACA,cAAc;SAEb,EAAI,yCAAkB,IAAI;AAAA,GAE3B,SAAS;GACT,kBAAkB,AAAC,KAAK;GAExB,EAAI,gBAAe,aAAa;AAAA,IAC5B;IACA,cAAc;;GAGlB,SAAQ;GACR,cAAc,CAAC;SAEd;AAAA,GACD;GACA,cAAc;;EAGlB;;CAGJ,UAAU;CACV,EAAI,0BAAc,MAAW;AAAA,EAAN,MAAM,uBAAW,EAAG,aAAa;;CAExD,OAAO;;;WAlNJ;AAAA;;;EAMH,eAAe,OAAQ,MAAK,CAAC,cAAc,OAAO,gBAAiB,OAAM,MAAM,CAAC,MAAO,OAAO;EACjF;EAAb,aAAa,eAAgB,aAAhB,yBAAgB,YAAhB,QAAgB;EAC7B,EAAI,WAAU,MAAM;AAAA,UAAO;;EAE3B,cAAc;EAEd,EAAI,eAAc,MAAM;AAAA,gBAAa;;EACN;QAAQ;OAMnC;GAN2B,cAMV,CAAE;;OADnB;GAL2B,cAKd,CAAE;;OAJf;GAAc;GADa,cACb;;OAGd;GAAe;GAJY,cAIZ;;OADf;GAAc;GAHa,cAGb;;OADd;GAAa;GAFc,cAEd;;;GAFc,cAOlB;;EAPb,aAAa,kBAAkB;EAU/B,EAAI,sBAAqB,GAAG;AAAA,UAAO;;EAEnC,WAAW;EACX,eAAe,MAAM,oBAAe;EAEpC;aAAY,mBAAZ;AAAA,GAAK,UAAL,AAAY,WAAZ;;GAEI;eAAa,iBAAb;AAAA,IAAK,WAAL,AAAa,SAAb;;IAEI,gBAAgB;IAChB,eAAe,sBAAuB;IACtC,cAAc;IACd,eAAe;IACf,gBAAgB;IAEhB,EAAI,aAAY,IAAI;AAAA,KAChB,UAAU,6BAAiB,WAAW,EAA5B;KAEV,EAAI,YAAW,KAAK;AAAA,MAEhB,oBAAoB,wBAAY,EAAG;MACnC,kBAAkB,0BAA2B;MAC7C,EAAI,gBAAe,IAAI;AAAA,qBAAc;;MAE1B,AAAX,WAAW,wBAAY,EAAG,AAAK,SAAS,YAAa;MACrD,YAAY,uCAAiB;MAE7B,EAAI,cAAa,QAAQ,CAAC,gBAAY,cAAZ,2BAAY,aAAZ,sBAAY,eAAc,WAAW,MAC3D;AAAA,yBAAS,cAAT;yBAAS,UAAW;cAApB;AAAA,eAAS,aAAW;;;;;;;EAQxC,iBAAiB,MAAM,2BAAsB;EAC3B;;GAAlB,iBAAkB;GACd,YAAY,OAAQ,MAAK,gBAAS,eAAT,wBAAS,cAAT,OAAS;GAElC,eAAe;GACH,UAAe,eAAS,eAAT,wBAAS,cAAT,OAAS;GAApC,YAAY;GACZ;eAAa,cAAb;AAAA,IAAK,WAAL,AAAa,MAAb;;IACI;iBAAY,mBAAZ;AAAA,KAAK,WAAL,AAAY,WAAZ;;KACI,EAAI,2BAAe,MAAE,OAAO;AAAA,MACxB,cAAc;MACd;;;;GAKZ,YAAY,SACF,eAAS,eAAT,wBAAS,cAAT,OAAS,yBACJ,oBACJ;GAGX,aAAa;;EAGjB;oBAAgB,aAAhB;sBAAgB,SAAU;SAA1B;AAAA,YAAgB,YAAU;;EAE1B,OAAO;;YAIJ,WAKL;AAAA,EAEE,EAAI,qBAAe,MAAM;AAAA,UAAO;;EAEhC,aAAa,QACJ,cACI,gBACE,yCACI;EAKnB;YAAa;EAAb,WAAa,YAAb;AAAA,GAAK,WAAL,AAAa,IAAb;;GACI,gBAAgB;;EAKpB;aAAa;EAAb,YAAa,aAAb;AAAA,GAAK,YAAL,AAAa,KAAb;;GACI,oBAAoB;;EAKP;;GAAjB,gBAAiB;GACQ;GAArB,WAAW,UAAU,eAAqB,cAArB,yBAAqB,aAArB,QAAqB;GAC1C;qBAAqB,cAArB;uBAAqB,UAAU;UAA/B;AAAA,aAAqB,aAAU;;;EAKlB;;GAAjB,gBAAiB;GACQ;GAArB,YAAW,UAAU,eAAwB,cAAxB,0BAAwB,aAAxB,SAAwB;GAC7C;qBAAyB,cAAzB;uBAAyB,UAAU;UAAnC;AAAA,aAAyB,aAAU;;;EAGvC,mBAAc;EAEd,OAAO;;qBAKJ,WAKL;AAAA,EAEE,YAAY;EAEZ,yBAAgD;EACpC;;GAAZ,WAAY;GACkC;GAA1C,AAAiB,mBAAoB,QAArC,AAA0C,eAAoB,SAApB,yBAAoB,QAApB,QAAoB;;EAGlE,6BAAoD;EACxC;;GAAZ,WAAY;GACsC;GAA9C,AAAiB,uBAAwB,QAAzC,AAA8C,eAAwB,SAAxB,0BAAwB,QAAxB,SAAwB;;EAG1E,OAAO,QACE,qBACI,2BACE,oCACI;;YAqDvB,WAAoB;AAAA,EAIhB,gBAAiC;EAEjC;YAAc;EAAd,WAAc,YAAd;AAAA,GAAK,YAAL,AAAc,IAAd;;GACI,kBAAc,UAAd;0BAAc,MAAO;UAArB;AAAA,gBAAc,SAAO;;;EAGzB,eAAgC;EAChC,oBAAe;EACf;aAAc;EAAd,YAAc,aAAd;AAAA,GAAK,aAAL,AAAc,KAAd;;GACI,gBAAgB,mBAAmB;GACnC,EAAI,cAAa,IAAI;AAAA,IACjB,UAAU,0BAAa,EAAG;IAC1B,KAAO,EAAC,gBAAgB,QAAhB,+BAAgB,OAAhB,0BAAgB,OAAxB;AAAA,KACI,uBAAkB;KAClB,kBAAa,QAAb;2BAAa,IAAK;YAAlB;AAAA,iBAAa,OAAK;;KAClB,YAAY,gBAAiB;KAC7B,EAAI,cAAa,IAAI;AAAA;;KACrB,MAAM,uBAAW,EAAG;;;;EAKhC,EAAI,0BAAoB,MAAM;AAAA,GAE1B,wBAAmB;GAEnB;cAAa;GAAb,YAAa,aAAb;AAAA,IAAK,WAAL,AAAa,KAAb;;IACI,eAAe,iBAAkB;IACjC,oBAAoB,wBAAY,EAAG;IACnC,kBAAkB,0BAA2B;IAC7C,EAAI,gBAAe,IAAI;AAAA,mBAAc;;IAErC,eAAe,wBAAY,EAAG,AAAK,SAAS,YAAa;IACpD;IAAL,EAAI,EAAC,gBAAwB,aAAxB,4BAAwB,YAAxB,uBAAwB,YACzB;AAAA;iBAA+B;KAA/B,kBAAqB,aAArB;yBAAqB,SAArB;;eAAqB,YAArB;;;IAEO;IAAX,WAAW,eAAqB,aAArB,0BAAqB,YAArB,SAAqB;IAChC,UAAU;;;EAIlB,EAAI,6BAAuB,MAAM;AAAA,GAE7B,2BAAsB;GAEtB;cAAa;GAAb,YAAa,aAAb;AAAA,IAAK,YAAL,AAAa,KAAb;;IACI,gBAAe,kBAAkB;IACjC,qBAAoB,yBAAY,EAAG;IACnC,mBAAkB,2BAA2B;IAC7C,EAAI,iBAAe,IAAI;AAAA,oBAAc;;IAErC,gBAAe,yBAAY,EAAG,AAAK,SAAS,aAAa;IACpD;IAAL,EAAI,EAAC,gBAA2B,cAA3B,6BAA2B,aAA3B,wBAA2B,aAC5B;AAAA;kBAAkC;KAAlC,kBAAwB,cAAxB;yBAAwB,UAAxB;;eAAwB,aAAxB;;;IAEO;IAAX,YAAW,eAAwB,cAAxB,0BAAwB,aAAxB,SAAwB;IACnC,WAAU;;;;;;;;;yBCtTR,mBAAuC;AAAA,CAEjD,UAAU;CAEV,EAAI,aAAY,KAAK,WAAW,uCAC5B;AAAA,QAAM,+BAAc;;CAGjB,UAAO,MAAO;AAAA;QAAM;AAAA;;;qBC8H/B,WAxIJ;AAAA,CAujB+C,AAvjB/C,4BAujB+C;CAFA,AArjB/C,4BAqjB+C;CAtdjB,AA/F9B,uBA+F8B;CAJE,AA3FhC,gBA2FgC;CAHU,AAxF1C,qBAwF0C;CAJP,AApFnC,cAoFmC;CANgB,AA9EnD,iCA8EmD;CAtBA,AAxDnD,qBAwDmD;CAHJ,AArD/C,eAqD+C;CAHH,AAlD5C,cAkD4C;CAHA,AA/C5C,cA+C4C;CAHE,AA5C9C,gBA4C8C;CANA,AAtC9C,gBAsC8C;CAxBF,AAd5C,cAc4C;CAJD,AAV3C,aAU2C;CAJE,AAN7C,eAM6C;CAkI1B;;;;;;;kBAtHR,WACH;AAAA,EAAO;;;oBAKJ,WACH;AAAA,EAAO;;;qBAKJ,WACH;AAAA,EAAO;;;qBA0BX,wBAAwD;AAAA,EACpD,EAAI,uBAAsB,eAAe;AAAA,UAAO;;EAEhD,kBAAkB;EAClB,qBAAqB;EAErB,EAAI,gBAAe,MAAM;AAAA,GACrB,cAAS;GACT;;EAGJ,EAAI,kBAAiB,MAAM;AAAA,GACvB,eAAU;GACV;;EAGJ,OAAO;;uBAKQ,W5CLa;AAAA,SAAO;;uB4CKpB,0B5CYqB;AAAA,EACR,gBAAgB;EAChB,EAAI,cAAe,iBACf;AAAA,UAAO;;EAEX,iCAA8B;EAC9B,+BAA4B,gBAAa;EACzC,OAAS;;6B4CnBtB,2BvEkJa;AAAA,EAER,UAAU;EACV,EAAI,qCAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,uCAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,qCAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,uCAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,qCAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;2BuE5KrB,sCvE4Ma;AAAA,EuE5Mb;EvE8MK,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,oCAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,gDAA8B,MAC9B;AAAA,kDAA6B;;GAEjC,iDAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,gDAA8B,MAC9B;AAAA,kDAA6B;;GAEjC,iDAAgC;;EAIpC,EAAI,qCAAmB,MACnB;AAAA,sCAAkB;;EAEtB,sCAAuB;;6BuEvO5B,sCvEiQa;AAAA,EuEjQb;EvEmQK,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,oCAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,kDAAgC,MAChC;AAAA,oDAA+B;;GAEnC,mDAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,kDAAgC,MAChC;AAAA,oDAA+B;;GAEnC,mDAAkC;;EAItC,EAAI,uCAAqB,MACrB;AAAA,wCAAoB;;EAExB,wCAAyB;;4BuE5R9B,gCvEmTK;AAAA,IAAM,0BAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,qCAAmB,MAAM;AAAA,IACzB,QAAQ,yCAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,wCAAuB,MAAO;KAC9B,SAAS,4CAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,mDAAkC,MAAO;;;GAGjD,EAAI,uCAAqB,MAAM;AAAA,IAC3B,QAAQ,2CAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,0CAAyB,MAAO;KAChC,SAAS,8CAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,qDAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,8CAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,gDAA+B;GAC/B,mCAAkB;GAClB,qCAAoB;;;gCuElV7B,WvEoWY;AAAA,OAAC,oCAAmB,QAAQ,0CAAyB,IACrD;AAAA,KAAC,uCAAqB,MAAQ;AAAA,uDAA2B;UAAzD;AAAA;;SADA;AAAA;;;qBuElVxB,WAAoC;AAAA,SAAO,uBAAkB;;cAM7D,WvE0HyB;AAAA,EAER,UAAU;EACV,EAAI,sBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,wBAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,sBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,wBAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,sBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc;;GAElB,YAAY;;;YuEpJjC,uBvEoLyB;AAAA,EuEpLzB;EvEsLiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,qBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,iCAA8B,MAC9B;AAAA,mCAA6B;;GAEjC,kCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,iCAA8B,MAC9B;AAAA,mCAA6B;;GAEjC,kCAAgC;;EAIpC,EAAI,sBAAmB,MACnB;AAAA,uBAAkB;;EAEtB,uBAAuB;;cuE/MxC,uBvEyOyB;AAAA,EuEzOzB;EvE2OiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,qBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,mCAAgC,MAChC;AAAA,qCAA+B;;GAEnC,oCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,mCAAgC,MAChC;AAAA,qCAA+B;;GAEnC,oCAAkC;;EAItC,EAAI,wBAAqB,MACrB;AAAA,yBAAoB;;EAExB,yBAAyB;;auEpQ1C,iBvE2RiB;AAAA,IAAM,WAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,sBAAmB,MAAM;AAAA,IACzB,QAAQ,0BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,yBAAuB,MAAO;KAC9B,SAAS,6BAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,oCAAkC,MAAO;;;GAGjD,EAAI,wBAAqB,MAAM;AAAA,IAC3B,QAAQ,4BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,2BAAyB,MAAO;KAChC,SAAS,+BAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,sCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,+BAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,iCAA+B;GAC/B,oBAAkB;GAClB,sBAAoB;;;iBuE1TzC,WvE4UwB;AAAA,OAAC,qBAAmB,QAAQ,2BAAyB,IACrD;AAAA,KAAC,wBAAqB,MAAQ;AAAA,wCAA2B;UAAzD;AAAA;;SADA;AAAA;;;iBuExUxB,uBvEsHyB;AAAA,EAER,UAAU;EACV,EAAI,yBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,2BAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,yBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,2BAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,yBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;EAnCR,0CAxHgC;EAwHhC;;;;qDAxHgC,aAwHhC;;;mBAxHgC;EAwHhC;;euE7GzB,iCvEgLyB;AAAA,EuEhLzB;EvEkLiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,wBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,oCAA8B,MAC9B;AAAA,sCAA6B;;GAEjC,qCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,oCAA8B,MAC9B;AAAA,sCAA6B;;GAEjC,qCAAgC;;EAIpC,EAAI,yBAAmB,MACnB;AAAA,0BAAkB;;EAEtB,0BAAuB;;iBuE3MxC,iCvEqOyB;AAAA,EuErOzB;EvEuOiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,wBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,sCAAgC,MAChC;AAAA,wCAA+B;;GAEnC,uCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,sCAAgC,MAChC;AAAA,wCAA+B;;GAEnC,uCAAkC;;EAItC,EAAI,2BAAqB,MACrB;AAAA,4BAAoB;;EAExB,4BAAyB;;gBuEhQ1C,2BvEuRiB;AAAA,IAAM,qBAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,yBAAmB,MAAM;AAAA,IACzB,QAAQ,6BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,4BAAuB,MAAO;KAC9B,SAAS,gCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,uCAAkC,MAAO;;;GAGjD,EAAI,2BAAqB,MAAM;AAAA,IAC3B,QAAQ,+BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,8BAAyB,MAAO;KAChC,SAAS,kCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,yCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,kCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,oCAA+B;GAC/B,uBAAkB;GAClB,yBAAoB;;;oBuEtTzC,WvEwUwB;AAAA,OAAC,wBAAmB,QAAQ,8BAAyB,IACrD;AAAA,KAAC,2BAAqB,MAAQ;AAAA,2CAA2B;UAAzD;AAAA;;SADA;AAAA;;;euEvUxB,uBvEqHyB;AAAA,EAER,UAAU;EACV,EAAI,uBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,yBAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,uBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,yBAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,uBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;EAnCR,iBAxHgC;EAwHhC;;;;eAxHgC;IAwHhC,WAxHgC;IAwHhC,UAxHgC;IAwHhC,0EAxHgC;;;EAwHhC;;auE5GzB,iCvE+KyB;AAAA,EuE/KzB;EvEiLiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,sBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,kCAA8B,MAC9B;AAAA,oCAA6B;;GAEjC,mCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,kCAA8B,MAC9B;AAAA,oCAA6B;;GAEjC,mCAAgC;;EAIpC,EAAI,uBAAmB,MACnB;AAAA,wBAAkB;;EAEtB,wBAAuB;;euE1MxC,iCvEoOyB;AAAA,EuEpOzB;EvEsOiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,sBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,oCAAgC,MAChC;AAAA,sCAA+B;;GAEnC,qCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,oCAAgC,MAChC;AAAA,sCAA+B;;GAEnC,qCAAkC;;EAItC,EAAI,yBAAqB,MACrB;AAAA,0BAAoB;;EAExB,0BAAyB;;cuE/P1C,2BvEsRiB;AAAA,IAAM,qBAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,uBAAmB,MAAM;AAAA,IACzB,QAAQ,2BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,0BAAuB,MAAO;KAC9B,SAAS,8BAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,qCAAkC,MAAO;;;GAGjD,EAAI,yBAAqB,MAAM;AAAA,IAC3B,QAAQ,6BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,4BAAyB,MAAO;KAChC,SAAS,gCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,uCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,gCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,kCAA+B;GAC/B,qBAAkB;GAClB,uBAAoB;;;kBuErTzC,WvEuUwB;AAAA,OAAC,sBAAmB,QAAQ,4BAAyB,IACrD;AAAA,KAAC,yBAAqB,MAAQ;AAAA,yCAA2B;UAAzD;AAAA;;SADA;AAAA;;;kBuEtUxB,cvEoHyB;AAAA,EAER,UAAU;EACV,EAAI,0BAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,4BAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,0BAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,4BAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,0BAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;gBuE9IjC,yBvE8KyB;AAAA,EuE9KzB;EvEgLiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,yBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,qCAA8B,MAC9B;AAAA,uCAA6B;;GAEjC,sCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,qCAA8B,MAC9B;AAAA,uCAA6B;;GAEjC,sCAAgC;;EAIpC,EAAI,0BAAmB,MACnB;AAAA,2BAAkB;;EAEtB,2BAAuB;;kBuEzMxC,yBvEmOyB;AAAA,EuEnOzB;EvEqOiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,yBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,uCAAgC,MAChC;AAAA,yCAA+B;;GAEnC,wCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,uCAAgC,MAChC;AAAA,yCAA+B;;GAEnC,wCAAkC;;EAItC,EAAI,4BAAqB,MACrB;AAAA,6BAAoB;;EAExB,6BAAyB;;iBuE9P1C,mBvEqRiB;AAAA,IAAM,aAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,0BAAmB,MAAM;AAAA,IACzB,QAAQ,8BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,6BAAuB,MAAO;KAC9B,SAAS,iCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,wCAAkC,MAAO;;;GAGjD,EAAI,4BAAqB,MAAM;AAAA,IAC3B,QAAQ,gCAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,+BAAyB,MAAO;KAChC,SAAS,mCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,0CAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,mCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,qCAA+B;GAC/B,wBAAkB;GAClB,0BAAoB;;;qBuEpTzC,WvEsUwB;AAAA,OAAC,yBAAmB,QAAQ,+BAAyB,IACrD;AAAA,KAAC,4BAAqB,MAAQ;AAAA,4CAA2B;UAAzD;AAAA;;SADA;AAAA;;;iBuErUxB,cvEmHyB;AAAA,EAER,UAAU;EACV,EAAI,yBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,2BAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,yBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,2BAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,yBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;EAnCR;;4CAxHgC;EAwHhC;;;;;;;;;;2DAxHgC,IAwHhC;;;;;;wDAxHgC,IAwHhC;;;;euE1GzB,yBvE6KyB;AAAA,EuE7KzB;EvE+KiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,wBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,oCAA8B,MAC9B;AAAA,sCAA6B;;GAEjC,qCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,oCAA8B,MAC9B;AAAA,sCAA6B;;GAEjC,qCAAgC;;EAIpC,EAAI,yBAAmB,MACnB;AAAA,0BAAkB;;EAEtB,0BAAuB;;iBuExMxC,yBvEkOyB;AAAA,EuElOzB;EvEoOiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,wBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,sCAAgC,MAChC;AAAA,wCAA+B;;GAEnC,uCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,sCAAgC,MAChC;AAAA,wCAA+B;;GAEnC,uCAAkC;;EAItC,EAAI,2BAAqB,MACrB;AAAA,4BAAoB;;EAExB,4BAAyB;;gBuE7P1C,mBvEoRiB;AAAA,IAAM,aAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,yBAAmB,MAAM;AAAA,IACzB,QAAQ,6BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,4BAAuB,MAAO;KAC9B,SAAS,gCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,uCAAkC,MAAO;;;GAGjD,EAAI,2BAAqB,MAAM;AAAA,IAC3B,QAAQ,+BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,8BAAyB,MAAO;KAChC,SAAS,kCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,yCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,kCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,oCAA+B;GAC/B,uBAAkB;GAClB,yBAAoB;;;oBuEnTzC,WvEqUwB;AAAA,OAAC,wBAAmB,QAAQ,8BAAyB,IACrD;AAAA,KAAC,2BAAqB,MAAQ;AAAA,2CAA2B;UAAzD;AAAA;;SADA;AAAA;;;iBuEjUxB,yBvE+GyB;AAAA,EAER,UAAU;EACV,EAAI,yBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,2BAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,yBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,2BAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,yBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;EAnCR,0CAxHgC;EAwHhC;;;;kDAxHgC,WAwHhC,GAxHgC,IAwHhC;;;mBAxHgC;EAwHhC;;euEtGzB,mCvEyKyB;AAAA,EuEzKzB;EvE2KiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,wBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,oCAA8B,MAC9B;AAAA,sCAA6B;;GAEjC,qCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,oCAA8B,MAC9B;AAAA,sCAA6B;;GAEjC,qCAAgC;;EAIpC,EAAI,yBAAmB,MACnB;AAAA,0BAAkB;;EAEtB,0BAAuB;;iBuEpMxC,mCvE8NyB;AAAA,EuE9NzB;EvEgOiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,wBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,sCAAgC,MAChC;AAAA,wCAA+B;;GAEnC,uCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,sCAAgC,MAChC;AAAA,wCAA+B;;GAEnC,uCAAkC;;EAItC,EAAI,2BAAqB,MACrB;AAAA,4BAAoB;;EAExB,4BAAyB;;gBuEzP1C,6BvEgRiB;AAAA,IAAM,uBAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,yBAAmB,MAAM;AAAA,IACzB,QAAQ,6BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,4BAAuB,MAAO;KAC9B,SAAS,gCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,uCAAkC,MAAO;;;GAGjD,EAAI,2BAAqB,MAAM;AAAA,IAC3B,QAAQ,+BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,8BAAyB,MAAO;KAChC,SAAS,kCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,yCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,kCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,oCAA+B;GAC/B,uBAAkB;GAClB,yBAAoB;;;oBuE/SzC,WvEiUwB;AAAA,OAAC,wBAAmB,QAAQ,8BAAyB,IACrD;AAAA,KAAC,2BAAqB,MAAQ;AAAA,2CAA2B;UAAzD;AAAA;;SADA;AAAA;;;euEhUxB,yBvE8GyB;AAAA,EAER,UAAU;EACV,EAAI,uBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,yBAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,uBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,yBAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,uBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;EAnCR,iBAxHgC;EAwHhC;;;;eAxHgC;IAwHhC,WAxHgC;IAwHhC,UAxHgC;IAwHhC,0EAxHgC;;;EAwHhC;;auErGzB,mCvEwKyB;AAAA,EuExKzB;EvE0KiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,sBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,kCAA8B,MAC9B;AAAA,oCAA6B;;GAEjC,mCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,kCAA8B,MAC9B;AAAA,oCAA6B;;GAEjC,mCAAgC;;EAIpC,EAAI,uBAAmB,MACnB;AAAA,wBAAkB;;EAEtB,wBAAuB;;euEnMxC,mCvE6NyB;AAAA,EuE7NzB;EvE+NiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,sBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,oCAAgC,MAChC;AAAA,sCAA+B;;GAEnC,qCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,oCAAgC,MAChC;AAAA,sCAA+B;;GAEnC,qCAAkC;;EAItC,EAAI,yBAAqB,MACrB;AAAA,0BAAoB;;EAExB,0BAAyB;;cuExP1C,6BvE+QiB;AAAA,IAAM,uBAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,uBAAmB,MAAM;AAAA,IACzB,QAAQ,2BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,0BAAuB,MAAO;KAC9B,SAAS,8BAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,qCAAkC,MAAO;;;GAGjD,EAAI,yBAAqB,MAAM;AAAA,IAC3B,QAAQ,6BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,4BAAyB,MAAO;KAChC,SAAS,gCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,uCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,gCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,kCAA+B;GAC/B,qBAAkB;GAClB,uBAAoB;;;kBuE9SzC,WvEgUwB;AAAA,OAAC,sBAAmB,QAAQ,4BAAyB,IACrD;AAAA,KAAC,yBAAqB,MAAQ;AAAA,yCAA2B;UAAzD;AAAA;;SADA;AAAA;;;iBuE/TxB,yBvE6GyB;AAAA,EAER,UAAU;EACV,EAAI,yBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,2BAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,yBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,2BAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,yBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;EAnCR,iBAxHgC;EAwHhC;4CAxHgC;EAwHhC;;;;;;;;;;2DAxHgC,IAwHhC;;;;;;wDAxHgC,IAwHhC;;;;euEpGzB,mCvEuKyB;AAAA,EuEvKzB;EvEyKiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,wBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,oCAA8B,MAC9B;AAAA,sCAA6B;;GAEjC,qCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,oCAA8B,MAC9B;AAAA,sCAA6B;;GAEjC,qCAAgC;;EAIpC,EAAI,yBAAmB,MACnB;AAAA,0BAAkB;;EAEtB,0BAAuB;;iBuElMxC,mCvE4NyB;AAAA,EuE5NzB;EvE8NiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,wBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,sCAAgC,MAChC;AAAA,wCAA+B;;GAEnC,uCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,sCAAgC,MAChC;AAAA,wCAA+B;;GAEnC,uCAAkC;;EAItC,EAAI,2BAAqB,MACrB;AAAA,4BAAoB;;EAExB,4BAAyB;;gBuEvP1C,6BvE8QiB;AAAA,IAAM,uBAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,yBAAmB,MAAM;AAAA,IACzB,QAAQ,6BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,4BAAuB,MAAO;KAC9B,SAAS,gCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,uCAAkC,MAAO;;;GAGjD,EAAI,2BAAqB,MAAM;AAAA,IAC3B,QAAQ,+BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,8BAAyB,MAAO;KAChC,SAAS,kCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,yCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,kCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,oCAA+B;GAC/B,uBAAkB;GAClB,yBAAoB;;;oBuE7SzC,WvE+TwB;AAAA,OAAC,wBAAmB,QAAQ,8BAAyB,IACrD;AAAA,KAAC,2BAAqB,MAAQ;AAAA,2CAA2B;UAAzD;AAAA;;SADA;AAAA;;;mBuE3TxB,evEyGyB;AAAA,EAER,UAAU;EACV,EAAI,2BAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,6BAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,2BAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,6BAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,2BAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;iBuEnIjC,2BvEmKyB;AAAA,EuEnKzB;EvEqKiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,0BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,sCAA8B,MAC9B;AAAA,wCAA6B;;GAEjC,uCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,sCAA8B,MAC9B;AAAA,wCAA6B;;GAEjC,uCAAgC;;EAIpC,EAAI,2BAAmB,MACnB;AAAA,4BAAkB;;EAEtB,4BAAuB;;mBuE9LxC,2BvEwNyB;AAAA,EuExNzB;EvE0NiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,0BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,wCAAgC,MAChC;AAAA,0CAA+B;;GAEnC,yCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,wCAAgC,MAChC;AAAA,0CAA+B;;GAEnC,yCAAkC;;EAItC,EAAI,6BAAqB,MACrB;AAAA,8BAAoB;;EAExB,8BAAyB;;kBuEnP1C,qBvE0QiB;AAAA,IAAM,eAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,2BAAmB,MAAM;AAAA,IACzB,QAAQ,+BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,8BAAuB,MAAO;KAC9B,SAAS,kCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,yCAAkC,MAAO;;;GAGjD,EAAI,6BAAqB,MAAM;AAAA,IAC3B,QAAQ,iCAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,gCAAyB,MAAO;KAChC,SAAS,oCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,2CAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,oCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,sCAA+B;GAC/B,yBAAkB;GAClB,2BAAoB;;;sBuEzSzC,WvE2TwB;AAAA,OAAC,0BAAmB,QAAQ,gCAAyB,IACrD;AAAA,KAAC,6BAAqB,MAAQ;AAAA,6CAA2B;UAAzD;AAAA;;SADA;AAAA;;;iBuE1TxB,evEwGyB;AAAA,EAER,UAAU;EACV,EAAI,yBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,2BAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,yBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,2BAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,yBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;euElIjC,2BvEkKyB;AAAA,EuElKzB;EvEoKiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,wBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,oCAA8B,MAC9B;AAAA,sCAA6B;;GAEjC,qCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,oCAA8B,MAC9B;AAAA,sCAA6B;;GAEjC,qCAAgC;;EAIpC,EAAI,yBAAmB,MACnB;AAAA,0BAAkB;;EAEtB,0BAAuB;;iBuE7LxC,2BvEuNyB;AAAA,EuEvNzB;EvEyNiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,wBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,sCAAgC,MAChC;AAAA,wCAA+B;;GAEnC,uCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,sCAAgC,MAChC;AAAA,wCAA+B;;GAEnC,uCAAkC;;EAItC,EAAI,2BAAqB,MACrB;AAAA,4BAAoB;;EAExB,4BAAyB;;gBuElP1C,qBvEyQiB;AAAA,IAAM,eAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,yBAAmB,MAAM;AAAA,IACzB,QAAQ,6BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,4BAAuB,MAAO;KAC9B,SAAS,gCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,uCAAkC,MAAO;;;GAGjD,EAAI,2BAAqB,MAAM;AAAA,IAC3B,QAAQ,+BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,8BAAyB,MAAO;KAChC,SAAS,kCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,yCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,kCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,oCAA+B;GAC/B,uBAAkB;GAClB,yBAAoB;;;oBuExSzC,WvE0TwB;AAAA,OAAC,wBAAmB,QAAQ,8BAAyB,IACrD;AAAA,KAAC,2BAAqB,MAAQ;AAAA,2CAA2B;UAAzD;AAAA;;SADA;AAAA;;;mBuEzTxB,evEuGyB;AAAA,EAER,UAAU;EACV,EAAI,2BAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,6BAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,2BAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,6BAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,2BAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;iBuEjIjC,2BvEiKyB;AAAA,EuEjKzB;EvEmKiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,0BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,sCAA8B,MAC9B;AAAA,wCAA6B;;GAEjC,uCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,sCAA8B,MAC9B;AAAA,wCAA6B;;GAEjC,uCAAgC;;EAIpC,EAAI,2BAAmB,MACnB;AAAA,4BAAkB;;EAEtB,4BAAuB;;mBuE5LxC,2BvEsNyB;AAAA,EuEtNzB;EvEwNiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,0BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,wCAAgC,MAChC;AAAA,0CAA+B;;GAEnC,yCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,wCAAgC,MAChC;AAAA,0CAA+B;;GAEnC,yCAAkC;;EAItC,EAAI,6BAAqB,MACrB;AAAA,8BAAoB;;EAExB,8BAAyB;;kBuEjP1C,qBvEwQiB;AAAA,IAAM,eAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,2BAAmB,MAAM;AAAA,IACzB,QAAQ,+BAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,8BAAuB,MAAO;KAC9B,SAAS,kCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,yCAAkC,MAAO;;;GAGjD,EAAI,6BAAqB,MAAM;AAAA,IAC3B,QAAQ,iCAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,gCAAyB,MAAO;KAChC,SAAS,oCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,2CAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,oCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,sCAA+B;GAC/B,yBAAkB;GAClB,2BAAoB;;;sBuEvSzC,WvEyTwB;AAAA,OAAC,0BAAmB,QAAQ,gCAAyB,IACrD;AAAA,KAAC,6BAAqB,MAAQ;AAAA,6CAA2B;UAAzD;AAAA;;SADA;AAAA;;;6BuErTxB,evEmGyB;AAAA,EAdC,GAnH+B,iBAmH/B;iBAnH+B;GAmH/B,cAnH+B;;EAmH/B,GAnH+B,mBAmH/B;gCAnH+B;GAmH/B;IuEwQrB,UvExQqB,2BAnH+B,OAmH/B,AAnH+B;IAmH/B,eAnH+B,mBAmH/B;;gBAnH+B;IAmH/B,YAnH+B;;;EAmH/B;;;;;;;KuEgV7B;GvEhV6B;;;KuEkVzB;GvElVyB,AuEmVzB,MvEnVyB;GuEoVzB,MvEpVyB;;;;;;;;;EAgBT,UAAU;EACV,EAAI,qCAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,uCAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,qCAAmB,MACnB;AAAA;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,WAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,uCAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,qCAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;2BuE7HjC,2BvE6JyB;AAAA,EuE7JzB;EvE+JiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,oCAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,gDAA8B,MAC9B;AAAA,kDAA6B;;GAEjC,iDAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,gDAA8B,MAC9B;AAAA,kDAA6B;;GAEjC,iDAAgC;;EAIpC,EAAI,qCAAmB,MACnB;AAAA,sCAAkB;;EAEtB,sCAAuB;;6BuExLxC,2BvEkNyB;AAAA,EuElNzB;EvEoNiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,oCAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,kDAAgC,MAChC;AAAA,oDAA+B;;GAEnC,mDAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,kDAAgC,MAChC;AAAA,oDAA+B;;GAEnC,mDAAkC;;EAItC,EAAI,uCAAqB,MACrB;AAAA,wCAAoB;;EAExB,wCAAyB;;4BuE7O1C,qBvEoQiB;AAAA,IAAM,eAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,qCAAmB,MAAM;AAAA,IACzB,QAAQ,yCAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,wCAAuB,MAAO;KAC9B,SAAS,4CAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,mDAAkC,MAAO;;;GAGjD,EAAI,uCAAqB,MAAM;AAAA,IAC3B,QAAQ,2CAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,0CAAyB,MAAO;KAChC,SAAS,8CAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,qDAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,8CAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,gDAA+B;GAC/B,mCAAkB;GAClB,qCAAoB;;;gCuEnSzC,WvEqTwB;AAAA,OAAC,oCAAmB,QAAQ,0CAAyB,IACrD;AAAA,KAAC,uCAAqB,MAAQ;AAAA,uDAA2B;UAAzD;AAAA;;SADA;AAAA;;;2BuEpTxB,evEkGyB;AAAA,EAdC,GAnH+B,iBAmH/B;iBAnH+B;GAmH/B,cAnH+B;;EAmH/B,GAnH+B,mBAmH/B;gCAnH+B;GAmH/B;IuEgSrB,UvEhSqB,2BAnH+B,OAmH/B,AAnH+B;IAmH/B,eAnH+B,mBAmH/B;;gBAnH+B;IAmH/B,YAnH+B;;;EAmH/B;;;;;;;KuEgV7B;GvEhV6B;;;KuEkVzB;GvElVyB,AuEmVzB,MvEnVyB;GuEoVzB,MvEpVyB;;;;;;;;;KAnH+B,mBAmH/B;uBAnH+B;;EAmIxC,UAAU;EACV,EAAI,mCAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,qCAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,mCAAmB,MACnB;AAAA;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,WAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,qCAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,mCAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;yBuE5HjC,2BvE4JyB;AAAA,EuE5JzB;EvE8JiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,kCAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,8CAA8B,MAC9B;AAAA,gDAA6B;;GAEjC,+CAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,8CAA8B,MAC9B;AAAA,gDAA6B;;GAEjC,+CAAgC;;EAIpC,EAAI,mCAAmB,MACnB;AAAA,oCAAkB;;EAEtB,oCAAuB;;2BuEvLxC,2BvEiNyB;AAAA,EuEjNzB;EvEmNiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,kCAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,gDAAgC,MAChC;AAAA,kDAA+B;;GAEnC,iDAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,gDAAgC,MAChC;AAAA,kDAA+B;;GAEnC,iDAAkC;;EAItC,EAAI,qCAAqB,MACrB;AAAA,sCAAoB;;EAExB,sCAAyB;;0BuE5O1C,qBvEmQiB;AAAA,IAAM,eAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,mCAAmB,MAAM;AAAA,IACzB,QAAQ,uCAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,sCAAuB,MAAO;KAC9B,SAAS,0CAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,iDAAkC,MAAO;;;GAGjD,EAAI,qCAAqB,MAAM;AAAA,IAC3B,QAAQ,yCAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,wCAAyB,MAAO;KAChC,SAAS,4CAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,mDAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,4CAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,8CAA+B;GAC/B,iCAAkB;GAClB,mCAAoB;;;8BuElSzC,WvEoTwB;AAAA,OAAC,kCAAmB,QAAQ,wCAAyB,IACrD;AAAA,KAAC,qCAAqB,MAAQ;AAAA,qDAA2B;UAAzD;AAAA;;SADA;AAAA;;;6BuEnTxB,evEiGyB;AAAA,EAdC,GAnH+B,iBAmH/B;iBAnH+B;GAmH/B,cAnH+B;;EAmH/B,GAnH+B,mBAmH/B;gCAnH+B;GAmH/B;IuE6TrB,UvE7TqB,2BAnH+B,OAmH/B,AAnH+B;IAmH/B,eAnH+B,mBAmH/B;;gBAnH+B;IAmH/B,YAnH+B;;;EAmH/B;;;;;;;KuEgV7B;GvEhV6B;;;KuEkVzB;GvElVyB,AuEmVzB,MvEnVyB;GuEoVzB,MvEpVyB;;;;;;;;;EAgBT,UAAU;EACV,EAAI,qCAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,uCAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,qCAAmB,MACnB;AAAA;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,WAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,uCAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,qCAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;2BuE3HjC,2BvE2JyB;AAAA,EuE3JzB;EvE6JiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,oCAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,gDAA8B,MAC9B;AAAA,kDAA6B;;GAEjC,iDAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,gDAA8B,MAC9B;AAAA,kDAA6B;;GAEjC,iDAAgC;;EAIpC,EAAI,qCAAmB,MACnB;AAAA,sCAAkB;;EAEtB,sCAAuB;;6BuEtLxC,2BvEgNyB;AAAA,EuEhNzB;EvEkNiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,oCAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,kDAAgC,MAChC;AAAA,oDAA+B;;GAEnC,mDAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,kDAAgC,MAChC;AAAA,oDAA+B;;GAEnC,mDAAkC;;EAItC,EAAI,uCAAqB,MACrB;AAAA,wCAAoB;;EAExB,wCAAyB;;4BuE3O1C,qBvEkQiB;AAAA,IAAM,eAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,qCAAmB,MAAM;AAAA,IACzB,QAAQ,yCAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,wCAAuB,MAAO;KAC9B,SAAS,4CAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,mDAAkC,MAAO;;;GAGjD,EAAI,uCAAqB,MAAM;AAAA,IAC3B,QAAQ,2CAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,0CAAyB,MAAO;KAChC,SAAS,8CAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,qDAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,8CAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,gDAA+B;GAC/B,mCAAkB;GAClB,qCAAoB;;;gCuEjSzC,WvEmTwB;AAAA,OAAC,oCAAmB,QAAQ,0CAAyB,IACrD;AAAA,KAAC,uCAAqB,MAAQ;AAAA,uDAA2B;UAAzD;AAAA;;SADA;AAAA;;;auE/SxB,iBvE6FyB;AAAA,EAER,UAAU;EACV,EAAI,qBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,uBAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,qBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,uBAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,qBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;WuEvHjC,6BvEuJyB;AAAA,EuEvJzB;EvEyJiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,oBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,gCAA8B,MAC9B;AAAA,kCAA6B;;GAEjC,iCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,gCAA8B,MAC9B;AAAA,kCAA6B;;GAEjC,iCAAgC;;EAIpC,EAAI,qBAAmB,MACnB;AAAA,sBAAkB;;EAEtB,sBAAuB;;auElLxC,6BvE4MyB;AAAA,EuE5MzB;EvE8MiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,oBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,kCAAgC,MAChC;AAAA,oCAA+B;;GAEnC,mCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,kCAAgC,MAChC;AAAA,oCAA+B;;GAEnC,mCAAkC;;EAItC,EAAI,uBAAqB,MACrB;AAAA,wBAAoB;;EAExB,wBAAyB;;YuEvO1C,uBvE8PiB;AAAA,IAAM,iBAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,qBAAmB,MAAM;AAAA,IACzB,QAAQ,yBAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,wBAAuB,MAAO;KAC9B,SAAS,4BAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,mCAAkC,MAAO;;;GAGjD,EAAI,uBAAqB,MAAM;AAAA,IAC3B,QAAQ,2BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,0BAAyB,MAAO;KAChC,SAAS,8BAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,qCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,8BAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,gCAA+B;GAC/B,mBAAkB;GAClB,qBAAoB;;;gBuE7RzC,WvE+SwB;AAAA,OAAC,oBAAmB,QAAQ,0BAAyB,IACrD;AAAA,KAAC,uBAAqB,MAAQ;AAAA,uCAA2B;UAAzD;AAAA;;SADA;AAAA;;;YuE9SxB,iBvE4FyB;AAAA,EAER,UAAU;EACV,EAAI,oBAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,sBAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,oBAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,sBAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,oBAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;UuEtHjC,6BvEsJyB;AAAA,EuEtJzB;EvEwJiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,mBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,+BAA8B,MAC9B;AAAA,iCAA6B;;GAEjC,gCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,+BAA8B,MAC9B;AAAA,iCAA6B;;GAEjC,gCAAgC;;EAIpC,EAAI,oBAAmB,MACnB;AAAA,qBAAkB;;EAEtB,qBAAuB;;YuEjLxC,6BvE2MyB;AAAA,EuE3MzB;EvE6MiB,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,mBAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,iCAAgC,MAChC;AAAA,mCAA+B;;GAEnC,kCAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,iCAAgC,MAChC;AAAA,mCAA+B;;GAEnC,kCAAkC;;EAItC,EAAI,sBAAqB,MACrB;AAAA,uBAAoB;;EAExB,uBAAyB;;WuEtO1C,uBvE6PiB;AAAA,IAAM,iBAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,oBAAmB,MAAM;AAAA,IACzB,QAAQ,wBAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,uBAAuB,MAAO;KAC9B,SAAS,2BAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,kCAAkC,MAAO;;;GAGjD,EAAI,sBAAqB,MAAM;AAAA,IAC3B,QAAQ,0BAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,yBAAyB,MAAO;KAChC,SAAS,6BAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,oCAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,6BAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,+BAA+B;GAC/B,kBAAkB;GAClB,oBAAoB;;;euE5RzC,WvE8SwB;AAAA,OAAC,mBAAmB,QAAQ,yBAAyB,IACrD;AAAA,KAAC,sBAAqB,MAAQ;AAAA,sCAA2B;UAAzD;AAAA;;SADA;AAAA;;;gBuEtS/B,WAA6B;AAAA,EAA7B;EAGI,wCAA4B,KAAM;EAGlC;EAIA,4CAA4B,KAAM,oCAAqC;AAAA,GACnE,2BAAK,wBAAoB,WAAzB;GACA,6CAAiC;;EAErC,yCAAyB,KAAM,8BAA+B;AAAA,GAC1D,2BAAK,qBAAiB,oBAAtB;GACA;;EAEJ,6CAA6B,KAAM,sCAAuC;AAAA,GACtE,2BAAK,yBAAqB,YAA1B;GACA;;EAEJ,8CAA8B,KAAM,wCAAwC;AAAA,GACxE,2BAAK,0BAAsB,aAA3B;GACA;;EAEJ,+CAA+B,KAAM,0CAA2C;AAAA,GAC5E,2BAAK,2BAAuB,cAA5B;GACA;;EAKJ,qBAAgB,KAAM,WAAW;AAAA,GAC7B;;;;;;;;GACA;WAAqB;GAArB;;;;;;;;;;GACA;;;;;;;IlBCA,OkBDA;;;;;;;;;;;GACA;;EAKJ,2CAA+B,KAAM,uBACjC;AAAA,6CAA8B,WAAW;AAAA,IACxB;IAAb,SAAS,IAAI;IACA;IAAb,SAAS,IAAI;IACJ;IAAT,SAAS,AAAyB,KAAzB,WAA6B,KAA7B;IACA;IAAT,SAAS,AAAyB,KAAzB,WAA6B,KAA7B;IAET,qBAAc,SAAU,GAAI;IAC5B;IACA,WAAqB,sBACL,GACF,SACP,GACA,GACG,MAAM,KAAK,MAAM,gBAAS,MAAM,KAAK,MAAM;IAErD,iCAA0B;IAC1B,EAAI,2BAAmB,GACnB;AAAA,4BAAgB;;;;EAI5B,yCAA6B,KAAM,0BAC/B;AAAA,6CAA8B,WAAW;AAAA,IACxB;IAAb,UAAS,KAAI;IACA;IAAb,UAAS,KAAI;IACJ;IAAT,UAAS,AAAyB,MAAzB,WAA6B,MAA7B;IACA;IAAT,UAAS,AAAyB,MAAzB,YAA6B,MAA7B;IACT,mBAAY,UAAU,IAAI;IAC1B;IACA,YAAqB,sBACL,GACF,UACP,IACA,IACG,OAAM,KAAK,OAAM,gBAAS,OAAM,KAAK,OAAM;IAErD,+BAAwB;IACxB,EAAI,2BAAmB,GACnB;AAAA,0BAAc;;;;EAI1B,2CAA+B,KAAM,gBACjC;AAAA,6CAA8B,WAAW;AAAA,IACxB;IAAb,UAAS,KAAI;IACA;IAAb,UAAS,KAAI;IACJ;IAAT,UAAS,AAAyB,MAAzB,YAA6B,MAA7B;IACA;IAAT,UAAS,AAAyB,MAAzB,YAA6B,MAA7B;IACT,qBAAc,IAAI;IAClB,YAAqB,sBACL,GACF,EACP,IACA,IACG,OAAM,KAAK,OAAM,gBAAS,OAAM,KAAK,OAAM;IAErD,iCAA0B;IAC1B,uBAAgB;;;EAGxB,4CAAgC,KAAM,gBAClC;AAAA,6CAA8B,WAAW;AAAA,IACxB;IAAb,UAAS,KAAI;IACA;IAAb,UAAS,KAAI;IACJ;IAAT,UAAS,AAAyB,MAAzB,YAA6B,MAA7B;IACA;IAAT,UAAS,AAAyB,MAAzB,YAA6B,MAA7B;IACT,sBAAe,IAAI;;;EAM3B,2CAA+B,KAAM,2BACjC;AAAA,6CAA8B,WAAW;AAAA,IACxB;IAAb,UAAS,KAAI;IACA;IAAb,UAAS,KAAI;IACJ;IAAT,UAAS,AAAyB,MAAzB,YAA6B,MAA7B;IACA;IAAT,UAAS,AAAyB,MAAzB,YAA6B,MAA7B;IACT,qBAAc,WAAY,IAAI;IAC9B;IACA,YAAqB,sBACL,WACF,GACP,IACA,IACG,OAAM,KAAK,OAAM,gBAAS,OAAM,KAAK,OAAM;IAErD,iCAA0B;IAC1B,EAAI,2BAAmB,GACnB;AAAA,4BAAgB;;;;EAI5B,yCAA6B,KAAM,4BAC/B;AAAA,6CAA8B,WAAW;AAAA,IACxB;IAAb,UAAS,KAAI;IACA;IAAb,UAAS,KAAI;IACJ;IAAT,UAAS,AAAyB,MAAzB,YAA6B,MAA7B;IACA;IAAT,UAAS,AAAyB,MAAzB,YAA6B,MAA7B;IACT,mBAAY,YAAY,IAAI;IAC5B;IACA,YAAqB,sBACL,YACF,GACP,IACA,IACG,OAAM,KAAK,OAAM,gBAAS,OAAM,KAAK,OAAM;IAErD,+BAAwB;IACxB,EAAI,2BAAmB,GACnB;AAAA,0BAAc;;;;EAI1B,2CAA+B,KAAM,4BACjC;AAAA,6CAA8B,WAAW;AAAA,IACxB;IAAb,UAAS,KAAI;IACA;IAAb,UAAS,KAAI;IACJ;IAAT,UAAS,AAAyB,MAAzB,YAA6B,MAA7B;IACA;IAAT,UAAS,AAAyB,MAAzB,YAA6B,MAA7B;IACT,qBAAc,YAAY,IAAI;IAC9B,YAAqB,sBACL,YACF,GACP,IACA,IACG,OAAM,KAAK,OAAM,gBAAS,OAAM,KAAK,OAAM;IAErD,iCAA0B;IAC1B,EAAI,0BAAkB,GAClB;AAAA,4BAAgB;;;;;UAOhC,WAAuB;AAAA,EAGnB,EAAI,gBAAU;AAAA;;EACd,gBAAW;EAGX;EAGA,kBAAkB;EAClB,sBAAsB;EACtB,uBAAuB;EAGvB;EAGA,EAAI,gBAAe,0CAChB,mBAAmB,8CACnB,oBAAoB,6CACnB;AAAA;;EAIJ;EAGA;EAGA,gBAAW;;yBAIf,WAEI;AAAA,wBAAkB,AAAC,+CAAyB,IACxC,+CAEA;EAHJ;;;;;;iBASJ,WAA8B;AAAA,EAI1B,EAAI,2CAAwB,8BAAQ;AAAA,GAEhC;GAAmC;GAAnC,kBAA2B,AAAQ,2BAAR;GAA3B;;;;;GACA;GAAoC;GAApC,mBAA4B,AAAQ,2BAAR;GAA5B;;;;;;EAGJ;EAAwB,gDAA2B,GAAnD;AAAA,kBAAuD;SAAvD;AAAA,GAAkF;GAAlF,eAAkF;;EAClF;EAAyB,iDAA4B,GAArD;AAAA,mBAAyD;SAAzD;AAAA,GAAqF;GAArF,gBAAqF;;EAErF;EAAoB;;OAChB;GAC4B;;GAAc;GAA7B,4BAAc,CAAC,SAAc;GAAgC;;GAAe;GAF7F,QAEQ,SAAS,OAA6C,gBAAe,CAAC,SAAe;;OACzF;GAC4B;;GAAc;GAA7B,4BAAc,CAAC,SAAc;GAAgC;;GAAe;GAJ7F,QAIQ,SAAS,OAA6C,gBAAe,CAAC,SAAe;;OACzF;GAC4B;;GAAc;GAA7B,4BAAc,CAAC,SAAc;GAAgC;;GAAe;GAN7F,QAMQ,SAAS,OAA6C,gBAAe,CAAC,SAAe;;;EAIrF;;EAAc;EAAtB,aAAQ,MAAc,4BAAgB;EAC7B;;EAAe;EAAxB,cAAS,OAAe,4BAAgB;EACxC,eAAU,MAAM;;mBAKpB,WAAgC;AAAA,EAE5B;EAAwB,gDAA2B,GAAnD;AAAA,iBAAuD;SAAvD;AAAA,GAAkF;GAAlF,cAAkF;;EAClF;EAAyB,iDAA4B,GAArD;AAAA,kBAAyD;SAAzD;AAAA,GAAqF;GAArF,eAAqF;;EAGrF;;;;;;;;EAEA;UAAa;EAAb,QAAsB;EAAtB;;;;;;;EAEU;;EAAc;EAAxB,UAAS,CAAC,KAAc,4BAAgB,cAAc,gBAAW;EACvD;;EAAe;EAAzB,UAAS,CAAC,KAAe,4BAAgB,eAAe,gBAAW;EACnE;eAAiB;EAAjB,aAAqB;EAArB;EAIA;YAAe;EAAf,WAAe,YAAf;AAAA,GAAK,aAAL,AAAe,IAAf;;GACI,qBAAqB;GAArB;;;;;OhB1VI;KgB0VJ;;;;;0BAOR,cAAyD;AAAA,EAErD;;;;;;M9CjEI;I8CiEJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAEA,cAAc;EACd,QAAQ,iBAAiB;EACzB,KAAO,MAAK,GAAZ;AAAA,GAEI,cAAa,QAAQ;GACrB,EAAI,8BAA4B,gKAA+B,aAAY,EAAG,IAC1E;AAAA,WAAO;;GAGX;;EAGJ,OAAO;;0BAIX,cAAyD;AAAA,EAErD;;;;;;M9CrFI;I8CqFJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAEA,cAAc;EACd,QAAQ,iBAAiB;EACzB,KAAO,MAAK,GAAZ;AAAA,GAEI,cAAa,QAAQ;GACrB,EAAI,8BAA4B,gKAA+B,aAAY,EAAG,IAC1E;AAAA,WAAO;;GAGX;;EAGJ,OAAO;;iCAMJ,eAA4D;AAAA,EAE/D,EAAI,kBAAiB,IAAI;AAAA,GAErB,cAAS;GACT,cAAS;;EAGb,EAAI,oBAAmB,IAAI;AAAA,GAEvB,cAAc,eAAY;GAC1B,EAAI,YAAW,MAAM;AAAA,IACjB,UAAU,2BAAK,OAAW;IAC1B,eAAY,mBAAiB;UAC1B;AAAA,IACH,YAAY;IACZ,YAAY;;;EAIpB;;;;;;;KAgEA;GAhEA;;;KAkEI;GAlEJ,AAmEI,MAnEJ;GAoEI,MApEJ;;;;;;;;;;+BAIG,eAA0D;AAAA,EAE7D,EAAI,kBAAiB,IAAI;AAAA,GAErB,cAAS;GACT,cAAS;;EAGb,EAAI,oBAAmB,IAAI;AAAA,GAEvB,cAAc,eAAY;GAC1B,EAAI,YAAW,MAAM;AAAA,IACjB,UAAU,2BAAK,OAAW;IAC1B,eAAY,mBAAiB;UAC1B;AAAA,IACH,YAAY;IACZ,YAAY;;;EAIpB;;;;;;;KAwCA;GAxCA;;;KA0CI;GA1CJ,AA2CI,MA3CJ;GA4CI,MA5CJ;;;;;;;;;EAEA,EAAI,oBAAmB,IAEnB;AAAA,uBAAe;;;iCAKhB,eAA4D;AAAA,EAE/D,EAAI,kBAAiB,IAAI;AAAA,GAErB,cAAS;GACT,cAAS;;EAGb,EAAI,oBAAmB,IAAI;AAAA,GAEvB,cAAc,eAAY;GAC1B,EAAI,YAAW,MAAM;AAAA,IACjB,UAAU,2BAAK,OAAW;IAC1B,eAAY,mBAAiB;UAC1B;AAAA,IACH,YAAY;IACZ,YAAY;;;EAIpB;;;;;;;KAWA;GAXA;;;KAaI;GAbJ,AAcI,MAdJ;GAeI,MAfJ;;;;;;;;;;iBAIG,WAA8B;AAAA,EAIjC,uBAAuB;EACvB,SAAS;EACT,SAAS;EACT;YAAgB;EAAhB,wBAAgB,MAAhB;AAAA,GAAK,cAAL,AAAgB,MAAhB;;GACI,EAAI,YAAW,MAAM;AAAA;;GACrB;GACA,MAAM;GACN,MAAM;;EAEV,EAAI,oBAAmB,GAAG;AAAA,GACtB,gBAAW,KAAK;GAChB,gBAAW,KAAK;SAIf;AAAA,GACD,gBAAW;GACX,gBAAW;;;oBASZ,uBAA+D;AAAA,EAElE,cAAc,4BAAuB,EAAG;EACxC,EAAI,YAAW,MAAM;AAAA,GACjB;GACA,EAAI,4BAA2B,KAAK,oBAAoB;AAAA,IACpD,yCAAuB;IACvB,wBAAwB,sBACR,GACF,SACP,EACA,EACG;;;EAIlB,SAAS,QAAQ;EACjB,4BAAyB,MAAI;;kBAI1B,uBAA6D;AAAA,EAEhE,SAAS,QAAQ;EACjB,cAAc,4BAAyB;EACvC,EAAI,YAAW,QAAQ,CAAC,qBAAqB,0BAA0B,GAAG;AAAA,GACtE;GACA,EAAI,4BAA2B,KAAK,oBAChC;AAAA,IAEc;IACP;IACA;IAJP,sBAAsB,sBACN,GACF,IACP,IACA,GACG,aAAa,EAAG;;;EAIlC,iCAA4B;;oBAIzB,cAAiD;AAAA,EAEpD,SAAS;EACT,kBAAkB,4BAAyB;EAC3C,cAAc,4BAAuB,EAAG;EACxC,EAAI,YAAW,aACX;AAAA,KAAI,YAAW,MACX;AAAA,gCAAyB,MAAI;UAE7B;AAAA,qCAA4B;;;EAGpC,EAAI,gBAAe,QAAQ,eAAe,WAAW,CAAC,yBAAyB,8BAA8B,GAAG;AAAA,GAC5G;GACA,EAAI,gCAA+B,KAAK,wBACpC;AAAA,+BAA2B,sBACX,GACF,GACP,EACA,EACG;;;EAIlB,EAAI,YAAW,QAAQ,eAAe,SAAS;AAAA,GAC3C;GACA,EAAI,4BAA2B,KAAK,oBAChC;AAAA,4BAAwB,sBACR,GACF,GACP,EACA,EACG;;;;oBAOf,yBAAiE;AAAA,EAEpE,cAAc,4BAAuB,EAAG;EACxC,EAAI,YAAW,MAAM;AAAA,GACjB;GACA,EAAI,4BAA2B,KAAK,oBAAoB;AAAA,IACpD,yCAAuB;IACvB,wBAAwB,sBACR,WACF,GACP,EACA,EACG;;;EAIlB,SAAS,QAAQ;EACjB,4BAAyB,MAAI;;kBAI1B,yBAA+D;AAAA,EAElE,SAAS,QAAQ;EACjB,cAAc,4BAAyB;EACvC,EAAI,YAAW,QAAQ,CAAC,qBAAqB,0BAA0B,GAAG;AAAA,GACtE;GACA,EAAI,4BAA2B,KAAK,oBAChC;AAAA,IACgB;IAET;IACA;IAJP,sBAAsB,sBACN,IACF,GACP,IACA,GACG,aAAa,EAAG;;;EAIlC,iCAA4B;;oBAIzB,yBAAiE;AAAA,EAEpE,SAAS,QAAQ;EACjB,kBAAkB,4BAAyB;EAC3C,cAAc,4BAAuB,EAAG;EACxC,EAAI,YAAW,aACX;AAAA,KAAI,YAAW,MACX;AAAA,gCAAyB,MAAI;UAE7B;AAAA,qCAA4B;;;EAGpC,EAAI,gBAAe,QAAQ,eAAe,WAAW,CAAC,yBAAyB,8BAA8B,GAAG;AAAA,GAC5G;GACA,EAAI,gCAA+B,KAAK,wBACpC;AAAA,+BAA2B,sBACX,GACF,GACP,EACA,EACG;;;EAIlB,EAAI,YAAW,QAAQ,eAAe,SAAS;AAAA,GAC3C;GACA,EAAI,4BAA2B,KAAK,oBAChC;AAAA,4BAAwB,sBACR,GACF,GACP,EACA,EACG;;;;;;;;;;;;;;;;;uBCltBd,WAHZ;AAAA,CAyC+C,AAzC/C,eAyC+C;CAHG,AAtClD,kBAsCkD;CAHJ,AAnC9C,iBAmC8C;CAHG,AAhCjD,oBAgCiD;CAHJ,AA7B7C,aA6B6C;CAJM,AAzBnD,yBAyBmD;CAHL,AAtB9C,4BAsB8C;CAHC,AAnB/C,+BAmB+C;CAND,AAb9C,8BAa8C;CALD,AAR7C,6BAQ6C;;;;;;kBAAtB,W7CoEa;AAAA,SAAO;;mB6CpEpB,sB7CqFqB;AAAA,EACR,gBAAgB;EAChB,EAAI,cAAe,aACf;AAAA,UAAO;;EAEX,6BAA8B;EAC9B,2BAA4B,YAAa;EACzC,OAAS;;yB6C5FtB,2BxE2Na;AAAA,EAER,UAAU;EACV,EAAI,iCAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,mCAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,iCAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,mCAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,iCAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;uBwErPrB,sCxEqRa;AAAA,EwErRb;ExEuRK,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,gCAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,4CAA8B,MAC9B;AAAA,8CAA6B;;GAEjC,6CAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,4CAA8B,MAC9B;AAAA,8CAA6B;;GAEjC,6CAAgC;;EAIpC,EAAI,iCAAmB,MACnB;AAAA,kCAAkB;;EAEtB,kCAAuB;;yBwEhT5B,sCxE0Ua;AAAA,EwE1Ub;ExE4UK,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,gCAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,8CAAgC,MAChC;AAAA,gDAA+B;;GAEnC,+CAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,8CAAgC,MAChC;AAAA,gDAA+B;;GAEnC,+CAAkC;;EAItC,EAAI,mCAAqB,MACrB;AAAA,oCAAoB;;EAExB,oCAAyB;;wBwErW9B,gCxE4XK;AAAA,IAAM,0BAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,iCAAmB,MAAM;AAAA,IACzB,QAAQ,qCAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,oCAAuB,MAAO;KAC9B,SAAS,wCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,+CAAkC,MAAO;;;GAGjD,EAAI,mCAAqB,MAAM;AAAA,IAC3B,QAAQ,uCAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,sCAAyB,MAAO;KAChC,SAAS,0CAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,iDAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,0CAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,4CAA+B;GAC/B,+BAAkB;GAClB,iCAAoB;;;4BwE3Z7B,WxE6aY;AAAA,OAAC,gCAAmB,QAAQ,sCAAyB,IACrD;AAAA,KAAC,mCAAqB,MAAQ;AAAA,mDAA2B;UAAzD;AAAA;;SADA;AAAA;;;oBwExaZ,W7C+Da;AAAA,SAAO;;oB6C/DpB,uB7CgFqB;AAAA,EACR,gBAAgB;EAChB,EAAI,cAAe,cACf;AAAA,UAAO;;EAEX,8BAA8B;EAC9B,4BAA4B,aAAa;EACzC,OAAS;;0B6CvFtB,2BxEsNa;AAAA,EAER,UAAU;EACV,EAAI,kCAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,oCAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,kCAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,oCAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,kCAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;wBwEhPrB,sCxEgRa;AAAA,EwEhRb;ExEkRK,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,iCAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,6CAA8B,MAC9B;AAAA,+CAA6B;;GAEjC,8CAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,6CAA8B,MAC9B;AAAA,+CAA6B;;GAEjC,8CAAgC;;EAIpC,EAAI,kCAAmB,MACnB;AAAA,mCAAkB;;EAEtB,mCAAuB;;0BwE3S5B,sCxEqUa;AAAA,EwErUb;ExEuUK,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,iCAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,+CAAgC,MAChC;AAAA,iDAA+B;;GAEnC,gDAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,+CAAgC,MAChC;AAAA,iDAA+B;;GAEnC,gDAAkC;;EAItC,EAAI,oCAAqB,MACrB;AAAA,qCAAoB;;EAExB,qCAAyB;;yBwEhW9B,gCxEuXK;AAAA,IAAM,0BAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,kCAAmB,MAAM;AAAA,IACzB,QAAQ,sCAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,qCAAuB,MAAO;KAC9B,SAAS,yCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,gDAAkC,MAAO;;;GAGjD,EAAI,oCAAqB,MAAM;AAAA,IAC3B,QAAQ,wCAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,uCAAyB,MAAO;KAChC,SAAS,2CAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,kDAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,2CAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,6CAA+B;GAC/B,gCAAkB;GAClB,kCAAoB;;;6BwEtZ7B,WxEwaY;AAAA,OAAC,iCAAmB,QAAQ,uCAAyB,IACrD;AAAA,KAAC,oCAAqB,MAAQ;AAAA,oDAA2B;UAAzD;AAAA;;SADA;AAAA;;;qBwElaZ,W7CyDa;AAAA,SAAO;;qB6CzDpB,wB7C0EqB;AAAA,EACR,gBAAgB;EAChB,EAAI,cAAe,eACf;AAAA,UAAO;;EAEX,+BAA8B;EAC9B,6BAA4B,cAAa;EACzC,OAAS;;2B6CjFtB,2BxEgNa;AAAA,EAER,UAAU;EACV,EAAI,mCAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,qCAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,mCAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,qCAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,mCAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;yBwE1OrB,sCxE0Qa;AAAA,EwE1Qb;ExE4QK,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,kCAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,8CAA8B,MAC9B;AAAA,gDAA6B;;GAEjC,+CAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,8CAA8B,MAC9B;AAAA,gDAA6B;;GAEjC,+CAAgC;;EAIpC,EAAI,mCAAmB,MACnB;AAAA,oCAAkB;;EAEtB,oCAAuB;;2BwErS5B,sCxE+Ta;AAAA,EwE/Tb;ExEiUK,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,kCAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,gDAAgC,MAChC;AAAA,kDAA+B;;GAEnC,iDAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,gDAAgC,MAChC;AAAA,kDAA+B;;GAEnC,iDAAkC;;EAItC,EAAI,qCAAqB,MACrB;AAAA,sCAAoB;;EAExB,sCAAyB;;0BwE1V9B,gCxEiXK;AAAA,IAAM,0BAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,mCAAmB,MAAM;AAAA,IACzB,QAAQ,uCAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,sCAAuB,MAAO;KAC9B,SAAS,0CAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,iDAAkC,MAAO;;;GAGjD,EAAI,qCAAqB,MAAM;AAAA,IAC3B,QAAQ,yCAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,wCAAyB,MAAO;KAChC,SAAS,4CAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,mDAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,4CAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,8CAA+B;GAC/B,iCAAkB;GAClB,mCAAoB;;;8BwEhZ7B,WxEkaY;AAAA,OAAC,kCAAmB,QAAQ,wCAAyB,IACrD;AAAA,KAAC,qCAAqB,MAAQ;AAAA,qDAA2B;UAAzD;AAAA;;SADA;AAAA;;;kBwE/ZZ,W7CsDa;AAAA,SAAO;;kB6CtDpB,qB7CuEqB;AAAA,EACR,gBAAgB;EAChB,EAAI,cAAe,YACf;AAAA,UAAO;;EAEX,4BAA8B;EAC9B,0BAA4B,WAAa;EACzC,OAAS;;wB6C9EtB,2BxE6Ma;AAAA,EAER,UAAU;EACV,EAAI,gCAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,kCAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,gCAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,kCAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,gCAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;sBwEvOrB,sCxEuQa;AAAA,EwEvQb;ExEyQK,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,+BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,2CAA8B,MAC9B;AAAA,6CAA6B;;GAEjC,4CAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,2CAA8B,MAC9B;AAAA,6CAA6B;;GAEjC,4CAAgC;;EAIpC,EAAI,gCAAmB,MACnB;AAAA,iCAAkB;;EAEtB,iCAAuB;;wBwElS5B,sCxE4Ta;AAAA,EwE5Tb;ExE8TK,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,+BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,6CAAgC,MAChC;AAAA,+CAA+B;;GAEnC,8CAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,6CAAgC,MAChC;AAAA,+CAA+B;;GAEnC,8CAAkC;;EAItC,EAAI,kCAAqB,MACrB;AAAA,mCAAoB;;EAExB,mCAAyB;;uBwEvV9B,gCxE8WK;AAAA,IAAM,0BAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,gCAAmB,MAAM;AAAA,IACzB,QAAQ,oCAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,mCAAuB,MAAO;KAC9B,SAAS,uCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,8CAAkC,MAAO;;;GAGjD,EAAI,kCAAqB,MAAM;AAAA,IAC3B,QAAQ,sCAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,qCAAyB,MAAO;KAChC,SAAS,yCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,gDAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,yCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,2CAA+B;GAC/B,8BAAkB;GAClB,gCAAoB;;;2BwE7Y7B,WxE+ZY;AAAA,OAAC,+BAAmB,QAAQ,qCAAyB,IACrD;AAAA,KAAC,kCAAqB,MAAQ;AAAA,kDAA2B;UAAzD;AAAA;;SADA;AAAA;;;ewE5ZZ,W7CmDa;AAAA,SAAO;;e6CnDpB,kB7CoEqB;AAAA,EACR,gBAAgB;EAChB,EAAI,cAAe,SACf;AAAA,UAAO;;EAEX,yBAA8B;EAC9B,uBAA4B,QAAa;EACzC,OAAS;;qB6C3EtB,2BxE0Ma;AAAA,EAER,UAAU;EACV,EAAI,6BAAmB,MAAM;AAAA,UAAO;;EACpC,EAAI,+BAAqB,MAAM;AAAA,UAAO;;EACtC,EAAI,OAAM,GAAG;AAAA,GAGO,sBAAiC;GAAjD,gBAAgB;GAChB,QAAQ;GACR,EAAI,6BAAmB,MACnB;AAAA;cAAa;IAAb,WAAa,YAAb;AAAA,KAAK,WAAL,AAAa,IAAb;;KACI,UAAc,KAAG;KACjB;;;GAGR,EAAI,+BAAqB,MAAM;AAAA,IAC3B;eAAa;IAAb,YAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI,UAAc,KAAG;KACjB;;IAEJ,6BAAoB;;GAExB,WAAU;GAAV,UAAc;GAAd;;IACI,UAAc,IAzJkB;;GA2JpC,YAAY;;;mBwEpOrB,sCxEoQa;AAAA,EwEpQb;ExEsQK,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,4BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,wCAA8B,MAC9B;AAAA,0CAA6B;;GAEjC,yCAAgC,WAC5B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,wCAA8B,MAC9B;AAAA,0CAA6B;;GAEjC,yCAAgC;;EAIpC,EAAI,6BAAmB,MACnB;AAAA,8BAAkB;;EAEtB,8BAAuB;;qBwE/R5B,sCxEyTa;AAAA,EwEzTb;ExE2TK,EAAI,UAAS,MAAM;AAAA,GACf,EAAI,kBACA;AAAA;;GAEJ,gBAAgB,WACZ;AAAA,4BAAgB;;GAEpB,kBAAkB,KAAM;GACxB,EAAI,0CAAgC,MAChC;AAAA,4CAA+B;;GAEnC,2CAAkC,WAC9B;AAAA,qBAAiB;;SAElB;AAAA,GACH,EAAI,0CAAgC,MAChC;AAAA,4CAA+B;;GAEnC,2CAAkC;;EAItC,EAAI,+BAAqB,MACrB;AAAA,gCAAoB;;EAExB,gCAAyB;;oBwEpV9B,gCxE2WK;AAAA,IAAM,0BAAiB,MAAM;AAAA,GACzB;GACA;GACA,EAAI,6BAAmB,MAAM;AAAA,IACzB,QAAQ,iCAA0B;IAClC,EAAI,UAAS,IAAI;AAAA,KACb,gCAAuB,MAAO;KAC9B,SAAS,oCAA2B;KACpC,EAAI,WAAU,MAAM;AAAA;;KACpB,2CAAkC,MAAO;;;GAGjD,EAAI,+BAAqB,MAAM;AAAA,IAC3B,QAAQ,mCAA4B;IACpC,EAAI,UAAS,IAAI;AAAA,KACb,kCAAyB,MAAO;KAChC,SAAS,sCAA6B;KACtC,EAAI,WAAU,MAAM;AAAA;;KACpB,6CAAoC,MAAO;;;SAGhD;AAAA,GACH;aAAe;GAAf,WAAe,YAAf;AAAA,IAAK,cAAL,AAAe,IAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,sCAA6B;GAC7B;cAAe;GAAf,YAAe,aAAf;AAAA,IAAK,cAAL,AAAe,KAAf;;IACI,EAAI,YAAU,MAAM;AAAA;;;GAExB,wCAA+B;GAC/B,2BAAkB;GAClB,6BAAoB;;;wBwE1Y7B,WxE4ZY;AAAA,OAAC,4BAAmB,QAAQ,kCAAyB,IACrD;AAAA,KAAC,+BAAqB,MAAQ;AAAA,+CAA2B;UAAzD;AAAA;;SADA;AAAA;;;;;;qByEraxB,sBAAyC;AAAA;CAE5C,mBAAmB;;;;;;UAIhB,WAAmB;AAAA,E7CgIU,EAAI,iBAAW;AAAA;;EACf;E6C/HhC,EAAI,eAAS,MAAM;AAAA;;EAEnB;eAA4B;EAA5B;;;;;;;;EACA,mBAAc;;UAMJ,qBAEV;AAAA;eAA2B;EAA3B;kFAAwC;EAAxC,2BAAwC;EAAxC;gBAA8C;SAA9C;AAAA,GpDmFI,OoDnFJ,kCAAwC,KAAM,MAA9C;mBAAwC,KAAxC;;;;YAIU,qBAEV;AAAA;eAA6B;EAA7B;kFAA0C;EAA1C,+BAA0C;EAA1C;kBAAgD;SAAhD;AAAA,GpD4FI,SoD5FJ,oCAA0C,KAAM,MAAhD;qBAA0C,KAA1C;;;;YAIU,qBAEV;AAAA;eAA6B;EAA7B,+BAAgD,0BAAgB,yBAAkB,oBAAiB;EAAnG;kFAA0C;EAA1C,+BAA0C;EAA1C;;;GpD6NI,SoD7NJ,6CAA0C,KAA1C;qBAA0C,KAA1C;;;;iBAIU,qBAEV;AAAA;eAA6B;EAA7B,+BAAgD,0BAAgB,yBAAkB,oBAAiB;EAAnG;kFAA0C;EAA1C,+BAA0C;EAA1C;;;GpDuNI,SoDvNJ,6CAA0C,KAA1C;qBAA0C,KAA1C;;;;WAIU,mBAEV;AAAA;eAA4B;EAA5B,gCAA+C,EAAG;EAAlD;kFAAyC;EAAzC,mCAAyC;EAAzC;;;GpDyFI,WoDzFJ,8CAAyC,KAAzC;uBAAyC,KAAzC;;;;WAIU,qBAEV;AAAA;eAA4B;EAA5B,gCAA+C,EAAG,EAAG;EAArD;kFAAyC;EAAzC,mCAAyC;EAAzC;;;GpDiHI,WoDjHJ,8CAAyC,KAAzC;uBAAyC,KAAzC;;;;WAIU,uBAEV;AAAA;eAA4B;EAA5B,gCAA+C,EAAG,EAAG,EAAG;EAAxD;kFAAyC;EAAzC,mCAAyC;EAAzC;;;GpDyII,WoDzIJ,8CAAyC,KAAzC;uBAAyC,KAAzC;;;;cAIU,uBAEV;AAAA;iBAAkD;EAAlD,aAA+B;EAA/B;kFAA4C;EAA5C,mCAA4C;EAA5C;;;GpD8MI,WoD9MJ,+CAA4C,KAA5C;uBAA4C,KAA5C;;;;YAMJ,WAEI;AAAA,IAAI,YAAM,MAAM;AAAA,GACZ,WAAW;GACX,EAAI,6BAAiB,YAAW;AAAA,WAAO,wBAAY,EAAZ;;GACvC,EAAI,eAAS,QAAQ,6BAAwB,QAAQ,6BAAwB,MAAM;AAAA,IAC/E,aAAa,6BAAwB,OAAO,4BAAwB;IACpE,aAAa,6BAAwB,OAAO,4BAAwB;IACpE,OAAQ,YAAQ,OAAI,MAAE,SAAM,MAAE,SAAM;UAGpC;AAAA,WAAQ,YAAQ,OAAI;;SAGxB;AAAA,UAAQ;;;;;0BCvFA,uBAJpB;AAAA,CAE+B,AAF/B,cAE+B;CAIvB,wBAAO,SAAS,KAAM;;;;;;OAIV,WAAgB;AAAA,EAAhB;EAEZ,aAAS;EAAT;;;;;EAEA,EAAI,cAAQ,MAAM;AAAA,GACd,+BAAS,iDAAT;GACA,cAAS;GAAT;;;;;GACA,kBAAa;GACb;;EAIJ,EAAI,cAAQ,QAAQ,CAAC,6CAA6B,YAAW,6CAA6B,WAAU;AAAA,GACpF,UAAqB;GAArB;GAAZ,YAAY;GACZ,EAAI,wBAAkB,MAClB;AAAA;eAAa,cAAb;AAAA,KAAK,WAAL,AAAa,MAAb;;KACI,EAAI,yCAA6B,UAAS;AAAA,MACtC,sBAAiB;MACjB;;;;GAIZ,EAAI,wBAAkB,MAClB;AAAA;gBAAa,cAAb;AAAA,KAAK,YAAL,AAAa,MAAb;;KACI,EAAI,0CAA6B,UAAS;AAAA,MACtC,sBAAiB;MACjB;;;;GAKZ,EAAI,wBAAkB,QAAQ,uBAAkB,MAC5C;AAAA,kBAAO,uBAAe;;GAG1B,2BAAI,AAAC,gBAAe,CAAC,uBAAkB,OAAO,AAAC,MAAK,kCAAiB,MAAM,CAAC,uBAAkB,OAAO,AAAC,MAAK,kCAAiB,IAA5H;SAGA;AAAA,8BAAK,iBAAa,UAAlB;;EAGJ,qCAAyB,UAAM,WACnB,8BACA,yCACW,gCACpB,iBAEC;AAAA,KAAI,WAAU,MAAM;AAAA,IAChB,gBAAc,mBAAW;IACzB,sBAAoB;IACpB,cAAS;IAAT;;;;;IACA,oBAAa;UAEZ;AAAA,IACD,cAAS;IAAT;;;;;IACA,6BAAO,oCAAgC,YAAvC;IACA,oBAAa;;;;WAOzB,WAAwB;AAAA,E9CuEY,EAAI,iBAAW;AAAA;;EACf;E8CtEhC,EAAI,gBAAU,MAAM;AAAA,GAChB;GACA,cAAS;;;YAOjB,WAA2B;AAAA,EAEvB,gBAAiB;EAEjB,EAAI,wBAAkB,QAAQ,uBAAkB,MAAM;AAAA,GAClD,aAAa,uBAAkB,OAAO,sBAAkB;GACxD,aAAa,uBAAkB,OAAO,sBAAkB;GACxD,OAAQ,KAAC,YAAS,MAAE,YAAI,MAAE,SAAM,MAAE,SAAM;SAEvC,EAAI,cAAQ,QAAQ,+BAAe,IACpC;AAAA,UAAQ,KAAC,YAAS,MAAE,YAAI,MAAE,YAAI;SAE9B;AAAA,UAAQ,KAAC,YAAS,MAAE,YAAI;;;;;;;;;4BCpFlB,WAAyB;AAAA,QAAO;;+BAIhC,WAA+B;AAAA,QAAO;;iCAItC,WAAmC;AAAA,QAAO;;oCAU1C,WAAyC;AAAA,QAAO;;wBAWzC,oBACjB;AAAA,4BAAmB,MAAO;;4BAIT,oBACjB;AAAA,gCAAuB,MAAO;;4BAIb,oBACjB;AAAA,gCAAuB,MAAO;;0BAIb,oBACjB;AAAA,8BAAqB,MAAO;;oBCpDzB,sBARX;AAAA,CAgC6B,AAhC7B,aAgC6B;CAHF,AA7B3B,WA6B2B;CAHG,AA1B9B,cA0B8B;CAlB6B;CAEnD,mBAAmB;;;;;;UAIhB,WAAmB;AAAA,EhDqIU,EAAI,iBAAW;AAAA;;EACf;EgDpIhC,EAAI,eAAS,MAAM;AAAA;;EAEnB;EAA0B,yBAA1B;EACA,mBAAc;;QAiBX;AAAA;;;;;;EAEH,EAAI,WAAU,MAAM;AAAA,YAAS;;EAC7B,EAAI,QAAO,MAAM;AAAA,SAAM;;EACvB,EAAI,UAAS,MAAM;AAAA,WAAQ;;EAE3B,OAAO,AAAK,mCAAuB,iBAAa,OAAQ,IAAK,MAAO,SAAU;;;;yBCrClE,uBANpB;AAAA,CAI6B,AAJ7B,aAI6B;CAFA,AAF7B,cAE6B;CAMrB,wBAAO,QAAQ,KAAM;;;;;;OAIT,WAAgB;AAAA,EAAhB;EAEZ,aAAS;EAAT;;;;;EAEA,EAAI,cAAQ,MAAM;AAAA,GACd,+BAAS,gDAAT;GACA,cAAS;GAAT;;;;;GACA,kBAAa;GACb;;EAGJ,2BAAK,gBAAY,UAAjB;EACA,mCAAuB,UAAM,WAAU,qBAAkB,gBAErD;AAAA,KAAI,UAAS,MAAM;AAAA,IACf,eAAa,kBAAU;IACvB,qBAAmB;IACnB,cAAS;IAAT;;;;;IACA,oBAAa;UAEZ;AAAA,IACD,cAAS;IAAT;;;;;IACA,6BAAO,mCAA+B,YAAtC;IACA,oBAAa;;;;WAOzB,WAAwB;AAAA,EjD0GY,EAAI,iBAAW;AAAA;;EACf;EiDzGhC,EAAI,eAAS,MAAM;AAAA,GACf;GACA,aAAQ;;;;;;;;;kDC3CF,gBAEV;AAAA,qCAAwB;;mDAKd,gBAEV;AAAA,sCAAyB;;iDAKf,gBAEV;AAAA,oCAAuB;;uDAMpB,gBACH;AAAA,QAAO,wCAA4B;;uDAEhC,uBAAwC;AAAA,CAC3C,wCAA4B,MAAM;CAClC,OAAO;;oDAKJ,gBACH;AAAA,QAAO,qCAAyB;;oDAE7B,oBAAkC;AAAA,CACrC,qCAAyB,MAAM;CAC/B,OAAO;;sDAKJ,gBACH;AAAA,QAAO,uCAA2B;;sDAE/B,sBAAsC;AAAA,CACzC,uCAA2B,MAAM;CACjC,OAAO;;yDAKJ,gBACH;AAAA,QAAO,0CAA8B;;yDAElC,yBAA4C;AAAA,CAC/C,0CAA8B,MAAM;CACpC,OAAO;;mBCoFK,WA3IpB;AAAA,CA4JiC,AA5JjC,kBA4JiC;CA3Ea,AAjF9C,aAiF8C;CArCI,AA5ClD,qBA4CkD;CATH,AAnC/C,kBAmC+C;CATD,AA1B9C,iBA0B8C;CATD,AAjB7C,eAiB6C;CAdH,AAH1C,aAG0C;CA0IlC;CAGA,cAAO;;;;;;YA5IX,gBAAsC;AAAA,EAClC,EAAI,eAAc,OAAO;AAAA,UAAO;;EAChC,aAAa;EAGb;YAAa;EAAb,WAAa,YAAb;AAAA,GAAK,WAAL,AAAa,IAAb;;GACI,aAAa;;EAGjB,OAAO;;eAKX,kBAA4C;AAAA,EACxC,EAAI,iBAAgB,SAAS;AAAA,UAAO;;EACpC,oBAAe;EACf,eAAe;EACf,OAAO;;iBAKX,oBAA8C;AAAA,EAC1C,EAAI,mBAAkB,WAAW;AAAA,UAAO;;EACxC,oBAAe;EACf,iBAAiB;EACjB,OAAO;;kBAKX,qBAAgD;AAAA,EAC5C,EAAI,oBAAmB,YAAY;AAAA,UAAO;;EAC1C,oBAAe;EACf,kBAAkB;EAClB,OAAO;;qBAKX,wBAAsD;AAAA,EAClD,EAAI,uBAAsB,eAAe;AAAA,UAAO;;EAChD,oBAAe;EACf,qBAAqB;EACrB,OAAO;;YAKX,eAA8C;AAAA,EAE1C,EAAI,SAAQ,MACD;AAAA,GAAP,OAAO;;EAGX,EAAI,cAAa,MAAM;AAAA,UAAO;;EAG9B,EAAI,cAAa,MAAM;AAAA,GACnB,qBAAqB;GACrB,EAAI,oBAAmB,MAAM;AAAA;;;EAGjC,oBAAe;EACf,YAAY;EAEZ,EAAI,cAAa,MAAM;AAAA,GAEnB,oBAAoB,KAAM;GAC1B,EAAI,oBAAmB,MAAM;AAAA;;;EAGjC,OAAO;;aAKX,gBAA8C;AAAA,EAC1C,EAAI,eAAc,OAAO;AAAA,UAAO;;EAChC,oBAAe;EACf,aAAa;EACb,OAAO;;aAKF,gBAAsC;AAAA,EAC3C,EAAI,eAAc,OAAO;AAAA,UAAO;;EAGhC;YAAa;EAAb,WAAa,YAAb;AAAA,GAAK,WAAL,AAAa,IAAb;;GACI,eAAa;;EAGjB,OAAO,6CAAgB;;aAGlB,WAA2B;AAAA,EAChC,EAAI,oBAAc;AAAA;;EAClB,OAAO;;cAGX,sBAA4C;AAAA,EAExC,EAAI,iBAAW,aAAa;AAAA;;EAC5B,gBAAS,cAAc;EACvB,mBAAc;EAAd;;;;;MxBhDQ;IwBgDR;;;;cAGK,WAA4B;AAAA,EACjC,EAAI,oBAAc;AAAA;;EAClB,OAAO;;eAGX,uBAA8C;AAAA,EAE1C,EAAI,iBAAW,cAAc;AAAA;;EAC7B,gBAAS,eAAe;EACxB,mBAAc;EAAd;;;;;MxB5DQ;IwB4DR;;;;gBAGK,mBAAkD;AAAA,EACvD,EAAI,kBAAiB,UAAU;AAAA,UAAO;;EACtC,gBAAgB;EAChB,EAAI,oBAAc,MACd;AAAA;aAAa;GAAb,WAAa,YAAb;AAAA,IAAK,WAAL,AAAa,IAAb;;IACI,kBAAgB;;;EAGxB,OAAO;;WAcX,WAAmB;AAAA,EnDLiB,EAAI,iBAAW;AAAA;;EACf;EmDMhC,kBAAa;;kBAQR,WAA0B;AAAA,EAE/B,EAAI,cAAQ,MAAM;AAAA,GACd,eAAQ;GACR,gBAAS;GACT,oBAAe;GACf;;EAGJ,QAAQ;EACR,QAAQ;EACE;;;EAAV,UAAU;EACV,iBAAiB,iBAAY;EAC7B,YAAW;EACX,WAAW;EACX,eAAe;EACf,eAAe;EACf,QAAQ;EACR,YAAgC;EAChC,iBAA8B;EAC9B,gBAAmC,CAAC;EACpC,gBAAgB;EAEhB,KAAO,KAAI,KAAX;AAAA,GAEI,WAAW;GACX,WAAW;GACJ;;;;;MAAgB,KAAhB;;;;eAAgB,KAAhB;;KjC3ChB,SiC2CgB;OjC1Cd;;IiC0Cc;;;;mBAAgB,KAAhB;;KjClChB,UiCkCgB;OjCjCd;;IiCiCc;;;;;;;;GAAP,QAAO;GACA;;;;;;cAAiB,KAAjB;;IjC5ChB,UiC4CgB;MjC3Cd;;GiC2Cc;;;GAAP,OAAO;GAEP,EAAI,UAAQ,MAAM;AAAA,IACd,WAAW;IACX,WAAW;IACX;IACA,KAAK,kBAAa,gCAAkB;IACpC,gBAAgB,IAAI,CAAC,SAAS,OAAO,CAAC,gBAAgB,cAAc,kBAAkB,aAAa,qBAAgB;IACnH,eAAe;IACf,IAAI;IACJ;;GAGI,AAAR,QAAQ,2BAAe;GACvB,EAAI,UAAS,MAAM;AAAA,IACf;IACA;;GAGJ,EAAI,aAAY,MACZ;AAAA,IAAK,0CAAa;IAAlB,KAAK,qCAAuB,QAAvB,MAAuB,QAAvB,KAA+B;;GAIxC,WAAgB,YAAY,yBAAoB,gBAAW,aAAa;GACxE,EAAI,SAAQ,MAAM;AAAA,IACd,OAAO;IACP,qBAAgB;IAChB,SAAI;;GAER;GAEA,cAAe,kBAAe;GAA9B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GACA,aAAa;GACb,eAAa;GACb,kBAAgB;GAChB,kBAGI,cAAc;GAHlB,mBAII,eAAe;GAJnB,cACI,UAAU;GADd,cAEI,UAAU;GAFd;;;;;;;;;;;;GAMA,iBAAY;GAAZ,iBAAe;GACf,SAAyC,IAAI,gBAAgB;GAA7D,WAAS,IAAI,gBAAgB;GAA7B;GACA,aAAoC,eAAe;GAAnD,eAAU,cAAc;GAAxB;GAEA,KAAK,iBAAiB,aAAa;GACnC,UAAU,mBAAiB,QAAQ;GAEnC;;EAIJ,EAAI,KAAI,GACJ;AAAA,mBAAgB,IAAI,CAAC,SAAS,OAAO,CAAC,gBAAgB,cAAc,kBAAkB,aAAa,qBAAgB;;EAIvH,KAAO,aAAY,wBAAnB;AAAA,GACI,YAAW;GACX;;EAIJ,mBAAmB;EACnB;aAAkB,mBAAlB;AAAA,GAAK,gBAAL,AAAkB,WAAlB;;GACI,eAAe,SAAS,UAAW;;EAEvC,eAAa;EACb,gBAAc,CAAC,oBAAoB,KAAK,kBAAa,gCAAkB,aAAa,gCAAkB;EAG9F;;OAQJ;GACI,WAAU;GAAV,UAAc;GAAd;;IACI,YAAY,eAAe,WAAW;IACtC;cAAa,UAAU;IAAvB,aAAa,YAAb;AAAA,KAAK,YAAL,AAAa,IAAb;;KACI;uBAAU;;;;OAXtB;GACI,WAAU;GAAV,UAAc;GAAd;;IACI,aAAY,CAAC,eAAe,WAAW,OAAM;IAC7C;eAAa,UAAU;IAAvB,aAAa,aAAb;AAAA,KAAK,YAAL,AAAa,KAAb;;KACI;yBAAU;;;;;;EAa1B,oBAAe;;iBAMnB,WAGI;AAAA,gBAAY;;YAMhB,WAEI;AAAA,IAAI,YAAM,MACN;AAAA,UAAQ,UAAM,UAAE,MAAE,eAAO;SAEzB;AAAA,UAAQ,UAAM,eAAO;;;;;;;;;;;;;;;;wBCzSb,uBAJpB;AAAA,CAE6B,AAF7B,YAE6B;CAIrB,wBAAO,OAAO,KAAM;;;;;;OAIR,WAAgB;AAAA,EAAhB;EAEZ,aAAS;EAAT;;;;;EAEA,EAAI,cAAQ,MAAM;AAAA,GACd,+BAAS,+CAAT;GACA,cAAS;GAAT;;;;;GACA,kBAAa;GACb;;EAGJ,2BAAK,eAAW,UAAhB;EACA,mCAAuB,UAAvB,KAA6B,eAEzB;AAAA,KAAI,SAAQ,MAAM;AAAA,IACd,cAAY;IACZ,cAAS;IAAT;;;;;IACA,oBAAa;UAEZ;AAAA,IACD,cAAS;IAAT;;;;;IACA,6BAAO,kCAA8B,YAArC;IACA,oBAAa;;;;WAOzB,WAAwB;AAAA,EpD6GY,EAAI,iBAAW;AAAA;;EACf;EoD5GhC,YAAO;;;;;;;uBCjCJ,gBAAkC;AAAA,CAErC,qBAAO;CAEP,EAAI,uBAAQ,mBAAK;AAAA,EAEb,qBAAO;EACP,oBAAoB;EACpB,0BAAY;EAEZ;aAAiB,sBAAjB;AAAA,GAAK,eAAL,AAAiB,cAAjB;;GACI,EAAI,kBAAiB,mBAAK;AAAA,IACtB;IACA,kBAAkB;UAEjB;AAAA,IACD,6BAAe;IACf,qBAAO,SAAS,cAAe;;;;;sBASjC,2BAAwD;AAAA,CAElE,WAAW,oBAAM;CACjB,qBAAO,SAAS,KAAM;CAEtB,6BAAe,0BAAkB,SAAU;;4BAYxC,wBANX;AAAA,CAI6B,AAJ7B,cAI6B;CAIrB,gBAAgB;CAChB,YAAY;;;;;;;wBCvDpB;AAAA;;;;;;;;;WAuBI,WAEI;AAAA,SAAO,KAAK,0BACI,4BACF,mBACP,YACA,eACG;;;;;;;;yCCdP;AAAA,aACI;CADJ;;wCAWQ,4BAAqC;AAAA,SAAS,SAAO;;wCAiBxC,sBAAwB;AAAA,QAAO,QAAS;;2CAOtD,sBAA2B;AAAA,QAAO,uBAAY;;2CAQ7C,sBAA2B;AAAA,QAAO,aAAY;;4CAO/C,gBACV;AAAA,QAAO;;6CAQG,gBACV;AAAA,QAAO;;6CAQG,gBACV;AAAA,QAAO;;+CAGgC,oBAA0C;AAAA,CACjF,QAAS,KAAG;CACZ,OAAO;;+CAKJ,gBAA4B;AAAA,QAAO,aAAa;;;;;yBCvFzC,eAAsC;AAAA,CAEzC,2BAAwB,SAAS,4BAAiB,cAAa,4BAAiB,aACnF;AAAA,EADJ,OACI;QAEA;AAAA,EAHJ,OAGI,kBAAkB,CAAC,oCAAqC;;CAE5D,OAAO;;wBAIO,YAEpB;AAAA,QAAO,0CAAyB;;;;;gDCHhB,WAA4B;AAAA;4CAW5B,YAyBhB;AAAA,QAAO,uBAAa;;;;;;;;;;;;;0BChBd,YAA+C;AAAA,CACrD,EAAI,MAAK,MAAM;AAAA,SAAO;;CAEtB,eAAe;CACf,0BAAoC,0BAA4C;AAAA,EAC/E,YAAY;EACZ;aAAa,kBAAb;AAAA,GAAK,WAAL,AAAa,UAAb;;GACC,EAAI,gCAAgB,MAAM;AAAA,WAAO,4BAAa;;GAC9C,aAAa;GACb,eAAuB;GACvB,EAAI,aAAY,MAAM;AAAA,IACrB,UAAU,qBAAqB;IAC/B,EAAI,QAAO,GAAG;AAAA,KACb,gBAAgB,4BAAgB,EAAG;KACnC,iBAAiB,4BAAgB,MAAI,EAApB;KACjB,SAAS,sBAAO,UAAW;;;GAG7B,WAAW,uBAAQ,OAAQ,mBAAoB;;EAEhD,OAAO;;CAER,QAAQ,yBAAU;CAClB,0BAAoC;CACpC,OAAO;;2BAWM,WAeZ;AAAA,KACC;AAAA,QAAM;;;EAEN,QAAQ,wBAAS;EACjB;EACA,OAAO;;;2BA0KK,YA4Db;AAAA,GAAI,MAAK,MACR;AAAA,SAAO;QACD,EAAI,QAA2B,MAAM,UAAU;AAAA,EAErD,YAA4B,QAAQ;EACpC,EAAI,OAAM,MAAM,SAAU;AAAA;;EAC1B,QAAQ;EACR,YAAY;EACZ;aAAa,cAAb;AAAA,GAAK,WAAL,AAAa,MAAb;;GACC,EAAI,aAAY,OAAQ;AAAA,IACvB,WAAW,cAAc,SAAS;IAClC,WAAW;IACX,WAAW,cAAc;IACzB,YAAW,aAAa,cAAc;IACtC,OAAO,uBAAS,QAAQ,uBAAuB,iCAAkB,QAAQ,gBAAgB,OAAO,sBAAO,UAAU,KAAK,MAAO,KAAM;UAEnI;AAAA,WAAO,sBAAO,iBAAiB;;;EAEjC,OAAO;QAEP;AAAA,SAAO,AAAK;;;;;;;;;;;;iBC5SO,kBAiBZ;AAAA,iBAAgB,EAAE;;;;;0BCdd,eAA6C;AAAA,CAC1D;WAAU;CAAV,WAAU,YAAV;AAAA,EAAK,QAAL,AAAU,IAAV;;EACC,EAAI,WAAU,MAAO;AAAA,GAIpB,EAAI,UAAS,MAAO;AAAA,WAAO;;GAC3B,QAAwB,0BAA0B;GAClD,OAAO;;;CAGT,OAAO;;yBASM,eAAmD;AAAA,CAChE;WAAU;CAAV,WAAU,YAAV;AAAA,EAAK,QAAL,AAAU,IAAV;;EACC,EAAI,WAAU,MAAO;AAAA,GAIpB,EAAI,UAAS,MAAO;AAAA,WAAO,uBAAuB;;GAClD,OAAO,0BAA0B;;;CAGnC,OAAO;;sBCqBD,WAAe;AAAA,CACrB,WAAM;CACN,aAAQ;CACR,gBAAW;CACX,oBAAe;CACf,aAAQ;CACR,cAAS;;;;sBAicI,YAA4B;AAAA,CACzC,QAAQ;CACR,YAAY;CACZ,OAAO;;;WA3bD,WACC;AAAA;;mBAoCR,YAAuC;AAAA,EAC9B;EAAR,QAAQ,eAAU,MAAV,yBAAU,KAAV,QAAU;EAClB,EAAI,MAAK,MAAO;AAAA,GACf;GACA,cAAQ;GACR;;EAED;cAAY;EAAZ,kBAAU,MAAV;sBAAU,EAAV;;YAAU,KAAV;;EAKA;EACA,IAAI,mBAAsB;EAC1B,yBAAQ;EACR;EACA,cAAQ;;gBAGT,YAAyB;AAAA,EAExB,SAAiB,OAAiB;EAElC,UAAU;EAAV,SAAc;EAAd;;GAEC,SAAS,WAAM;GACf,EAAY,QAAiB,OAAO,MAAM,MAAM,GAAI;AAAA,IAInD;IACA,cAAQ;IACR,OAAO;;;EAGT,gBAAW;EACX,OAAO;;mBAoBR,YAA4B;AAAA,EAC3B;YAAU,eAAe;EAAzB,WAAU,YAAV;AAAA,GAAK,QAAL,AAAU,IAAV;;GACC,qBAAgB;GAChB,eAAU,cAAc,EAAE;;EAE3B;;aAaM,YACN;AAAA,EAAQ,wBAAY;EAAZ;OACR;GACC;;OACD;GACC,SAAc;GACd,EAAI,OAAK,GAAI;AAAA,IACZ;IACA;;GAED;GACA,cAAQ;;OACT;GACC,SAAgB;GAChB,EAAI,OAAW,KACd;AAAA;UACI,EAAI,EAAC,SAAc,KACvB;AAAA,kBAAQ,AAAI,KAAI,IAAI,MAAS;UACzB;AAAA,IACJ;IACA,cAAQ;;;OAEV;GACC,cAAQ,AAAI,IAAI,MAAS;;OAmJ1B;GACC,EAAI,sBAAO,EAAE,QAAQ;AAAA,IACpB,gBAAgB,kBAAkB;IAMlC;IACA,qBAAgB;UACV,EAAI,sBAAO,EAAE,OAAO;AAAA,IAC1B;IACA,qBAAgB,iBAAiB;UAC3B;AAAA,IACN,EAAI,kBAAY,kBAAa,IAC5B;AAAA;;IACD;IACA,qBAAgB;;;OAuGlB;GACC,MAAM;;OA3QP;GAAY,QAvBJ;GAwBP,EAAyC,MAAK,QAAc;AAAA,IAC3D,qBAAgB;IAChB;;GAED,EAAI,kBAAY,kBAAa,IAC5B;AAAA;;GACD,MAA8D;QAC9D;IACC,aAAa;IACb;IAIA,QAAgH,AAAW,EAAG;IAC9H,UAAU;IAAV,UAAc;IAAd;;KACC,EAAI,GAAE,MAAM,MACX;AAAA;YACI;AAAA,MACJ,EAAI,UAAS,GAAI;AAAA,OAChB,EAAI,WAAU,GACb;AAAA;cACI;AAAA,QACJ;QACA,cAAQ;;OAET,SAAS;;MAEV,eAAU,EAAE;;;IAGd,EAAI,UAAS,GACZ;AAAA,OAAI,WAAU,GACb;AAAA;YACI;AAAA,MACJ;MACA,cAAQ;;;IAGV;;QAOD;IACC,QAAe;IACf;IACA,yBAAQ;;QATT;IACC;IACA,SAAwB;IACxB,cAAU;IAAV;;;;KACC,eAAU;;IACX;;QAaD;IACC;IACA,SAAkC;IACxB;;KAAV,SAAU;KACT;KACA,cAAQ;KACR,eAAU,KAAM;;IAEjB;;QACD;IACC;IACA,SAA6C;IAClC;;KAAX,SAAW;KAEV,SAAS,cAAc,GAAG;KAC1B,oBAAoB,GAAG;KACvB,eAAU;KACV,AAAiB,GAAG,YAAU;KAI9B,eAAU,KAAM;;IAEjB;;QA/BD;IACC;IACA,SAAqC;IAC3B;;KAAV,SAAU;KACT,qBAAgB;KAChB,eAAU,eAAM,OAAN,sBAAM,MAAN,KAAM;;IAEjB;;QAyBD;IACC,SAAwB;IASxB;IACA,yBAAQ,UAAU,AAAC,YAAW,IAAK;IACnC;IAEA,SAAQ;IACR,UAAU,YAAW;IACrB,UAAU;IACV,EAAI,QAAO,MAAO;AAAA,KACX,aAAmB;KAAnB;KAAN,MAAM;KACN,WAAU;KAAV,UAAc;KAAd;;MACC,IAAI,MAAK,uCAAkB;;KAC5B,+BAAe;;IAEhB,KAAO,MAAI,KAAX;AAAA,KACC,SAAS,KAAM;KACf,SAAS,KAAM;KACf,SAAS,KAAM;KAEf,kCAAY,IAAI,MAAM;KACtB,kCAAY,IAAI,CAAC,AAAC,MAAM,IAAK,AAAC,MAAM,KAAM;KAC1C,kCAAY,IAAI,CAAC,AAAC,MAAM,IAAK,AAAC,MAAM,KAAM;KAC1C,kCAAY,IAAI,KAAK;;IAEtB,EAAI,OAAK,KAAM;AAAA,KACd,UAAS,KAAM;KACf,UAAS,KAAM;KACf,kCAAY,IAAI,OAAM;KACtB,kCAAY,IAAI,CAAC,AAAC,OAAM,IAAK,AAAC,OAAM,KAAM;KAC1C,kCAAY,IAAI,AAAC,OAAM,IAAK;WACtB,EAAI,OAAK,MAAM,GAAI;AAAA,KACzB,UAAS,KAAM;KACf,kCAAY,IAAI,OAAM;KACtB,kCAAY,IAAI,AAAC,OAAM,IAAK;;;;IAI7B,EAAI,gBAAW;AAAA;;IACf,EAA4M,kBAAiB,MAAa;AAAA,KACzO;KACA,qBAAgB,kBAAkB;KAClC,EAAI,gBAAW;AAAA,sBAAW;;KAC1B,cAAc;KACd;WACM;AAAA,KACN;KACA,qBAAgB,kBAAkB;KAClC,EAAI,gBAAW;AAAA,sBAAW;;KAI1B,qBAAgB;;;;OAuBnB;GAAW,QA5LH;GA6LP,EAAI,gBAAW;AAAA,IACd,EAAI,mBAAa,IAChB;AAAA;;IACD;;GAED,yBAAQ,oBAAa,MAAI;GACzB,qBAAgB,iBAAiB;GAkFjC,EAAI,oBAAe;AAAA,IAClB;IACA,yBAAQ,EAAE;UAEV;AAAA,yBAAgB,EAAE;;GACnB;GACA,SAAQ,AAAW,EAAG;GACtB,yBAAQ,KAAI;GACZ,WAAU;GAAV,UAAc;GAAd;;IACC,eAAU,EAAE;;GAEb,EAAI,gBAAW;AAAA,oBAAW;;;;GAW1B,MAAM,8CAAoB,WAAW;;;;;;;;0CCnDhC,WAAe;AAAA;;;;eACA,eAAkD;AAAA,SAAO,kBAAkB;;eAC3E,eAAgD;AAAA,SAAO,iBAAiB;;;;wBAxXtF,cAA6B;AAAA,CACnC,WAAW;CACX,cAAS;CACT,WAAM;CAIN,cAAS;CACT,aAAQ;CACT,QAAQ;CACR,EAAI,MAAK,MAAO;AAAA,EACf,IAAI;EACJ,qCAAmB;;CAEpB,gBAAW;;;;8BA9CL,WAAqB;AAAA,CAC3B,YAIE;CAEF,UAAU;CAAV,SAAc;CAAd;;EACC,MAAM,AAAuB,oCAAO,MAAM;;CAC3C,OAAO;;wBAkYM,YACb;AAAA,QAAO,sBAAiB;;;aA/TxB,WAAsB;AAAA,EACrB,QAAQ;EACR,QAAQ;EACR,WAAW;EACX,KAAO,OAAO;AAAA,GACb,QAAQ,oBAAI;GACb,EAAI,CAAkB,QACrB;AAAA;;GACA,EAAI,MAAK,IAAW;AAAA,IACnB,EAAI,aAAO,MACV;AAAA;;IACD,IAAI;IACJ;IACA;;GAED,EAAI,KAAI,MAAY,IAAI,IACvB;AAAA;;GACD,IAAI,IAAI,KAAK,CAAC,IAAI;GAClB;;EAED,EAAI,IACH;AAAA,QAAK;;EACN,OAAO;;aAGT,WAAqB;AAAA,EACpB,SAAS;EACR,KAAO,OAAO;AAAA,GACb,QAAQ,oBAAI;GACb,EAAI,CAAkB,QAAI;AAAA;;GAEzB,EAAI,CAAC,KAAK,MAAM,IAAI,MAAO,KAAK,OAAY,KAAK,IAChD;AAAA;UAEA;AAAA;;;EAEK,kBAAe,4BAAW,GAAG,WAAI;;qBAG1C,YAA8B;AAAA,EAC5B,KAAO,OAAO;AAAA,GACb,EAAI,aAAO,aACV;AAAA,UAAM;;GACP,EAAI,qBAAI,aAAQ,KACf;AAAA;;GACD,QAAQ;GACR,EAAI,CAAC,OAAO,MAAP,UACJ;AAAA,UAAM;;GACP,QAAQ;GACR,AAAiB,EAAE,KAAE;;EAEtB;;mBAGF,oBAAuC;AAAA,EACtC,EAAI,qBAAI,eAAU,IACjB;AAAA,SAAM;;EACP,YAAY;EACZ,EAAI,UAAS,GACZ;AAAA,UAAO,gBAAgB,MAAM;;EAC9B,WAAW;EACX,KAAO,WAAU,GAChB,UAAU;EACX,OAAO,gBAAgB,MAAM,IAAI;;eAuB1B,WAAiC;AAAA,EAC/B,6BAAI;EAAJ;OA8MT;GACC,WAAW;GACX,SAAS,2BAAsB;GAC/B,EAAI,OAAM,MACT;AAAA,UAAM,6CAAqB;;GAC5B,OAAO;OACR;GACC,YAAW;GACX,QAAQ,0BAAqB;GAC7B,EAAI,MAAK,MACR;AAAA,UAAM,4CAAoB;;GAC3B,OAAO;OAtBR;GACE,YAAW;GACZ,UAAS,2BAAsB;GAC/B,EAAI,QAAM,MACT;AAAA,UAAM,6CAAqB;;GAC5B,QAAkB,yBAAyB;GAC3C,gBAAW;GACX,gBAAgB;GAChB,EAAI,qBAAI,eAAU,KACjB;AAAA,UAAM;;GACP,OAAO;OA5ER;GACC,QAAQ;GACR,gBAAW;GACX,UAAU;GACV,KAAO,qBAAI,aAAQ,KAAnB;AAAA,IACC,QAAQ;IACR,MAAM,EAAE;;GAET;GACA,OAAO;OA7EP;GACA,QAAQ;GACR,EAAI,KAAI,KAAK,KAAK,oBACjB;AAAA,UAAM;;GACP,OAAO,YAAO;OArCd;GACA,WAAU;GACT,QAAQ;GAER,gBAAW;GACX,KAAO,OAAO;AAAA,IACb,QAAQ,oBAAI;IACZ,EAAI,MAAK,KAAW;AAAA,KACpB;KACC;;IAED,EAAI,MAAK,KAAW;AAAA,KACpB;KACC,SAAQ;KACR,EAAE,WAAS,KAAE,KAAK;WAElB;AAAA,YAAO;;;GAKT,OAAO;OAyDT;GACC,SAAQ;GACR,gBAAW;GACX,WAAU;GACV,KAAO,qBAAI,aAAQ,KAAnB;AAAA,IACC,SAAQ;IACR,YAAQ;IAAR,kBAAM,OAAN;oBAAM,GAAN;;UAAM,MAAN;;;GAED;GACA,OAAO;OA/CR;GACE,YAAW;GACZ,UAAS,2BAAsB;GAC/B,EAAI,QAAM,MACT;AAAA,UAAM,6CAAqB;;GAC5B,SAAQ,yBAAyB;GACjC,gBAAW;GACX,uBAAkB;GAClB,OAAO;OAjEP;GACC,OAAO;OAPR;GACC,OAAO;OAGR;GACC,OAAO;OA2ER;GACA,YAAW;GACX,YAAY,0BAAqB;GACjC,EAAI,UAAS,MACZ;AAAA,UAAM,4CAAoB;;GAC3B;GACA,YAAY;GACZ,UAAU,AAAuB,6BAAO;GACxC,EAAI,QAAO,MACV;AAAA,UAAM,gDAAsB,QAAK,MAAI;;GACtC,SAAQ,qBAAgB,MAAO;GAC/B,gBAAW;GACX,OAAO;OA3EP;GACC,OAAO;OA2ET;GACC,QAAQ;GACR,gBAAW;GACX,WAAU;GACV,KAAO,qBAAI,aAAQ,KAClB,MAAM;GACP;GACA,OAAO;OAjFP;GACC,OAAO;OAxBR;GACC,OAAO;OAiDR;GACC,SAAQ;GACR,gBAAW;GACZ,uBAAkB;GAClB,OAAO;OA7BP;GACC,OAAO;OAyFT;GACC,SAAQ;GACR,gBAAW;GACX,WAAU;GACV,SAAQ,oBAAI;GACZ,KAAO,OAAK,IAAZ;AAAA,IACC,QAAQ;IACR,aAAQ;IAAR,KAAM,KAAN;IACI,AAAJ,KAAI,oBAAI;;GAET,EAAI,OAAK,KACR;AAAA,UAAM;;GACP,OAAO;OAxEP;GACC,SAAQ;GACR,EAAI,MAAI,KAAK,MAAK,mBACjB;AAAA,UAAM;;GACP,OAAO,WAAM;OA8Fd;GACC,UAAU;GACX,WAAU;GACT,EAAI,qBAAI,eAAU,MAAY,cAAS,WAAM,KAC7C;AAAA,UAAM;;GAIP,YAAY;GACZ,EAAI,UAAS,MAAO;AAAA,IACnB,QAAQ;IACR,0BAAQ;;GAET,SAAQ;GACR,WAAW,MAAM;GACjB,WAAW,CAAC,OAAO,KAAK,IAAI,CAAC,AAAC,QAAQ,IAAK,OAAO,IAAI;GACtD,UAAU,KAAI,CAAC,MAAM;GACrB,YAAY,kCAAoB;GAChC,WAAW;GACX,KAAO,MAAI,KAAX;AAAA,IACC,UAAS,MAAM,gBAA2B;IAC1C,SAAS,MAAM,gBAA2B;IAC1C,QAAU,UAAV,AAAiB,CAAC,OAAM,IAAK,AAAC,MAAM,KAApC;IACA,SAAS,MAAM,gBAA2B;IAC1C,QAAU,UAAV,AAAiB,CAAC,MAAM,IAAK,AAAC,MAAM,KAApC;IACA,SAAS,MAAM,gBAA2B;IAC1C,QAAU,UAAV,AAAiB,CAAC,MAAM,IAAK,MAA7B;;GAED,EAAI,SAAQ,GAAI;AAAA,IACf,UAAS,MAAM,gBAA2B;IAC1C,UAAS,MAAM,gBAA2B;IAC1C,QAAU,UAAV,AAAiB,CAAC,OAAM,IAAK,AAAC,OAAM,KAApC;IACA,EAAI,SAAQ,GAAI;AAAA,KACf,UAAS,MAAM,gBAA2B;KAC1C,QAAU,UAAV,AAAiB,CAAC,OAAM,IAAK,AAAC,OAAM,KAApC;;;GAIF,YAAO;GACP,gBAAW;GACX,OAAO;OA/LP;GACC,OAAO;OAuIT;GACC;GACA,EAAI,qBAAI,aAAQ,MAAY,oBAAI,aAAQ,MACvC,oBAAI,WAAM,MAAM,MAAY,oBAAI,WAAM,MAAM,MAC5C,oBAAI,WAAM,MAAM,MAAY,oBAAI,WAAM,MAAM,MAC5C,oBAAI,WAAM,MAAM,MAAY,oBAAI,WAAM,MAAM,MAC5C,oBAAI,WAAM,MAAM,IACd;AAAA,IAEE,AAAJ,IAAI,oBAAgB,4BAAW,SAAI;IACnC,YAAO;UAEP;AAAA,IAAI,QAAc;IAAd,AAAJ,IAAI;;GACL,gBAAW;GACX,OAAO;OA5ER;GACC,YAAW;GACX,aAAY,0BAAqB;GACjC,EAAI,WAAS,MACZ;AAAA,UAAM,4CAAoB;;GAC3B,SAAQ,qBAAgB,OAAO;GAC/B,gBAAW;GACX,OAAO;OAlBP;GACA,+BAAM;;OAtDP;GACE,WAAU;GACV,EAAI,qBAAI,eAAU,MAAY,cAAS,WAAM,MAC5C;AAAA,UAAM;;GACR,SAAQ,4BAAW,SAAI;GACvB,YAAO;GACP,KAAI,mBAAsB,SAAtB;GACJ,iBAAY;GACZ,OAAO;OAdP;GACC,OAAO;;;EAoNR;EACA,MAAM,wBAAC,kBAAgB,gBAAW,YAAK,kBAAgB;;;;gBCpalD,eACN;AAAA,YAAM;;;;;;;oBCAP,eAA6B;AAAA,CAC5B,cAAc;CACd,SAAS,eAAuB;CAE/B,qBAAgB;CAChB,eAAe;CACf,aAAa;;;;sBAuJM,iBACpB;AAAA,QAAO,kBAAU,gBAAc;;yBAGlB,YAAwC;AAAA,CACrD,QAAQ;CAER,QAAQ;CACR,KAAO,KAAI,UAAX;AAAA,EACC,QAAc,aAAyB;EAEvC,EAAI,UAAU,KAAK,KAAK,OACpB;AAAA,OAAI,AAAC,IAAI,SAAU,KAAM,AAAC,aAAyB,OAAO;;EAC9D,EAAI,MAAK,KACR;AAAA,UAAO;SACH,EAAI,MAAK,MAAQ;AAAA,GACrB,OAAQ,MAAO,AAAC,KAAK;GACrB,OAAQ,MAAO,AAAC,IAAI;SACd,EAAI,MAAK,OAAS;AAAA,GACxB,OAAQ,MAAO,AAAC,KAAK;GACrB,OAAQ,MAAO,AAAC,AAAC,KAAK,IAAK;GAC3B,OAAQ,MAAO,AAAC,IAAI;SACd;AAAA,GACN,OAAQ,MAAO,AAAC,KAAK;GACrB,OAAQ,MAAO,AAAC,AAAC,KAAK,KAAM;GAC5B,OAAQ,MAAO,AAAC,AAAC,KAAK,IAAK;GAC3B,OAAQ,MAAO,AAAC,IAAI;;;CAGtB,OAAO,kBAAU,eAAuB;;uBAG3B,YAAyC;AAAA,CACtD,SAAiB;CACjB,EAAI,OAAM,MAAO;AAAA,SAAO;;CACxB,OAAO,kBAAU;;wBAGG,gBAEpB;AAAA,QAAe,QAAQ;;;YAlGjB,kBAAoD;AAAA,EAC1D,EAAI,OAAM,KAAK,MAAM,KAAK,MAAM,MAAM,aAAS;AAAA,SAAM;;EACrD,QAAQ;EACR,QAAQ;EACR,UAAU;EACV,QAAQ;EACR,UAAU,MAAI;EAEd,KAAO,KAAI,KAAX;AAAA,GACC,QAAQ,EAAE;GACV,EAAI,KAAI,KAAO;AAAA,IACd,EAAI,MAAK,GAAI;AAAA;;IACb,KAAK,IAAI;UACH,EAAI,KAAI,KACd;AAAA,SAAK,IAAK,AAAC,CAAC,IAAI,OAAS,IAAK,AAAC,EAAE,OAAO;UACpC,EAAI,KAAI,KAAO;AAAA,IACnB,SAAS,EAAE;IACX,KAAK,IAAK,AAAC,CAAC,IAAI,OAAS,KAAM,AAAC,CAAC,KAAK,QAAS,IAAK,AAAC,EAAE,OAAO;UACxD;AAAA,IACN,UAAS,EAAE;IACX,SAAS,EAAE;IACX,QAAQ,AAAC,CAAC,IAAI,OAAS,KAAM,AAAC,CAAC,MAAK,QAAS,KAAM,AAAC,CAAC,KAAK,QAAS,IAAK,AAAC,EAAE,OAAO;IAElF,KAAK,IAAK,CAAC,KAAK,MAAM;IACtB,KAAK,IAAK,AAAC,IAAI,OAAS;;;EAG1B,OAAO;;YASD,WACN;AAAA,SAAO,eAAU,EAAE;;;;;;;4BC/HN;AAAA;;;CACb,EAAI,aACH;AAAA,OAAO,qBAAe,aAAW,MAAM,IACtC,MAAM,uBAAW,EAAE;;CACrB,OAAO,yBAAa,sCAAmB,uBAAuB;;2BChBxD,eAAqC;AAAA,CAC3C,UAAU;CACV,YAAY;CACZ,KAAO,OAAM,KAAK,OACjB;CACD,EAAI,SAAQ,KAAK,OAAO,KAAK,OAC5B;AAAA,QAAM;;CACP,YAAY;CACZ,aAAa;;;;;YA+Bd,WAAqB;AAAA,EACpB,UAAU;EACV,SAAU;EAAV,WAAc,KAAd;AAAA;GACC,IAAI,KAAK;;EACV,UAAU;EAAV,UAAc;EAAd;;GACC,IAAI,YAAS,OAAM;;EACpB,WAAW;;eAGL,YAA0D;AAAA,EAIhE,YAAY;EACZ,WAAW;EACX,EAAI,aAAY,MAAO;AAAA;;EACvB,UAAU;EACV,WAAW,AAAC,WAAW,SAAU;EACjC,UAAU,kCAAoB;EAC9B,UAAU;EACV,cAAc;EACd,UAAU;EACV,WAAW;EACX,KAAO,QAAO,MAAd;AAAA,GACC,KAAO,WAAU,GAAjB;AAAA,IACC,WAAW;IACX,QAAQ;IACR,QAAQ,IAAI,IAAM;IAClB,EAAI,MAAK,IACR;AAAA,WAAM;;IACP,OAAO;;GAER,WAAW;GACX,MAAQ,UAAR,AAAe,AAAC,OAAO,UAAW,MAAlC;;EAED,OAAO;;;;sBClCR,WAAe;AAAA;;;yBA5CD,YAAuC;AAAA,CAMnD,QAAQ;CACR,QAAQ,WAAW,yBAAS;CAC5B,OAAO,MAAM;;2BAsGR,cAAiC;AAAA,CAEvC,WAAU,uBAAuB;CAEjC,WAAW,CAAC,AAAC,cAAa,KAAM,KAAK;CACrC,WAAW;CAGX,eAAe,OAAO;CAMtB,UAAU;CAAV,SAAc;CAAd;;EAAyB,KAAK,KAAK;;CAGnC,SAAQ;CACR,UAAU;CACV,QAAQ,MAAM;CACd,KAAO,MAAI,KAAX;AAAA,EACC,KAAK,MAAK,MAAgC,OAAQ,OAAgD,AAAC,AAAC,CAAC,IAAI,MAAK,IAAK;EACnH;;CAED,KAAK,MAAK,MAAM,OAAQ,AAAC,AAAC,CAAC,IAAI,MAAK,IAAK;CACzC,QAAQ,OAAO,KAAK;CACpB,KAAK,KAAK,AAAC,IAAI;CACf,KAAK,MAAM,CAAC,AAAC,MAAM,IAAK,QAAS;CACjC,KAAK,MAAM,CAAC,AAAC,MAAM,KAAM,QAAS;CAClC,KAAK,MAAM,CAAC,AAAC,MAAM,KAAM,QAAS;CAClC,OAAO;;;QA7FR,cAAoB;AAAA,EACnB,UAAU,AAAC,IAAI,IAAO,AAAC,IAAI;EAC3B,YAAY,AAAC,MAAM,IAAK,AAAC,MAAM;EAC/B,OAAO,AAAC,SAAS,IAAK;;UAGvB,cAAqB;AAAA,EACpB,UAAU,AAAC,IAAI,IAAO,AAAC,IAAI;EAC3B,YAAY,AAAC,MAAM,IAAK,AAAC,MAAM;EAC/B,OAAO,AAAC,SAAS,IAAK;;UAGvB,cAAqB;AAAA,EACpB,UAAU,AAAC,IAAI,IAAO,CAAC,IAAI;EAC3B,YAAY,AAAC,MAAM,IAAK,AAAC,MAAM;EAC/B,OAAO,AAAC,SAAS,IAAK;;SAGvB,cAAqB;AAAA,EACpB,UAAU,CAAC,IAAI,SAAQ,CAAC,IAAI;EAC5B,UAAU,CAAC,KAAK,MAAI,CAAC,KAAK,MAAI,CAAC,OAAO;EACtC,OAAO,AAAC,OAAO,KAAM,AAAC,MAAM;;OAG7B,YAA8B;AAAA,EAC7B,UAAU;EACV,cAAc;EACd;aAAY,UAAZ;AAAA,GAAK,UAAL,AAAY,EAAZ;;GACC,UAAU;GAAV,YAAc,GAAd;AAAA;IACC,OAAO,eAAe,AAAC,OAAO,AAAC,IAAI,IAAI,IAAM,MACzC,eAAe,AAAC,OAAO,AAAC,IAAI,IAAM;;;EACxC,OAAO;;OAiER,kBACC;AAAA,SAAO,AAAC,OAAO,MAAO,AAAC,QAAQ,AAAC,KAAK;;OAGtC,sBACC;AAAA,SAAO,WAAM,SAAI,AAAC,WAAM,WAAM,EAAG,GAAI,WAAM,EAAG,IAAM,GAAI;;MAGzD,wBACC;AAAA,SAAO,SAAI,WAAM,YAAO,EAAG,GAAI,YAAO,CAAE,EAAI,IAAK,EAAG,EAAG,EAAG,EAAG;;MAG9D,wBACC;AAAA,SAAO,SAAI,WAAM,YAAO,EAAG,GAAI,YAAO,EAAG,CAAE,IAAM,EAAG,EAAG,EAAG,EAAG;;MAG9D,wBACC;AAAA,SAAO,SAAI,YAAO,YAAO,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG;;MAGjD,wBACC;AAAA,SAAO,SAAI,YAAO,EAAG,WAAM,EAAG,CAAE,IAAM,EAAG,EAAG,EAAG,EAAG;;YAGnD,YAAiD;AAAA,EAEhD,QAAS;EACT,QAAQ;EACR,QAAQ;EACR,QAAS;EAET;EAEA,QAAQ;EACR,KAAO,KAAI,UAAX;AAAA,GACC,WAAW;GACX,WAAW;GACX,WAAW;GACX,WAAW;GAEX,OAAO;GACP,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,GAAO,EAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,GAAK;GACjC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,EAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,GAAK;GACjC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,EAAK;GACjC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAE,IAAK,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAE,IAAK,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAE,IAAK,EAAK;GACjC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAE,IAAK,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAE,IAAK,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAE,IAAK,GAAK;GACjC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,EAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,EAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAE,IAAK,GAAK;GACjC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,GAAO,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,EAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAE,IAAK,EAAK;GACjC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAE,IAAK,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,EAAK;GACjC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAE,IAAK,EAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,GAAK;GACjC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAE,IAAK,EAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,EAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,GAAK;GACjC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAE,IAAK,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,EAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAE,IAAK,GAAK;GACjC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAE,IAAK,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,EAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,GAAK;GACjC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAE,IAAK,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAE,IAAK,EAAK;GACjC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,GAAO,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,GAAK;GACjC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,EAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAE,IAAK,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAE,IAAK,GAAK;GACjC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,GAAO,EAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,GAAK;GACjC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAE,IAAK,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAE,IAAK,EAAK;GACjC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAE,IAAK,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,EAAK;GACjC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAE,IAAK,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAE,IAAK,GAAK;GACjC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,EAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAE,IAAK,GAAI;GAChC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,GAAK;GACjC,IAAI,QAAG,EAAG,EAAG,EAAG,EAAG,EAAE,IAAG,GAAI,GAAI;GAEhC,IAAI,WAAM,EAAG;GACb,IAAI,WAAM,EAAG;GACb,IAAI,WAAM,EAAG;GACb,IAAI,WAAM,EAAG;GAEb,KAAK;;EAEN,OAAO,CAAC,EAAE,EAAE,EAAE;;;;;;;yBClPD,gBACb;AAAA,uBAAI,EAAG,IAAK,EAAG;;wBAGT,wBAA2C;AAAA,CACjD,aAAa,AAAC,OAAO,MAAO;CAC5B,EAAI,MAAK,OAAO,IAAI;AAAA,EACnB,EAAI,OAAM,MAAM;AAAA;;EAChB,UAAU,AAAC,OAAO;EAAlB,SAAuB;EAAvB;;GACC,QAAQ;GACR,KAAO,KAAI,MAAX;AAAA,IACC,EAAI,CAAW,IAAX,AAAQ,EAAQ,GAAhB,AAAQ,EAAW,IAAI,MAAK,GAC/B;AAAA,4BAAK,EAAG,IAAI,EAAG;WAEf;AAAA;;IACD;;;EAGF;;CAED,sBAAI,EAAG,IAAK,KAAM;CAClB,sBAAI,EAAG,IAAK,OAAQ;CACpB,0BAAQ,EAAG,IAAK,KAAM,OAAQ,GAAI,SAAS,KAAM,KAAK;;4BAGhD,wCAAkE;AAAA,CACxE;;;;;CACA,EAAI,SAAQ,KAAK,QAAQ,GACxB;AAAA;;CACD,EAAI,QAAO,QAAQ,GAAG;AAAA,EACrB,EAAI,CAAW,IAAX,AAAQ,EAAQ,OAAhB,AAAQ,EAAe,SAAQ,GAClC;AAAA,0BAAK,EAAG,MAAO;;EAChB;;CAED,EAAI,QAAO,MAAM;AAAA,EAChB,QAAQ,QAAQ;EAChB,YAAY,OAAO;EACnB,aAAa,wBAAM,EAAG,IAAK,MAAO,GAAI;EACtC,QAAQ,aAAa;QACf;AAAA,EACN,QAAQ,QAAQ;EAChB,aAAa,QAAQ;EACrB,YAAY,wBAAM,EAAG,IAAK,KAAM,MAAO;EACvC,QAAQ,YAAY;;CAErB,yBAAO,EAAG,IAAK,UAAW,MAAO;CACjC,UAAU,YAAY;CACtB,0BAAQ,EAAG,IAAK,KAAM,UAAW,QAAS,MAAO;CACjD,0BAAQ,EAAG,IAAK,QAAS,WAAY,GAAI,OAAO,MAAO,OAAO;;2BAGxD,4BAAmD;AAAA,CACzD;CACA,EAAI,SAAQ,OAAO,OAAO,IAAI;AAAA;;CAC9B,IAAI,sBAAI,KAAK,KAAM,MAAM;CACzB,KAAO,QAAO,GAAd;AAAA,EACC,UAAU,EAAE,OAAO;EACnB,YAAY,MAAM;EAClB,SAAS,OAAO;EAAhB,SAAwB,OAAO,IAAI;EACnC,KAAO,OAAM,OAAO,GAApB;AAAA,GACC,EAAE,MAAM,EAAE;GACV,KAAK;GACL,EAAI,MAAK,KAAK,OAAO;AAAA,UAAM;UACtB;AAAA,SAAK,OAAO,CAAC,QAAQ,CAAC,KAAK;;;EAEjC,EAAE,MAAM;;;wBAIH,cAAmB;AAAA,CACzB,KAAO,MAAK,GAAZ;AAAA,EACC,QAAQ,IAAI;EACZ,IAAI;EACJ,IAAI;;CAEL,OAAO;;0BAGD,4BAAkD;AAAA,CACxD,UAAU,KAAK;CAAf;;CACA,KAAO,OAAM,GAAb;AAAA,EACC,OAAO,OAAO;EACd,MAAM,OAAO;EACb,EAAI,CAAW,IAAX,AAAQ,EAAQ,KAAhB,AAAQ,EAAa,QAAO,GAC/B;AAAA,SAAM;SACF;AAAA,GACJ,OAAO,MAAM;GACb,MAAM,MAAM,OAAO;;;CAGrB,OAAO;;0BAGD,4BAAkD;AAAA,CACxD,UAAU,KAAK;CAAf;;CACA,KAAO,OAAM,GAAb;AAAA,EACC,OAAO,OAAO;EACd,MAAM,OAAO;EACb,EAAI,CAAW,IAAX,AAAQ,EAAQ,KAAhB,AAAQ,EAAa,QAAO,GAAG;AAAA,GAClC,OAAO,MAAM;GACb,MAAM,MAAM,OAAO;SAEnB;AAAA,SAAM;;;CAER,OAAO;;yBAGD,gBAAmC;AAAA,CACzC,UAAU,EAAE;CACZ,EAAE,KAAK,EAAE;CACT,EAAE,KAAK;;qBC7HM,WACb;AAAA,UAAI;;;;;;MAGS,oBACL;AAAA,SAAE,OAAO;;OAGJ,cACb;AAAA,SAAe,OAAE;;UAGJ,cACb;AAAA,SAAe,sBAAiB;;UAG1B,cAAoC;AAAA,EAC1C,EAAY,EAAC,sBAAiB,MAAO;AAAA,UAAO;;EACnC,OAAiB,OAAE;EAC5B,OAAO;;QAGD,WAAgC;AAAA,EACtC,QAAQ;EACA,gBAAoC,SAAG,EAAI,uBAAiB,MAAO;AAAA,UAAO,MAAI;;EACtF,OAAO;;YAGD,WACN;AAAA,SAAe,QACR,aACD,uBACK,WAAa;AAAA,UAAO;YACvB,WAAW;AAAA,GAAE,QAAQ;GAAoB,OAAO,SAAa;;;YAI/D,WAA6B;AAAA,EACnC,UAAQ;EACR;EACA,SAAS;EACC;;GAAV,SAAU;GACT,OAAM;GACN;GACA,kBAAM,WAAW,OAAI;GACrB,EAAI,eACH;AAAA;;;EAEF;EACA,OAAO;;;;wBCrCD,WACN;AAAA,UAAI,aAAY;;;;;6BAXH,cACb;AAAA,QAAe,aAAa,EAAE;;0BAGjB,cACb;AAAA,QAAe;;;MAST,oBAA0C;AAAA,EAChD,SAAe,AAAM,cAAQ,CAAS,aAAT;EAC7B,OAAE,MAAM;EACR,gBAAW,MAAM;;OAGJ,cACb;AAAA,SAAe,OAAE,AAAM;;UAGV,cACb;AAAA,SAAe,gBAAW,AAAM,eAAS;;UAGnC,cAAkC;AAAA,EACxC,SAAS,AAAM;EACf,EAAa,iBAAW,OAAO,MAAO;AAAA,UAAO;;EACpC,OAAiB,OAAE;EACnB,OAAiB,gBAAW;EACrC,OAAO;;QAGD,WAA8B;AAAA,EACpC,QAAQ;EAEP;EACC,EAAI,uBAAiB,MACpB;AAAA,UAAO,gBAAW;;EACpB;EAED,OAAO;;YAGD,WACN;AAAA,SAAe,QACR,aACD,uBACK,WAAa;AAAA,UAAO;YACvB,WAAW;AAAA,GAAE,QAAQ;GAAoB,OAAO,SAAa,AAAM;;;;;4CCrD9D,mBAAmD;AAAA,CAChE,WAAW;CACX,YAAY;CACZ,aAAa;CACb,aAAa;;;;;UAEA,WACb;AAAA,SAAO,aAAQ;;QAEF,WACb;AAAA,EAAO;YAAQ,UAAK;EAAb;;;;;;;;wBASM,WACb;AAAA,UAAI;;;;;;MAOS,oBACb;AAAA,IAAI,gBAAW,QAAX,MACH;AAAA,oBAAY,IAAK;SAEjB;AAAA,UAAE,AAAK,OAAO;;;OAGF,cAAuC;AAAA,EACpD,EAAI,gBAAW,QAAX,MACH;AAAA,UAAO,iBAAY;;EACpB,OAAO,OAAE,AAAK;;UAGD,cAAuC;AAAA,EACpD,EAAI,gBAAW,QAAX,MACH;AAAA,UAAO,oBAAe;;EACvB,OAAO,sBAAiB;;eAGzB,oBAAuD;AAAA,EACtD,EAAI,YAAM,MAAO;AAAA,aAAK;;EACtB,QAAG,AAAK,MAAI,OAAO;;eAGpB,cACQ;AAAA,gBAAM,MAAO;AAAA;SAAO;AAAA,kBAAG,AAAK,MAAI;;;kBAGxC,cAA+C;AAAA,EAC9C,EAAI,YAAM,MAAO;AAAA,UAAO;;EACxB,OAAe,uBAAkB,MAAI;;UAG/B,cACN;AAAA,IAAI,gBAAW,QAAX,MAAkB;AAAA,GACrB,MAAM,MAAM;GACZ,EAAI,YAAM,QAAQ,CAAC,uBAAkB,MAAO;AAAA,WAAO;;GAC3C,OAAiB,QAAG;GAC5B,OAAO;SACD;AAAA,GACN,EAAI,EAAC,sBAAiB,MACrB;AAAA,WAAO;;GACA,OAAiB,OAAE;GAC3B,OAAO;;;QAIF,WACC;AAAA;;aAGR,WAAqC;AAAA,EACpC,UAAU;EAET;EACC,EAAI,uBAAiB,MACpB;AAAA,YAAS;;EACX;EAED,EAAI,YAAM,MAAe;AAAA,GACxB;GACC,EAAI,gBAAe,MAAM,IACxB;AAAA,aAAS,WAAW;;GACtB;;EAED,OAAO;;YAGM,WACb;AAAA,SAAO,0CAAsB,KAAM;;;;;;;;;;;;;;;;;;8BC/DtB,YAAuC;AAAA,CAqCnD,WAAW,IAAI,CAAC,AAAC,MAAM,MAAO;CAC9B,UAAU,AAAC,MAAM,KAAM;CACvB,UAAU,IAAI;CACd,EAAI,QAAO,KAAK,OAAO,GACtB;AAAA,SAAO;;CACR,OAAO,OAAK,CAAC,IAAI,SAAS,EAAG,OAAK,OAAO,SAAS,EAAG,MAAI;;8BAK7C,YAAuC;AAAA,CA8BnD,EAAI,MAAK,GAAI;AAAA,SAAO;;CACpB,SAAS,IAAI,IAAI,CAAC,IAAI;CACtB,UAAU,WAAW,SAAS,MAAM;CACpC,EAAI,OAAM,MAAO;AAAA,QAAM;QAAU,EAAI,OAAM,KAAM;AAAA,QAAM;;CACvD,UAAU,WAAW,CAAC,KAAK,SAAS,EAAG,OAAO,KAAK;CACnD,EAAI,QAAO,WAAY,MAAM,KAAK;AAAA,EACjC,MAAM;EACN;;CAED,OAAO,CAAC,IAAI,IAAI,cAAa,KAAK,AAAC,AAAC,MAAM,OAAQ,KAAM;;mBCxEnD,eAA8B;AAAA,CACpC,MAAQ;MACP;EACC,WAAM;EACN,YAAO;EACP;;CAEF,SAAS,iBAAiB;CAC1B,SAAS,iBAAiB;CAC1B,EAAI,MAAK,IAAK;AAAA,EACb,WAAM,wBAAY,EAAE;EACpB,OAAO,wBAAY,KAAG,EAAf;EACP,iBAAY;QACN,EAAI,MAAK,IAAK;AAAA,EACpB,WAAM,wBAAY,EAAE;EACpB,OAAO,wBAAY,KAAG,EAAf;QAEP;AAAA,aAAM;;CACP,SAAS,iBAAiB;CAC1B,EAAI,OAAM,IAAK;AAAA,EACd,WAAM,wBAAY,KAAG,EAAf;EACN,YAAO,wBAAY,EAAE;QACf;AAAA,EACN,WAAM;EACN,YAAO;;;;;yBA+CK,eAAoC;AAAA,CACjD,QAAQ,iBAAS;CACjB,EAAI,UAAS,MACZ;AAAA,SAAO;;CACR,OAAO;;yBAUM,eAAoC;AAAA,CACjD,QAAQ,iBAAS;CACjB,EAAI,UAAS,MACZ;AAAA,SAAO;;CACR,OAAO;;oBAwBM,gBAA4C;AAAA,CACzD,aAAY,aAAa,YAAmB;AAAA,UAAK,MAAQ;AAAA,eAAK;SAAlB;AAAA;;;CAC5C,EAAI,kBAAgB,GACnB;AAAA,SAAO;;CAER,WAAW,OAAM;CACjB,UAAU;CAAV,SAAc;CAAd;;EACC,OAAO,8BAAiB;EACxB,QAAQ,OAAM;;CAEf,OAAO,uBAAU;;yBAWJ,eAA2C;AAAA,CACxD,YAAY;CACZ,OAAO,WAAW,WAAW;CAC7B,EAAI,SAAQ,OAAO;AAAA,SAAO;;CAE1B,aAAa;CAEb;WAAc,WAAW;CAAzB,WAAc,YAAd;AAAA,EAAK,YAAL,AAAc,IAAd;;EACC,EAAG,UAAU,QAAO,gBAAgB,KAAK,OAAO,gBAAc,MAAM,MACnE;AAAA;SACM,EAAG,UAAU,KACnB;AAAA,eAAY;;;CAId,UAAU,YAAY;CACtB,cAAY;CACZ,aAAa,AAAc,YAAd,QAAmB,OAAM;CACtC,YAAU;CACV,YAAY;CACZ,cAAc;CACd,WAAU;CAAV,UAAc;CAAd;;EACS,0BAA4B;EAA5B;OAIP;KAAkB,EAAC,OAClB;AAAA,cAAU;UACX;AAAA,IAAK,SANE;IAON,QAAQ;IACR,EAAI,UAAS;AAAA,KACZ;KACA,UAAU;;IAEX,6BAAY;;;OAXb;GACC;GACA,QAAQ;;;GAGJ,SANE;GAON,QAAQ;GACR,EAAI,UAAS;AAAA,IACZ;IACA,UAAU;;GAEX,6BAAY;;;CAGf,OAAO;;gCAeM,eAAoD;AAAA,CACjE,EAAI,gBAAe,GAClB;AAAA,SAAO;;CACR,SAAS,iBAAiB;CAC1B,SAAS,iBAAiB;CACnB,EAAK,MAAK,IAChB;AAAA,IAAI,OAAM,cAAc,GAAG;AAAA,iBAAO;SAC7B;AAAA;;QAEL,EAAI,OAAM,cAAc,GAAG;AAAA,gBAAO;QAC7B;AAAA;;;0BA6BO,eAA6C;AAAA,CAC1D,EAAI,wBAAuB,KAAO,MAAK;AAAA,SAAO;;CAC9C,EAAI,aAAY,MAAO,KAAI;AAAA,SAAO;;CAClC,EAAI,wBAAuB,KAAO,SAAQ;AAAA,SAAO;;CACjD,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;yBCxQM,YAAyC;AAAA,CACtD,WAAW,cAAc,EAAG;CAC5B,EAAI,SAAQ,MACX;AAAA,QAAO,mCAAQ,kBAAkB,KAAG;;CAErC,QAAQ,UAAU;CAClB,YAAY,yCAAyC;CACrD,EAAQ,aACP;EAAgB,SADT;EACa,OAAO;QAC3B;AAAA,EAAK,QAFE;EAEC,MAAO,0EAA8C;;;0BCbxD,WACN;AAAA,aAAO;;;;;SA4PR,YACC;AAAA,SAAO;;gBAGR,YAAiD;AAAA,EAChD,SAAS,QAAQ;EACjB,EAAI,IAAG,MAAM,IACZ;AAAA,UAAO;;EACR,OAAO;;YAGR,YACQ;AAAA,QAAQ;OAGf;GAAgB;OAChB;GAAe;OAFf;GAAe;OADf;GAAa;;GAIJ,8BAAM;;;UAIhB,YACQ;AAAA,QAAM,qCAAW;;kBASlB,YAAmC;AAAA,EACzC,QAAQ,kBAAkB;EACX;;OAIf;GAAiB,wCAAc,eAAU;OAHzC;GAAc,qCAAW,YAAO;OAChC;GAAa,oCAAU,WAAM;OAC7B;GAAgB,oCAAU,cAAS;;GAE1B,mBAAO;;;SAIjB,YAAsC;AAAA,EACrC,SAAS;EACT,cAAU;EAAV;;;;GACC,SAAS;GACT,eAAU;GAAV;;;;IACC,QAAQ;;GACT,QAAQ,SAAS,6BAAkB;;EAEpC,OAAO;;cAGR,YAAmD;AAAA,EAClD,QAAQ;EACG;;GAAX,SAAW;GACV,MAAM,iBAAY;;EAEnB,OAAO;;SAGR,YAAwC;AAAA,EACvC,WAAW,YAAO;EAClB,aAAa;EACH;;GAAV,SAAU;GACT,WAAW,WAAM;;EAClB,OAAO,SACC,eACE;;UAIX,YAAuC;AAAA,EACtC,aAAa;EACb,UAAU;EACV,eAAe;EACf,iBAAiB;EACjB,aAAa;EACb,cAAc;EACd,WAAW;EACD;;GAAV,SAAU;GACD;;QAER;IAAgB,SAAS,WAAM;;QAD/B;IAAiB,MAAM;;QAGvB;IAAqB,WAAW,WAAM,kBAAS;;QAD/C;IAAmB,eAAe,WAAM;;QAExC;IAAa,OAAO,WAAM;;;IAEzB,EAAI,aAAW,WACd;AAAA,iBAAY,iBAAY;WAExB;AAAA,gBAAW,iBAAY;;;;EAE1B,OAAO,SACC,AAAG,wBAAY,wBAAgB,aAC/B,YAAO,iCACL,AAAI,0BAAe,YAAO,2BAAmB,YAChD,iBACM,WAAW,uBACZ,WAAW,yBACR,WAAW,uBAChB,kBAAa,uCACT,qBACA,qBACJ,kBACC,oBACC,sBACC,uBACL;;eAIT;AAAA;;;EACC,QAAQ;EACR,QAAQ,WAAM;EACd,UAAU;EACV,WAAW;EACX,gBAAgB;EACN;;GAAV,SAAU;GACD;;QACR;IAAiB,MAAM;;QACvB;IAAa,OAAO,WAAM;;QAC1B;IAAkB,YAAY,gBAAW;;;IAChC,YAAO;;;EAEjB,OAAO,SACC,qBACA,cACI,WAAW,aAAa,wBACtB,WAAW,oBACjB,AAAI,wBAAa,aAAa,yBAAiB,YAChD,WACA,AAAI,uBAAY,cAAS,wBAAgB,gCACzC,AAAI,uBAAY,cAAS,wBAAgB,mCACtC,AAAI,0BAAe,kBAAa,2BAAmB,gBAChD,uBACL,kBACI,kBACJ,AAAI,wBAAa,wBAAgB;;SAI1C,YAAqC;AAAA,EACpC,SAAS;EACT,UAAU;EACV,WAAW;EACD;;GAAV,SAAU;GACT,EAAI,kBAAU,YACb;AAAA,UAAM;UACF,EAAK,kBAAU,QACnB;AAAA,WAAO,WAAM;UAEb;AAAA,WAAO,gBAAW;;;EACpB,OAAO,SACC,AAAG,wBAAY,wBAAgB,aAC/B,YAAO,iCACL,AAAI,0BAAe,YAAO,2BAAmB,YAChD,iBACM,WAAW,uBACZ,WAAW,oBACb,kBAAa,yCACP,gBACH,uBACL;;cAIT,YAA4C;AAAA,EAC3C,WAAW;EACX,WAAW,kBAAkB;EAC7B,WAAW,AAAI,4BAAiB,WAAM,0BAAkB;EACxD,EAAI,qBAAU;AAAA,GACb,YAAY,yBAAc;GAC1B,WAAW;GACX,OAAO;GACP;cAAU,cAAV;AAAA,IAAK,QAAL,AAAU,MAAV;;IACC,UAAU;IACV,EAAI,UAAS,MAAM,KAAM;AAAA,KACxB,MAAM;KACN,IAAI,qBAAS,EAAT;;IAEL,SAAS,SACD,SACD,SACF,WAAM;;;EAIb,OAAO,SACC,qBACA,YACD,AAAI,QAAQ,OAAO,OAAU,kBAAS,8BACrC,kBACK;;aAId,YAA6C;AAAA,EAC5C,UAAU;EAAV,WAAuB;EAAvB,YAAqC;EACrC,WAAW;EAAX,SAAoB;EAApB,WAA+B;EACrB;;GAAV,SAAU;GACD;;QAQR;IACW;;KAAV,SAAU;KACT,UAAU,MAAI,WAAM,kBAAS,+BAA6B,0BAAc,0BAAc;;;QATxF;IACC,MAAM;;QASP;IACC,OAAO,YAAO,gBAAe;;QAT9B;IACC,OAAO,WAAM;;QASd;IACC,QAAQ,WAAM,kBAAS;;QATxB;IACW;;KAAV,SAAU;KACT,QAAQ,MAAI,WAAM,kBAAS,+BAA6B,0BAAc,0BAAc;;;;IASrF,YAAO;;;EAET,OAAO,SACC,AAAG,wBAAY,wBAAgB,aAC/B,YAAO,iCACL,AAAI,0BAAe,YAAO,2BAAmB,YAChD,iBACM,WAAW,qBACd,kBAAa,sCACV,uBACL,cACC,YACH,WACE,aACD;;YAKR,YAAwC;AAAA,EACvC,UAAU;EACV,QAAQ;EACR,WAAW;EACD;;GAAV,SAAU;GACT,EAAI,kBAAU,YACb;AAAA,UAAM;UACF,EAAK,kBAAU,QACnB;AAAA,WAAO,WAAM;UAEb;AAAA,QAAI,WAAM;;;EACZ,YAAY;EACZ,EAAI,qBAAe,MAClB;AAAA,aAAU;GAAV;0BAAsB;UAAtB;AAAA,mBAAsB;;;EACvB,OAAO,SACC,AAAG,wBAAY,wBAAgB,aAC/B,YAAO,iCACL,AAAI,0BAAe,YAAO,2BAAmB,YAChD,iBACM,WAAW,qBACd,kBAAa,iCACf,WAPD,AAQE,mBACI,uBACL;;SAIT,YACC;AAAA,EAAe;;OAoCf;GACC,aAAa;GACH;;IAAV,SAAU;IACT,SAAQ,iBAAY,GAAE;IACtB,eAAc;IACd,WAAW;;GAEZ,kCAAW;OAtCZ;GACC,8BAAO,YAAO,uBAAY,iBAAY;OAsCvC;GACC,QAAQ;GACR,SAAS;GACT,EAAI,OAAM,MACT;AAAA,QAAI,WAAM,kBAAS;;GACpB,gCAAS;OA9CV;GACC,6BAAM,YAAO,uBAAY,iBAAY;OAOtC;GACC,WAAW;GACX,YAAY,yBAAc;GAC1B,YAAY;GACZ,cAAc,qBAAU,0CAAc,QAAkB;GAC9C;;IAAV,SAAU;IACT,UAAU;IACV,QAAQ;IACR,EAAI,MAAK,MACR;AAAA,SAAI;;IACL,EAAI,UAAS,MAAM,KAAM;AAAA,KACxB,MAAM;KACN,IAAI,qBAAS,EAAT;;IAEL,QAAQ,WAAW,OAAO,OAAO;IACjC,SAAS,SACD,SACD,SACF,WAAM,aACF,KAAK,KAAK,OAAO;;GAG3B,UAAU;GACV,YAAY;GACZ,iCAAU,KAAK;OA5BhB;GACC,gCAAS,YAAO,uBAAY,iBAAY;OAPzC;GACC;OAOD;GACC,iCAAU,YAAO,uBAAY,iBAAY;;GAyCzC,mBAAO;;;eAIT,YAA+C;AAAA,EAC9C,QAAQ;EACE;;GAAV,SAAU;GACT,MAAM,WAAM;;EACb,OAAO;;WAGR,WAAmB;AAAA,EAClB,QAAQ;EACR,EAAI,qBAAe,MAClB;AAAA,SAAM;;EACP,OAAO;;;;iCCjlBD,YACN;AAAA,YAAM;;;;;UAGA,eAAyC;AAAA,EAC/C,QAAQ,uBAAkB;EAC1B,EAAI,MAAK,MAAO;AAAA,GACf;GAAY,EAAI,sBAAgB,cAAhC;AAAA,YAA+C;UAAgB;AAAA;;;;IAA/D,QAA+D;;GAC/D,MAAM,gCAAM,yBAAuB;;EAEpC,OAAO,kBAAS;;;;mCASV,YACN;AAAA,YAAM;;;;;UAGA,eAA2C;AAAA,EACjD,EAAI,sBAAgB,cACnB;AAAA,SAAM,8DAAoC;;EAC3C,QAAQ,aAAQ;EAChB,EAAI,MAAK,MACR;AAAA,GAAM;;;;GAAN,MAAM,yCAAa,2BAAyB;;EAC7C,OAAO;;;;sCASD,YACN;AAAA,YAAM;;;;;UAGA,eAAyC;AAAA,EAC/C,EAAI,sBAAgB,cACnB;AAAA,SAAM,8DAAoC;;EAC3C,OAAO,gBAAW;;;;oCASZ,YACN;AAAA,YAAM;;;;;UAGA,eACN;AAAA,SAAO,uBAAkB;;;;qCASnB,YACN;AAAA,YAAM;;;;;UAGA,eAA+C;AAAA,EACrD,QAAQ;EACE,+BAAkB;EAAlB;GAAV,SAAU;GACT,MAAM,kBAAS;;EAChB,OAAO;;;;oBA2GD,YAAwB;AAAA,CAC9B,EAAI,eAAc,gBAAgB,cAAc,aAC/C;AAAA,QAAM,8CAAoB;;CAC3B,SAAS;CACT,YAAO,+BAAe;CACtB,aAAQ,mCAAmB;CAC3B,WAAM,iCAAiB;CACvB,WAAM,oCAAoB;CAC1B,eAAU,kCAAkB;;;;;WAG7B,WACQ;AAAA,IAAI,oBAAc,cAAe;AAAA;SAAgB;AAAA;;;;;;;iBAGzD,WAAyB;AAAA,EACf;;;;EAAT,SAAS;EACT,EAAI,EAAC,cACJ;AAAA,SAAM,0CAAK;;EACZ,QAAQ;EACR,EAAI,eAAe;AAAA,GAClB,QAAQ;GAEJ;oBAAc,cAAc,cAAc,WAA1C;AAAA,IAAwE;;;IAAxE,MAAuD,iBAAiB,gBAAgB;UAAxF;AAAA;;GAAJ,EAAI,MAA6F;AAAA,IAChG,EAAI,EAAC,cACJ;AAAA,KAAO;;;;;IACR,SAAS;IACL;;sBAAe,YAAf;AAAA,KAA8C;;;KAA9C,OAA6B,iBAAiB,iBAAiB;WAA/D;AAAA;;;YAAqE,CAAC;WAAtE;AAAA;;IAAJ,EAAI,OACH;AAAA,KAAO;;;;;;GAET,MAAM,0CAAK;;EAEZ,EAAI,eAAc,cAAc,cAAc,WAC7C;AAAA,SAAM,0CAAK;;EACL;;;;;iBAGR,WAAyB;AAAA,EACxB,UAAQ;EACE;;;;;;GAAV,SAAU;GACT,kBAAM;;EACP,OAAO;;gBAGR,WAAwB;AAAA,EACvB,SAAS;EACT,OAAO,YACI,6BACH,WAAW;AAAA,GACjB,QAAQ;GACR,EAAI,MAAK,MACR;AAAA,WAAO;;GACR,OAAO,kBAAS;;;;;;kCC3LZ,+BACP;AAAA,CACC,WAAW;CACX,eAAe;CACf,gBAAgB;CAChB,kBAAa;CACb,sBAAiB;CAEjB,UAAU;CAAV,SAAc;CAAd;;EAEC,QAAQ,eAAe;EACvB,EAAI,MAAK,IAAW;AAAA,GACnB;GACA,sBAAiB;SAEjB,EAAI,MAAK,IAAW;AAAA;;;;;;;WAKhB,WAEN;AAAA,SAAO,kBAAkB,iBAAc,SAAS,OAAO,eAAU,cAAc,kBAAa,WAAW;;;;;;;wBAqB1F;AAAA;;;CAEb,UAAU;CACV,wBAAQ,IAAK,OAAQ,EAAG;CACxB,OAAO;;0BAGD;AAAA;;;CAEN,UAAc;CACd,YAAY;CACZ,WAAW;CACX,YAAY;CACZ,YAAY;CACZ,YAAY;CACZ,gBAAgB;CAChB,QAAQ,eAAe;CACvB,UAAU;CAEV,iBAAiB;CACjB,mBAAmB;CAKnB,KAAO,CAAmB,QAA1B;AAAA,EAEC,MAAO;OAEN;GACC,MAAO;QAEN;;;IAMC,QAAQ;IACR;;;OAEH;GACC,EAAO,MAEN;IACC,QAAQ;IACR,OAAO;UACR;AAAA,IACC,QAAQ;IACR,QAAQ;IACR;;;OAyBH;GACC,MAAO;QAEN;IACC,EAAI,gBAAe,IAAI,MAAM,IAC7B;AAAA,KACC,KAAK;KACL,EAAI,wBAAW,EAAG,oBAAoB,UACrC;AAAA,YAAM,wDAAuB,qBAAsB,IAAK;;KACzD,KAAK;KACL,QAAQ;KACR,QAAQ,IAAI;WAER,EAAI,gBAAe,IAAI,MAAM,MAAY,eAAe,IAAI,MAAM,KACvE;AAAA,KACC,EAAG,wBAAW,IAAI,EAAG,oBAAoB,UACxC;AAAA,YAAM,wDAAuB,qBAAsB,IAAK;;KACzD,KAAK;KACL,QAAQ;KACR,QAAQ,IAAI;WAER,EAAI,gBAAe,IAAI,MAAM,MAAY,eAAe,IAAI,MAAM,IACtE;AAAA,WAAM,wDAAuB,gBAAiB,IAAK;WAEpD;AAAA,KACC,KAAK;KACL,QAAQ;KACR,QAAQ,IAAI;;;QAKd;IACC,EAAI,WAAU,MACb;AAAA,WAAM,wDAAuB,qBAAsB,IAAK;;IACzD,QAAQ,IAAI;IACZ,QAAQ;IACR,OAAO;;QARR;IACC,QAAQ;IACR,QAAQ;;;IAQR,QAAQ;IACR,QAAQ;IACR;;;OAEH;GACC,EAAI,EAAC,CAAY,KAAZ,MAAY,KAAZ,OAAY,KAAZ,MAAY,KAAZ,MAAY,KAAZ,MAAY,KAAZ,MAAY,KAAZ,MAAY,KAAZ,MAAY,KAAZ,MAAY,KAAZ,KACL;AAAA,IACC,EAAI,MAAK,OACR;AAAA,WAAM,wDAAuB,qBAAsB,IAAK;;IACzD,MAAM,kBAAkB,uBAAW,MAAO,IAAI;IAC9C,gBAAS;IAAT,EArGH;IAsGG,QAAQ;IACR,OAAO;IACP;;;OAEF;GACC,MAAO;QAEN;IACC,QAAQ;;QACT;IACC,QAAQ;;;IAER,QAAQ;IACR,QAAQ;IACR;;;OAEH;GACC,EAAI,EAAC,CAAY,KAAZ,MAAY,KAAZ,OAAY,KAAZ,MAAY,KAAZ,MAAY,KAAZ,MAAY,KAAZ,MAAY,KAAZ,MAAY,KAAZ,MAAY,KAAZ,MAAY,KAAZ,KACL;AAAA,IACC;IACA,EAAI,UAAS,GACZ;AAAA,WAAM,wDAAuB,0BAA2B,IAAK;;IAC9D,MAAM,uBAAW,MAAM,IAAE;IACzB,QAAQ;IACR,EAAI,YAAW,QACd;AAAA,WAAM,wDAAuB,0BAA0B,QAAQ,IAAK,IAAK;;IAC1E,QAAQ;IACR,OAAO;IACP;;;OAEF;GACC,EAAO,MAEN;IACC,QAAQ;IACR,OAAO;UAEP;AAAA,UAAM,wDAAuB,aAAc,IAAK;;;OAEnD;GACC,MAAO;QAEN;IACC,MAAM;IACN,QAAQ;IACR,QAAQ,IAAI;IACZ,eAAe;;;IAEf,MAAM,wDAAuB,cAAe,IAAK;;;OAEpD;GACC,MAAQ;QACP;IACC,UAAuB,IAAI;IAA3B,0CAAW,IAAK,MAAhB,2BAAW,IAAK,MAAhB;IACA,QAAQ;IACR,aAAa;IACb,QAAQ,IAAI;;QALd;IAMC,EAA6B,SAE5B;AAAA,WAAM,wDAAuB,uBAAuB,oBAAoB,KAAK,sBAAuB,IAAK;WAC1G,EAAW,MAAK,cAAhB;AAAA,KACC,WAAuB,IAAI;KAA3B,2CAAW,IAAK,MAAhB,2BAAW,IAAK,MAAhB;KACA,UAAU;KACV,MAAM;KACN,QAAQ,MAAO;KACf,QAAQ;KACR,OAAO;;;;IANR,EAAW,MAAK,cAAhB;AAAA,KACC,WAAuB,IAAI;KAA3B,2CAAW,IAAK,MAAhB,2BAAW,IAAK,MAAhB;KACA,WAAU;KACV,MAAM;KACN,QAAQ,MAAO;KACf,QAAQ;KACR,OAAO;;;;OAEV;GACC,IAAI,wBAAQ,IAAK,OAAQ,EAAG;GAC5B,QAAQ;GACR,QAAQ;;OAmBT;GACC,EAAI,EAAC,CAAY,KAAZ,MAAY,KAAZ,OAAY,KAAZ,MAAY,KAAZ,MAAY,KAAZ,MAAY,KAAZ,MAAY,KAAZ,MAAY,KAAZ,MAAY,KAAZ,MAAY,KAAZ,KACL;AAAA,IACC,EAAI,UAAS,GACZ;AAAA,WAAM,wDAAuB,qBAAsB,IAAK;;IAEzD,QAAQ,uBAAW,MAAM,IAAI;IACpB;;;IAAT,EAAI,MAAK,iBACR;AAAA,KAA4C;;;KAA5C,MAAM,wDAAuB,gBAAe,kBAAkB,IAAK,IAAK;;IAEzE,QAAQ;IACR,OAAO;IACP;;;OA9BF;GACC,EAAO,MAEN,IACC;AAAA,YAAQ;UAER;AAAA,UAAM,wDAAuB,aAAc,IAAK;;;OAEnD;GACC,EAAO,MAEN;IACC,EAAI,UAAS,GACZ;AAAA,qBAAgB,iBAAiB;;IAClC,OAAO;UAEP;AAAA,UAAM,wDAAuB,aAAc,IAAK;;;OAjKnD;GACC,EAAI,MAAK,IACT;AAAA,IACC,WAAuB,IAAI;IAA3B,2CAAW,IAAK,MAAhB,2BAAW,IAAK,MAAhB;IACA,YAAY,iBAAiB;IAC7B,MAAM;IACN,gBAAS;IAAT,EAnCH;IAoCG,QAAQ;IACR,OAAO;UACD,EAAI,MAAK,IAAU;AAAA,IACzB,WAAuB,IAAI;IAA3B,2CAAW,IAAK,MAAhB,2BAAW,IAAK,MAAhB;IACA,QAAQ;IACR,aAAa;IACb,QAAQ,IAAI;;;OAqLd;GACC,EAAI,MAAK,MAAY,eAAe,IAAI,MAAM,IAC9C;AAAA,IACC;IACA,WAAU,uBAAW,QAAQ,EAAG,IAAI,QAAQ;IAC5C,gBAAS,gCAAgC;IAAzC,EApOH;IAqOG,QAAQ;;;OAvBV;GACC,EAAI,MAAK,MAAY,eAAe,IAAG,MAAM,MAAY,eAAe,IAAI,MAAM,IAClF;AAAA,IACC,gBAAS,kBAAkB,uBAAW,MAAO,IAAI;IAAjD,EAjNH;IAkNG,KAAK;IACL,QAAQ;;;OAEV;GACC,EAAG,MAAK,IACP;AAAA;UACI,EAAG,MAAK,IACZ;AAAA;UACI,EAAI,MAAK,MAAY,aAAa,GACvC;AAAA,IACC,gBAAS,kBAAkB,uBAAW,MAAO,IAAI;IAAjD,EA5NH;IA6NG,QAAQ;;;OAjLV;GACC,EAAI,MAAK,MAAY,eAAe,IAAI,MAAM,MAAY,eAAe,IAAI,MAAM,IACnF;AAAA,IACC,aAAY,gBAAgB,uBAAW,MAAO,IAAI;IAClD,gBAAS;IAAT,EAhDH;IAiDG,KAAK;IACL,QAAQ;;;OAqLV;GACC,EAAI,MAAK,IACT;AAAA,IACC,QAAQ,uBAAW,MAAO,IAAI;IAC9B,EAAI,cAAa,MAAM,IAAU;AAAA,KAChC,SAAQ,aAAa,MAAM,MACxB,aAAa,MAAK,qBAAS,EAAG,WAAW,MACzC,aAAa,qBAAS,EAAG,WAAW;KAoBvC,6BAAY;WACN;AAAA,KAAK;KAAL,EAAI,EAAC,gBAAe,MAAf,4BAAe,KAAf,uBAAe,KAAI;AAAA,MAC9B,EAAI,SACH;AAAA,aAAM,wDAAuB,uBAAuB,EAAG,IAAK;;MAC7D,oBAAS,MAAE,IAAC;YAEZ;AAAA,MAAQ;MAAR,QAAQ,eAAY,MAAZ,0BAAY,KAAZ,SAAY;MAApB;;;IAED,QAAQ,IAAI;IACZ,QAAQ;UACF,EAAI,EAAC,CAAY,KAAZ,MAAY,KAAZ,OAAY,KAAZ,MAAY,KAAZ,MAAY,KAAZ,MAAY,KAAZ,MAAY,KAAZ,MAAY,KAAZ,MAAY,KAAZ,MAAY,KAAZ,OAAkB,KAAK,IAAU;AAAA,IAC5C,EAAI,SACH;AAAA,WAAM,wDAAuB,kCAAkC,oBAAoB,GAAI,IAAK;;IAC7F;IACA,WAAuB,IAAI;IAA3B,2CAAW,IAAK,MAAhB,2BAAW,IAAK,MAAhB;IAEA,QADA;IAEA,QAAQ;;;;EAGP,AAAJ,IAAI,eAAe,EAAE;;CAGtB,EAAI,UAAS,GACb;AAAA,EACC,QAAQ;EACR,QAAQ;;CAGT,EAAI,UAAS,IACb;AAAA,EACC,EAAI,MAAK,SAAS,SAAS,GAAG;AAAA,GAC7B,WAAuB,IAAE;GAAzB,2CAAW,IAAK,MAAhB,2BAAW,IAAK,MAAhB;GACA,gBAAS,iBAAiB;GAA1B,EAnSD;;EAqSA,OAAO;;CAGR,EAAI,EAAC,UAAU,SAAS,MAAY,cAAc,IAAW;AAAA,EAC5D;EACA,WAAuB,IAAI;EAA3B,2CAAW,IAAK,MAAhB,2BAAW,IAAK,MAAhB;EACA,gBAAS,iBAAiB;EAA1B,EA3SA;EA4SA,OAAO;;CAGR,MAAM,wDAAuB,iBAAkB,IAAK;;uBCjZrD,iBAAqB;AAAA,CACpB,cAAS;CACT,cAAc;;;;yBAXD;AAAA;;;CACb,cAAc,qBAAY;CAC1B,kBAAkB,IAAK;CAChB;;;YAWR,qBACC;AAAA,EAAQ;;OAiBP;GACC,4BAAM,OAAO;GACP;;;GAAN,4BAAM;GACY;;IAAlB,iBAAkB;IACjB,4BAAM,MAAM,aAAY;IACxB,YAAM,uBAAuB,UAAU,YAAY;IAAnD;IACA;;GAED,EAAI,kBAAY,QAAQ;AAAA,IACvB;IACA;;;IACc;;;;;KAAd,aAAc;KACb,eAAU,OAAO,cAAS,OAAO,OAAO;;IAEzC,4BAAM,OAAO;IACP;;;IAAN,4BAAM;IACN;IACA;;;UACM;AAAA,IACN;IACA;;;;;OAEF;GACwB;;;GAAvB,gBAAuB;GACvB,EAAI,qBAAoB,GAAG;AAAA,IAC1B,aAAM,OAAO,uBAAuB;IAApC;IACA;;;;;OA1CF;GACC,4BAAM,OAAO;GACU;;;GAAvB,aAAM,iBAAiB;GAAvB;GACA;GACA;;;;OACD;GAC6B;;;GAA5B,qBAA4B;GACX;GAAjB,iBAAiB,AAAsB,uBAAtB,QAAsC;GACvD,iBAAiB,SAAS,iBAAiB;GAC3C,iBAAM;GACN,aAAM,iBAAiB;GAAvB;GACA;;;;OAoCD;GACsB;;;GAArB,4BAAM,eAAe,kBAAkB;GACvC;;;;OALD;GACc;;;GAAb,4BAAM,OAAO,kBAAkB;GAC/B;;;;OAlCD;GACe;;;;;IAAd,aAAc;IACb,eAAU,OAAO;;;;;eAiDrB,gBAAqC;AAAA,EACtB;;;;;GAAd,aAAc;GACL;;QACP;IACC,OAAO;QACR;IACuB;;;IAAtB,EAAI,mBAAkB,4BAA2B,GAChD;AAAA,YAAO;;;;;;EAKX,OAAO;;;;0BClGD,cAAkC;AAAA,CACxC;CACA,WAAW,AAAwC;CACnD,eAAe,OAAO;CACtB,EAAI,0BAA4B;AAAA,0BAA2B,KAAM;;;;;2BAGpD,cACN;AAAA,GAAI,EAAe,eAAK,QAAW;AAAA;QAAS;AAAA,iCAAc;;;;;;;;;;mBAOnD,YACd;AAAA,QAAO,QAAQ,UAAU,eAAe,UAAU,cAAc,UAAU;;kBAG5D,cACN;AAAA,CACP,UAAU,AAAI,KAAK,OAAO,aAAW,MAAI,eAAa,OAAU;CAKhE,OAAO,qBAAa,EAAG;CACvB,EAAI,MAAK,QAAQ,kBAAkB,MAClC;AAAA;YAAU;EAAV,WAAU,YAAV;AAAA,GAAK,SAAL,AAAU,IAAV;;GACC,OAAO,MAAM,qBAAa,GAAG;;;CAC/B;CACI;WAAiB,aAAa,aAA9B;AAAA,EAA6C,AAAC,IAAI,wBAAwB;EAA1E,MAA6C,AAAC,KAA8C;QAA5F;AAAA;;CAAJ,EAAI,MACH;AAAA,iBAAe,iBAAS,OAAK;QACzB,EAAI,mBAA4B,eAAe,eAAyB,MAC5E;AAAA,cAAsB;;;mBAyBlB,YACN;AAAA,GAAI,EAAO,aAAG,UAAV,AAAO,cAAP,MACH;AAAA,SAAO;QACH;AAAA,EACJ,SAAiB,AAAuC;EACxD,EAAI,OAAM,MACT;AAAA,UAAO;;EACR,WAAW,0BAAkB;EAC7B,EAAI,SAAQ,MACX;AAAA,UAAO,6BAAqB;;EAC7B,OAAO;;;uBAKM,cACN;AAAA,CACP,EAAI,MAAK,MACL;AAAA,SAAO;;CACX,EAAI,aAAY,GACf;AAAA,SAAO;;CACR,QAAQ;CACR,EAAI,MAAK,cAAc,CAAC,AAAQ,cAAM,AAAO,cAC5C;AAAA,MAAI;;CACL,MAAQ;MAqDR;EACC,OAAO;MArDR;EACC,EAAI,qBAA+B;AAAA,GAClC,EAAI,aAAa;AAAA,IAChB,EAAI,aAAY,GACf;AAAA,YAAO,EAAE;;IACV,UAAU,EAAE,KAAG;IACf,KAAK;IACL,UAAU;IAAV,SAAc;IAAd;;KACC,EAAI,MAAK,GACR;AAAA,aAAO,MAAM,qBAAa,EAAE,GAAG;YAE/B;AAAA,aAAO,qBAAa,EAAE,GAAG;;;IAE3B,OAAO,MAAM;;GAEd,QAAQ;GACR;GACA,WAAU;GACV,KAAK;GACL,WAAU;GAAV,UAAc;GAAd;;IACC,QAAO,CAAK,KAAI,IAAG,MAAS,MAAI,qBAAa,EAAE,IAAG;;GACnD,QAAO;GACP,OAAO;;EAER;EACA,IACC;AAAA,WAAgB;;GAGhB,OAAO;;EAER,EAAI,UAAS,QAAQ,SAAS,mBAA6B,OAAW,UAAU,YAAa;AAAA,GAC5F,SAAS;GACT,EAAI,OAAM,mBACT;AAAA,WAAO;;;EAET,QAAiB;EACjB,WAAU;EACV,KAAK;EACL,WAAW,AAAC,oBAAoB;EAChC;EACC,EAAI,SAAQ,CAAC,iBAAiB,IAC7B;AAAA;;EACD,EAAI,MAAK,eAAe,KAAK,eAAe,KAAK,eAAe,KAAK,oBAAoB,KAAK,kBAC7F;AAAA;;EACD,EAAI,gBAAc,GACjB;AAAA,WAAO;;EACR,QAAO,IAAI,IAAI,QAAM,qBAAa,EAAE,GAAG;EACxC;EACA,IAAI,YAAY;EAChB,QAAO,OAAO,IAAI;EAClB,OAAO;MAGR;EACC,OAAO;;EAEP,OAAO,OAAO;;;uBAKF,gBAAiD;AAAA,CAC/D,EAAI,OAAM,MACT;AAAA,SAAO;;CACR,EAAI,OAAM,IACT;AAAA,SAAO;;CACR,WAAqB;CACrB,EAAI,SAAQ,MACX;AAAA,YAAU;EAAV,SAAc;EAAd;;GACC,SAAkB,KAAK;GACvB,EAAI,OAAK,MAAM,qBAAa,GAAE,KAC7B;AAAA,WAAO;;;;CAEV,OAAO,qBAAa,aAAa;;uBAGQ,eAAgD;AAAA,CACzF,EAAI,OAAM,MACT;AAAA,SAAO;;CACR,MAAQ;MASR;EACQ,yBAA4C;AAAA,wBAAc;SAA1D;AAAA;;;MALR;EACC,OAAO,OAA2B,MAAM;MAKzC;EACC,OAAO;MATR;EACC,OAAO,OAA2B,MAAM;MAHzC;EACQ,UAA2B,MAAM,UAAoB;AAAA;SAArD;AAAA;;;MAKR;EACC,OAAO,OAA2B,MAAM;;EAMxC,EAAI,MAAK,MAER;AAAA,KAAI,QAA2B,OAAO,YAAa;AAAA,IAClD,EAAY,kBACX;AAAA,YAAO;;IACR,EAAI,sBAAa,iBAAS,GAAG,KAC5B;AAAA,YAAO;;UAEJ,EAAK,QAA2B,OAAO,YAAY,sBAAc,KACrE;AAAA,MAAY,kBACX;AAAA,YAAO;;;SAGT;AAAA,UAAO;;EAGsB,EAAI,OAAM,QAAS,cAAc,OAA7B,OAAoC;AAAA,UAAO;;EAChD,EAAI,OAAM,OAAQ,eAAe,OAA7B,OAAoC;AAAA,UAAO;;EAC5E,OAAO,cAAc;;;iBAIkB,cACxC;AAAA,GAAI,sBAAa,EAAG,IAAI;AAAA,SAAO;QAC1B;AAAA,QAAM,yCAAgB,WAAW,KAAK,SAAQ,WAAW;;;4BAKxD,YAA6C;AAAA,CACnD,WAAmB,qBAAa,SAAS,EAAG;CAG5C,EAAI,SAAQ,YAAY,QAAQ,cAAc,QAAQ,UAAU,QAAQ,QACvE;AAAA,SAAO;;CACR,OAAO;;wBAID,YACN;AAAA,QAAO,0BAAkB,MAAM;;+BAIzB,eACN;AAAA,QAAe,QAAc;;;;;qDC7KhB,yBAA+D;AAAA,CAC5E;WAAa,CAAC,QAAS;CAAvB,WAAa,YAAb;AAAA,EAAK,WAAL,AAAa,IAAb;;EACC,UAAU,kBAAkB,KAAM;EAClC,EAAI,QAAO,MAAM;AAAA,UAAO;;;CAEzB,OAAO;;iCCpDD,YACN;AAAA,GAAI,EAAO,aAAE,UAAT,AAAO,cAAP,MAAkB;AAAA,EACrB,SAAS;EACT,kBAAa;QACP;AAAA,EACN,UAAgB;EAChB,SAAS;EACT,UAAU;EAAV,SAAc;EAAd;;GACC,OAAO,KAAK;;EACb,kBAAa;;;;;uCAQR,oBAA+B;AAAA,CACrC,QAAQ,eAAuB,KAAmB,MAAO,OAAO,OAAO,OAAO,MAAM;CACpF,aAAa,gBAAwB;CACrC,kBAAkB,eAAuB;CACzC,gBAAgB;CAChB,OAAO;;;QATD,oBACN;AAAA,SAAO,+BAAgB,aAAQ,MAAM;;;;;;;mCCb/B,6BAAyE;AAAA,CAC/E;CACA,EAAY,QAAW,SAAU,UAAU;AAAA,EAC1C,MAAM;EACN,UAAU;EAAV,SAAc;EAAd;;GACC,IAAI,KAAK;;EAET,iBAAiB,cAAc;EAC/B,iBAAiB;EACY,UAAiC;EAAhC,WAAU;EAAV,WAAc,cAAc;EAA5B;;GAAgC;;EAA9D,aAAa,+BAAgB;QAExB,EAAI,sBAAO,KAAK,6BAAe;AAAA,EACrC,aAA2B;EAC3B,EAAI,WAAU,MAAO;AAAA,YAAS;;EAC9B,EAAI,WAAU,MAAO;AAAA,YAAS,AAAC,oBAAoB,UAAW;;EAC9D,MAAM;EAEN,WAAU;EAAV,UAAc;EAAd;;GACC,UAAkB,SAAS,YAAY,AAAC,SAAS,aAAa,IAAK,AAAC,SAAS,aAAa,KAAM,AAAC,SAAS,aAAa;GACvH,SAAS,4BAA4B;;EAGrC,iBAAiB,cAAY;EAC7B,iBAAiB;EACjB,aAAa;QAER,EAAI,EAAO,gBAAM,UAAb,AAAO,iBAAP,MAAsB;AAAA,EAChC,MAAM,AAAC;EAEP,cAAa;EACb;cAAU,YAAV;AAAA,GAAK,QAAL,AAAU,IAAV;;GACC,SAAQ,4BAA4B;GACpC,aAAY,KAAE;GACd,aAAY,AAAC,MAAG,IAAG;GACnB,aAAY,AAAC,MAAG,KAAI;GACpB,aAAY,OAAI;;EAGhB,iBAAiB,cAAc;EAC/B,iBAAiB;EACjB,aAAa,+BAAgB;QAG9B;AAAA,QAAM,kCAAQ;;CAEd,eAAe;CACf,UAAU;CAEX,OAAO;;mCAGD,qBACN;AAAA,GAAI,sBAAO,WAAW,6BAAe;AAAA,EACpC,QAAqB;EACrB,EAAI,kBAAiB,SAAS,iBAC7B;AAAA,SAAM;;EACP,UAAU;EAAV,SAAc;EAAd;;GACC,KAAW,IAAI,UAAU,EAAE;;QACtB,EAAI,EAAO,eAAI,UAAX,AAAO,gBAAP,MAAoB;AAAA,EAC9B,SAAqB;EACrB,EAAI,aAAW,SAAS,iBACvB;AAAA,SAAM;;EACP,WAAU;EAAV,UAAc;EAAd;;GACC,KAAW,KAAI,UAAU,GAAE;;QAE5B;AAAA,QAAM;;;wCAGD,oBAA8C;AAAA,CACpD,QAAQ,iCAAK,WAAiB,MAAM;CACpC,eAAe,QAAQ;CACvB,OAAO;;;;;iCCvED,6BAAyE;AAAA,CAC/E;CACA,EAAY,QAAW,SAAU,UAAU;AAAA,EAC1C,MAAM;EACN,UAAU;EAAV,SAAc;EAAd;;GACC,IAAI,KAAK;;EAET,iBAAiB;EACjB,iBAAiB;EACjB,aAAa,+BAAgB;QAExB,EAAI,sBAAO,KAAK,6BAAe;AAAA,EACrC,aAA2B;EAC3B,EAAI,WAAU,MAAO;AAAA,YAAS;;EAC9B,EAAI,WAAU,MAAO;AAAA,YAAS,oBAAoB;;EAClD,EAAI,WAAU,GACb;AAAA,SAAM,AAAqB;SAI3B;AAAA,SAAM,AAAqB,eAAe,OAAQ,SAAO;;EAEzD,iBAAiB;EACjB,iBAAiB;EACjB,aAAa;QAER,EAAI,EAAO,gBAAM,UAAb,AAAO,iBAAP,MAAsB;AAAA,EAChC,MAAM,AAAC;EAEN,iBAAiB;EACjB,iBAAiB;EACjB,aAAa,+BAAgB;QAG9B;AAAA,QAAM,kCAAQ;;CAEd,eAAe;CACf,UAAU;CAEX,OAAO;;iCAGD,qBACN;AAAA,GAAI,sBAAO,WAAW,6BAAe;AAAA,EACpC,QAAqB;EACrB,EAAI,kBAAiB,SAAS,iBAC7B;AAAA,SAAM;;EACP,UAAU;EAAV,SAAc;EAAd;;GACC,KAAW,IAAI,UAAU,EAAE;;QACtB,EAAI,EAAO,eAAI,UAAX,AAAO,gBAAP,MAAoB;AAAA,EAC9B,SAAqB;EACrB,EAAI,aAAW,SAAS,iBACvB;AAAA,SAAM;;EACP,WAAU;EAAV,UAAc;EAAd;;GACC,KAAW,KAAI,UAAU,GAAE;;QAE5B;AAAA,QAAM;;;sCAGD,oBAA8C;AAAA,CACpD,QAAQ,+BAAK,WAAiB,MAAM;CACpC,eAAe;CACf,OAAO;;iBC5EL,gBAEI;AAAA,aAAO;;;;;KAMG,0BACV;AAAA,6BAAkB,OAAQ;;OAGhB,0BACV;AAAA,SAAO,4BAAmB,OAAQ;;QAGxB,yBACV;AAAA,+BAAoB,OAAQ;;QAGzB;AAAA;;;;;;EACH,OAAO,yBAAoB,QAAS,QAAS;;QAG1C;AAAA;;;;;;EACH,OAAO,yBAAoB,QAAS,QAAS;;SAGnC,kBACV;AAAA,4BAAqB;;WAGX,kBACV;AAAA,8BAAuB;;QAGb,kBACV;AAAA,2BAAoB;;UAGV,0BACV;AAAA,6BAAsB,QAAS;;OAGrB,uBACV;AAAA,0BAAmB,QAAS;;SAGlB,yBACV;AAAA,4BAAqB,QAAS;;YAGpB,4BACV;AAAA,+BAAwB,QAAS;;YAGvB,kBACV;AAAA,SAAO,6BAAwB;;WAGrB,kBACV;AAAA,SAAO,4BAAuB;;eAGpB,kBACV;AAAA,SAAO,gCAA2B;;aAGxB,kBACV;AAAA,SAAO,8BAAyB;;UAGtB,kBACV;AAAA,SAAO,2BAAsB;;YAGnB,kBACV;AAAA,SAAO,6BAAwB;;eAGrB,kBACV;AAAA,SAAO,gCAA2B;;WAGxB,WACV;AAAA;;UAGU,WACV;AAAA;;cAKG,WAAiC;AAAA,SAAO;;cACxC,eAAiC;AAAA,SAAO,6BAAwB;;QAIvE,WjGqBiB;AAAA;WiGfjB,WjGeiB;AAAA;WiGTjB,WAAmB;AAAA;;;;;;;;;;;;;;mBCpGZ,WAVX;AAAA,CAyIoB,AAzIpB,iBAyIoB;CA7HZ,kBAAa;CACb,iBAAY;CAEZ,gBAAW;;;;;mBAIO,WAA4B;AAAA,EAC9C,KAAM,0BAAoB,GAA1B;AAAA,GACI,YAAY;GACZ,cAAc;GACd,gBAAgB;GAChB,QAAQ;;EAGZ,KAAM,yBAAmB,GAAzB;AAAA,GACI,aAAY;GACZ,eAAc;GACd,iBAAgB;GAChB,SAAQ;;EAGZ,kBAAa;EACb,iBAAY;EACZ,gBAAW;;QAKO,qBAAoF;AAAA,EAEtG,EAAG,kBAAY,MAAM;AAAA;;EAErB;EAEA,iBAAY;EAEZ,YAAY,gBAAa;EACzB,EAAG,UAAS,QAAQ,eAAe,GAC/B;AAAA;cAAe,cAAf;AAAA,IAAI,cAAJ,AAAe,MAAf;;IAEI,QAAQ;;;EAIhB,iBAAY;EAIZ;;MAMkB,wBAA0F;AAAA,EAE5G,EAAG,kBAAY,MAAM;AAAA;;EAErB;EAIA,EAAG,EAAC,+BAAgB,QAAQ;AAAA,GAExB,gBAAa,SAAO,CAAC;GACrB,oBAAe,YAAU,iBAAe;SAErC;AAAA,GACH,YAAY,gBAAa;GACzB,EAAG,eAAc,YAAY,IAAI;AAAA,IAC7B,WAAW;IACX,oBAAe,YAAU,iBAAe;;;;OAQ9B,wBAAkG;AAAA,EAEpH,EAAG,kBAAY,MAAM;AAAA,UAAO;;EAE5B;EAEA,eAAe;EAEf,EAAG,gCAAgB,QAAQ;AAAA,GAIvB,qBAAgB,UAAQ,iBAAe;GAEvC,cAAa;GAAb;;;;IACI,EAAG,gBAAe,SAAS,iBAAiB,SACxC;AAAA,2BAAiB;;;GAKzB,WAAW;;EAIf,OAAO;;eAIW,kBAA4C;AAAA,EAE9D,EAAG,mBAAa,MAAM;AAAA,UAAO;;EAE7B,YAAkC;EAElC,cAAa;EAAb;;;;GACI,EAAG,kBAAiB,SAChB;AAAA,eAAW;;;EAInB,OAAO;;UAMX,WAAkB;AAAA,EAEd,EAAG,mBAAa,mBAAc,MAC1B;AAAA;;EAGJ,iBAAY;EAEZ,EAAG,0BAAoB,GAAG;AAAA,GAEtB,cAAa;GAAb;;;;IAEI,YAAY,gBAAa;IAIzB,EAAG,UAAS,MAAM;AAAA,KAEd,yBAAc;KAGd,EAAG,iBAAgB,GACf;AAAA,2BAAgB;;;;GAO5B,kBAAa;GACb,kBAAa;;EAIjB,iBAAY;;;;mBCpKM,oBAP1B;AAAA,CAO0B;;;;;;CAFuB,AALjD,YAKiD;CAFF,AAH/C,UAG+C;CAMvC;CACA,cAAO;CACP,YAAK,OAAO,KAAK,wBAAwB;;;;;;WAM7C,gBAA4C;AAAA,SAAO,YAAO;;UAC1D,cAA4C;AAAA,SAAO,UAAK;;YACxD,WAA4C;AAAA,SAAO;;UACnD,WAA4C;AAAA,SAAO;;;;;kBC6F5C,mBAhHX;AAAA,CAoOgC,AApOhC,uBAoOgC;CA7M2B,AAvB3D,cAuB2D;CANC,AAjB5D,kBAiB4D;CAH5B,AAdhC,eAcgC;CAFD,AAZ/B,cAY+B;CAFG,AAVlC,iBAUkC;CAwG1B,uBAAO;CAGP;6BAAS,OAAE;CAEX,eAAU;CAIV,mBAAc,+BAAgB;CAC9B,gBAAW;CACX,cAAS;CAET,EAAG,iBAAW,QAAQ,0BAAqB,MACvC;AAAA,qBAAY;QAEZ;AAAA,qBAAY;;CAIhB;;;;0BAAqB;CACrB;;;;6BAAuB;CACvB;;;;8BAAwB;CACxB;;;;8BAAwB;CACxB;;;;gCAA0B;CAE1B,EAAG,iBAAW,MAAM;AAAA,EAIhB,GAAI,4BAAJ;GAAI,2BAAqB;;EAEzB,EAAG,sBAAgB,MAAM;AAAA,GACrB,cAAO;GACP,EAAG,2BACC;AAAA;kCAAS,OAAE;;;EAKnB,EAAG,qBAAe,MAAM;AAAA,GACpB,UAAmB;GACnB,aAAM;;EAGV,EAAG,uBAAiB,MAAM;AAAA,GACtB,UAAmB;GACnB,eAAQ;;EAOZ,kBAAuB;EAEvB,EAAG,0BAAoB,MACnB;AAAA,KAAG,0BAAoB,MACnB;AAAA,kBAAc;;;EAKtB,EAAG,wBAAkB,MAAM;AAAA,GAEvB,cAAc;GACd,gBAAS;;EAKb,EAAG,cAEC;AAAA,KAAG,uBAAiB,MAChB;AAAA,mBAAQ;UAGR;AAAA,mBAAQ;;;QAQhB;AAAA,iBAAQ;;CAQZ,EAAG,qBAAS,MAIR;AAAA,uBAAW;;;;;;;OAhKZ,WAAgB;AAAA;UAEhB,aAA0B;AAAA;iBAE1B,eAAmC;AAAA;WAGpB,WAAmB;AAAA;aAEnB,WAAqB;AAAA;WAGrB,gBAAmC;AAAA;aAEnC,gBAAqC;AAAA;eAErC,gBAAwC;AAAA;eAGxC,gBAAyC;AAAA;aAEzC,gBAAuC;AAAA;eAGvC,gBAAyC;AAAA;aAEzC,gBAAuC;AAAA;eAEvC,gBAAyC;AAAA;gBAEzC,gBAA0C;AAAA;eAG1C,gBAAyC;AAAA;aAEzC,gBAAuC;AAAA;eAEvC,gBAAyC;AAAA;eAGzC,gBAA2C;AAAA;iBAE3C,gBAA6C;AAAA;iBAE7C,gBAA6C;AAAA;mBAE7C,gBAA+C;AAAA;iBAGhD,gBAA4C;AAAA;mBAE5C,gBAA8C;AAAA;iBAE9C,gBAA4C;AAAA;qBAE5C,gBAAgD;AAAA;oBAEhD,gBAA+C;AAAA;OAyHtD,qBAA8C;AAAA,EACxD;EACA,OAAO,qBAAiB;;UAId,gBAAuC;AAAA,EACjD;EACA,OAAO,wBAAoB;;OAIjB;AAAA;;;EACV,OAAO,qBAAiB,MAAO;;WAIrB;AAAA;;;;;;EACV,OAAO,yBAAqB,MAAO,aAAc;;OAIvC,gBACV;AAAA,SAAO,qBAAiB;;SAQrB,WAAiB;AAAA,EAOpB;EAGA,UAAK;EAEL,EAAG,wBAAkB,GAEjB;AAAA;kBAAkB;;GAAlB;;IAEI;;;EAKR,EAAG,wBAAkB,GACjB;AAAA;aAAc;GAAd,WAAc,YAAd;AAAA,IAAI,aAAJ,AAAc,IAAd;;IAEI;;;EAKR,cAAS;;UAKN,YAAmB;AAAA,EAKtB;EAEA,UAAK;EAEL,EAAG,wBAAkB,GACjB;AAAA;kBAAkB;;GAAlB;;IAEI;;;EAKR,EAAG,wBAAkB,GACjB;AAAA;aAAc;GAAd,WAAc,YAAd;AAAA,IAAI,aAAJ,AAAc,IAAd;;IACI,cAAc;;;EAMtB,YAAuB;EAAvB;;;;;;;;EAGA,eAAU;;WAKP;AAAA;;;EAEH,GAAO,kBAAa,OAApB;AAAA,kFpGzIsB,CAAC,QoGyIK,qCAAgC,mBpGzInB;;EoG8IzC,EAAG,wBAAkB,GACjB;AAAA;aAAc;GAAd,WAAc,YAAd;AAAA,IAAI,aAAJ,AAAc,IAAd;;IAEI,eAAe;IACf,SAAS;;;EAIjB,EAAG,wBAAkB,GACjB;AAAA;kBAAkB;;GAAlB;;IAEI;IAEA;IACA,aAAa;;;EAIrB,gBAAW;EACX;EACA,mBAAc;EACd,uBAAkB;EAGlB,UAAK;EAEL;EAGA,EAAG,sBAAU,QAAQ,CAAC,cAElB;AAAA,mCAAqB;;EAIzB;;;;EAGA,iBAAY;EACZ,cAAS;EACT,eAAU;EAKV,EAAG,qBAAS,MACR;AAAA,2BAAa;;EAIjB,EAAG,gBAAU,MAAM;AAAA,GACf;GACA,cAAS;;EAGb,EAAG,yBAAa,MAAM;AAAA,GAClB;GACA,mBAAY;;EAGhB;EAEA,YAAK;;WAKF,aAA2B;AAAA,EAE9B,EAAG,iBAEC;AAAA;;EAGJ,EAAG,EAAC,qBAAU,CAAC,eAAU,CAAC,cACtB;AAAA;;EAMJ;;;;;;;EAGA,YAAO;EAEP,EAAG,gBAAU,MAET;AAAA;;EAIJ,EAAG,wBAAkB,GACjB;AAAA;kBAAkB;;GAAlB;;IACI,kBAAkB;;;EAK1B,EAAG,kBAAY,QAAQ,uBAAkB,GACrC;AAAA;aAAc;GAAd,WAAc,YAAd;AAAA,IAAI,aAAJ,AAAc,IAAd;;IACI,eAAe;;;;iBAS3B,WAAyB;AAAA,EAErB,EAAG,iBACC;AAAA;;EAGJ,EAAG,EAAC,qBAAU,CAAC,eAAU,CAAC,cACtB;AAAA;;EAKJ,UAAK;EAEL,mBAAc;EAEd,EAAG,wBAAkB,GACjB;AAAA;kBAAkB;;GAAlB;;IACI,yBAAyB;;;EAIjC,EAAG,wBAAkB,GACjB;AAAA;aAAc;GAAd,WAAc,YAAd;AAAA,IAAI,aAAJ,AAAc,IAAd;;IACI;;;;qBAQL;AAAA;;;EAEH,cAAc;EAEd,EAAG,qBAAS,MAER;AAAA,aAAU;SAEP,EAAG,sBAAU,MAAM;AAAA,GAEtB,eAAe;GACf,cAAc;GAEd,KAAM,WAGF,EAAG,wBAAiB,MAEhB;AAAA,MAAG,yBAAkB,MAAM;AAAA,KACvB,EAAG,EAAC,gBACA;AAAA,0CAAK,yEAAL;;KAEJ,WAAW;KACX;WAIA;AAAA,eAAU;;UAGX;AAAA,IAEH,UAAU;IACV,WAAW;IACX;;SAOR,EAAG,EAAC,gBACA;AAAA,uCAAK,yEAAL;;EAIR,OAAO;;WAKX;AAAA;;;EAUI,EAAI,EAAC,OACD;AAAA,WAAG,OAAQ;;EAGD;;GA3DV,UA2DU;;;;;;;KA3CE,WA2CF;;;KAtCE,UAsCF;;;IAjCF,UAiCE;IAhCF,WAgCE;;;;;;EAAd,eAAc;EAId,EAAG,aAAW,MACV;AAAA,SAAO;QAGH;IAA0B,YAAW,OAAQ;;QAD7C;IAA0B,YAAW,OAAQ;;QAE7C;IAA0B,YAAW,OAAQ;;QAY7C;IAA0B,YAAW,OAAQ;;QAD7C;IAA0B,YAAW,OAAQ;;QAT7C;IAA0B,YAAW,OAAQ;;QAC7C;IAA0B,YAAW,OAAQ;;QAC7C;IAA0B,YAAW,OAAQ;;QAC7C;IAA0B,YAAW,OAAQ;;QAE7C;IAA0B,YAAW,OAAQ;;QAC7C;IAA0B,YAAW,OAAQ;;QAC7C;IAA0B,YAAW,OAAQ;;QAO7C;IAA0B,YAAW,OAAQ;;QAF7C;IAA0B,YAAW,OAAQ;;QAC7C;IAA0B,YAAW,OAAQ;;QAE7C;IAA0B,YAAW,OAAQ;;QAE7C;IAA0B,YAAW,OAAQ;;QAC7C;IAA0B,YAAW,OAAQ;;QAC7C;IAA0B,YAAW,OAAQ;;QAC7C;IAA0B,YAAW,OAAQ;;QAC7C;IAA0B,YAAW,OAAQ;;;;;aAUzD;AAAA;;;EAEkB;;GAvGV,UAuGU;;;;;;KAvFE,WAuFF;;;KAlFE,UAkFF;;;IA7EF,UA6EE;IA5EF,WA4EE;;;;EAAd,eAAc;EAId,EAAG,EAAC,OACA;AAAA,YAAI,OAAQ;;EAGhB,EAAG,aAAW,MACV;AAAA,SAAO;QAGH;IAA0B,aAAY,OAAQ;;QAD9C;IAA0B,aAAY,OAAQ;;QAE9C;IAA0B,aAAY,OAAQ;;QAY9C;IAA0B,aAAY,OAAQ;;QAD9C;IAA0B,aAAY,OAAQ;;QAT9C;IAA0B,aAAY,OAAQ;;QAC9C;IAA0B,aAAY,OAAQ;;QAC9C;IAA0B,aAAY,OAAQ;;QAC9C;IAA0B,aAAY,OAAQ;;QAE9C;IAA0B,aAAY,OAAQ;;QAC9C;IAA0B,aAAY,OAAQ;;QAC9C;IAA0B,aAAY,OAAQ;;QAO9C;IAA0B,aAAY,OAAQ;;QAF9C;IAA0B,aAAY,OAAQ;;QAC9C;IAA0B,aAAY,OAAQ;;QAE9C;IAA0B,aAAY,OAAQ;;QAE9C;IAA0B,aAAY,OAAQ;;QAC9C;IAA0B,aAAY,OAAQ;;QAC9C;IAA0B,aAAY,OAAQ;;QAC9C;IAA0B,aAAY,OAAQ;;QAC9C;IAA0B,aAAY,OAAQ;;;;;iBAU1D,WAEI;AAAA,IAAG,qBAAS,MAAM;AAAA,GAEd,qBAAU,EAAU;GACpB,qBAAU,EAAY;GAGtB,qBAAU,GAAU;GACpB,qBAAU,GAAY;GACtB,qBAAU,GAAc;GACxB,qBAAU,GAAc;GACxB,qBAAU,GAAY;GACtB,qBAAU,GAAc;GACxB,qBAAU,GAAe;GACzB,qBAAU,GAAc;GACxB,qBAAU,GAAY;GACtB,qBAAU,GAAc;GACxB,qBAAU,GAAY;GACtB,qBAAU,GAAc;GACxB,qBAAU,GAAgB;GAC1B,qBAAU,GAAc;GACxB,qBAAU,GAAgB;GAC1B,qBAAU,GAAkB;GAC5B,qBAAU,GAAgB;GAC1B,qBAAU,GAAkB;GAC5B,qBAAU,GAAgB;GAC1B,qBAAU,GAAoB;GAC9B,qBAAU,GAAmB;;;iBAMrC,WAEI;AAAA,IAAG,qBAAS,MAAM;AAAA,GACd,oBAAS,EAAU;GACnB,oBAAS,EAAY;;;UAO7B,iBAAmC;AAAA,EAE/B,EAAG,EAAC,qBAAU,CAAC,eAAU,CAAC,cACtB;AAAA;;EAKJ,aAAQ;EACR,UAAK,GAAU;;YAInB,iBAAqC;AAAA,EAEjC,EAAG,EAAC,qBAAU,CAAC,eAAU,CAAC,cACtB;AAAA;;EAKJ,eAAU;EACV,UAAK,GAAY;;cAIrB,iBAAwC;AAAA,EAEpC,EAAG,EAAC,qBAAU,CAAC,eAAU,CAAC,cACtB;AAAA;;EAKJ,iBAAY;EACZ,UAAK,GAAc;;cAOvB,iBAAyC;AAAA,EAErC,EAAG,EAAC,qBAAU,CAAC,eAAU,CAAC,cACtB;AAAA;;EAKJ,iBAAY;EACZ,UAAK,GAAc;;YAKvB,iBAAuC;AAAA,EAEnC,EAAG,EAAC,qBAAU,CAAC,eAAU,CAAC,cACtB;AAAA;;EAKJ,eAAU;EACV,UAAK,GAAY;;eAIrB,iBAA0C;AAAA,EAEtC,EAAG,EAAC,qBAAU,CAAC,eAAU,CAAC,cACtB;AAAA;;EAKJ,kBAAa;EACb,UAAK,GAAe;;cAIxB,iBAAyC;AAAA,EAErC,EAAG,EAAC,qBAAU,CAAC,eAAU,CAAC,cACtB;AAAA;;EAKJ,iBAAY;EACZ,UAAK,GAAc;;cAKvB,iBAAyC;AAAA,EAErC,EAAG,EAAC,qBAAU,CAAC,eAAU,CAAC,cACtB;AAAA;;EAKJ,iBAAY;EACZ,UAAK,GAAc;;YAIvB,iBAAuC;AAAA,EAEnC,EAAG,EAAC,qBAAU,CAAC,eAAU,CAAC,cACtB;AAAA;;EAKJ,eAAU;EACV,UAAK,GAAY;;cAIrB,iBAAyC;AAAA,EAErC,EAAG,EAAC,qBAAU,CAAC,eAAU,CAAC,cACtB;AAAA;;EAKJ,iBAAY;EACZ,UAAK,GAAc;;gBAKvB,iBAA6C;AAAA,EAEzC,EAAG,EAAC,qBAAU,CAAC,eAAU,CAAC,cACtB;AAAA;;EAKJ,mBAAc;EACd,UAAK,GAAgB;;gBAIzB,iBAA6C;AAAA,EAEzC,EAAG,EAAC,qBAAU,CAAC,eAAU,CAAC,cACtB;AAAA;;EAKJ,mBAAc;EACd,UAAK,GAAgB;;cAIzB,iBAA2C;AAAA,EAEvC,EAAG,EAAC,qBAAU,CAAC,eAAU,CAAC,cACtB;AAAA;;EAKJ,iBAAY;EACZ,UAAK,GAAc;;kBAIvB,iBAA+C;AAAA,EAE3C,EAAG,EAAC,qBAAU,CAAC,eAAU,CAAC,cACtB;AAAA;;EAKJ,qBAAgB;EAChB,UAAK,GAAkB;;gBAM3B,iBAA4C;AAAA,EAExC,EAAG,EAAC,qBAAU,CAAC,eAAU,CAAC,cACtB;AAAA;;EAKJ,mBAAc;EACd,UAAK,GAAgB;;kBAIzB,iBAA8C;AAAA,EAE1C,EAAG,EAAC,qBAAU,CAAC,eAAU,CAAC,cACtB;AAAA;;EAKJ,qBAAgB;EAChB,UAAK,GAAkB;;gBAI3B,iBAA4C;AAAA,EAExC,EAAG,EAAC,qBAAU,CAAC,eAAU,CAAC,cACtB;AAAA;;EAKJ,mBAAc;EACd,UAAK,GAAgB;;oBAIzB,iBAAgD;AAAA,EAE5C,EAAG,EAAC,qBAAU,CAAC,eAAU,CAAC,cACtB;AAAA;;EAKJ,uBAAkB;EAClB,UAAK,GAAoB;;mBAI7B,iBAA+C;AAAA,EAE3C,EAAG,EAAC,qBAAU,CAAC,eAAU,CAAC,cACtB;AAAA;;EAKJ,sBAAiB;EACjB,UAAK,GAAmB;;cAM5B,iBAAyC;AAAA,EAErC,EAAG,EAAC,qBAAU,CAAC,eAAU,CAAC,cACtB;AAAA;;EAKJ,iBAAY;EACZ,UAAK,GAAc;;YAIvB,iBAAuC;AAAA,EAEnC,EAAG,EAAC,qBAAU,CAAC,eAAU,CAAC,cACtB;AAAA;;EAKJ,eAAU;EACV,UAAK,GAAY;;kBAOd,WAEH;AAAA,SAAO;;kBAIJ,gBAA+C;AAAA,EAElD,kBAAa;EAEb,EAAG,eACC;AAAA;;;;MAAuB,SAAvB;+CAAuB;IAAvB;;;EAGJ,OAAO;;0BAIJ,WAEH;AAAA,IAAG,0BAAoB,MAAM;AAAA,GACzB;GACA,wBAAmB;;;yBAKpB,gBAA6F;AAAA,EAEhG;;;;EAKA,EAAG,UAAS,KAAK,qBAAU,QAAQ,CAAC,gBAAW;AAAA,GAC3C,wBAAmB,mBAAoB;GACvC,4BAAuB;;;kBAOxB,WACH;AAAA,SAAO;;cAMX,gBAAoC;AAAA,EAEhC,mBAAc;EAEd,qBAAmB;EAKnB,EAAG,sBAAe,MAEd;AAAA,kBAAe,yBAAoB;SAChC;AAAA,GAIH,EAAG,gBAAU,CAAC,cACV;AAAA,gDAAuC;;GAG3C,EAAG,iBAAW,CAAC,eACX;AAAA,iDAAwC;;;;iBAOpD,gBAEI;AAAA,mCAAgB;;0BAMpB,eAGI;AAAA,IAAG,wBAAkB,GACjB;AAAA;kBAAkB;;GAAlB;;IACI,6BAA8B;;;;+BAM1C,oBAGI;AAAA,IAAG,wBAAkB,GACjB;AAAA;kBAAkB;;GAAlB;;IACI,kCAAmC;;;;4BAM/C,iBAGI;AAAA,IAAG,wBAAkB,GACjB;AAAA;kBAAkB;;GAAlB;;IACI,+BAAgC;;;;6BAM5C,kBAGI;AAAA,IAAG,wBAAkB,GACjB;AAAA;kBAAkB;;GAAlB;;IACI,gCAAiC;;;;6BAM7C,kBAGI;AAAA,IAAG,wBAAkB,GACjB;AAAA;kBAAkB;;GAAlB;;IACI,gCAAiC;;;;WAQ7C,aAEI;AAAA,EAAO;cAAgB;EAAhB,GAAgB,MAAhB;;;;;;;;;;;;WAIX,WAEW;AAAA;;gBAMX,aAEI;AAAA,EAAO;mBAAqB;EAArB,GAAqB,MAArB;;;;;;;;;;;;;gBAIX,WAEW;AAAA;;aAMX,aAEI;AAAA,EAAO;gBAAkB;EAAlB,GAAkB,MAAlB;;;;;;;;;;;;aAIX,WAEW;AAAA;;cAMX,kBAEI;AAAA,EAAO;;;;;;;MvG7yBP;IuG6yBO;;;;;iBAAmB;EAAnB;;;;;;MvG7wBP;IuG6wBO;;;;;;;cAKX,WAEW;AAAA;;iBAMX,qBAEI;AAAA,SAAO,iBAAY;;iBAKvB,WAEI;AAAA,SAAO;;cAMX,gBAAoC;AAAA,EAEhC,GAAO,SAAS,MAAhB;AAAA,6EpG39BsB,CAAC,QoG29BA,mDpG39BkB;;EoGi+BzC,EAAG,sBAAU,MACT;AAAA,mCAAsB;;EAI1B,cAAS;EAIT,EAAG,sBAAU,MAAM;AAAA,GACf,6BAAkB;GAClB;YAAmB;GAAnB;;;;;;OvG51BJ;KuG41BI;;;;;;;;;;;;;;;;;;OvGpzBJ;KuGozBI;;;;;;;;;;;;SACG;AAAA,GACH;;;;;;;OvG91BJ;KuG81BI;;;;;;;;;;;mBAAmB;GAAnB;;;;;;OvGtzBJ;KuGszBI;;;;;;;;;;;;GACA,oBAAe;;EAGnB,OAAO;;cAIX,WAEI;AAAA,SAAO;;aAMX,iBAAiC;AAAA,EAE7B;EAEI,aAAQ;EAEZ;EAEA,OAAO;;aAIX,WAEI;AAAA,SAAO;;kBAIX,iBAAsC;AAAA,EAElC,kBAAa;EAEb;YAAc;EAAd,WAAc,YAAd;AAAA,GAAI,aAAJ,AAAc,IAAd;;GACI,sBAAoB;;EAGxB,OAAO;;YAMF,gBAAyC;AAAA,EAE9C,aAAa;EAEb,EAAG,WAAU,QAAQ,mBAAQ,MAAM;AAAA,GAC/B,uBAAuB;GACvB,0BAAgC,QAAhC;AAAA,uGAAgC,QAAhC;;GACA;qBAAoB,UAApB;sBAAoB,MAAO;UAA3B;AAAA,YAAoB,SAAO;;GAC3B,sBAAsB;;EAG1B,OAAO,YAAO;;cAMlB,kBAEI;AAAA,SAAO,cAAS;;cAIpB,WAEI;AAAA,SAAO;;YAMJ,WAAoB;AAAA,EACvB,EAAI,iBAAW;AAAA,UAAQ,kBAAc,kBAAI,wBAAoB;;EAG7D,YAAY;EAAc;;GAAV,UAAU;GAAmB,WAAW;;EACxD,OAAQ,kBAAc,kBAAI,QAAK,aAAa,+BAAY,kBAAe,WAAW,QAAM,aAAS;;;;;kBCvtC9F,mBAnCX;AAAA,CAsIqB,AAtIrB,kBAsIqB;CA1GiC,AA5BtD,qBA4BsD;CAFP,AA1B/C,eA0B+C;CAYvC,oBAAe;CACf,wBAAmB;CACnB,uBAAkB;CAClB,mBAAY;CAEZ,YAAa;CAEb,EAAG,aAAY,MACX;AAAA,IAAG,kBAAiB,MAAM;AAAA,GACtB,QAAQ;GACR,uBAAwB,KAAC,QAAK;;QAGlC;AAAA,aAAW,aACI;;CAKZ,GAAI,iBAAJ;EAAI,gBAAe,mBAAoB;;CAA9C,YAAW;CAGX,sBAAM,SACK,kBACI;;;;;;eAKnB,WACW;AAAA;;gBAGX,aACI;AAAA,SAAO,uBAAgB;;cAG3B,WACW;AAAA;;cAGX,aAA0C;AAAA,EAEtC,aAAM,mBAAW,OAAO,AAAC,wBAAW,EAAI,OAAO,AAAC,wBAAW;EAC3D,OAAO,qBAAc;;oBAIzB,WACI;AAAA,SAAO;;oBAGX,aACI;AAAA,SAAO,yBAAoB;;YAG/B,WACI;AAAA,SAAO;;YAGX,aAAsC;AAAA,EAGlC,mBAAY;EAGZ,EAAG,oBAAQ,MAAM;AAAA,GACb;mBAAgB,CAAC,IAAE;GAAnB;;;;;;GACA;oBAAgB,CAAC,IAAE;GAAnB;;;;;;;EAGJ,OAAO;;YAIX,WACI;AAAA,SAAO;;iBAGX,WACI;AAAA,SAAO;;iBAGX,aAAiD;AAAA,EAE7C,EAAG,yBAAa,MAAM;AAAA,GAClB,iBAAY;GACZ,EAAG,oBAAQ,MACP;AAAA,kBAAU;;;EAIlB,OAAO,iBAAY;;kBAKvB,iBACI;AAAA,IAAG,oBAAQ,MAAM;AAAA,GAGb,kBAAW,sBAAc,sBAAY,sBAAY,SAAU;GAC3D,cAAS;;;YAIjB,gBAA2C;AAAA,EAGvC,EAAI,UAAS,MAAO;AAAA,GAChB,gBAAS,mBAAW,wBAAW,EAAG,wBAAW;GAC7C,YAAO;GACP;GAAiB;cAAiB;GAAlC;GAAiB,sBAAjB;AAAA,SAAiB;;;qBAAiB;;IAAlC,KAAiB;;GAAjB;;;;;;GACA,cAAS;GACT,kBAAa;GACb,SAAS,GAAqB;GAC9B,OAAO;;EAGX,EAAG,EAAC,iBAAY;AAAA,GACZ,QAAQ,GAAqB;GAC7B,kBAAa;;EAOjB,eAAe,wBAAa;EAC5B,eAAe,wBAAa;EAC5B,gBAAgB,SAAU,SAAU;EACpC,eAAe,SAAU,SAAU;EAE5B;;OAEH;GACe,WAAW;GAAtB,WAAW;;OAGf;GACe,WAAW;GAAtB,WAAW;;OAGf;;;EAOJ;aAAiB;EAAjB;;oBAAiB;;;EACjB;aAAiB;EAAjB;;oBAAiB;;;EAEjB;YAAe,IAAE,CAAC,sBAAiB;EAAnC;;;;;;EACA;WAAe,IAAE,CAAC,sBAAiB;EAAnC;;;;;;EAGA,gBAAS,mBAAY,UAAQ,EAAG,UAAQ;EAGxC,OAAO,YAAO;;SAMX;AAAA;;;;EAEH,yBAAc,iBAAa,GAAI,MAAI,UAAQ,MAAQ,iBAClC,kBAAoB,iDACtB,WACP;AAAA;YAAqB;GAArB,SAAiC;GAAjC;;;;;;;;;;;;;;;;;;;;;;;yBAML,kBAEH;AAAA,SAAO,gCAA4B;;yBAKhC,4BAEH;AAAA,SAAO,gCAA4B,QAAS;;0BAKvC,eAA6C;AAAA,EAElD,UAAU;EACV,UAAU;EACV,WAAW,MAAI;EACf,WAAW,MAAI;EAEf,UAAU;EACV,UAAU;EAEV,EAAG,gBAAU,MAAM;AAAA,GACf,EAAG,OAAM,eAAiB;AAAA,UAAM;;GAChC,EAAG,OAAM,eAAiB;AAAA,UAAM;;GAChC,EAAG,OAAI,OAAO,gBAAS,KAAK;AAAA,UAAM,gBAAS,MAAI;;GAC/C,EAAG,OAAI,OAAO,gBAAS,KAAK;AAAA,UAAM,gBAAS,MAAI;;;EAGnD,YAAY;EACR,wBAAwB;EAC5B;;WAAY;EAAZ;;kBAAY;;;EAAZ,SAAiB;EAAjB;;kBAAiB;;;EAAjB;;;;;;;EACI,wBAAwB;EAE5B,uDAA6B;EAE7B;EAAW;WAAiB;EAAjB,SAAyB;EAAzB,SAAiC;EAAjC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAX,YAAW;;+BAIN,oBAA2D;AAAA,EAEhE,4DAAkC;EAElC,EAAG,cAAQ,MACP;AAAA;oBAAgB;GAAhB,GAAgB,aAAhB;;;;;;;;;;;;;4BAKC,iBAAiD;AAAA,EAEtD,yDAA+B;EAE/B,EAAG,cAAQ,MACP;AAAA;iBAAa;GAAb,GAAa,UAAb;;;;;;;;;;;;SAMD,kBAA8B;AAAA,EAEjC,oBAAe;EACf,eAAU;;UAKiB,aAG3B;AAAA,IAAG,eAAS;AAAA,GAGR,oBAAe;GAGf;mBAAkB;GAAlB;;;;;;GACA;oBAAkB;GAAlB;;;;;;GACA;oBAAkB;GAAlB;;;;;;GAGA,qBAAgB;GAGhB,EAAG,sBAAgB,oBAAe;AAAA,IAC9B,oBAAe;IACf,eAAU;;GAId;GAAW;aAAiB,mCAAkB;GAAnC,UAAmD,mCAAkB;GAArE,UAAqF,mCAAkB;GAAvG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAAX,YAAW;;;mBChTiD;AAAA;;wBAYA;AAAA;;;;;cHrC9C,oBAP1B;AAAA,CAO0B;;;;;;CAFK,AAL/B,YAK+B;CAIvB,YAAO;CACP,UAAK,OAAO,KAAK,wBAAwB;;;;;;;qBIqFtC,mBAA2C;AAAA,CAE9C,YAAY;CAEZ,EAAG,aAAY,MACX;AAAA,IAAG,kBAAiB,MAChB;AAAA,WAAQ;;;CAIhB,kBAAM,SAAS,KAAK,wBAAwB;;;;;;OA3EzC,WAAgB;AAAA;UAEhB,aAA0B;AAAA;WAG1B,WAAmB;AAAA;aAEnB,WAAqB;AAAA;iBAGN,eAAmC;AAAA;WAEnC,WAAmB;AAAA;aAEnB,WAAqB;AAAA;WAGrB,gBAAmC;AAAA;aAEnC,gBAAqC;AAAA;eAErC,gBAAwC;AAAA;eAGxC,gBAAyC;AAAA;aAEzC,gBAAuC;AAAA;eAGvC,gBAAyC;AAAA;aAEzC,gBAAuC;AAAA;eAEvC,gBAAyC;AAAA;gBAEzC,gBAA0C;AAAA;eAG1C,gBAAyC;AAAA;aAEzC,gBAAuC;AAAA;eAEvC,gBAAyC;AAAA;eAGzC,gBAA2C;AAAA;iBAE3C,gBAA6C;AAAA;iBAE7C,gBAA6C;AAAA;mBAE7C,gBAA+C;AAAA;iBAGhD,gBAA4C;AAAA;mBAE5C,gBAA8C;AAAA;iBAE9C,gBAA4C;AAAA;qBAE5C,gBAAgD;AAAA;oBAEhD,gBAA+C;AAAA;OAoB7D,oBACH;AAAA,EAAO;;+BAAY;;UAIhB,gBACH;AAAA,EAAO;;kCAAe;;OAInB;AAAA;;;EACI,yCAAY,MAAO;;WAIvB;AAAA;;;;;;EACI,6CAAgB,MAAO,YAAa;;OAIxC,gBACI;AAAA,2CAAY;;kBAOvB,WAEO;AAAA,iCAAU;;kBAMjB,WAEO;AAAA,iCAAU;;cAMjB,kBAAoC;AAAA,EAEhC;EAEI,cAAS;EAEb;EAEA,OAAO;;cAIX,WAEI;AAAA,SAAO;;WAMX,aACI;AAAA,EAAO;cAAuB;EAAvB,GAAuB,MAAvB;;;;;;;;;;;;WAGX,WACW;AAAA;;gBAGX,aACI;AAAA,EAAO;mBAA4B;EAA5B,GAA4B,MAA5B;;;;;;;;;;;;;gBAGX,WACW;AAAA;;aAGX,aACI;AAAA,EAAO;gBAAyB;EAAzB,GAAyB,MAAzB;;;;;;;;;;;;aAGX,WACW;AAAA;;cAGX,aACI;AAAA,EAAO;;;;;;;M1G0JP;I0G1JO;;;;;iBAA0B;EAA1B;;;;;;M1G0LP;I0G1LO;;;;;;;cAGX,WACW;AAAA;;iBAGX,aACI;AAAA,SAAO,gCAAmB;;iBAG9B,WACI;AAAA,SAAO;;qBAGW,eAA0C;AAAA;uBAC1C,iBAA8C;AAAA;0BAC9C,oBAAwD;AAAA;wBACxD,kBAAgD;AAAA;wBAChD,kBAAmD;AAAA;YAElE,WACH;AAAA,SAAQ,qBAAiB,YAAI,SAAM,+BAAY,YAAQ;;;;;iBC7K3D,eA9BJ;AAAA,CA6XkC,AA7XlC,wBA6XkC;CAjWA,AA5BlC,iBA4BkC;CADK,AA3BvC,oBA2BuC;CAPN,AApBjC,uBAoBiC;CADG,AAnBpC,0BAmBoC;CAHI,AAhBxC,wBAgBwC;CADD,AAfvC,uBAeuC;CADG,AAd1C,wBAc0C;CADN,AAbpC,kBAaoC;CAVW,AAH/C,eAG+C;CA6BvC,WAAM;;;;4BAqKH,uBAA8D;AAAA,CAEjE,GAAO,sBAAW,OAAlB;AAAA,+ExGRsB,CAAC,QwGQG,yExGRe;;CwGSzC,qBAAU;CAEN,WAAY,KAAC;CAEb,EAAG,UAAS,QAAQ,sBAAsB,MACtC;AAAA,UAAQ,AAAC,MAAK,wBAAyB;;CAM/B,YAAa,KAAE,iBAAe,OAAI,iBAAW,0DAAuB,IAAK,KAAG,MAAE;CAG1F,EAAG,EAAC,sBACA;AAAA;YAAiB;EAAjB,WAAiB,YAAjB;AAAA,GAAI,gBAAJ,AAAiB,IAAjB;;GACI,UAAU,OAAQ;;;CAI9B,qBAAU;;;WArLP,gBAAuC;AAAA,EAE1C;YAAY;EAAZ,WAAY,YAAZ;AAAA,GAAI,WAAJ,AAAY,IAAZ;;GAEI,EAAG,oBAAa,OACZ;AAAA,WAAO,AAAK;;;EAKpB,OAAO;;QA2BX,WAAgB;AAAA,EAEZ,mBAAQ;EAcR,iBAAiB;;wBAMrB,WAAgC;AAAA;UA0EhC,WAAkB;AAAA;WAsDlB,YACI;AAAA,IAAG,eACC;AAAA;aAAY;GAAZ,WAAY,YAAZ;AAAA,IAAI,WAAJ,AAAY,IAAZ;;IACI,eAAe;;;;aAK3B,YACI;AAAA,IAAG,eACC;AAAA;aAAY;GAAZ,WAAY,YAAZ;AAAA,IAAI,WAAJ,AAAY,IAAZ;;IACI,iBAAiB;;;;aAK7B,YACI;AAAA,IAAG,eACC;AAAA;aAAY;GAAZ,WAAY,YAAZ;AAAA,IAAI,WAAJ,AAAY,IAAZ;;IACI,iBAAiB;;;;cAK7B,YACI;AAAA,IAAG,eACC;AAAA;aAAY;GAAZ,WAAY,YAAZ;AAAA,IAAI,WAAJ,AAAY,IAAZ;;IACI,kBAAkB;;;;WAK/B,YACK;AAAA,IAAG,eACC;AAAA;aAAY;GAAZ,WAAY,YAAZ;AAAA,IAAI,WAAJ,AAAY,IAAZ;;IACI,eAAe;;;;aAK3B,YAmBI;AAAA,IAAG,eACC;AAAA;aAAY;GAAZ,WAAY,YAAZ;AAAA,IAAI,WAAJ,AAAY,IAAZ;;IACI,iBAAiB;;;;aAK7B,YACI;AAAA,IAAG,eACC;AAAA;aAAY;GAAZ,WAAY,YAAZ;AAAA,IAAI,WAAJ,AAAY,IAAZ;;IACI,iBAAiB;;;;SAK7B,YAEI;AAAA,IAAG,eACC;AAAA;aAAY;GAAZ,WAAY,YAAZ;AAAA,IAAI,WAAJ,AAAY,IAAZ;;IACI,aAAa;;;;WAgBzB,YAA6B;AAAA,EAEzB,EAAG,eAAc,IACb;AAAA,oBAAU,CAAC;;EAGf,EAAG,eAAS;AAAA,GAER,EAAG,cAAa,MAAa,cACzB;AAAA;;GAGJ;aAAY;GAAZ,WAAY,YAAZ;AAAA,IAAI,WAAJ,AAAY,IAAZ;;IACI,eAAe;;;;WAiB3B,WAEI;AAAA,IAAG,sBAAgB,MACf;AAAA;;;eAMc,WAAuB;AAAA,EAGzC,uBAAkB;EAElB;EAGA,EAAG,2BAAqB,0BAAa,GACjC;AAAA,6BAAqB;;EAIzB,iBAAM;EAEN,oBAAe,iBAAM;EAGrB;;eAMJ,iBAGQ;AAAA,SAAO,eAAU;;WA8BzB,WAAmB;AAAA,EAEf,qBAAQ,GAAU;EAClB,qBAAQ,GAAY;EACpB,qBAAQ,GAAY;EACpB,qBAAQ,GAAc;EACtB,qBAAQ,GAAc;EACtB,qBAAQ,GAAe;EAGvB,uBAAY;;WAIhB,WAAmB;AAAA,EAEf,yBAAoB;EACpB;EAEA,EAAG,0BAAoB,uBAAkB,GAAG;AAAA,GACxC,kBAAa,wBAAiB;GAC9B,wBAAmB;GACnB,wBAAmB;;EAGvB,EAAG,EAAC,cACA;AAAA;;EAIJ;EAAwB,iBAAG,+BAAkB;EAAoC,oBAA4B;EAAQ,qBAAuB;EAA5I,aAAwB,OAA2B,WAAW,IAAE,mBAAY,QAAK,CAAY,uBAAZ,aAA+B,QAAK,CAAY,kBAAZ;EAErH;YAAY;EAAZ,WAAY,YAAZ;AAAA,GAAI,WAAJ,AAAY,IAAZ;;GACI;;;;;;gBCnLR,gBAEI;AAAA,aAAO;;;;;OA9QJ,kBAAyC;AAAA,EAE5C,GAAW,cAAX;wFzG2MsB,CAAC,QyG3MC,gDzG2MiB;;EyG1MzC,GAAW,cAAX;wFzG0MsB,CAAC,QyG1MC,gDzG0MiB;;EyGxMzC,GAAI,cAAJ;GAAI,aAAa;;EACjB,GAAI,mBAAJ;GAAI,kBAAiB;;EAEjB,OAAO,kCAAiB;;aAKzB,kBAAmD;AAAA,EAEtD,GAAI,cAAJ;GAAI,aAAa;;EACjB,GAAI,mBAAJ;GAAI,kBAAiB;;EAErB,OAAO,uCAAsB;;OAK1B,kBAAuC;AAAA,EAE1C,GAAI,cAAJ;GAAI,aAAa;;EACjB,GAAI,mBAAJ;GAAI,kBAAiB;;EAErB,OAAO,kCAAiB;;QAKrB,kBAAyC;AAAA,EAE5C,GAAI,cAAJ;GAAI,aAAa;;EACjB,GAAI,mBAAJ;GAAI,kBAAiB;;EAErB,OAAO,kCAAiB;;UAKrB,kBAA6C;AAAA,EAEhD,GAAI,cAAJ;GAAI,aAAa;;EACjB,GAAI,mBAAJ;GAAI,kBAAiB;;EAErB,OAAO,oCAAmB;;OAKvB,kBAAuC;AAAA,EAE1C,GAAI,cAAJ;GAAI,aAAa;;EACjB,GAAI,mBAAJ;GAAI,kBAAiB;;EAErB,OAAO,iCAAgB;;QAKpB,kBAAoD;AAAA,EAEvD,GAAI,cAAJ;GAAI,aAAa;;EACjB,GAAI,mBAAJ;GAAI,kBAAiB;;EAErB,aAAmB;EACnB,cAAsB;EACtB,aAAoB;EACpB,SAAiB;EACjB,SAAiB;EACjB,aAAqB;EAErB,EAAG,kBAAiB,MAChB;AAAA,YAAS;;EAGb,EAAG,cAAa,MAAQ;AAAA,aAAU;;EAClC,EAAG,cAAa,MAAQ;AAAA,QAAK;;EAC7B,EAAG,cAAa,MAAQ;AAAA,QAAK;;EAC7B,EAAG,kBAAiB,MAAQ;AAAA,YAAS;;EACrC,EAAG,kBAAiB,MAAQ;AAAA,YAAS;;EAErC,EAAG,EAAC,QACA;AAAA,4BAAyB;SAEzB;AAAA,4BAAyB;;EAG7B,gBAAgB,8BAAa;EAC7B,cAAsB,IAAI;EAC1B,qBAA6B,UAAU;EACvC,wBAAgC,UAAU;EAC1C,iBAAyB,AAAyB,SAAzB;EACzB,aAAa;EAEb,EAAG,SAEC;AAAA,iBAAe,4BAAY,mBAAY,GAAI,IAAM;;EAGrD,aAAmB,AAAC,UAAU,QAAS,SAAS,SAAO;EACvD,cAA4B;EAE5B,UAAS;EAAT,SAAe;EAAf;;GAEI,UAAY,AAAC,UAAU,SAAS,aAAa,iBAAmB,AAAC,IAAI;GACrE,UAAY,AAAC,UAAU,SAAS,aAAa,iBAAmB,AAAC,IAAI;GACrE,YAAY,mBAAY,KAAK,IAAK,KAAK,IAAK;GAE5C,cAAe,4BAAY,MAAO;GAElC,EAAG,EAAC,QACA;AAAA,MAAG,KAAI,GAAG;AAAA,KACN,YAAY,QAAQ,IAAI;KACxB,cAAe,4BAAY,MAAO;;;GAI1C,aAAa;;EAIjB,EAAG,EAAC,QACA;AAAA,iBAAe,4BAAY,QAAQ,GAAI;;EAG3C,OAAO;;QAOJ,kBAA4C;AAAA,EAE/C,GAAI,cAAJ;GAAI,aAAa;;EACjB,GAAI,mBAAJ;GAAI,kBAAiB;;EACrB,GAAI,iBAAJ;GAAI,gBAAe;;EACnB,GAAI,iBAAJ;GAAI,gBAAe;;EAEnB,mBAAyB;EACzB,kBAAkB,AAAC,kBAAkB;EACrC,EAAG,EAAC,aAAa;AAAA,GAAe,GAAI,iBAAJ;IAAI,gBAAe;;GAAf,AAAnB,eAAmB;;EAEpC,EAAG,gBAAe;AAAA,GAEd,GAAI,0BAAJ;IAAI,yBAAwB;;GAE5B,gBAAgB,8BAAa;GAE7B,WAAW;GACX,SAAS;GACT;aAAc;GAAd,WAAc,YAAd;AAAA,IAAI,aAAJ,AAAc,IAAd;;IACI,aAAa,cAAc,eAAe,QAAQ;IAClD,cAAc,4BAAW,OAAQ;IACjC,EAAE;;GAGN,OAAO;SAEJ;AAAA,GAEH,GAAI,0BAAJ;IAAI,yBAAwB;;GAE5B,iBAAgB,8BAAa;GAE7B,YAAW;GACX,UAAS;GAET;cAAc;GAAd,YAAc,aAAd;AAAA,IAAI,cAAJ,AAAc,KAAd;;IACI,cAAa,cAAc,eAAe,SAAQ;IAClD,eAAc,4BAAW,QAAQ;IACjC,EAAG,SAAO,MAAG,GAAG;AAAA,KACZ,kBAAkB,cAAc,eAAe,QAAK,KAAK;KACzD,eAAc,4BAAW,eAAe,QAAK,GAAI;;IAErD,EAAE;;GAGN,EAAG,gBAAe;AAAA,IACd,YAAY,wBAAsB;IAClC,eAAc,cAAc,eAAe,KAAK;IAChD,cAAc,cAAc,eAAe,SAAS;IACpD,eAAc,4BAAW,eAAe,OAAQ;IAChD,eAAc,4BAAW,eAAe,GAAI;;GAGhD,OAAO;;;WAOR,kBAA+C;AAAA,EAElD,GAAI,cAAJ;GAAI,aAAa;;EACjB,GAAI,mBAAJ;GAAI,kBAAiB;;EAErB,SAAiB;EACjB,SAAiB;EACjB,SAAiB;EACjB,SAAiB;EAGjB,UAAgB;EAChB,UAAgB;EAEZ,EAAG,oBAAmB,MAAM;AAAA,GACxB,MAAM;GACN,MAAM;GAEN,EAAG,iBAAgB,MAAM;AAAA,IACrB,KAAK;IACL,KAAK;;;EAIb,EAAG,gBAAe,MAAM;AAAA,GACpB,KAAK;GACL,KAAK;;EAET,EAAG,iBAAgB,MAAM;AAAA,GACrB,KAAK;GACL,KAAK;;EAGT,GAAI,aAAJ;GAAI,YAAW;;EACf,GAAI,aAAJ;GAAI,YAAW;;EACf,GAAI,aAAJ;GAAI,YAAW;;EACf,GAAI,aAAJ;GAAI,YAAW;;EAEf,YAAY,kCAAiB;EAE7B,UAAkB;EAClB,UAAkB;EAClB,UAAkB;EAClB,UAAkB;EAElB,EAAG,eAAc,MAAM;AAAA,GACnB,MAAM;GACN,MAAM;GACN,MAAM;GACN,MAAM;;EAGV,YAAU,sBAAc,IAAK,IAAK,IAAK;EAAvC;;;;;;;;;;;;;;;;;;;;;;;;;G7G9IA,a6G8IA;;;;Y7G5IA;I6G4IA,A7G5JA,Q6G4JA;I7G3JA,O6G2JA;I7G1JA,O6G0JA;I7GzJA,O6GyJA;I7GxJA,O6GwJA;I7GtJA,Q6GsJA;I7GrJA,O6GqJA;I7GpJA,O6GoJA;I7GnJA,O6GmJA;I7GlJA,O6GkJA;;;I7GtII,Q6GsIJ;I7GrIQ,O6GqIR;I7GpIQ,O6GoIR;I7GlII,Q6GkIJ;I7GjIQ,O6GiIR;I7GhIQ,O6GgIR;I7G7HI,Q6G6HJ;I7G5HQ,O6G4HR;I7G3HQ,O6G2HR;I7GzHI,Q6GyHJ;I7GxHQ,O6GwHR;I7GvHQ,O6GuHR;;;I7GjHI,Q6GiHJ;I7GhHQ,O6GgHR;I7G/GQ,O6G+GR;I7G7GI,Q6G6GJ;I7G5GQ,O6G4GR;I7G3GQ,O6G2GR;I7GxGI,Q6GwGJ;I7GvGQ,O6GuGR;I7GtGQ,O6GsGR;I7GpGI,Q6GoGJ;I7GnGQ,O6GmGR;I7GlGQ,O6GkGR;;;;;;;;;;;;;;;;;;;;;;EAEJ,OAAO;;QAKJ,kBAA6C;AAAA,EAEhD,GAAI,mBAAJ;GAAI,kBAAiB;;EAErB,OAAO,kCAAiB;;;;eCnRhC;AAAA,CAsD4B,AAtD5B,iBAsD4B;CANY,AAhDxC,sBAgDwC;CAFE,AA9C1C,wBA8C0C;CAFH,AA5CvC,sBA4CuC;CAFF,AA1CrC,mBA0CqC;CALH,AArClC,gBAqCkC;CAFC,AAnCnC,iBAmCmC;CAHM,AAhCzC,uBAgCyC;CAFJ,AA9BrC,mBA8BqC;CAFK,AA5B1C,wBA4B0C;CAFL,AA1BrC,mBA0BqC;CAHD,AAvBpC,kBAuBoC;CAFK,AArBzC,uBAqByC;CAFL,AAnBpC,kBAmBoC;CALC,AAdrC,mBAcqC;CAFA,AAZrC,mBAYqC;CAFF,AAVnC,iBAUmC;;;;;SAkD/B,kBAA+C;AAAA,SAAO;;SAEtD,WAAiB;AAAA;UAEjB,aAA0B;AAAA;QAE1B,aAAwB;AAAA;aAExB,WAAqB;AAAA;WAErB,gBAAoC;AAAA;eAGpC,WAAuB;AAAA;aAEvB,WAAqB;AAAA;aAGrB,0DAAyG;AAAA;WAEzG,0DAAuG;AAAA;eAEvG,qDAA8G;AAAA;eAG9G,yCAA+E;AAAA;aAE/E,yCAA6E;AAAA;gBAE7E,kCAAwE;AAAA;eAExE,4CAAuF;AAAA;eAGvF,uCAA0F;AAAA;aAE1F,uCAAwF;AAAA;eAExF,uCAA0F;AAAA;iBAG1F,uCAA4E;AAAA;iBAE5E,yCAA8E;AAAA;eAE9E,yCAA4E;AAAA;mBAG5E,oCAA+F;AAAA;iBAG/F,WAAyB;AAAA,EAErB,gBAAW;EACX,wBAAmB;EAEN;EAAb,kBAAa;EACb,uBAAkB,kBAAa;EAC/B,kBAAa;EAEC;EAAd,mBAAc;EACd,wBAAmB,mBAAc;EACjC,mBAAc,iBAAY;;iBAI9B,WAAyB;AAAA,EAErB;EAEa;EAAb,kBAAa;EACb,kBAAa,AAAC,kBAAa;EAC3B,uBAAkB;EAEd,EAAG,sBACC;AAAA;;;;;;;;;;;;;;;;SAEA;AAAA;;EAGR,UAAK;EAEL;;yBASJ,WAAwC;AAAA,EAEpC,EAAG,qBAAe,GAAG;AAAA,GAEd;GAAH,EAAG,6EAAW,gBACV;AAAA;;GAGQ;GAAZ,iBAAY,4EAAW;;EAI3B,mBAAc;EACd,mBAAc,AAAC,mBAAc;EAC7B,wBAAmB;EAEnB,EAAG,oBAAc,sBACb;AAAA,sBAAc;;EAGlB,kBAAkB,AAAC,oBAAe,IAAK,mBAAc;EACrD,eAAe;EACf,iBAAY;EAEZ,iBAAY;EACZ,YAAO;;gCAIJ,WAA+C;AAAA,EAEpC;EAAd,mBAAc;EACd,mBAAc,AAAC,mBAAc;EAC7B,wBAAmB;EAEnB,iBAAY,mBAAc;EAC1B,EAAG,kBAAY,sBACX;AAAA,oBAAY;;EAGhB,uBAAkB;EAElB,aAAa,wBAAmB;EAChC,KAAM,wBAAkB,uBAAxB;AAAA,GAEI,YAAO;GACP,iBAAY;GACZ,uBAAkB;;EAItB,mBAAc,sBAAiB;;;;kBC5I5B,gBArCX;AAAA,CA0L8B,AA1L9B,mBA0L8B;CA1JZ,AAhClB,eAgCkB;CAFW,AA9B7B,mBA8B6B;CADH,AA7B1B,gBA6B0B;CADK,AA5B/B,cA4B+B;CADM,AA3BrC,oBA2BqC;CADC,AA1BtC,qBA0BsC;CAnBF,AAPpC,aAOoC;CADC,AANrC,eAMqC;CA+BD;CAE5B,YAAO;CAGP,eAAU;CAGV,YAAY;CACZ,aAAa,qBAAqB;;;;;;MAQ/B,WAAe;AAAA,EAElB,GAAO,gBAAW,OAAlB;AAAA;;EAEA,eAAU;EAEV,cAAc;;YAKX,WAAoB;AAAA,EAGvB,qBAAgB;EAGhB,WAAe;EAAf;;;;gBAKU,WAEV;AAAA,SAAQ,KAAE,aAAM,cAAW,6BAAU,WAAQ,cAAO,iBAAc;;MAM/D,wBACH;AAAA,kBAAW,MAAO;;OAKf,wBACH;AAAA,SAAO,iBAAY,MAAO;;QAKvB,qBACI;AAAA,oBAAa,MAAO;EAA3B;;SAKK,WAAiB;AAAA,EAAjB;EAQL,eAAU,wBAAyB;EAEnC,aAAQ,eAAU,wBAAyB;EAE3C,kCAAI,2HAAJ;EASI,gBAAW;EACX,EAAG,EAAC,eAAU;AAAA,GAEV,iBAAkB;GACA,YAAqB,uBAAuB;GAA9D,kBAAkB;GAClB,iBAAiB,+DAA4B,WAAY;GAEzD,gBAAgB,gBACZ;AAAA,gBAAK;YACA,gBAAgB;AAAA,IACrB,kCAAI,6EAAJ;IACA,YAAK;;SAGN;AAAA,GAEH,mBAAc;GACd,UAAK;;;aAQR,WAAqB;AAAA,EAE1B,qBAAgB;EAEhB,kCAAK,mBAAL;EAGA,kBAAa;EACb;EAGA,EAAG,kBAAY,MACX;AAAA;;EAGJ;EACA;EACA;EACA;EACA;EACA;EAGA,eAAU;EACV,aAAQ;EACR,aAAQ;EACR,cAAS;EACT,aAAQ;EACR,aAAQ;EACR,aAAa;EAGb,oBAAe;EAEf,kCAAK,WAAL;;QAMJ,gBAAgC;AAAA,EAM5B,aAAa,aAAQ,eAAU;EAC/B,UAAU,UAAK,YAAO;EAEtB,YAAU,cAAS;EACnB,aAAU,eAAU;EACpB,cAAU;EACV,aAAU,eAAU;EACpB,aAAU,eAAU;EACpB,eAAU,iBAAY;EAEtB,iBAAY;EACZ,iBAAiB;EAEjB,EAAG,EAAC,eAAU;AAAA,GACV,gBAAW,qBAAa,KAAM;GAC9B,gBAAgB;;EAGpB,gBAAgB;EAChB,gBAAgB;EAKE;EAAd,mBAAc;EACd,cAAS,gBAAgB,KAAM,WAAW,YAAU,kBAAc,WAAW,YAAU;EAG3F;EACG;EACH;EACA;EACA;EAEA,EAAG,EAAC,eACA;AAAA;;EAGJ;EAEA,aAAc;EACd,YAAc;EACd,cAAc;EACd,aAAc;EACd,aAAc;EAEd,EAAG,EAAC,eACA;AAAA,iBAAc,gBAAgB,SAAQ,yBAAsB;;EAGhE,eAAe;EAEf,aAAQ,eAAW;EACnB,aAAa;EAEb,EAAG,EAAC,eAAU;AAAA,GACV,eAAU;GACV;;EAGJ;;sBAIJ,WAEI;AAAA,IAAG,EAAC,eAAU;AAAA,GAKV,sBAAsB,gBAAW,OAChB,2BACD,wBACA,wCACA,wCACA,2CACA,2CACA,0CACA,2CACA,8CACA,4CACF,iBAAyB;AAAA,IAC/B,kCAAK,oCAAL;IACA,MAAM,+CAAY;;GAI1B;SAIA;AAAA,uBAAe;;;kBAMvB,YAA2B;AAAA,EAEpB,WAAC;EAYJ;EAGA,EAAG,EAAC,oBAAe;AAAA,GAIf,kBAAa;GACb,cAAS;GAGT;;;WAQC,iBAAsD;AAAA,EAE3D,EAAG,kBAAiB,MAChB;AAAA,qBAAa;;EAGjB,kBAAa;;UAMR,iBAA8B;AAAA,EAEnC,EAAG,oBAAc;AAAA;;EACjB,EAAG,EAAC,aAAQ;AAAA;;EAaZ;EAIA;EAIA;EAIA;EAKA;EAIA,kBAAa,EAAgB;EAK7B,iBAAY;EAKZ;;QAKK,iBAA4B;AAAA,EAEjC,EAAG,qBAAe;AAAA;;EAClB,EAAG,EAAC,aAAQ;AAAA;;EAOZ,EAAG,mBACC;AAAA;;;UAMD,WAAkB;AAAA,EAIrB;EAEA,kBAAa;EACb;EAEI,kBAAa;EACb;EACA;EAEJ,kBAAa;EACb;EAIA;;eAIK,WAEL;AAAA,IAAG,EAAC,mBACA;AAAA,qBAAa;;;aAKZ,WAEL;AAAA,IAAG,EAAC,mBACA;AAAA,qBAAa;;;gBAOrB,iBAA2D;AAAA,EAEvD,EAAG,qBAAe;AAAA;;EAClB,EAAG,EAAC,aAAQ;AAAA;;EAGZ,gBAAgB;EAChB,gBAAgB;EAIE;EAAd,mBAAc;EAIlB,WAAW,WAAW,YAAU;EAChC,WAAW,WAAW,YAAU;EAEhC,kBAAa,GAAgB;EAEtB;;OAEH;GACI,kBAAa,GAAqB;GAClC,wBAAmB;;OAGvB;GACI,6BAAwB,SAAU;GAClC,+BAA0B,UAAW;GACrC,kBAAa,GAAuB;GACpC,0BAAqB;;OAGzB;GACI,6BAAwB,SAAU;GAClC,+BAA0B,UAAW;GACrC,kBAAa,GAAqB;GAClC,wBAAmB;;OAGvB;GACI,kBAAa,GAAyB;GACtC,4BAAuB;;OAG3B;GACI,kBAAa,GAAwB;GACrC,2BAAsB;;;;EAO9B,SAAS;;eAaA,8CAAoF;AAAA,EAEzF,EAAG,EAAC,aAAQ;AAAA;;EAEP,AAAL,KAAK,AAAQ,KAAG,mBAAX;EACA,AAAL,KAAK,AAAQ,KAAG,mBAAX;EAEL;;iCAA2B,GAAI;EAA/B;EAEA,uBAAkB,GAAI,GAAI,QAAS,WAAY;;aAI1C,8CAAkF;AAAA,EAEvF,EAAG,EAAC,aAAQ;AAAA;;EAEP,AAAL,KAAK,AAAQ,KAAG,mBAAX;EACA,AAAL,KAAK,AAAQ,KAAG,mBAAX;EAEL;;iCAA2B,GAAI;EAA/B;EAEA,qBAAgB,GAAI,GAAI,QAAS,WAAY;;eAIxC,oDAA+F;AAAA,EAEpG,EAAG,EAAC,aAAQ;AAAA;;EAEP,AAAL,KAAK,AAAQ,KAAG,mBAAX;EACA,AAAL,KAAK,AAAQ,KAAG,mBAAX;EAEL;;iCAA2B,GAAI;EAA/B;EAEA,uBAAkB,GAAI,GAAI,OAAQ,OAAQ,WAAY;;gBAIjD,sCAA4E;AAAA,EAEjF,EAAG,EAAC,aAAQ;AAAA;;EAEZ,wBAAmB,GAAI,GAAI,WAAY;;aAMlC,gEAAsH;AAAA,EAE3H,EAAG,EAAC,aAAQ;AAAA;;EAEZ,qBAAgB,SAAU,UAAW,QAAS,KAAM,WAAY;;WAI3D,gEAAoH;AAAA,EAEzH,EAAG,EAAC,aAAQ;AAAA;;EAEZ,mBAAc,SAAU,UAAW,QAAS,KAAM,WAAY;;eAIzD,4DAAsI;AAAA,EAE3I,EAAG,EAAC,aAAQ;AAAA;;EAEZ,uBAAkB,MAAO,OAAQ,QAAS,OAAQ,WAAY;;eAMzD,6CAAgG;AAAA,EAErG,EAAG,EAAC,aAAQ;AAAA;;EAEZ,uBAAkB,GAAI,GAAI,IAAK,IAAK,UAAW;;aAI1C,6CAA8F;AAAA,EAEnG,EAAG,EAAC,aAAQ;AAAA;;EAEX,qBAAgB,GAAI,GAAI,IAAK,IAAK,UAAW;;eAIzC,6CAAgG;AAAA,EAErG,EAAG,EAAC,aAAQ;AAAA;;EAEZ,uBAAkB,GAAI,GAAI,IAAK,IAAK,UAAW;;eAM5C,oEAA2I;AAAA,EAE9I,EAAG,EAAC,aAAQ;AAAA;;EAEZ,uBAAkB,MAAO,WAAY,aAAc,aAAc;;aAI9D,oEAAyI;AAAA,EAE5I,EAAG,EAAC,aAAQ;AAAA;;EAEZ,qBAAgB,MAAO,WAAY,aAAc,aAAc;;iBAM1D,2CAAuF;AAAA,EAE5F,EAAG,EAAC,aAAQ;AAAA;;EAEZ,yBAAoB,SAAU,MAAO,OAAQ;;iBAIxC,6CAAyF;AAAA,EAE9F,EAAG,EAAC,aAAQ;AAAA;;EAEZ,yBAAoB,SAAU,QAAS,OAAQ;;eAI1C,6CAAuF;AAAA,EAE5F,EAAG,EAAC,aAAQ;AAAA;;EAEZ,uBAAkB,SAAU,QAAS,OAAQ;;mBAIxC,yCAA2G;AAAA,EAEhH,EAAG,EAAC,aAAQ;AAAA;;EAEZ,2BAAsB,SAAU,IAAK,OAAQ;;UAQ5C,kBAAiF;AAAA,EAEtF,EAAG,iBAAgB,MAAM;AAAA,kBAAe;;EAGxC,mBAAc,AAAK;EAGnB,gCAA4B;EAC5B,gCAA2B;EAC3B,iCAA4B;EAC5B,oCAA+B;EAC/B,qCAAsD;EACtD,qCAAsD;EAEtD,2BAAsB,UACN,YACA,YACA,eACA,YACA,cACA,aACA;EAIhB,mBAAc,iBAAa;EAG3B,OAAO,AAAK;;;;;;;kBCrsBF,WAXlB;AAAA,CAQ4B,AAR5B,yBAQ4B;CAMpB,yBAAoB;CACpB,mBAAc;CACd,qBAAgB;CAChB,mBAAc;CACd,uBAAkB;;;;;UAKf,WAEH;AAAA;;SAKG,WAAiB;AAAA,EAEJ;;;GAAhB,gBAAgB;GACZ;GACA,YAAW;;EAGG;;GAAlB,kBAAkB;GACd,8BAAyB;;EAGf;;GAAd,cAAc;GACV,0BAAqB;;EAGb;;GAAZ,YAAY;GACR,wBAAmB;;EAGvB,aAAa;EACb,KAAM,UAAS,GAAf;AAAA,GACI;GACA;;;qBAMD,yBAA4D;AAAA,EAE/D,uBAAqB;EACrB,oBAAoB,AAAwB,gBAAxB,iBAAkC;EACtD,oBAAoB,SAAS,cAAgB;EAE7C,OAAO,oBAAqB;;UAQzB,gCAAyE;AAAA,EAG5E,UAAU;EACV,kBAAkB,kCAAqB,IAAK,YAAa;EAGzD;oBAAuB,QAAvB;qBAAuB,IAAK;SAA5B;AAAA,WAAuB,OAAK;;EAK5B,iBAAiB;EACjB,EAAG,kBAAiB,cAAc;AAAA,GAG1B;GAAJ,EAAG,EAAC,gBAAqB,gBAArB,6BAAqB,eAArB,wBAAqB,eAErB;AAAA;gBAA+B;IAA/B,kBAAkB,gBAAlB;wBAAkB,YAAlB;;cAAkB,eAAlB;;;GAIJ;mBAAkB,gBAAlB,0BAAkB,eAAlB,SAAkB,mBAAmB;SAElC;AAAA,GAGC;GAAJ,EAAG,EAAC,gBAAmB,gBAAnB,6BAAmB,eAAnB,wBAAmB,eAEnB;AAAA;iBAA6B;IAA7B,kBAAgB,gBAAhB;wBAAgB,YAAhB;;cAAgB,eAAhB;;;GAIJ;mBAAgB,gBAAhB,0BAAgB,eAAhB,SAAgB,mBAAmB;;EAKvC,OAAO;;YAOJ,mBAEH;AAAA,EAAG;EAAH,EAAG,gBAAyB,aAAzB,4BAAyB,YAAzB,uBAAyB,WAAW;AAAA,GAEjB;GAAlB,kBAAkB,eAAsB,aAAtB,0BAAsB,YAAtB,SAAsB;GACtB,UAAgB;GAAhB;GAAlB,kBAAkB;GAElB,EAAG,gBAAe,MAAM;AAAA,IACpB,+BAAmB;IACnB,OAAO;UACJ;AAAA,IACiB,WAAkB;IAAlB;IAApB,oBAAoB;IACpB,EAAG,kBAAiB,MAAM;AAAA,KACtB,iCAAqB;KACrB,OAAO;WAEP;AAAA,YAAO;;;SAOf;AAAA,UAAO;;;SASR,gCAAmE;AAAA,EAEtE,UAAU;EAEN,sBAAiB,8BAAgB,IAAK,WAAY;EAEtD,OAAO;;WAKJ,mBAAqC;AAAA,EAGxC,WAAW;EACX,aAAa;EACb;GAEI,EAAG,kBAAY,YAAY,UAAU;AAAA,IACjC,wBAAmB,KAAM;IACzB,OAAO;;GAGX,EAAE;GAPN,EASQ,UAAO,SATf;AAAA;;;EAWA,OAAO;;WAMJ,WAAmB;AAAA,EAGtB,aAAa;EACb,KAAM,UAAS,GAAf;AAAA,GACI,aAAa;GACb,UAAK,YAAa;GAClB;;;QAUD;AAAA;;;EAEH,aAAa;EAGE;;;GAAf,eAAe;GAEX,EAAG,mBAAiB,GAAG;AAAA,IAEnB,mBAAmB,SAAQ;IAC3B,EAAG,wBAAkB,aAAc,cAAc;AAAA,KAE7C,EAAG,OACC;AAAA,oBAAc,oBAAe,YAAa,YAAa;;KAG3D;gBAAmB,iBAAnB;AAAA,MAAI,kBAAJ,AAAmB,SAAnB;;MACI,qBAAsB,AAAK;;KAG/B,SAAS;;;;EAOlB;EAAH,EAAG,gBAAoB,gBAApB,6BAAoB,eAApB,wBAAoB,cAAe;AAAA,GAGf;GAAnB,mBAAmB,eAAgB,gBAAhB,0BAAgB,eAAhB,SAAgB;GAEnC,EAAG,OACC;AAAA,kBAAc,oBAAe,YAAa,YAAa;;GAI3D;eAAkB,qBAAlB;AAAA,IAAI,iBAAJ,AAAkB,aAAlB;;IACI,oBAAqB,AAAK;;GAG9B,SAAS;;EAIb,OAAO;;YAQJ,qCAAkF;AAAA,EAErF,UAAmB;EAEwB;WAAU;EAAV,SAAsB;EAAtB;AAAA;;EAAvC,cAAa,oBAAoB,KAAM;EAEvC;oBAAqB,QAArB;qBAAqB,IAAK;SAA1B;AAAA,WAAqB,OAAK;;EAE9B,OAAO;;cAOJ,sBAAmD;AAAA,EAEnD;EAAH,EAAG,gBAAuB,gBAAvB,4BAAuB,eAAvB,uBAAuB,cAAc;AAAA,GAEvB;GAAb,aAAa,eAAoB,gBAApB,0BAAoB,eAApB,SAAoB;GAEjC;GAEA,4BAAuB;GAEvB,OAAO;;EAGX,OAAO;;kBAMX,mCAAsE;AAAA,EAElE,GAAI,eAAJ;GAAI,cAAa;;EAGjB,AAAiB,YAAa,kBAAe;EAE7C,AAAiB,YAAa,8BAA2B;EAEzD,OAAO;;;;oCAcJ,oCAA4E;AAAA,CAE/E,UAAK;CACL,gBAAW;CACX,kBAAa;;;;;;;gCAeV,4CAAyE;AAAA,CAE5E,UAAK;CACL,YAAO;CACP,kBAAa;;;;;;;cC/UjB,gBACI;AAAA,aAAO;;;;;WAcG,eAEV;AAAA,mCAAsB;;eAUZ;AAAA;;;EAEV,OAAO,6BAAwB,KAAM,OAAQ;;eAOnC;AAAA;;;EAEV,OAAO,6BAAwB,KAAM;;kBAM3B;AAAA;;;EAEV,OAAO,gCAA2B;;QAsBtC,WAAgB;AAAA;;;iBClDhB,gBAA6B;AAAA,CAEzB,YAAO;CAEP,iBAAY;CACZ,kBAAa;CACb,mBAAc;CACd,mBAAc;CACd,qBAAgB;CAChB,mBAAc;;;;;eAQX,iBACH;AAAA,EAAO;oBAA6B,WAA7B;+BAA6B;SAA7B;AAAA,iCAA6B;;;iBAIjC,iBACH;AAAA,EAAO;oBAA8B,WAA9B;+BAA8B;SAA9B;AAAA,iCAA8B;;;aAIlC,iBACH;AAAA,EAAO;oBAA0B,WAA1B;+BAA0B;SAA1B;AAAA,iCAA0B;;;cAM9B,gBACH;AAAA,SAAO,+BAA2B;;eAI/B,gBACH;AAAA,SAAO,gCAA4B;;WAIhC,gBACH;AAAA,SAAO,4BAAwB;;eAK5B,gBACH;AAAA,SAAO,gCAA4B;;gBAIhC,gBACH;AAAA,SAAO,iCAA6B;;YAIjC,gBACH;AAAA,SAAO,6BAAyB;;gBAM7B,kBACH;AAAA,SAAO,iCAA6B;;iBAIjC,kBACH;AAAA,SAAO,kCAA8B;;aAIlC,kBACH;AAAA,SAAO,8BAA0B;;kBAM9B,2BACH;AAAA,SAAO,mCAA+B,SAAU;;mBAI7C,2BACH;AAAA,SAAO,oCAAgC,SAAU;;eAI9C,2BACH;AAAA,SAAO,gCAA4B,SAAU;;eAI1C,yBACH;AAAA,SAAO,gCAA4B,SAAU;;YAO1C,qBAA0C;AAAA,EAExC;EAAL,EAAI,EAAC,gBAAoB,UAApB,4BAAoB,SAApB,uBAAoB,SACrB;AAAA;eAAwB;GAAxB;qBAAiB,UAAjB;uBAAiB,MAAjB;;aAAiB,SAAjB;;;EAGM;EAAV,UAAU,eAAiB,UAAjB,0BAAiB,SAAjB,SAAiB;EACvB,MAAQ,QAAM;;cAKf,qBAA4C;AAAA,EAE3C;EAAJ,EAAG,EAAC,gBAAoB,UAApB,4BAAoB,SAApB,uBAAoB,SAAQ;AAAA;;EAEtB;EAAV,UAAU,eAAiB,UAAjB,0BAAiB,SAAjB,SAAiB;EACvB,WAAW;;cAKZ,wBAAuD;AAAA,EAErD;EAAL,EAAI,EAAC,gBAAsB,UAAtB,4BAAsB,SAAtB,uBAAsB,SACvB;AAAA;eAA0B;GAA1B;qBAAmB,UAAnB;uBAAmB,MAAnB;;aAAmB,SAAnB;;;EAGM;EAAV,UAAU,eAAmB,UAAnB,0BAAmB,SAAnB,SAAmB;EACzB,MAAQ,WAAS;;gBAKlB,wBAAyD;AAAA,EAExD;EAAJ,EAAG,EAAC,gBAAsB,UAAtB,4BAAsB,SAAtB,uBAAsB,SAAQ;AAAA;;EAExB;EAAV,UAAU,eAAmB,UAAnB,0BAAmB,SAAnB,SAAmB;EACzB,WAAW;;gBAKZ,4CAAwF;AAAA,EAErF;EAAN,EAAK,EAAC,gBAAwB,UAAxB,4BAAwB,SAAxB,uBAAwB,SAC1B;AAAA;eAA4B;GAA5B;qBAAqB,UAArB;uBAAqB,MAArB;;aAAqB,SAArB;;;EAGM;EAAV,UAAU,eAAqB,UAArB,0BAAqB,SAArB,SAAqB;EAC3B,MAAQ,mBAAiB;;kBAK1B,wBAAmD;AAAA,EAElD;EAAJ,EAAG,EAAC,gBAAwB,UAAxB,4BAAwB,SAAxB,uBAAwB,SAAQ;AAAA;;EAE1B;EAAV,UAAU,eAAqB,UAArB,0BAAqB,SAArB,SAAqB;EAC3B,WAAW;;QAMnB,WAAgB;AAAA,EAEZ,oBAAe;EACf,sBAAiB;EACjB,wBAAmB;EAEnB,yBAAoB;EACpB,4BAAuB;EACvB,6BAAwB;;WAM5B,W9G9EiB;AAAA;W8GoFjB,WAAmB;AAAA,EAMD;;GAAd,cAAc;GAEP;GAAH,EAAG,gBAAyB,YAAzB,yBAAyB,WAAzB,QAAyB,UACxB;AAAA,qCAA4B;UAE5B;AAAA;sBAAyB,YAAzB;wBAAyB,QAAQ;WAAjC;AAAA,cAAyB,WAAQ;;;;EAQ3B;;GAAd,cAAc;GAEP;GAAH,EAAG,gBAA0B,YAA1B,0BAA0B,WAA1B,SAA0B,UACzB;AAAA,sCAA6B;UAE7B;AAAA;sBAA0B,YAA1B;wBAA0B,QAAQ;WAAlC;AAAA,cAA0B,WAAQ;;;;;eAW1C,8CAAoF;AAAA,EAEhF,EAAG,0BAAoB;AAAA;;EAEvB,2BAAsB,GAAI,GAAI,QAAS,wBAAoB,WAAY;EAEvE,uBAAkB,iBAAa;EAE/B,uBAAU,GAAmB;EAE7B,2BAAsB;;aAI1B,8CAAkF;AAAA,EAE9E,EAAG,0BAAoB;AAAA;;EAEvB,2BAAsB,GAAI,GAAI,QAAS,sBAAkB,WAAY;EAErE,uBAAkB;EAElB,uBAAU,GAAiB;EAE3B,yBAAoB;;eAIxB,oDAA+F;AAAA,EAE3F,EAAG,0BAAoB;AAAA;;EAEvB,0BAAqB,GAAI,GAAI,OAAQ,OAAQ,WAAY;EAEzD,uBAAU,GAAmB;EAE7B,2BAAsB;;gBAI1B,sCAA4E;AAAA,EAExE,EAAG,0BAAoB;AAAA;;EAEvB,2BAAsB,GAAI,GAAI,WAAY;EAE1C,uBAAkB,iBAAa;EAE/B,uBAAU,GAAoB;EAE9B,4BAAuB;;aAM3B,gEAAsH;AAAA,EAElH,EAAG,0BAAoB;AAAA;;EAEvB,mBAAc,SAAU,UAAW,QAAS,KAAM,wBAAoB,WAAY;EAElF,sBAAiB,eAAW;EAE5B,uBAAU,GAAiB;EAE3B,yBAAoB;;WAIxB,gEAAoH;AAAA,EAEhH,EAAG,0BAAoB;AAAA;;EAEvB,mBAAc,SAAU,UAAW,QAAS,KAAM,sBAAkB,WAAY;EAEhF,sBAAiB;EAEjB,uBAAU,GAAe;EAEzB,uBAAkB;;eAItB,4DAAsI;AAAA,EAElI,EAAG,0BAAoB;AAAA;;EAEvB;EAAY,MAAO;OACf;GADJ,QACkB;;OACd;GAFJ,QAEmB;;;GACP;;EAGZ,oBAAe,MAAO,OAAQ,QAAS,MAAO,WAAY;EAE1D,uBAAU,GAAmB;EAE7B,2BAAsB;;eAM1B,6CAAuG;AAAA,EAEnG,EAAG,0BAAoB;AAAA;;EAEvB,qBAAgB,GAAI,GAAI,IAAK,IAAK,UAAW,wBAAoB;EAEjE,uBAAU,GAAmB;EAE7B,2BAAsB;;aAI1B,6CAAqG;AAAA,EAEjG,EAAG,0BAAoB;AAAA;;EAEvB,qBAAgB,GAAI,GAAI,IAAK,IAAK,UAAW,sBAAkB;EAE/D,uBAAU,GAAiB;EAE3B,yBAAoB;;eAIxB,6CAAuG;AAAA,EAEnG,EAAG,0BAAoB;AAAA;;EAEvB,qBAAgB,GAAI,GAAI,IAAK,IAAK,UAAW,wBAAoB;EAEjE,uBAAU,GAAmB;EAE7B,2BAAsB;;iBAM1B,2CAAuF;AAAA,EAEnF,EAAG,0BAAoB;AAAA;;EAEvB,4BAAuB,SAAU,MAAO,OAAQ;EAEhD,uBAAU,GAAqB;EAE/B,6BAAwB;;iBAI5B,6CAAyF;AAAA,EAErF,EAAG,0BAAoB;AAAA;;EAEvB,8BAAyB,SAAU,QAAS,OAAQ,wBAAoB;EAExE,iCAA4B,mBAAe;EAE3C,uBAAU,GAAqB;EAE/B,6BAAwB;;eAI5B,6CAAuF;AAAA,EAEnF,EAAG,0BAAoB;AAAA;;EAEvB,8BAAyB,SAAU,QAAS,OAAQ,sBAAkB;EAEtE,iCAA4B,mBAAe;EAE3C,uBAAU,GAAmB;EAE7B,2BAAsB;;mBAI1B,yCAA2G;AAAA,EAEvG,EAAG,0BAAoB;AAAA;;EAEvB;EAAY,MAAO;OACf;GADJ,QAC6B;;OACzB;GAFJ,QAE6B;;OACzB;GAHJ,QAG6B;;;GAH7B,QAI6B;;EAG7B,8BAAyB,SAAU,IAAK,MAAO;EAE/C,uBAAU,GAAuB;EAEjC,+BAA0B;;eAM9B,oEAA2I;AAAA,EAEvI,EAAG,0BAAoB;AAAA;;EAEvB,EAAG,eAAc,MACb;AAAA,4BAAoB,MAAO,wBAAoB;SAE9C,EAAG,iBAAgB,MACpB;AAAA,8BAAsB,MAAO,wBAAoB;SAEhD,EAAG,iBAAgB,MACpB;AAAA,8BAAsB,MAAO,wBAAoB;SAEhD,EAAG,mBAAkB,MACtB;AAAA,gCAAwB,MAAO,wBAAoB;SAGnD;AAAA,gCAAwB,MAAO;;EAGnC,uBAAU,GAAmB;EAE7B,2BAAsB;;aAI1B,oEAAyI;AAAA,EAErI,EAAG,0BAAoB;AAAA;;EAEvB,EAAG,eAAc,MACb;AAAA,4BAAoB,MAAO,sBAAkB;SAE5C,EAAG,iBAAgB,MACpB;AAAA,8BAAsB,MAAO,sBAAkB;SAE9C,EAAG,iBAAgB,MACpB;AAAA,8BAAsB,MAAO,sBAAkB;SAE9C,EAAG,mBAAkB,MACtB;AAAA,gCAAwB,MAAO,sBAAkB;SAGjD;AAAA,gCAAwB,MAAO;;EAGnC,uBAAU,GAAiB;EAE3B,yBAAoB;;oBAM5B;AAAA;;;EAEI,aAA6B;EAChB;;GAAb,aAAa;GAEA;GAAT,SAAS,eAAiB,WAAjB,yBAAiB,UAAjB,QAAiB;GAC1B,sBAAsB,SAAS;GAC/B,EAAG,qBAAU,cAAc,CAAC,iBACxB;AAAA,MAAI,EAAC,WAAW,OAAQ,SACpB;AAAA,iBAAY;;;;EAMxB;aAAU,eAAV;AAAA,GAAI,SAAJ,AAAU,OAAV;;GACI,EAAG,QAAO;AAAA,IAGN;sBAAyB,OAAzB;wBAAyB,GAAI;WAA7B;AAAA,cAAyB,MAAI;;IAE7B;sBAAsB,OAAtB;wBAAsB,GAAI;WAA1B;AAAA,cAAsB,MAAI;;IAE1B,iBAAY,GAAI;UAEb;AAAA,IAGH;sBAA0B,OAA1B;wBAA0B,GAAI;WAA9B;AAAA,cAA0B,MAAI;;IAE9B,8BAAyB;IAEzB,eAAU,GAAI;;;;qBAO1B;AAAA;;;EAEI,aAA6B;EAChB;;GAAb,aAAa;GAEA;GAAT,SAAS,eAAmB,WAAnB,yBAAmB,UAAnB,QAAmB;GAC5B,EAAG,qBAAU,WACT;AAAA,MAAI,EAAC,WAAW,OAAQ,SACpB;AAAA,iBAAY;;;;EAMxB;aAAU,eAAV;AAAA,GAAI,SAAJ,AAAU,OAAV;;GACI,EAAG,QAAO;AAAA,IAGN;sBAA0B,OAA1B;wBAA0B,GAAI;WAA9B;AAAA,cAA0B,MAAI;;IAE9B;sBAAuB,OAAvB;wBAAuB,GAAI;WAA3B;AAAA,cAAuB,MAAI;;IAE3B,iBAAY,GAAZ,KAAgB;UAEb;AAAA,IAGH;sBAA2B,OAA3B;wBAA2B,GAAI;WAA/B;AAAA,cAA2B,MAAI;;IAE/B,8BAA0B;IAE1B,eAAU,GAAV,KAAc;;;;+BAO1B;AAAA;;;EAEI,aAA6B;EACf;;GAAd,aAAc;GAED;GAAT,SAAS,eAAqB,WAArB,yBAAqB,UAArB,QAAqB;GAC9B,EAAI,qBAAU,WAAW;AAAA,IACrB,UAAU,KAAO;IACjB,wBAAwB,OAAO,QAAQ,OAAO;IAC9C,EAAK,EAAC,WAAW,OAAQ,WAAU,mBAC/B;AAAA,iBAAY;;;;EAKxB;aAAU,eAAV;AAAA,GAAI,SAAJ,AAAU,OAAV;;GACI,EAAI,QAAO;AAAA,IAGP;sBAA0B,OAA1B;wBAA0B,GAAI;WAA9B;AAAA,cAA0B,MAAI;;IAE9B;sBAAuB,OAAvB;wBAAuB,GAAI;WAA3B;AAAA,cAAuB,MAAI;;IAE3B,iBAAY,GAAZ,eAAgB;UAEb;AAAA,IAGH;sBAA2B,OAA3B;wBAA2B,GAAI;WAA/B;AAAA,cAA2B,MAAI;;IAE/B,8BAA0B;IAE1B,eAAU,GAAV,eAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oBAqEnB,WAAe;AAAA;;;;MAoBf,uEAA+H;AAAA,EAElI,WAAM;EACN,aAAQ;EACR,cAAS;EACT,eAAU;EACV,gBAAW;EACX,iBAAY;EACZ,iBAAY;;;;sBAST,WAEH;AAAA,YAAM;;;;;MAsBH,oDAA8G;AAAA,EAEjH,SAAI;EACJ,SAAI;EACJ,UAAK;EACL,UAAK;EACL,gBAAW;EACX,iBAAY;EACZ,aAAQ;EAER;;;YAAW;EAAX;;mBAAW;;;EAAX,UAAe;EAAf;;mBAAe;;;EAAf;;;;;;;;;;qBASG,WAAe;AAAA;;;;MAkBf,2DAA2G;AAAA,EAE9G,YAAO;EACP,aAAQ;EACR,cAAS;EACT,YAAO;EACP,iBAAY;EACZ,iBAAY;;;;;;;;;;;;;;;;;;;;;;;wBA2BT,WAAe;AAAA;;;;WAsBf,2CAA2E;AAAA,EAE9E,UAAK;EACL,cAAS;EACT,YAAO;EACP,aAAQ;EACR,eAAU;EACV,iBAAY;EACZ,aAAQ;EACR,YAAO;;cAKJ,oDAAqG;AAAA,EAExG,UAAK;EACL,YAAO;EACP,aAAQ;EACR,aAAQ;EACR,cAAS;EACT,eAAU;EACV,iBAAY;EACZ,YAAO;;cAKJ,wCAAwF;AAAA,EAE3F,UAAK;EACL,YAAO;EACP,aAAQ;EACR,cAAS;EACT,YAAO;EACP,eAAU;EACV,iBAAY;EACZ,aAAQ;;;;sBASL,WAFX;AAAA,CAqB6C,AArB7C,aAqB6C;CAFA,AAnB7C,aAmB6C;CAFJ,AAjBzC,SAiByC;CAFA,AAfzC,SAeyC;CANQ,AATjD,iBASiD;CAFE,AAPnD,iBAOmD;CAJ3C,WAAM;;;;;YAuBH,qDAAgH;AAAA,EAEnH,SAAI;EACJ,SAAI;EACJ,aAAQ;EACR,aAAQ;EACR,aAAQ;EACR,cAAS;EACT,iBAAY;EACZ,iBAAY;EAEZ;;;YAAW;EAAX;;mBAAW;;;EAAX,UAAe;EAAf;;mBAAe;;;EAAf;;;;;;;;YAKG,oDAA4F;AAAA,EAE/F,SAAI;EACJ,SAAI;EACJ,aAAQ;EACR,aAAQ;EACR,aAAQ;EACR,cAAS;EACT,iBAAY;EACZ,iBAAY;EAEZ;;;YAAW;EAAX;;mBAAW;;;EAAX,UAAe;EAAf;;mBAAe;;;EAAf;;;;;;;;aAKG,sCAAyE;AAAA,EAG5E,SAAI,WAAW;EACf,SAAI,WAAW;EACf,aAAQ;EACR,aAAQ;EACR,aAAQ;EACR,cAAS;EACT,iBAAY;EACZ,iBAAY;;;;;;;;;;;;;;;;;;;;sBAyBT,WAAe;AAAA;;;;UAoBf,kCAA0E;AAAA,EAC7E,gBAAW,MAAO,wBAAoB;EACtC,gBAAW,WAAY,KAAM,KAAM;;aAIhC,oCAAgF;AAAA,EACnF,gBAAW,MAAO,0BAAsB;EACxC,gBAAW,KAAM,aAAc,KAAM;;aAIlC,oCAAgF;AAAA,EACnF,gBAAW,MAAO,0BAAsB;EACxC,gBAAW,KAAM,KAAM,aAAc;;eAIlC,sCAAsF;AAAA,EACzF,gBAAW,MAAO,4BAAwB;EAC1C,gBAAW,KAAM,KAAM,KAAM;;eAI1B,uBAAyD;AAAA,EAC5D,gBAAW,MAAO,4BAAwB;EAC1C,gBAAW,KAAM,KAAM,KAAM;;cAGjC,6BAA8E;AAAA,EAC1E,YAAO;EACP,YAAO;EACP,aAAQ;;cAGZ,8DAAwH;AAAA,EACpH,iBAAY;EACZ,mBAAc;EACd,mBAAc;EACd,qBAAgB;;;;;;;;;wB9GxxBb,gBAAqC;AAAA,CAExC,cAAc;CAGd,oBAAoB,eAAe;CACnC,YAAkB,sBAAa;CAC/B,EAAG,SAAQ,GACP;AAAA,YAAS;EAAT,SAAe;EAAf;;GACI,WAAY;;;CAIpB,OAAO;;;;;kB+G9LJ,mBAnDX;AAAA,CA2QmD,AA3QnD,yCA2QmD;CAtJf,AArHpC,0BAqHoC;CArEA,AAhDpC,0BAgDoC;CA1BoB,AAtBxD,eAsBwD;CAJI,AAlB5D,aAkB4D;CAFD,AAhB3D,eAgB2D;CARA,AAR3D,cAQ2D;CA6CnD,GAAW,YAAX;qF/G2JsB,CAAC,Q+G3JD,qC/G2JmB;;C+GvJzC,uBAAkB;CAClB,sBAAiB;CAGjB,sBAAO;CAGP,eAAQ;CACR,cAAO;CAGP,EAAG,yBAAmB,MAClB;AAAA,mBAAU;;CAGd,EAAG,wBAAkB,MACjB;AAAA,kBAAS;;CAGb,EAAG,uBAAiB,MAChB;AAAA,iBAAQ;;CAGZ,EAAG,uBAAiB,MAChB;AAAA,iBAAQ;;CAGZ,EAAG,yBAAmB,MAClB;AAAA,mBAAU;;CAMd,EAAG,sBAAgB,MAAM;AAAA,EAErB,cAAO;EAEP;QAKA,EAAG,iBAAW,MAAM;AAAA,EAEhB,cAAO,mBAAW,mBAAe;EACjC;QAEG;AAAA,EAGH,cAAO,mBAAW,GAAG;EACrB;;;;;;;mBASU,WAA4B;AAAA,EAG9C,EAAG,0BAAoB,MAEnB;AAAA,KAAG,6BAAuB,QAAQ,4BAAuB,OAAO;AAAA,IAE5D,0BAAqB;IAErB,eAAyB;IACzB,EAAG,gCAA0B,QAAQ,+BAA0B,OAC3D;AAAA,OAAG,yBAAmB,MAClB;AAAA,iBAAW;YAEX;AAAA,iBAAW;;;IAKR,4BAAQ;IAUH,WAAC,sBAAiB,OAAQ,IAAI;IAC5B,WAAC,wBAAmB,OAAQ,eAAU;IAZpD,kBAAW,kCAAiB,OACrB,SACD,OACA,OACA,iBACA,qBACK,mBAAW,EAAE,EAAE,cACZ,sBACF,qBACC,uBACC,kBACF,gBACE;IAGlB,0BAAqB;IAGrB;;SAMJ;AAAA,qBAAW;;EAKf,EAAG,kBAAY,MAAM;AAAA,GACH;GAAd,mBAAc,OAAO;GACG;GAAxB,6BAAwB,OAAO;;EAInC,EAAG,wBAAkB,MAAM;AAAA,GACvB,0BAAqB;GACrB,gBAAS;;EAIb,EAAG,4BAAsB,MACrB;AAAA,uBAAa;;;aAKL,WAAqB;AAAA,EAGjC,EAAG,kBAAY,QAAQ,qBACnB;AAAA,sBAAe;;EAInB,mBAAY;EACZ,eAAU;EACV,kBAAW;EACX,iBAAU;EACV,gBAAS;EACT,eAAQ;EACR,cAAO;EACP,mBAAY;EACZ,uBAAkB;EAClB,sBAAiB;;uBAIrB,WAA+B;AAAA;eAQ/B,aAA8B;AAAA,EAE1B,eAAU;EAGV,EAAG,kBAAY,MACX;AAAA,6BAAmB;;EAGvB,OAAO;;aAIX,aAA6B;AAAA,EAEzB,EAAG,kBAAY,MACX;AAAA,2BAAiB;;EAGrB,OAAO,aAAQ;;aAMnB,aAA6B;AAAA,EAEzB,EAAG,eAAS,QAAQ,iBAAY,MAC5B;AAAA,2BAAiB;;EAGrB,OAAO,aAAQ;;eAInB,aAAiC;AAAA,EAE7B,EAAG,kBAAY,QAAQ,+BAAoB,IACvC;AAAA,6BAAmB;;EAGvB,OAAO,eAAU;;cAGrB,aAA+B;AAAA,EAE3B,EAAG,kBAAY,QAAQ,8BAAmB,IACtC;AAAA,4BAAkB;;EAGtB,OAAO,cAAS;;gBAOpB,aAA8C;AAAA,EAG1C,EAAG,kBAAY,IACX;AAAA,UAAO;;EAIX,EAAG,kBAAY,MACX;AAAA;;EAIJ,gBAAW;EAGX,EAAG,kBAAY,MAAM;AAAA,GAGjB;YAA4B;GAA5B;;;;;;OlHgDJ;KkHhDI;;;;;;;;;;;;;;;;;;OlHwFJ;KkHxFI;;;;;;;;;;;;GASQ,EAAG,4BAAsB,OAAO;AAAA,IAE5B,wBAAiB;IACjB,wBAAiB;IACjB,0BAAmB;IAGhB,WAAC;;;EASpB,OAAO;;6BAOF,kBAAwD;AAAA,EAE7D,0DAAiC;EAEjC,EAAG,kBAAY,MAEX;AAAA;YAA4B;GAA5B;;;;;;OlHUJ;KkHVI;;;;;;;;;;;;;;;;;;OlHkDJ;KkHlDI;;;;;;;;;;;;;;+BAKC,oBAA6D;AAAA,EAElE,4DAAkC;EAGlC;YAAuC,cAAvC,AAAuC;EAAvC,UAAuC,cAAvC,AAAuC;EAAvC,UAAuC,cAAvC,AAAuC;EAAvC,UAAuC,cAAvC,AAAuC;EAAvC;;;;GC+bI,KD/bJ,gBAAuC,cAAvC,AAAuC,cAAvC,AAAuC,cAAvC,AAAuC,aAAvC;oBAAuC,cAAvC,AAAuC,cAAvC,AAAuC,cAAvC,AAAuC;GAAvC,ACgcI,KDhcJ;GCicI,KDjcJ,gBAAuC,cAAvC,AAAuC,cAAvC,AAAuC,cAAvC,AAAuC,aAAvC;;qBAAuC,cAAvC,AAAuC,cAAvC,AAAuC,cAAvC,AAAuC;GAAvC,ACmcI,KDncJ;GCocI,KDpcJ,gBAAuC,cAAvC,AAAuC,cAAvC,AAAuC,cAAvC,AAAuC,aAAvC;GCqcI,KDrcJ,gBAAuC,cAAvC,AAAuC,cAAvC,AAAuC,cAAvC,AAAuC,aAAvC;;qBAAuC,cAAvC,AAAuC,cAAvC,AAAuC,cAAvC,AAAuC;GAAvC,ACucI,KDvcJ;GCwcI,KDxcJ,gBAAuC,cAAvC,AAAuC,cAAvC,AAAuC,cAAvC,AAAuC,aAAvC;GCycI,KDzcJ,gBAAuC,cAAvC,AAAuC,cAAvC,AAAuC,cAAvC,AAAuC,aAAvC;;GC2cI,KD3cJ,gBAAuC,cAAvC,AAAuC,cAAvC,AAAuC,cAAvC,AAAuC,aAAvC;qBAAuC,cAAvC,AAAuC,cAAvC,AAAuC,cAAvC,AAAuC;GAAvC,AC4cI,KD5cJ;GC6cI,KD7cJ,gBAAuC,cAAvC,AAAuC,cAAvC,AAAuC,cAAvC,AAAuC,aAAvC;;GC+cI,KD/cJ,gBAAuC,cAAvC,AAAuC,cAAvC,AAAuC,cAAvC,AAAuC,aAAvC;GCgdI,KDhdJ,gBAAuC,cAAvC,AAAuC,cAAvC,AAAuC,cAAvC,AAAuC,aAAvC;qBAAuC,cAAvC,AAAuC,cAAvC,AAAuC,cAAvC,AAAuC;GAAvC,ACidI,KDjdJ;;GCmdI,KDndJ,gBAAuC,cAAvC,AAAuC,cAAvC,AAAuC,cAAvC,AAAuC,aAAvC;GCodI,KDpdJ,gBAAuC,cAAvC,AAAuC,cAAvC,AAAuC,cAAvC,AAAuC,aAAvC;qBAAuC,cAAvC,AAAuC,cAAvC,AAAuC,cAAvC,AAAuC;GAAvC,ACqdI,KDrdJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EACA,yBAAoB;;YAMxB,aAAwC;AAAA,EAEpC,YAAO;EAEP,EAAG,cAAQ,MACP;AAAA,aAAe;GAAf,eAAqB;GAArB;;;;EAEJ,OAAO;;sBAMJ,WAAqD;AAAA;;iBACrD,WAAoD;AAAA;;kBACpD,WAAoD;AAAA;;uBACpD,WAAoD;AAAA;;qBACpD,WAAoD;AAAA;;wBACpD,WAAoD;AAAA;;sBACpD,WAAoD;AAAA;;sBAEpD,cAAuC;AAAA,EAC1C,iCAA0B;EAC1B,OAAO;;iBAGJ,cAAuC;AAAA,EAC1C,kCAA2B;EAC3B,gCAAyB;EACzB,OAAO;;kBAGJ,cAAuC;AAAA,EAC1C,mCAA4B;EAC5B,iCAA0B;EAC1B,OAAO;;uBAGJ,cAA6C;AAAA,EAChD,kCAA2B;EAC3B,OAAO;;qBAGJ,cAA6C;AAAA,EAChD,gCAAyB;EACzB,OAAO;;wBAGJ,cAA6C;AAAA,EAChD,mCAA4B;EAC5B,OAAO;;sBAGJ,cAA6C;AAAA,EAChD,iCAA0B;EAC1B,OAAO;;kBAMX,WAEW;AAAA,SAAc,qBAAd;;kBAIX,mBAAkD;AAAA,EAE9C,iBAAU,AAAc,WAAd;EAEV,OAAO;;eAIX,aAAuC;AAAA,EAEnC;YAAoB;EAApB;;mBAAoB;;;EACpB,iCAA6B;EAE7B,kBAAW;EAEX,OAAO,eAAU;;eAIrB,WACI;AAAA,SAAO;;cAKX,aAAoC;AAAA,EAEhC,EAAG,kBAAY,MACX;AAAA,4BAAkB;;EAGtB,OAAO,cAAS;;iBAOpB,eAAqD;AAAA,EAEjD,EAAG,kBAAY,MACX;AAAA,+BAAqB;;EAGzB,OAAO,iBAAY;;gBAMvB,aAAoC;AAAA,gBAAe;;mBT/biB;AAAA;;;;;qBWe7D,mBAxBX;AAAA,CAiB6C,AAjB7C,aAiB6C;CAFK,AAflD,iBAekD;CADD,AAdjD,gBAciD;CAFlB,AAZ/B,cAY+B;CADG,AAXlC,gBAWkC;CADA,AAVlC,gBAUkC;CADA,AATlC,gBASkC;CADA,AARlC,gBAQkC;CADF,AAPhC,cAOgC;CADA,AANhC,cAMgC;CADD,AAL/B,aAK+B;CADA,AAJ/B,aAI+B;CADD,AAH9B,YAG8B;CADD,AAF7B,WAE6B;CAyBrB,cAAS;CAIT,EAAG,aAAY,MACX;AAAA,aAAW,gBACO;QAGlB;AAAA,yBAAuB;;CAG3B,yBAAoB;CAEpB,EAAG,qBAAoB,MACnB;AAAA,kBAAW;QAEX;AAAA,kBAAW;;CAIf,sBAAM;CAGN,EAAG,iBAAgB,MAAM;AAAA,aAAM;;CAC/B,EAAG,kBAAiB,MAAM;AAAA,cAAO;;CACjC,EAAG,mBAAkB,MAAM;AAAA,eAAQ;;CACnC,EAAG,oBAAmB,MAAM;AAAA,gBAAS;;CAErC,EAAG,sBAAqB,MAAQ;AAAA,kBAAW;;CAC3C,EAAG,sBAAqB,MAAQ;AAAA,kBAAW;;CAC3C,EAAG,sBAAqB,MACpB;AAAA,kBAAW;QAEX;AAAA,kBAAW;;CAGf,EAAG,sBAAqB,MACpB;AAAA,kBAAW;QAEX;AAAA,kBAAW;;CAGf,kBAAW;;;;;;OAIR,WACH;AAAA,IAAG,gBAAU,kBAAa,MACtB;AAAA,6BAAmB;;;SAIpB,WACH;AAAA,IAAG,gBAAU,kBAAa,MACtB;AAAA,4BAAkB;;;eAIJ,yBAAkD;AAAA,EAEpE,aAAQ;EACR,cAAS;EAET,gBAAW,SAAS,aAAQ,YAAO;EACnC,iBAAY,SAAS,cAAS,WAAM;EAGpC,YAAO,kBAAmB;EAC1B,YAAO,mBAAmB;EAC1B,YAAO,cAAc;EACrB,YAAO,cAAc;EACrB,wBAAO;EAAP;;YAAqB;EAArB;;mBAAqB;;;EAArB,UAAuB;EAAvB;;mBAAuB;;;EAAvB;;;;;;;EACA,YAAO,WAAW;EAClB,YAAO,YAAY;EAGnB,YAAO,kBAAmB,gBAAW,YAAO;EAC5C,YAAO,mBAAmB;EAC1B,YAAO,cAAc,gBAAS;EAC9B,YAAO,cAAc;EACrB,yBAAO;EAAP,SAAqB;EAArB;;;;;;;;aAA0B;EAA1B;;oBAA0B;;;EAA1B;;;;;;;EACA,YAAO,WAAW,aAAQ,YAAO;EACjC,YAAO,YAAY;EAGnB,YAAO,kBAAmB;EAC1B,YAAO,mBAAmB;EAC1B,YAAO,cAAc,gBAAU,CAAC,gBAAW;EAC3C,YAAO,cAAc;EACrB,yBAAO;EAAP,UAAqB,YAAO;EAA5B;;;;;;;;aAAqC;EAArC;;oBAAqC;;;EAArC;;;;;;;EACA,YAAO,WAAW;EAClB,YAAO,YAAY;EAInB,YAAO,kBAAmB;EAC1B,YAAO,mBAAmB,gBAAW,WAAM;EAC3C,YAAO,cAAc;EACrB,YAAO,cAAc,gBAAS;EAC9B,yBAAO;EAAP,SAAuB;EAAvB;;aAAqB;EAArB;;oBAAqB;;;EAArB;;;;;;;;;;;;;EACA,YAAO,WAAW;EAClB,YAAO,YAAY,cAAS,WAAM;EAGlC,YAAO,kBAAmB,gBAAW,YAAO;EAC5C,YAAO,mBAAmB,gBAAW,WAAM;EAC3C,YAAO,cAAc,gBAAS;EAC9B,YAAO,cAAc,gBAAS;EAC9B,yBAAO;EAAP,UAAqB;EAArB,UAA0B;EAA1B;;;;;;;;;;;;;;;;;;;;;EACA,YAAO,WAAW,aAAQ,YAAO;EACjC,YAAO,YAAY,cAAS,WAAM;EAGlC,YAAO,kBAAmB;EAC1B,YAAO,mBAAmB,gBAAW,WAAM;EAC3C,YAAO,cAAc,gBAAS,CAAC,gBAAW;EAC1C,YAAO,cAAc,gBAAS;EAC9B,yBAAO;EAAP,UAAqB,YAAO;EAA5B,UAAqC;EAArC;;;;;;;;;;;;;;;;;;;;;EACA,YAAO,WAAW;EAClB,YAAO,YAAY,cAAS,WAAM;EAIlC,YAAO,kBAAmB;EAC1B,YAAO,mBAAmB;EAC1B,YAAO,cAAc;EACrB,YAAO,cAAc,gBAAU,CAAC,gBAAW;EAC3C,yBAAO;EAAP,UAAuB,WAAM;EAA7B;;aAAqB;EAArB;;oBAAqB;;;EAArB;;;;;;;;;;;;;EACA,YAAO,WAAW;EAClB,YAAO,YAAY;EAGnB,YAAO,kBAAmB,gBAAW,YAAO;EAC5C,YAAO,mBAAmB;EAC1B,YAAO,cAAc,gBAAS;EAC9B,YAAO,cAAc,gBAAS,CAAC,gBAAW;EAC1C,yBAAO;EAAP,UAAqB;EAArB,UAA0B,WAAM;EAAhC;;;;;;;;;;;;;;;;;;;;;EACA,YAAO,WAAW,aAAQ,YAAO;EACjC,YAAO,YAAY;EAGnB,YAAO,kBAAmB;EAC1B,YAAO,mBAAmB;EAC1B,YAAO,cAAc,gBAAS,CAAC,gBAAW;EAC1C,YAAO,cAAc,gBAAS,CAAC,gBAAW;EAC1C,yBAAO;EAAP,UAAqB,YAAO;EAA5B,UAAsC,WAAM;EAA5C;;;;;;;;;;;;;;;;;;;;;EACA,YAAO,WAAW;EAClB,YAAO,YAAY;;OAID,yBAA0C;AAAA,EAE5D,EAAG,aAAO;AAAA,GACN;GACA,aAAQ;;EAIZ,mBAAc,EAAE;EAChB,aAAQ;EACR,cAAS;EAET,gBAAW,SAAS,aAAQ,YAAO;EACnC,iBAAY,SAAS,cAAS,WAAM;EAGpC,iBAAY,iBACQ,2BACA,qBACL,0BACA,qBACL,mBAAW,EAAE,YACX,oBACC,wBACK;EAGlB,iBAAY,iBACQ,gBAAW,YAAO,4BAClB,qBACL,gBAAS,sBACT,qBACL,mBAAW,UAAK,YACd,aAAQ,YAAO,qBACd,wBACK;EAGlB,iBAAY,iBACQ,4BACA,qBACL,gBAAU,CAAC,gBAAW,wBACtB,qBACL,mBAAW,YAAO,cAAS,YACzB,qBACC,wBACK;EAKlB,iBAAY,iBACQ,2BACA,gBAAW,WAAM,wBACtB,0BACA,gBAAS,gBACd,mBAAW,EAAE,mBACX,oBACC,cAAS,WAAM,2BACV;EAGlB,iBAAY,iBACQ,gBAAW,YAAO,4BAClB,gBAAW,WAAM,wBACtB,gBAAS,sBACT,gBAAS,gBACd,mBAAW,UAAK,mBACd,aAAQ,YAAO,qBACd,cAAS,WAAM,2BACV;EAGlB,iBAAY,iBACQ,4BACA,gBAAW,WAAM,wBACtB,gBAAS,CAAC,gBAAW,wBACrB,gBAAS,gBACd,mBAAW,YAAO,cAAS,mBACzB,qBACC,cAAS,WAAM,2BACV;EAKlB,iBAAY,iBACQ,2BACA,wBACL,0BACA,gBAAU,CAAC,gBAAW,oBAC3B,mBAAW,EAAE,WAAM,yBACjB,oBACC,2BACK;EAGlB,iBAAY,iBACQ,gBAAW,YAAO,4BAClB,wBACL,gBAAS,sBACT,gBAAS,CAAC,gBAAW,oBAC1B,mBAAW,UAAK,WAAM,yBACpB,aAAQ,YAAO,qBACd,2BACK;EAGlB,iBAAY,iBACQ,4BACA,wBACL,gBAAS,CAAC,gBAAW,wBACrB,gBAAS,CAAC,gBAAW,oBAC1B,mBAAW,YAAO,cAAU,WAAM,yBAChC,qBACC,2BACK;EAGlB,cAAS;;YAIJ,aAAiC;AAAA,EAEtC,EAAG,OAAM,MACL;AAAA,UAAO,yCAAe;;EAG1B,EAAG,EAAC,aACA;AAAA,UAAO,yCAAe;;EAI1B,iBAAY,KAAM;EAElB;YAAa;EAAb,WAAa,YAAb;AAAA,GAAI,YAAJ,AAAa,IAAb;;GACI,EAAG,mBAAa,MACZ;AAAA,+BAAsB,kBAAoB,sBAAe,YAAa,YAAa,YAAa;;;EAIxG,OAAO,yCAAe;;WAI1B;AAAA;;;EAEI,EAAG,EAAC,eAAU,QACV;AAAA,YAAI,GAAI;;EAGZ,aAAa;EAEb,iBAAY,sCAAqB,YACnB,sBACF,gBACA,wCACE,0CACA;EAGd;YAAa;EAAb,WAAa,YAAb;AAAA,GAAI,YAAJ,AAAa,IAAb;;GAEI,oBAAoB,wBAAmB,MAChC,iBACA,iBACA,iBACA,sBACI,mCACH,sBAAc,eAAgB,eAAgB,mBAAoB;;EAO/D,4BAAQ;EAAvB,oBAAe,MAAuB;EACtC,kBAAW;EACX,aAAM;EAEN,aAAQ;EACR,cAAS;;UAIN;AAAA;;;EAEH,EAAG,iBAAW,MACV;AAAA,gBAAQ,KAAK,GAAG,GAAG;;;mBXvWyC;AAAA;;wBAYA;AAAA;;;;kBY0D7D,mBA/BX;AAAA,CA6BkC,AA7BlC,wBA6BkC;CADC,AA5BnC,yBA4BmC;CADP,AA3B5B,kBA2B4B;CAZU,AAftC,oBAesC;CAkB9B,GAAI,YAAJ;EAAI,WAAU;;CACd,GAAI,mBAAJ;EAAI,kBAAiB;;CACrB,GAAI,eAAJ;EAAI,cAAa;;CAEjB,EAAG,wBAAuB,MAAc;AAAA,oBAAa;;CACrD,EAAG,wBAAuB,MAAc;AAAA,oBAAa;;CACrD,EAAG,sBAAqB,MAAgB;AAAA,kBAAW;;CAEnD,EAAG,+BAA8B,MAAO;AAAA,2BAAoB;;CAC5D,EAAG,8BAA6B,MAAQ;AAAA,0BAAmB;;CAE3D,aAAQ;CACR,cAAS;CACT,eAAU;CACV,cAAS;CACT,UAAK;CACL,YAAO;CAEH,EAAG,mBAAqB,MAAM;AAAA,oBAAgB;;CAC9C,EAAG,mBAAqB,MAAM;AAAA,oBAAgB;;CAC9C,EAAG,mBAAqB,MAAM;AAAA,oBAAgB;;CAC9C,EAAG,sBAAqB,MAAM;AAAA,uBAAgB;;CAC9C,EAAG,mBAAqB,MAAM;AAAA,oBAAgB;;CAC9C,EAAG,qBAAqB,MAAM;AAAA,sBAAgB;;CAC9C,EAAG,oBAAqB,MAAM;AAAA,qBAAgB;;CAElD,kBAAa;;;;;KAMH,qBAAkD;AAAA,kBAAW,GAAI;;OACjE,qBAAmD;AAAA,mBAAY,GAAI;;QACnE,kBAA2C;AAAA,oBAAa,GAAI;;aAI5D,cAAiC;AAAA,SAAO,oBAAe,QAAQ;;QAGtE,mBAAkC;AAAA,EAAlC;EAEH,kBAAa,EAAkB;EAE/B,aAAQ;EAER,oBAAoB,sBAAkB,WAAW;AAAA,GAEhC;;GAAb,oBAAa;GAEb,GAAI,YAAJ;IAAI,WAAU;;GAWd,EAAG,qMAAU,GAAG;AAAA,IAEZ;;;;;;;;IACA;;GAGJ,aAAa;GACb,kBAAkB;GAYd;aAAc;GAAd,WAAc,YAAd;AAAA,IAAI,cAAJ,AAAc,IAAd;;IAEI,EAAE;IAEF,EAAG,CAAC,sBAAU,iBAAV,IAAsB;AAAA,KAEtB,mBAAY;KACZ,oBAAoB,2BAAkB,YAAa;AAAA,wBAE/C;AAAA,sBAAS;OAAT,AAAoB,yBAAmB,oBAAvC;AAAA;AAAA,oBAjB+B;SAiB/B;;;;oBAf+B;SAe/B;;;;QAF+C;WAMhD;AAAA,KACH,oCAAK,MAAC,YAAE,oBAAiB,eAAU,oBAAnC;KACW;KAAqB,mCAAW;KAAY,WAAE;KAAzD,kBAAW,QAAW,SAAU,KAAuB,KAAU;;;GAOzE;cAAa;GAAb,YAAa,aAAb;AAAA,IAAI,aAAJ,AAAa,KAAb;;IAEI,EAAE;IAEF,EAAG,CAAC,sBAAU,gBAAV,IAAqB;AAAA,KAErB,mBAAY;KACZ,oBAAoB,2BAAkB,YAAa;AAAA,wBAE/C;AAAA,uBAAS;OAAT,AAAmB,wBAAkB,mBAArC;AAAA;AAAA,oBAvC+B;SAuC/B;;;;oBArC+B;SAqC/B;;;;QAF+C;WAMhD;AAAA,KACH,oCAAK,MAAC,YAAE,oBAAiB,cAAS,oBAAlC;KACW;KAAoB,mCAAW;KAAW,WAAE;KAAvD,kBAAW,OAAU,SAAU,KAAsB,KAAU;;;GAOvE;cAAa;GAAb,YAAa,aAAb;AAAA,IAAI,aAAJ,AAAa,KAAb;;IAEI,EAAE;IAEF,EAAG,CAAC,sBAAU,gBAAV,IAAqB;AAAA,KAErB,mBAAY;KACZ,oBAAoB,2BAAkB,YAAa;AAAA,wBAE/C;AAAA,uBAAS;OAAT,AAAmB,wBAAkB,mBAArC;AAAA;AAAA,qBA7D+B;SA6D/B;;;;qBA3D+B;SA2D/B;;;;QAF+C;WAMhD;AAAA,KACH,oCAAK,MAAC,YAAE,oBAAiB,cAAS,oBAAlC;KACW;KAAoB,oCAAW;KAAW,YAAE;KAAvD,kBAAW,OAAU,SAAU,MAAsB,MAAU;;;GAOvE;cAAgB;GAAhB,YAAgB,aAAhB;AAAA,IAAI,gBAAJ,AAAgB,KAAhB;;IAEI,EAAE;IAEF,EAAG,CAAC,sBAAU,mBAAV,IAAwB;AAAA,KAExB,mBAAY;KACZ,oBAAoB,2BAAkB,YAAa;AAAA,wBAAW;AAAA,OAE1D,YAAY,2BAAqB,gBAAa,2BACnB,kDACZ,sCACA,mCACH,gCACA;OAGZ,gBAAQ;OAAR,AAAqB,WAArB;AAAA;AAAA,qBA3F+B;SA2F/B;;;;qBAzF+B;SAyF/B;;;;QAV+C;WAchD;AAAA,KACH,oCAAK,MAAC,YAAE,oBAAiB,iBAAY,oBAArC;KACW;KAAuB,oCAAW;KAAc,YAAE;KAA7D,kBAAW,UAAa,SAAU,MAAyB,MAAU;;;GAO7E;cAAa;GAAb,YAAa,aAAb;AAAA,IAAI,aAAJ,AAAa,KAAb;;IAEI,EAAE;IAEF,EAAG,CAAC,sBAAU,gBAAV,IAAqB;AAAA,KAErB,mBAAY;KACZ,oBAAoB,2BAAkB,YAAa;AAAA,wBAAW;AAAA,OAE1D,aAAY,wBAAkB,aAAU,iBACvB;OAGjB,gBAAQ;OAAR,AAAkB,YAAlB;AAAA;AAAA,qBArH+B;SAqH/B;;;;qBAnH+B;SAmH/B;;;;QAN+C;WAUhD;AAAA,KACH,oCAAK,MAAC,YAAE,oBAAiB,cAAS,oBAAlC;KACW;KAAoB,oCAAW;KAAW,YAAE;KAAvD,kBAAW,OAAU,SAAU,MAAsB,MAAU;;;GAOvE;cAAe;GAAf,YAAe,aAAf;AAAA,IAAI,eAAJ,AAAe,KAAf;;IAEI,EAAE;IAEF,EAAG,CAAC,sBAAU,kBAAV,IAAuB;AAAA,KAEvB,mBAAY;KACZ,oBAAoB,2BAAkB,YAAa;AAAA,wBAAW;AAAA,OAE1D,aAAY,0BAAoB,eAAY,YAC/B,+BACA;OAGb,gBAAQ;OAAR,AAAoB,YAApB;AAAA;AAAA,qBAhJ+B;SAgJ/B;;;;qBA9I+B;SA8I/B;;;;QAP+C;WAWhD;AAAA,KACH,oCAAK,MAAC,YAAE,oBAAiB,gBAAW,oBAApC;KACW;KAAsB,oCAAW;KAAa,YAAE;KAA3D,kBAAW,SAAY,SAAU,MAAwB,MAAU;;;GAO3E;cAAc;GAAd,YAAc,aAAd;AAAA,IAAI,cAAJ,AAAc,KAAd;;IAEI,EAAE;IAEF,EAAG,CAAC,sBAAU,iBAAV,IAAsB;AAAA,KAEtB,mBAAY;KACZ,oBAAoB,2BAAkB,YAAa;AAAA,wBAAW;AAAA,OAE1D,aAAY,yBAAmB,cAAW,cAC3B;OAGf,gBAAQ;OAAR,AAAmB,YAAnB;AAAA;AAAA,qBA1K+B;SA0K/B;;;;qBAxK+B;SAwK/B;;;;QAN+C;WAUhD;AAAA,KACH,oCAAK,MAAC,YAAE,oBAAiB,eAAU,oBAAnC;KACW;KAAqB,oCAAW;KAAY,YAAE;KAAzD,kBAAW,QAAW,SAAU,MAAuB,MAAU;;;;;UAW9E;AAAA;;;;EAEH,kBAAa,EAAoB;EAQjC;YAAY;EAAZ,WAAY,YAAZ;AAAA,GAAI,WAAJ,AAAY,IAAZ;;GAA4B,UAAQ;GAAR;;;EAC5B;aAAY;EAAZ,YAAY,aAAZ;AAAA,GAAI,YAAJ,AAAY,KAAZ;;GAA4B,WAAQ;GAAR;;;EAC5B;aAAY;EAAZ,YAAY,aAAZ;AAAA,GAAI,YAAJ,AAAY,KAAZ;;GAA4B,WAAQ;GAAR;;;EAC5B;aAAY;EAAZ,YAAY,aAAZ;AAAA,GAAI,YAAJ,AAAY,KAAZ;;GAA4B,WAAQ;GAAR;;;EAC5B;aAAY;EAAZ,YAAY,aAAZ;AAAA,GAAI,YAAJ,AAAY,KAAZ;;GAA4B,WAAQ;GAAR;;;EAC5B;aAAY;EAAZ,YAAY,aAAZ;AAAA,GAAI,YAAJ,AAAY,KAAZ;;GAA4B,WAAQ;GAAR;;;EAC5B;aAAY;EAAZ,YAAY,aAAZ;AAAA,GAAI,YAAJ,AAAY,KAAZ;;GAA4B,WAAQ;GAAR;;;EAE5B,EAAG,cAAa;AAAA,GACZ,YAAO;GACP,YAAO;;EAGX,aAAQ;;aAIL,uBAA2C;AAAA,EAE9C,GAAW,gBAAX;;;EAEA,EAAG,uBAAsB,MAAM;AAAA,GAC3B,aAAgC,AAAK;GACrC;cAAY,eAAZ;AAAA,IAAI,WAAJ,AAAY,OAAZ;;IACI,EAAG,SAAQ,MAAM;AAAA,KACb,GAAW,QAAX;;;KACA,GAAW,WAAX;;;KAEA,qBAAgB;;;;EAK5B,EAAG,sBAAqB,MAAM;AAAA,GAC1B,aAA+B,AAAK;GACpC;eAAY,eAAZ;AAAA,IAAI,YAAJ,AAAY,OAAZ;;IACI,EAAG,UAAQ,MAAM;AAAA,KACb,GAAW,SAAX;;;KACA,GAAW,YAAX;;;KAEA,qBAAgB;;;;EAK5B,EAAG,sBAAqB,MAAM;AAAA,GAC1B,aAA+B,AAAK;GACpC;eAAY,eAAZ;AAAA,IAAI,YAAJ,AAAY,OAAZ;;IACI,EAAG,UAAQ,MAAM;AAAA,KACb,GAAW,SAAX;;;KACA,GAAW,YAAX;;;KAEA,qBAAgB;;;;EAK5B,EAAG,0BAAyB,MAAM;AAAA,GAC9B,gBAAiC,AAAK;GACtC;eAAY,kBAAZ;AAAA,IAAI,YAAJ,AAAY,UAAZ;;IACI,GAAW,SAAX;;;IACA,GAAW,YAAX;;;IAuBA;IACQ;IACQ,mBAAY;IAAZ;;;;;;;;;;;;;;;;;;IACA,oBAAY;IAAZ;;;;;;;;;;;;;;;;;;IACH,kBAAW;IAAX;;;;;;;;;;;;;;;;;;;;;IACA,mBAAW;IAAX;;;;;;;;;;;;;;;;;;;;;IALb,SAAmB,OACX,oBACQ,mBACA,gBACH,gBACA,+BACe;;;EAMpC,EAAG,uBAAsB,MAAM;AAAA,GAC3B,aAAqC,AAAK;GAC1C;eAAY,eAAZ;AAAA,IAAI,YAAJ,AAAY,OAAZ;;IACI,EAAG,UAAQ,MAAM;AAAA,KACb,GAAW,SAAX;;;KACA,GAAW,YAAX;;;KAEA,qBAAgB;;;;EAK5B,EAAG,yBAAwB,MAAM;AAAA,GAC7B,eAAmC,AAAK;GACxC;eAAY,iBAAZ;AAAA,IAAI,YAAJ,AAAY,SAAZ;;IACI,EAAG,UAAQ,MAAM;AAAA,KACb,GAAW,SAAX;;;KACA,GAAW,YAAX;;;KACA,GAAW,iBAAX;;;KACA,GAAW,iBAAX;;;KAEA,uBAAkB;;;;EAK9B,EAAG,wBAAuB,MAAM;AAAA,GAC5B,cAAiC,AAAK;GACtC;eAAY,gBAAZ;AAAA,IAAI,YAAJ,AAAY,QAAZ;;IACI,EAAG,UAAQ,MAAM;AAAA,KACb,GAAW,SAAX;;;KACA,GAAW,YAAX;;;KAIA,sBAAiB;;;;;cASjC,oDAAoG;AAAA,EAIhG,aAA4B,OACpB,oBACK,qBACC,mBACH,gBACA;EAGX,kBAAa,EAAsB;EAEnC,EAAG,oBAAc,MACb;AAAA,mBAAW;;EAGf,EAAG,WAAU,QACT;AAAA;;;;;;;;;cAKR,iDAAgG;AAAA,EAI5F,aAA4B,OACpB,oBACK,kBACF,gBACA,gBACA;EAGX,kBAAa,EAAoB;EAEjC,EAAG,kBAAY,MACX;AAAA,iBAAS;;;cAMV,WAAsC;AAAA,EACzC,cAAc;EAEd;YAAY;EAAZ,WAAY,YAAZ;AAAA,GAAI,WAAJ,AAAY,IAAZ;;GAA4B,aAAa;;EACzC;aAAY;EAAZ,YAAY,aAAZ;AAAA,GAAI,YAAJ,AAAY,KAAZ;;GAA4B,aAAa;;EACzC;aAAY;EAAZ,YAAY,aAAZ;AAAA,GAAI,YAAJ,AAAY,KAAZ;;GAA4B,aAAa;;EACzC;aAAY;EAAZ,YAAY,aAAZ;AAAA,GAAI,YAAJ,AAAY,KAAZ;;GAA4B,aAAa;;EACzC;aAAY;EAAZ,YAAY,aAAZ;AAAA,GAAI,YAAJ,AAAY,KAAZ;;GAA4B,aAAa;;EACzC;aAAY;EAAZ,YAAY,aAAZ;AAAA,GAAI,YAAJ,AAAY,KAAZ;;GAA4B,aAAa;;EACzC;aAAY;EAAZ,YAAY,aAAZ;AAAA,GAAI,YAAJ,AAAY,KAAZ;;GAA4B,aAAa;;EAEzC,OAAO;;cAGJ,WACH;AAAA,SACI,yBACA,yBACA,yBACA,4BACA,2BACA,yBACA;;eAID,mBAAwC;AAAA,EAE3C,aAAQ;EACO;EAAf,oBAAe,4EAAY;EAI3B,kBAAa,EAAsB;EAEnC,EAAG,oBAAc,MACb;AAAA,mBAAW;;;cAKnB,WACI;AAAA,SAAO,UACG,YACA,YACA,eACG,YACH,cACE,aACD;;;;;mBC1jBR,gBAxBX;AAAA,CAiBoC,AAjBpC,kBAiBoC;CAFa,AAfjD,iBAeiD;CAWzC,YAAO;CACP,eAAU;;;;;OAIP,WAEH;AAAA,iBAAU;;SAYP,WAAiB;AAAA,EAGpB,EAAG,eAAS,MAAM;AAAA,GACd;GACA,aAAQ;;EAGZ,EAAG,mBAAa,GAGZ;AAAA,gBAAQ,oBAAqB,eAAW,8BAAc;;;gBAS9D,WAAwB;AAAA,EAKpB,kBAAK,EAAiB,kBAAa;EAEnC;EAEA,kBAAK,EAAsB,kBAAa;;cAOrC,qBAA6D;AAAA,EAEhE,uBAAuB,oBAAqB,KAAM,CAAE;EACpD,sBAAsC,AAAK;EAG3C;EAGA,kBAAc;EAGd,OAAO;;UAKJ,WACH;AAAA;YAAc;EAAd,WAAc,YAAd;AAAA,GAAI,aAAJ,AAAc,IAAd;;GACI;;;WAID,WACH;AAAA;YAAc;EAAd,WAAc,YAAd;AAAA,GAAI,aAAJ,AAAc,IAAd;;GACI;;;UAID,WACH;AAAA;YAAc;EAAd,WAAc,YAAd;AAAA,GAAI,aAAJ,AAAc,IAAd;;GACI;;;WAID,WAAmB;AAAA,EAEtB,EAAG,eAAS,MACR;AAAA;;EAGJ,aAAQ;EAER;YAAc;EAAd,WAAc,YAAd;AAAA,GAAI,aAAJ,AAAc,IAAd;;GACI;;;MAOM,0BACV;AAAA,kBAAW,OAAQ;;OAGT,0BACV;AAAA,SAAO,iBAAY,OAAQ;;QAGjB,wBACV;AAAA,oBAAa,OAAQ;;iBAMzB,gBAAsC;AAAA,EAGlC,iBAAY;EACZ,kBAAa;EAGb;EAEA,OAAO;;;;;yBA8BJ,WARX;AAAA,CAM+C,AAN/C,YAM+C;CAFE,AAJjD,cAIiD;CAFjB,AAFhC,YAEgC;CAQxB,iBAAU,mBAAW,EAAG,KAAM;CAC9B,QAAQ,GAAW;;;;;OAIhB,WAAgB;AAAA;WAIvB,YAEI;AAAA;;WAIG,WAAmB;AAAA;UAInB,WAAkB;AAAA;UAIlB,WAAkB;AAAA;WAIlB,WAAmB;AAAA;cAM1B,WAEI;AAAA,SAAO;;cAIX,iBAEI;AAAA,SAAO,cAAS;;YAIpB,WAEI;AAAA,SAAO;;YAIX,gBAEI;AAAA,SAAO,YAAO;;eAIlB,WAEI;AAAA,SAAO;;eAIX,mBAEI;AAAA,SAAO,eAAU;;;;;qBChPd,WAAe;AAAA,CAClB,eAAU;CACV,eAAU;CACV,aAAQ;CACR,aAAQ;;;;;QAKL,iBAA8B;AAAA,EAEjC,GAAW,UAAX;;;EACA,GAAO,qBAAgB,WAAW,IAAlC;AAAA;;EAEA,kBAAa;EACb,UAAK,GAA6B;;WAI/B,iBAAgC;AAAA,EAEnC,GAAW,UAAX;;;EAEA,eAAe,gCAAe;EAE9B,EAAG,WACC;AAAA,aAAK,GAA+B;;;OAQrC,mBAAgC;AAAA,EAE3B,UAAa;EAAb;EAAR,IAAO,EAAC,0FAAR;AAAA;;EAEA,WAAU;EAAV;;2BAAuB;SAAvB;AAAA,oBAAuB;;EAEvB,UAAK,EAAsB;EAE3B,SAAa;EAAb;;yBAAuB;;OAAvB;uBAAuB;;OAAvB;uBAAuB;;OAAvB;uBAAuB;;OAAvB;0BAAuB;;OAAvB;qBAAuB;;OAAvB;uBAAuB;;OAAvB;yBAAuB;;OAAvB;wBAAuB;;;EAAvB,oBAAuB;;UAKpB,mBAA0F;AAAA,EAEtF,UAAa;EAAb;EAAP,IAAO,yFAAP;AAAA;;EAEA,UAAK,EAAwB;EAE7B,SAAa;EAAb;;yBAAuB;;OAAvB;uBAAuB;;OAAvB;uBAAuB;;OAAvB;uBAAuB;;OAAvB;0BAAuB;;OAAvB;qBAAuB;;OAAvB;uBAAuB;;OAAvB;yBAAuB;;OAAvB;wBAAuB;;;EAAvB,oBAAuB;EAEhB,yBAAa;;WAKjB;AAAA;;;EAEH,gBAAgB,eAAI;EAEpB,EAAG,cAAa,MAAM;AAAA,UAAO;;EAE7B,kBAAkB;EAElB,OAAO;;cAKJ,cAAuC;AAAA,EAE1C,gBAAgB,eAAI;EAEpB,EAAG,cAAa,MAAM;AAAA,UAAO;;EAE7B;EAEA,OAAO;;MAMJ,qBAEH;AAAA,kBAAW,GAAI;;OAIZ,qBAEH;AAAA,mBAAY,GAAI;;QAIb,kBAA2C;AAAA,EAE9C,kBAAa,EAAmB;EAChC,kBAAa,GAAI;;cAOd,cAA0C;AAAA,EAE7C,GAAW,OAAX;;;EAEA,gBAAgB,eAAM;EAEtB,EAAG,cAAa,MAAM;AAAA,GAElB;;;GACA,OAAO,yBAAgB;;EAK3B,YAAY,gCAAkB,OACtB,cACI,cACD;EAGX,SAAI;EAEJ,OAAO;;aAIJ,cAAyC;AAAA,EAE5C,GAAW,OAAX;;;EAEA,gBAAgB,eAAK;EAErB,EAAG,cAAa,MAAM;AAAA,GAElB;;;GACA,OAAO,yBAAgB;;EAK3B,YAAY,+BAAiB,OACrB,cACI,cACD;EAGX,SAAI;EAEJ,OAAO;;aAIJ,cAAyC;AAAA,EAE5C,GAAW,OAAX;;;EAEA,gBAAgB,eAAK;EAErB,EAAG,cAAa,MAAM;AAAA,GAElB;;;GACA,OAAO,yBAAgB;;EAK3B,YAAY,+BAAiB,OACrB,cACI,cACD;EAGX,SAAI;EAEJ,OAAO;;gBAIJ,uBAA0E;AAAA,EAE7E,GAAW,OAAX;;;EAEA,gBAAgB,eAAQ;EAExB,EAAG,cAAa,MAAM;AAAA,GAElB;;;GACA,OAAO,yBAAgB;;EAOvB,kBAAkB;EAClB,kBAAkB;EAClB,eAAe;EACf,eAAe;EACf,mBAAmB;EAEnB,EAAG,aAAY,MAAM;AAAA,GACjB,cAAe;GACf,cAAe;GACf,WAAe;GACf,WAAe;GACf,eAAe;;EAGvB,YAAY,oBAAY,OAChB,cACI,mBACI,0BACA,uBACH,oBACA,mCACe;EAG5B,SAAI;EAEJ,OAAO;;aAIJ,uBAAoE;AAAA,EAEvE,GAAW,OAAX;;;EAEA,gBAAgB,eAAK;EAErB,EAAG,cAAa,MAAM;AAAA,GAElB;;;GACA,OAAO,yBAAgB;;EAK3B,oBAAoB;EACpB,EAAG,aAAY,MACX;AAAA,mBAAgB;;EAGpB,YAAY,uBAAe,OACnB,cACI,qBACM;EAGlB,SAAI;EAEJ,OAAO;;eAIJ,uBAAuE;AAAA,EAE1E,GAAW,OAAX;;;EAEA,gBAAgB,eAAO;EAEvB,EAAG,cAAa,MAAM;AAAA,GAElB;;;GACA,OAAO,yBAAgB;;EAK3B,YAAY,mBAAW,OACf,cACI,gBACC,4BACA;EAGb,SAAI;EAEJ,OAAO;;cAKJ,uBAAsE;AAAA,EAEzE,GAAW,OAAX;;;EAEA,gBAAgB,eAAM;EAEtB,EAAG,cAAa,MAAM;AAAA,GAElB;;;GACA,OAAO,yBAAgB;;EAK3B,iBAAiB;EACjB,EAAG,aAAY,MACX;AAAA,gBAAa;;EAGjB,YAAY,gCAAkB,OACtB,cACI,cACD,kBACI;EAGf,SAAI;EAEJ,OAAO;;OAMG,cAAgD;AAAA,EAAO;oBAAa,QAAb;+BAAa;SAAb;AAAA,iCAAa;;;OACpE,cAAgD;AAAA,SAAO,eAAM;;SAC7D,cAAgD;AAAA,SAAO,eAAM;;QAC7D,cAAgD;AAAA,SAAO,eAAM;;QAC7D,cAAgD;AAAA,SAAO,eAAM;;WAC7D,cAAgD;AAAA,SAAO,eAAM;;QAC7D,cAAgD;AAAA,SAAO,eAAM;;UAC7D,cAAgD;AAAA,SAAO,eAAM;;SAC7D,cAAgD;AAAA,SAAO,eAAM;;SAIpE,cACH;AAAA,EAAY;EAAZ,OAAO,AAAK,eAAU,QAAV,yBAAU,OAAV,QAAU;;gBAGnB,uBAAkD;AAAA,EAE9C;;OACH;GAAoC,sBAAmB;;OAEvD;GAAoC,oBAAmB;;OACvD;GAAoC,oBAAmB;;OAFvD;GAAoC,oBAAmB;;OAGvD;GAAoC,uBAAmB;;OACvD;GAAoC,kBAAmB;;OACvD;GAAoC,oBAAmB;;OACvD;GAAoC,sBAAmB;;OACvD;GAAoC,qBAAmB;;;EAG3D,oBAAe;;;;yBAyFZ,WAbX;AAAA,CAW+B,AAX/B,eAW+B;CADD,AAV9B,cAU8B;CADD,AAT7B,aAS6B;CADA,AAR7B,aAQ6B;CADA,AAP7B,aAO6B;CADE,AAN/B,eAM+B;CADJ,AAL3B,WAK2B;CADK,AAJhC,gBAIgC;CADH,AAH7B,aAG6B;CADA,AAF7B,aAE6B;;;;;WAezB,WAEI;AAAA,SACI,AAAC,0BACA,eAAc,aAAS,OACvB,iBAAgB,gBAAY,QAAO,KACnC,wBAAuB,WAAO,QAC9B,cAAa,aAAS,OACtB,gBAAe,eAAW,OAC1B,cAAa,aAAS,OACtB,cAAa,aAAS,OACtB,eAAc,aAAS,OACvB,gBAAe,cAAU,OACzB,iBAAgB;;SAIlB,WAAiB;AAAA,EAEpB,aAAQ;EACR,aAAQ;EACR,gBAAW;EACX,WAAM;EACN,eAAU;EACV,aAAQ;EACR,aAAQ;EACR,aAAQ;EACR,cAAS;EACT,eAAU;;;;iBCtdP,gBA3BX;AAAA,CA2BW;;;CAiEkB,AA5F7B,oBA4F6B;CArEA,AAvB7B,oBAuB6B;CAZK,AAXlC,iBAWkC;CAFO,AATzC,cASyC;CAFT,AAPhC,eAOgC;CAFD,AAL/B,cAK+B;CAwBvB,uBAAM;CAEN,gBAAW;CAEX,8BAAyB;CACzB,+BAA0B;CAE1B,qBAAa,EAAS;CACtB,qBAAa,EAAY;CACzB,qBAAa,EAAW;CAExB,qBAAa,EAAc;CAC3B,qBAAa,GAAe;CAC5B,qBAAa,GAAW;CAExB,qBAAa,GAAY;CACzB,qBAAa,GAAU;CACvB,qBAAa,GAAc;CAE3B,qBAAa,GAAY;CACzB,qBAAa,GAAc;CAE3B,qBAAa,GAAY;CACzB,qBAAa,GAAc;CAC3B,qBAAa,GAAc;CAC3B,qBAAa,GAAe;CAE5B,qBAAa,GAAY;CACzB,qBAAa,GAAc;CAC3B,qBAAa,GAAc;CAE3B,qBAAa,GAAc;CAC3B,qBAAa,GAAgB;CAC7B,qBAAa,GAAgB;CAC7B,qBAAa,GAAkB;CAE/B,qBAAa,GAAgB;CAC7B,qBAAa,GAAkB;CAC/B,qBAAa,GAAgB;CAC7B,qBAAa,GAAoB;CACjC,qBAAa,GAAmB;CAGhC,EAAG,mBACC;AAAA,YAAK;;CAGT,YAAsC,yBAA0B;CAChE,EAAG,UAAS,MACR;AAAA,kBAAgB;;;;;;;2BAMjB,gBACH;AAAA,EAAG;EAAH,EAAG,gBAAgB,UAAhB,4BAAgB,SAAhB,uBAAgB,QACf;AAAA,uCAAK,MAAE,kBAAK,qCAAiC,QAAK,sGAAlD;;;OAOD,iBAA0E;AAAA,EAE7E,GAAW,UAAX;oFrH6HsB,CAAC,QqH7HF,uDrH6HoB;;EqHzHzC,YAAyB;EAAzB;;;EAEA,iBAAe;EACf,sBAAoB;EACpB;YAAc;EAAd;;yBAA2B;SAA3B;AAAA,kBAA2B;;EAC3B;EAGI,EAAG,cAEC;AAAA,oCAA4B;;EAGhC,EAAG,eAEC;AAAA,qCAA6B;;EAGrC,oBAAe;;UAKZ,iBAAwC;AAAA,EAE3C,GAAW,UAAX;oFrHgGsB,CAAC,QqHhGF,4DrHgGoB;;EqH9FzC,oBAAe;EAEf,EAAG,uBAAgB,MAAM;AAAA,GAGrB,iBAAe;GACf;GACO,4BAAiB;SAErB;AAAA,GAEH,oCAAM,+BAA2B,oBAAY,yBAAqB,kBAAI,6CAAtE;GACA,OAAO;;;OAQD,gBAEV;AAAA,EAAY;EAAZ,OAAO,AAAK,eAAa,UAAb,yBAAa,SAAb,QAAa;;SAStB,WAIH;AAAA,IAAG,qBAAe,GAUV;AAAA,GAAc;;;IAAd,cAAc;IACV,EAAG,YAAU,QAAQ,WAAU,aAAa;AAAA,KAExC;KACA,UAAS;;;;;kBAkBtB,qBAA2D;AAAA,EAE9D,EAAG,qBAAe,GAAG;AAAA,GACjB,cAAqB,SAAS,AAAC,UAAS,QAAS,WAAY;GAC9C;;;IAAf,eAAe;IACX,EAAI,eAAc,sBACd;AAAA,eAAU;;;;EAKtB,OAAO;;UAMX,YAEI;AAAA,YAAK;;aAIT,YAEI;AAAA,YAAK;;cAIT,YAEI;AAAA,YAAK;;WAMT,YAII;AAAA,YAAK,GAAY;;SAIrB,YAII;AAAA,YAAK,GAAU;;aAInB,YAII;AAAA,YAAK,GAAc;;aAMvB,YAII;AAAA,YAAK,GAAc;;cAIvB,YAII;AAAA,YAAK,GAAe;;WAIxB,YAII;AAAA,YAAK,GAAY;;aAIrB,YAII;AAAA,YAAK,GAAc;;aAMvB,gBAEI;AAAA,YAAK,GAAc;;WAIvB,gBAEI;AAAA,YAAK,GAAY;;aAIrB,gBAEI;AAAA,YAAK,GAAc;;eAMvB,gBAEI;AAAA,YAAK,GAAgB;;aAIzB,gBAEI;AAAA,YAAK,GAAc;;eAIvB,gBAEI;AAAA,YAAK,GAAgB;;iBAIzB,gBAEI;AAAA,YAAK,GAAkB;;eAO3B,gBAEI;AAAA,YAAK,GAAgB;;iBAIzB,gBAEI;AAAA,YAAK,GAAkB;;eAI3B,gBAEI;AAAA,YAAK,GAAgB;;mBAIzB,gBAEI;AAAA,YAAK,GAAoB;;kBAI7B,gBAEI;AAAA,YAAK,GAAmB;;aAM5B,iBAEI;AAAA,YAAK,GAAc;;WAIvB,iBAEI;AAAA,YAAK,GAAY;;YAMrB,YAEI;AAAA;;WAIG,WAAmB;AAAA,EAEtB,GAAO,kBAAa,OAApB;AAAA,kFrH3LsB,CAAC,QqH2LK,qCAAgC,kBAAI,OrH3LvB;;EqH+LzC,iBAAY;EAEZ,sBAAc,EAAS;EACvB,sBAAc,EAAY;EAC1B,sBAAc,EAAW;EAEzB,sBAAc,EAAc;EAC5B,sBAAc,GAAe;EAC7B,sBAAc,GAAW;EAEzB,sBAAc,GAAY;EAC1B,sBAAc,GAAU;EACxB,sBAAc,GAAc;EAE5B,sBAAc,GAAY;EAC1B,sBAAc,GAAc;EAE5B,sBAAc,GAAY;EAC1B,sBAAc,GAAc;EAC5B,sBAAc,GAAc;EAC5B,sBAAc,GAAe;EAE7B,sBAAc,GAAY;EAC1B,sBAAc,GAAc;EAC5B,sBAAc,GAAc;EAE5B,sBAAc,GAAc;EAC5B,sBAAc,GAAgB;EAC9B,sBAAc,GAAgB;EAC9B,sBAAc,GAAkB;EAEhC,sBAAc,GAAgB;EAC9B,sBAAc,GAAkB;EAChC,sBAAc,GAAgB;EAC9B,sBAAc,GAAoB;EAClC,sBAAc,GAAmB;EAEjC,UAAK;EAEL,YAAwC,yBAA0B;EAClE,EAAG,UAAS,MACR;AAAA,sBAAmB;;;YAK3B,WAA2B;AAAA,EAEvB,oBAAoB;EAEpB,EAAG,qBAAe,GACd;AAAA,GAAc;;;IAAd,cAAc;IACV,EAAG,YAAU,MACT;AAAA,OAAG,EAAC,gBAEA;AAAA;;;;;;;;;;;;;;;;UjB5JZ;QiB4JY;;;;;;;;EAMhB,mBAAmB;EAEnB,OAAO,iBAAiB;;QAMrB,YAAiB;AAAA,EAEpB,kBAAkB;EAElB,KAAM,cACF,cAAc;EAGlB,cAAS;EAET,UAAK;EAEL;;SAKG,WAAiB;AAAA,EAEpB,eAAU;EAEN,UAAK;EAET,eAAU;;UAId,aAA0B;AAAA,EAKtB;EAEA,UAAK,EAAW;EAGhB,EAAG,qBAAe,GACd;AAAA,GAAc;;;IAAd,cAAc;IACV,EAAG,YAAU,MACT;AAAA;;;;;;;;;sBAAe;OAAf;;;;;;;;;2BAAe;;;OAAf;;;;;WjB1DR;SiB0DQ,eAAe;;;;;;;;;4BAS/B,WAAoC;AAAA,EAE7B,gDAAiC,KAAK,uCAAkC;EAI3E,EAAG,sCAAgC,GAAG;AAAA,GAClC;aAAc;GAAd,WAAc,YAAd;AAAA,IAAI,aAAJ,AAAc,IAAd;;IACI,EAAG,mBAAkB;AAAA;;IACrB,EAAG,EAAC,eAEA;AAAA;;;;;;;;;;;;;;;;SjBtOR;OiBsOQ;;;;;;GAKR,8BAAyB;GACzB,8BAAyB;;EAG7B,EAAG,uCAAiC,GAAG;AAAA,GACnC;cAAc;GAAd,YAAc,aAAd;AAAA,IAAI,cAAJ,AAAc,KAAd;;IACI,EAAG,oBAAkB;AAAA;;IAErB;;;;;;;;;;;;;;;;QjBrNJ;MiBqNI,eAAc;;;IAAd;;;;;;;;;;;GAEJ,+BAA0B;GAC1B,+BAA0B;;;cAKlC,WAEI;AAAA,SAAO,aAAa;;YAIxB,WAEI;AAAA,SAAQ,iBAAa,kBAAI,QAAI,oBAAM,qBAAiB;;;;;kBCzfxD,sBAA2C;AAAA,CAEvC,YAAO;CACP,cAAS,gBAAW;CAEpB,aAAQ;CACR,cAAS;;;;;WAIb,WACI;AAAA,SAAQ,qBAAiB,eAAC,SAAK,eAAC;;gBAM7B,aAAmC;AAAA,EAEtC,EAAI,QAAO,GAAK;AAAA,UAAO;;EACvB,EAAI,QAAO,GAAK;AAAA,UAAO;;EACvB,EAAI,QAAO,YAAS;AAAA,UAAO;;EAC3B,EAAI,QAAO,aAAU;AAAA,UAAO;;EAE5B,OAAO;;mBAKJ,gBAA+C;AAAA,EAElD,EAAI,MAAK,GAAK;AAAA,UAAO;;EACrB,EAAI,MAAK,GAAK;AAAA,UAAO;;EACrB,EAAI,MAAK,YAAS;AAAA,UAAO;;EACzB,EAAI,MAAK,aAAU;AAAA,UAAO;;EAE1B,OAAO;;oBAMX,gBAA8C;AAAA,EAE1C,aAAQ;EACR,cAAS;;WAQb,WAA4B;AAAA,SAAO,mBAAY,WAAW,eAAE,GAAI,WAAW,eAAE;;YAC7E,WAA6B;AAAA,SAAO,mBAAY,aAAG;;cACnD,WAAkC;AAAA,SAAO,sBAAe,EAAG,EAAG,aAAG;;SACjE,WAA8B;AAAA,SAAQ,aAAR;;SAC9B,WAA8B;AAAA,SAAQ,cAAR;;0BAC9B,WAAkC;AAAA,EAAO;;;;;;;;;;kBAwBzC,kBAfJ;AAAA,CAYwB,AAZxB,cAYwB;CANsB,AAN9C,YAM8C;CAWtC,cAAS;CACT,WAAM;;;;;eAKH,gBAA0C;AAAA,EAO7C,cAAS;EAEL,WAAM,mBAAgB,GAAI;EAE9B,cAAS;;YAMb,WAEI;AAAA,SAAO;;YAIX,gBAAuC;AAAA,EAEnC,yCAAoC;EAEpC,OAAO,YAAO;;WAIlB,WAEI;AAAA,SAAO;;;;;kBC5JJ,kBAXX;AAAA,CAK4D,AAL5D,aAK4D;CADA,AAJ5D,aAI4D;CADA,AAH5D,gBAG4D;CAUpD,YAAK;CAEL,GAAW,WAAX;oFvHyMsB,CAAC,QuHzMF,qCvHyMoB;;CuHtMzC,EAAG,qBAAoB,MACnB;AAAA,oBAAW;;CAIf,EAAG,kBAAiB,MAChB;AAAA,iBAAQ;;CAIZ,EAAG,kBAAiB,MAChB;AAAA,iBAAQ;;CAIZ,sBAAO;;;;;;sBAIF,WAA+B;AAAA,EAEpC;EAEA,EAAG,iBAAW,MAAM;AAAA,GAIX,GAAI,mBAAJ;IAAI,kBAAY,sBAAc,EAAE,EAAE,mBAAc;;GAArD,YAAS;GAGT,EAAG,+BAAyB,GACxB;AAAA,mBAAQ;;;EAMhB,kBAAW,CAAC,EAAC;EAEb,eAAQ,CAAC,EAAC;EACV,eAAQ,CAAC,EAAC;;gBAIL,aAAqC;AAAA,EAE1C,qBAAgB,AAAK;EACrB,OAAO,6CAAmB;;aAId,WAAqB;AAAA,EAEjC,YAAK;EACL,qBAAgB;EAEhB;;gBAQG,aAA0C;AAAA,EAE7C,EAAG,kBAAY,MAAM;AAAA,UAAO;;EAE5B,OAAO,sCAAsC,GAAI;;qBAK9C,aAA6C;AAAA,EAEhD,EAAG,mBAAO,MAAM;AAAA,UAAO;;EACvB,EAAG,cAAQ,MAAM;AAAA,UAAO;;EAGxB,WAAW,cAAS;EACpB,WAAW,cAAS;EAEpB,EAAG,gBAAU;AAAA,GACT,UAAU,OAAO;GACjB,UAAU,OAAO;GACjB,EAAG,QAAO,mBAAQ,KAAK;AAAA,WAAO;;GAC9B,EAAG,QAAO,mBAAQ,KAAK;AAAA,WAAO;;GAC9B,EAAG,QAAO,mBAAM,OAAO,KAAK;AAAA,WAAO;;GACnC,EAAG,QAAO,mBAAM,OAAO,KAAK;AAAA,WAAO;;SAChC;AAAA,GACH,EAAG,QAAO,kBAAO;AAAA,WAAO;;GACxB,EAAG,QAAO,kBAAO;AAAA,WAAO;;GACxB,EAAG,QAAO,mBAAM,MAAM;AAAA,WAAO;;GAC7B,EAAG,QAAO,mBAAM,MAAM;AAAA,WAAO;;;EAGjC,OAAO;;UASX,cAA2C;AAAA,EAEvC,EAAG,QAAO,MAAM;AAAA,UAAO,UAAK;;EAE5B,EAAG,uBAAiB,MAChB;AAAA;;;;aAAiB,QAAjB;aAAiB,QAAjB;aAAiB,QAAjB;aAAiB,QAAjB;;;;;;;;;;;;;;;;;;;I3HVA,a2HUA;;;;a3HRA;K2HQA,A3HxBA,Q2HwBA;K3HvBA,O2HuBA;K3HtBA,O2HsBA;K3HrBA,O2HqBA;K3HpBA,O2HoBA;K3HlBA,Q2HkBA;K3HjBA,O2HiBA;K3HhBA,O2HgBA;K3HfA,O2HeA;K3HdA,O2HcA;;;K3HFI,Q2HEJ;K3HDQ,O2HCR;K3HAQ,O2HAR;K3HEI,Q2HFJ;K3HGQ,O2HHR;K3HIQ,O2HJR;K3HOI,Q2HPJ;K3HQQ,O2HRR;K3HSQ,O2HTR;K3HWI,Q2HXJ;K3HYQ,O2HZR;K3HaQ,O2HbR;;;K3HmBI,Q2HnBJ;K3HoBQ,O2HpBR;K3HqBQ,O2HrBR;K3HuBI,Q2HvBJ;K3HwBQ,O2HxBR;K3HyBQ,O2HzBR;K3H4BI,Q2H5BJ;K3H6BQ,O2H7BR;K3H8BQ,O2H9BR;K3HgCI,Q2HhCJ;K3HiCQ,O2HjCR;K3HkCQ,O2HlCR;;;;;;;;;;;;;;;;;;;;;;;EAGJ,UAAK;EAEL,yBAAkB,QAAI;EAEtB,OAAO;;aAKX,aAA4B;AAAA,EAExB,EAAG,OAAM,YACL;AAAA,UAAO;;EAGX,EAAG,uBAAiB,MAChB;AAAA,gCAAsB;;EAG1B,OAAO,aAAQ;;aAInB,aAA4B;AAAA,EAExB,EAAG,OAAM,YACL;AAAA,UAAO;;EAGX,EAAG,uBAAiB,MAChB;AAAA,gCAAsB;;EAG1B,OAAO,aAAQ;;YAMV,aAAwC;AAAA,EAI7C,EAAG,uBAAiB,MAAM;AAAA,GAEtB;;;;;;;;;;GAAsB,SAAY;GAAZ,SAAkB;GAAlB;;;;;;;;;;;;;;;;;;;;;;;;;;;GAAtB;GAGA,EAAG,EAAC,yBACA;AAAA,MAAG,gBAEC;AAAA,KAAS;0BAAwB;KAAxB,qBAAwB;KAAxB,oBAAwB;KAAxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAAT,gBAAS;;;;EAOrB,OAAO,yCAAe;;gBAM1B,aAAsC;AAAA,EAGlC,EAAG,cAAQ,MACP;AAAA,KAAG,KACC;AAAA,oBAAS,mBAAW,cAAO,EAAG,cAAO;UAErC;AAAA,oBAAS;;;EAIjB,OAAO,gBAAW;;cAMtB,aAAgC;AAAA,cAAY;;mBjB/LwB;AAAA;;;;;gBkBgD7D,mBAAwF;AAAA,CAG3F,oBAAe;CACf,mBAAc;CAEd,eAAyB;CACzB,EAAG,4BAA2B,QAAQ,2BAA2B,OAC7D;AAAA,IAAG,qBAAoB,MACnB;AAAA,cAAW;SAEX;AAAA,cAAW;;;CAKnB,YAAO,kCAAiB,YAGX,kBACD,0BACE,8BACE,4BAOJ,yBACC,2BACC,yBAEJ,sBACA,4BACM,oCACE,wCACE,kCAEP,+BACK,8BACN,iCACS,+BAEZ,2BACO,iCACD,8BAEF,kCACM,yCAEC,uCACH,mCACD;CAIhB,qBAAgB,EAA4B;CAE5C,oBAAoB;CACpB,kBAAkB;CAGlB,sBAAM;CAEN;;;;;;;EA6CI,MA7CJ;EA8CI,MA9CJ;EA+CI,KA/CJ;EAgDI,KAhDJ;;;;;;;;;;;;;EAkDI,MAlDJ;;;;;;;;;;;;;EAwDI,MAxDJ;;;;;;;;;;;;;;EAgEI,MAhEJ;;;;;;;;;;;;;EAsEI,MAtEJ;;;;;;;;WA9HI,WAAoB;AAAA,SAAO;;YAC3B,aAAsB;AAAA,SAAO,mBAAY;;YAEzC,WAAoB;AAAA,SAAO;;YAC3B,aAAsB;AAAA,SAAO,mBAAY;;kBAEzC,WAA0B;AAAA,SAAO;;kBACjC,aAA4B;AAAA,SAAO,yBAAkB;;sBAErD,WAA8B;AAAA,SAAO;;sBACrC,aAAgC;AAAA,SAAO,6BAAsB;;oBAE7D,WAA4B;AAAA,SAAO;;oBACnC,aAA8B;AAAA,SAAO,2BAAoB;;cAGzD,WAAsB;AAAA,SAAO;;cAC7B,aAAwB;AAAA,SAAO,qBAAc;;mBAE7C,WAA2B;AAAA,SAAO;;mBAClC,aAA6B;AAAA,SAAO,0BAAmB;;aAGvD,WAAqB;AAAA,SAAO;;aAC5B,aAAuB;AAAA,SAAO,oBAAa;;sBAE3C,WAA8B;AAAA,SAAO;;sBACrC,aAAgC;AAAA,SAAO,6BAAsB;;WAK7D,WAAmB;AAAA,SAAO;;WAC1B,aAAqB;AAAA,SAAO,gBAAW;;kBAGvC,WAA0B;AAAA,SAAO;;kBACjC,aAA4B;AAAA,SAAO,yBAAkB;;iBAErD,WAAyB;AAAA,SAAO;;iBAChC,aAA2B;AAAA,SAAO,wBAAiB;;eAGnD,WAAuB;AAAA,SAAO;;eAC9B,aAAyB;AAAA,SAAO,sBAAe;;qBAE/C,WAA6B;AAAA,SAAO;;qBACpC,aAA+B;AAAA,SAAO,4BAAqB;;sBAG3D,WAA8B;AAAA,SAAO;;sBACrC,aAAgC;AAAA,SAAO,6BAAsB;;mBAE7D,WAA2B;AAAA,SAAO;;mBAClC,aAA6B;AAAA,SAAO,0BAAmB;;kBAEvD,WAA0B;AAAA,SAAO;;kBACjC,aAA4B;AAAA,SAAO,yBAAkB;;gBA2EtD,YAAkC;AAAA,EAErC;;;;;;;GAqCI,MArCJ;GAsCI,MAtCJ;GAuCI,KAvCJ;GAwCI,KAxCJ;;;;;;;;;;;;;GA0CI,MA1CJ;;;;;;;;;;;;;GAgDI,MAhDJ;;;;;;;;;;;;;;GAwDI,MAxDJ;;;;;;;;;;;;;GA8DI,MA9DJ;;;EACA,OAAO,8BAAyB;;0BAM3B,aAA6C;AAAA,EAElD,uDAA6B;EAC7B;;;;;;;GA2BI,MA3BJ;GA4BI,MA5BJ;GA6BI,KA7BJ;GA8BI,KA9BJ;;;;;;;;;;;;;GAgCI,MAhCJ;;;;;;;;;;;;;GAsCI,MAtCJ;;;;;;;;;;;;;;GA8CI,MA9CJ;;;;;;;;;;;;;GAoDI,MApDJ;;;EACA,wBAAmB;;uBAWvB,YACI;AAAA;;;;;;;GAcI,MAdJ;GAeI,MAfJ;GAgBI,KAhBJ;GAiBI,KAjBJ;;;;;;;;;;;;;GAmBI,MAnBJ;;;;;;;;;;;;;GAyBI,MAzBJ;;;;;;;;;;;;;;GAiCI,MAjCJ;;;;;;;;;;;;;GAuCI,MAvCJ;;;;kBAIG,WAA0B;AAAA,EAE7B,SAAS;EACT,SAAS;EACT,UAAU;EACV,UAAU;EACV,UAAU;EACV,UAAU;EAEV,EAAG,sBAAU,MAAM;AAAA,GACf,MAAM;GACN,MAAM;GACN,KAAK;GACL,KAAK;GAEQ;GAAP;GAAO;QAET;IAFE,MAEU;;QADZ;IADE,MACW,MAAI;;;IADf,MAGM;;GAHZ,MAAM;GAMO;GAAP;GAAO;QACT;IADE,MACW,AAAC,MAAI,IAAG,AAAC,MAAI;;QAC1B;IAFE,MAEW,MAAM;;;IAFjB,MAGM;;GAHZ,MAAM;SAMH;AAAA,GAEU;GAAP;GAAO;QAET;IAFE,MAEU;;QADZ;IADE,MACW,MAAI;;;IADf,MAGM;;GAHZ,MAAM;GAMO;GAAP;GAAO;QACT;IADE,MACW,MAAI;;QACjB;IAFE,MAEW;;;IAFX,MAGM;;GAHZ,MAAM;;EAQV,qBAAiB,GAAI,GAAI,IAAK;;aAKlB,WAAqB;AAAA,EAEjC,YAAO;EACP,oBAAe;EACf,mBAAc;EAEd;;mBlB1MgE;AAAA;;;;;iBmBrB9C,gBAA6B;AAAA,CAC/C,YAAO;CACP,cAAS;;;;;OAGS,WzHuHL;AAAA;WyHjHK,WAElB;AAAA;;WAKkB,WAAmB;AAAA;SAKlC,WAAiB;AAAA,EAEpB;YAAU;EAAV,WAAU,YAAV;AAAA,GAAK,QAAL,AAAU,IAAV;;GACI;GACA,IAAI;;EAGR,cAAS;EACT,cAAS;;YAIN;AAAA;;;;EAEH,QAAQ,mBAAoB;EAE5B,QAAQ,WAAY;AAAA,GAChB,EAAG,EAAC,QAAQ;AAAA,IACR;IACA,iCAAc;;GAElB;;EAGJ,iBAAY;EAEZ,OAAO;;;;iCC9CJ,kBAA+B;AAAA,CAElC,WAAW;CACX,kBAAa,wDAAe;CAC5B,cAAS;;;;;UAIN,WAAmB;AAAA,EAEtB,sBAAiB;EACjB,kBAAa;EACb,cAAS;;OAIN,qBAA8C;AAAA,EAEjD,EAAG,eAAc,MAAM;AAAA,GACnB,eAAO,sCAAmC,uBAA1C;GACA,OAAO;;EAGX,sBAAoB;EAEpB;YAAgB;EAAhB;;;oBAAiC;EAKjC;EAIA,EAAG,qBAEC;AAAA;;EAGJ,EAAG,sBAEC;AAAA;;EAGJ,OAAO;;UAIJ,gBAAuC;AAAA,EAG1C,EAAG,EAAC,2BAAkB,QAAQ;AAAA,GAC1B,eAAO,uBAAmB,QAAK,WAAQ,yBAAY,iEAAnD;GACA,OAAO;;EAKX,iBAAiB,wBAAgB;EAC7B;EAGA,sBAAoB;EAEjB;sBAAkB,QAAlB;AAAA,yCAAkB;SAAlB;AAAA;;;OAIJ;AAAA;;;EAIH,EAAG,EAAC,aAEA;AAAA,UAAO,AAAK,wBAAe;SAExB;AAAA,GAGH,qBAAqB,wBAAgB;GACrC,EAAI,mBAAkB,MAClB;AAAA,WAAO,AAAK;;GAMhB;aAAc;GAAd,WAAc,YAAd;AAAA,IAAI,aAAJ,AAAc,IAAd;;IAII,YAAgB,uBAAY,MAAO;IAEnC,EAAG,UAAS,MACR;AAAA,YAAO,AAAK;;;GAKpB,OAAO;;;WAQR;AAAA;;;;;;EAIH,cAAyB;EAEzB,EAAG,EAAC,aAEA;AAAA,UAAO,CAAC,AAAK,wBAAe;SAEzB;AAAA,GAEH,qBAAqB,wBAAgB;GACrC,EAAI,mBAAkB,MAClB;AAAA,MAAG,aACC;AAAA,YAAO,CAAC,AAAK;WAEb;AAAA,kBAAc,AAAK;;;GAO3B;aAAc;GAAd,WAAc,YAAd;AAAA,IAAI,aAAJ,AAAc,IAAd;;IAII,YAAuB,2BAAgB,MAAO,KAAM;IAEpD,EAAG,UAAS,MAGR;AAAA,OAAG,eAAc,eAAe,GAC5B;AAAA,aAAO,CAAC,AAAK,MAAM;YAEnB;AAAA,qBAAe;;;;;EAS/B,OAAO;;OAIJ,gBACI;AAAA,oCAAkB;;;;2BChKtB,iBALX;AAAA,CAGgC,AAHhC,eAGgC;CAGxB;CACA,aAAQ;;;;;;UAGL,WAAmB;AAAA;WACnB,WAAmB;AAAA;eACnB,YAAmC;AAAA;aACnC,YAAiC;AAAA;eACjC,YAAmC;AAAA;eACnC,YAAmC;AAAA;aACnC,YAAiC;AAAA;eACjC,YAAmC;AAAA;gBACnC,YAAoC;AAAA;aACpC,YAA+B;AAAA;WAC/B,YAA6B;AAAA;iBAC7B,YAAsC;AAAA;UACtC,WAAkB;AAAA;QAClB,WACH;AAAA,iBAAU;;QAEP,WACH;AAAA,iBAAU;;;;2BCXP,mBAA+C;AAAA,CAElD,cAAO,mBAAW,AAAQ,2BAAc,MAAtB,EAA4B,AAAQ,2BAAc,MAAtB;CAC9C,aAAM,mBAAW,AAAC,2BAAc,IAAK,AAAC,cAAO,EAAI,AAAC,2BAAc,IAAK,AAAC,cAAO;CAG7E,eAAU;CAEV,EAAG,aAAY,MAAM;AAAA,EAEjB,EAAG,qBAAoB,MAAM;AAAA,kBAAU;;EACvC,EAAG,kBAAiB,MAAM;AAAA,iBAAO;;EACjC,EAAG,iBAAgB,MAAM;AAAA,gBAAM;;;;;;;UAMhC,WAAmB;AAAA,EAEtB,EAAG,gBAAU,MACT;AAAA;;EAGJ,EAAG,mBAAa,MACZ;AAAA;;;QAKD,WAAgB;AAAA,EACnB;EACA,wBAAiB;EACjB,uBAAgB;EAChB,yBAAkB;;QAGf,WAAgB;AAAA,EACnB,wBAAiB;EACjB,uBAAgB;EAChB,yBAAkB;;YAGtB,gBAAgC;AAAA,EAE5B,EAAG,UAAS,QAAQ,eAAU,MAAM;AAAA,GAChC,qBAAc;GACd,+BAAwB;;EAG5B,EAAG,iBAAW,MACV;AAAA,wBAAc,mBAAY,aAAM,CAAC,UAAQ,IAAK,aAAM;;EAGxD,OAAO,YAAO;;WAIlB,eAA8B;AAAA,EAE1B,EAAG,SAAQ,QAAQ,eAAU,MAAM;AAAA,GAC/B,oBAAa;GACb,+BAAwB;;EAG5B,EAAG,eAAS,MACR;AAAA,sBAAY,mBAAY,SAAO,GAAI,SAAO;;EAG9C,EAAG,iBAAW,MACV;AAAA,wBAAc,mBAAY,SAAO,CAAC,cAAO,IAAK,SAAO;;EAGzD,OAAO,WAAM;;iBAIjB,WAAyB;AAAA,EAErB,cAAS,gBAAW,SACT,0BACE,yBACC,cACH,iBACE,eACF,wBAAgB,qBACb,cACJ,iBACD;EAGT,aAAQ,cAAS,SACN,yBACE,yBACC,cACH,iBACE,eACF,wBAAgB,iBAClB,mBAAY,aAAM,GAAI,aAAM,WAE1B,0BACK,YACL;EAKE;EAIF,mCAAgB;EAClB,8BAAY,aAAM,CAAC,cAAO,IAAK,aAAM;EAEjC;EATb,eAAU,cAAS,SACR,2BACE,gBACC,cACH,iBACE,eACF,YACF,aAEE,KAAE,6IACG,YACL;EAGX,uBAAgB;EAChB,0BAAsB;EACtB,yBAAqB;EACrB,2BAAuB;;;;;oBC7HpB,sBAZX;AAAA,CAYW;;;;;;;;;;;;CAFiB,AAV5B,kBAU4B;CADJ,AATxB,cASwB;CADA,AARxB,cAQwB;CAFG,AAN3B,SAM2B;CAFuB,AAJlD,SAIkD;CADA,AAHlD,SAGkD;CADA,AAFlD,SAEkD;CAY1C,WAAI;CACJ,WAAI;CACJ,WAAI;CACJ,SAAI;;;;uBAmDM;AAAA;;;CACV,OAAO,kBAAU,cAAe,cAAe,cAAe,iBAAiB,gBAAgB;;;QAhDnG,aAAyB;AAAA,EACrB,SAAI;EAEJ,EAAG,EAAC,iBACA;AAAA,KAAG,cAAQ;AAAA,IACP,eAA0B,AAAK;IAC/B,mBAAmB;UAChB,EAAG,cAAQ;AAAA,IACd,eAA0B,AAAK;IAC/B,mBAAmB;;;EAI3B,OAAO;;SAEX,aAAyB;AAAA,EACrB,SAAI;EAEJ,EAAG,EAAC,iBACA;AAAA,KAAG,cAAQ;AAAA,IACP,eAA0B,AAAK;IAC/B,mBAAmB;UAChB,EAAG,cAAQ;AAAA,IACd,eAA0B,AAAK;IAC/B,mBAAmB;;;EAI3B,OAAO;;SAEX,aAAyB;AAAA,EACrB,SAAI;EAEJ,EAAG,EAAC,iBACA;AAAA,KAAG,cAAQ;AAAA,IACP,eAA0B,AAAK;IAC/B,mBAAmB;UAChB,EAAG,cAAQ;AAAA,IACd,eAA0B,AAAK;IAC/B,mBAAmB;;;EAI3B,OAAO;;OAQJ,sBAA2E;AAAA,EAE9E,YAAY;EACZ,YAAY;EACZ,YAAY;EACZ,YAAY;EAGZ,EAAG,OAAM,MAAM;AAAA,WAAQ;;EACvB,EAAG,OAAM,MAAM;AAAA,WAAQ;;EACvB,EAAG,OAAM,MAAM;AAAA,WAAQ;;EACvB,EAAG,OAAM,MAAM;AAAA,WAAQ;;EAEvB,WAAI;EACJ,WAAI;EACJ,WAAI;EACJ,SAAI;EAEJ,OAAO;;UAGJ,WACH;AAAA,SAAO,SAAS,OAAG,SAAS,OAAG;;UAG5B,WACH;AAAA,SAAO,SAAS,OAAG,SAAS,OAAG;;SAG5B;AAAA;;;;;;EAEH,EAAG,yBAAwB,MAAM;AAAA,GAE7B,cAAc;GACd,cAAc;GACd,cAAc;GACd,cAAc;GAEd,gBAAgB;GAChB,gBAAgB;GAChB,gBAAgB;GAChB,gBAAgB;GAEhB,EAAG,sBAAO,qBAAsB,gBAAQ;AAAA,IAEpC,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IAEV,YAAY;IACZ,YAAY;IACZ,YAAY;IACZ,YAAY;UAET;AAAA,IAEH,EAAG,2BAA0B,MAAM;AAAA,KAAE,UAAU;KAAwB,YAAY;;IACnF,EAAG,2BAA0B,MAAM;AAAA,KAAE,UAAU;KAAwB,YAAY;;IACnF,EAAG,2BAA0B,MAAM;AAAA,KAAE,UAAU;KAAwB,YAAY;;IACnF,EAAG,2BAA0B,MAAM;AAAA,KAAE,UAAU;KAAwB,YAAY;;;GAIvF,kBAA4B;GAE5B,EAAG,YAAW;AAAA,oBAAgB;;GAC9B,EAAG,YAAW;AAAA,oBAAgB;;GAC9B,EAAG,YAAW;AAAA,oBAAgB;;GAC9B,EAAG,YAAW;AAAA,oBAAgB;;GAE9B,OAAO,yBAAe,KAAM,iBAAkB,YAAa;SAG3D;AAAA,SAAM;;;SAKP,WACH;AAAA,SAAO,kBAAU,OAAE,OAAE,OAAE;;OAGpB;AAAA;;;EACH,cAAS;EACT,OAAO;;cAGJ,WACH;AAAA,SAAO,iCAAyB;;cAG7B,WACH;AAAA,SAAO,iCAAyB;;gBAG7B,qBAA6C;AAAA,EAEhD,QAAc,AAAC,eAAa,MAAO;EAEnC,EAAI,KAAI,GACJ;AAAA,QAAK;;EAGT,SAAa,WAAW;EACxB,SAAa,KAAK;EAClB,QAAc,IAAI;EAElB,QAAc;EACd,QAAc,eAAe,CAAC,IAAI;EAClC,QAAc,eAAe,CAAC,IAAI,IAAI;EACtC,QAAc,eAAe,CAAC,IAAI,CAAC,IAAI,KAAK;EAE5C,MAAO;OACH;GAAU,WAAI;GAAG,WAAI;GAAG,WAAI;;OAC5B;GAAU,WAAI;GAAG,WAAI;GAAG,WAAI;;OAC5B;GAAU,WAAI;GAAG,WAAI;GAAG,WAAI;;OAC5B;GAAU,WAAI;GAAG,WAAI;GAAG,WAAI;;OAC5B;GAAU,WAAI;GAAG,WAAI;GAAG,WAAI;;OAC5B;GAAU,WAAI;GAAG,WAAI;GAAG,WAAI;;;EAGhC,SAAI;;gBAID,qBAAqD;AAAA,EAExD,QAAc;EAEd,EAAI,gBAAe,KACf;AAAA,OAAI,eAAe,CAAC,IAAI;SAExB;AAAA,OAAI,eAAe,eAAe,AAAC,eAAe;;EAGtD,QAAc,IAAI,eAAe;EACjC,SAAe,AAAC,eAAe,MAAO;EAEtC,SAAe,KAAK;EACpB,SAAe;EACf,SAAe,KAAK;EAEpB,SAAsB,CAAE,GAAI,GAAI;EAE5B,UAAU;EAAV,SAAc;EAAd;;GAEI,QAAc,GAAG;GAEjB,EAAI,KAAI,GAAG;AAAA;;GACX,EAAI,KAAI,GAAG;AAAA;;GAEX,GAAG,KAAK,AAAI,IAAI,uBACZ,IAAI,AAAC,CAAC,IAAI,KAAK,IAAI,IAChB,AAAI,IAAI,MACX,IACG,AAAI,IAAI,sBACX,IAAI,AAAC,CAAC,IAAI,KAAK,IAAI,CAAC,sBAAQ,KAE5B;;EAMZ,WAAI,GAAG;EACP,WAAI,GAAG;EACP,WAAI,GAAG;EAEP,SAAI;EAEJ,OAAO;;YAKX,WACI;AAAA,SAAO,SAAO,SAAE,UAAQ,SAAE,UAAQ,SAAE,UAAQ,SAAE;;YAGlD,aAA0B;AAAA,EAEtB,SAAS,MAAM;EACf,SAAS,MAAM,IAAI;EACnB,SAAS,KAAK;EAGd,WAAI,KAAK;EACT,WAAI,KAAK;EACT,WAAI,KAAK;;;;;mCClPN,iBAhBX;AAAA,CAyIwB,AAzIxB,cAyIwB;CAnDD,AAtFvB,oBAsFuB,CAAE,QAAS,KAAM,KAAM,KAAM;CADlC,AArFlB,eAqFkB;CADH,AApFf,YAoFe;CADI,AAnFnB,gBAmFmB;CADE,AAlFrB,kBAkFqB;CAzDJ,AAzBjB,cAyBiB;CAPT,+BAAM;CAEN,cAAQ;CACR,qCAAQ;;;;0CAsHE,sBAAgD;AAAA,CAC9C;CAAZ,YAAY,eAAU,QAAV,yBAAU,OAAV,QAAU;CACJ;CAAlB,kBAAkB,eAAU,YAAV,0BAAU,WAAV,SAAU;CAC5B,EAAG,UAAS,QAAQ,eAAe,MAC/B;AAAA,qBAAmB;QAChB;AAAA,EACH,eAAM,mBAAmB,MAAM,SAAS,QAAxC;EACA,eAAM,oBAAQ,QAAQ,wBAAtB;;;yCAIM,cAA+B;AAAA,CAC7B;CAAZ,YAAY,eAAU,QAAV,yBAAU,OAAV,QAAU;CACtB,EAAG,UAAS,MAAM;AAAA,EACd,eAAe;EACf;;;yCAIM,cAA+B;AAAA,CAC7B;CAAZ,YAAY,eAAU,QAAV,yBAAU,OAAV,QAAU;CACtB,EAAG,UAAS,MAAM;AAAA,EACd,eAAe;EACf;;;qCAIM,mBAAwC;AAAA,CAEtC;CAAZ,YAAY,eAAU,QAAV,yBAAU,OAAV,QAAU;CAEtB,EAAG,UAAS,MAAM;AAAA,EAEd,QAAQ,iDAAkB,IAAK,+CAAgB,IAAK,KAAM,wBAAgB;EAC1E,kBAAgB,mBAAW,uBAAqB,EAAE,AAAC,uBAAqB,IAAK,AAAC,aAAa,sCAAS;EACpG;oBAAU,QAAV;sBAAU,IAAK;SAAf;AAAA,YAAU,OAAK;;;CAGL;CAAd,cAAc;;mCAIJ,cAAyB;AAAA,CAEvB;CAAZ,YAAY,eAAU,QAAV,yBAAU,OAAV,QAAU;CAEtB,EAAG,UAAO,MACN;AAAA;QAEA;AAAA,QAAM,4DAAoC,MAAM;;;;;SAlK/C,WAAkB;AAAA;gBA8D3B,oBAAsD;AAAA,EAElD,kBAAkB,WAAY,SAAS,OAAO,SAAS;EACvD,kBAAkB,AAAE,MAAM,SAAS,KAAM;EAEzC,EAAG,eAAc,WACb;AAAA,eAAO,UAAU,cAAc,AAAC,cAAY;;EAGhD,EAAG,eAAc,cACb;AAAA,kBAAU,WAAW,cAAc,AAAC,cAAY;;EAGpD,EAAG,cAAa,WACZ;AAAA,iBAAY;;EAGH,oBAAwB;EAArC,eAAa,CAAY,cAAZ;;WAIR,WAAmB;AAAA;QAoFZ,WAAgB;AAAA,EAEf;;;GAAb,aAAa;GACT,EAAG,EAAC,eACA;AAAA;;;EAYR,EAAG,EAAC,aAKA;AAAA,iBAAS;;;QAKD,WAEZ;AAAA,EAAa;;;GAAb,aAAa;GACT;;;;;mDA2BD,qBAZH;AAAA,CAUgB,AAVhB,aAUgB;CADF,AATd,aASc;CADS,AARvB,cAQuB;CADJ,AAPnB,WAOmB;CAFI,AALvB,aAKuB;CAQvB,YAAO;CAAO,WAAM;CACpB,eAAU;CACV,eAAU;;;;;MAGP,WAAe;AAAA,EAET;EAAT,SAAS,4EAAY;EAGrB;YAAe;EAAf,WAAe,YAAf;AAAA,GAAI,cAAJ,AAAe,IAAf;;GACI,MAAM,gBAAgB,yBAAuB;;EAIjD,kBAAa;EAEb,EAAG,uBAAiB,UAChB;AAAA;;EAGJ;EAEA,EAAG,eAAS,UAAK;AAAA,GACb,UAAU,aAAQ;GAClB,mBAAY;GACZ,aAAQ;GACR,aAAQ;;EAGZ,cAAS;EAET,EAAG,mBACC;AAAA,GAAsB,oBAAoB;GAA1C,kBAAW,WAAW,CAAY,KAAG,OAAf;;;;;mDA4BvB,oBArBH;AAAA,CAqBG;;;CATmB,AAZtB,eAYsB;CADD,AAXrB,eAWqB;CADI,AAVzB,eAUyB;CADD,AATxB,cASwB;CADD,AARvB,aAQuB;CAFX,AANZ,UAMY;CAiBZ,UAAK;CACL,YAAO;CACP,aAAQ;CACF,oBAA2B;CAAjC,aAAM,CAAY,sBAAZ;;;;;SAIH,WAAkB;AAAA,EAErB,eAAU,AAAC,aAAM;EACjB,eAAU,cAAO;EAEjB,EAAG,UACC;AAAA,2BAAmB,cAAc,UACrB,wBAAgB,kBAChB,iBACE,wBACR,OAAK,OAAK,aAAM,kBAAW;;EAIrC,sBAAiB,8BAAa,UAClB,oBACA,kBACE;EAGd,UAAS;EAAT,SAAe;EAAf;;GACI,SAAS,4BAAW,mBAAW,eAAQ,EAAG,cAAU;GACpD,wBAAoB;;EAGxB,uCAAgC;EAEhC;;WAMJ,aAA2B;AAAA,EAEvB,aAAa;EACb,WAAM;EAEN,EAAG,wBAAkB,MAAM;AAAA,GACvB,YAAY;GACZ,EAAG,WAAU,GACT;AAAA,YAAQ,SAAO;;GAEnB;aAAS;GAAT,WAAS,YAAT;AAAA,IAAI,QAAJ,AAAS,IAAT;;IACI,EAAG,MAAK,MAAM;AAAA,KAEV,SAAS,MAAM,AAAC,UAAU;KAE1B,SAAS,KAAK;KAEd,KAAK,KAAK;KAEV;cAAU,eAAQ,CAAC,MAAI;KAAvB;;;;;;;;;EAKZ,OAAO;;YAGX,aAA4B;AAAA,EAEd,oBAAe;EAAzB,UAAU,CAAY,KAAZ;EACV,SAAS,MAAI;EAGb,UAAS;EAAT,SAAe;EAAf;;GAEI,QAAQ,6BAAwB;GAChC,EAAG,KAAI,AAAC,eAAQ,GAAI;AAAA,IAChB,SAAS,6BAAwB,IAAE;IACnC,EAAG,OAAM,MAAM;AAAA,KACX;cAAU,WAAW;KAArB;;;;;;KACA,UAAU;;;;EAKjB,GAAY,KAAI;GAArB,KAAqB;SAAhB,GAAY,KAAW;GAA5B,KAA4B;SAAX;AAAA,GAAjB,KAAiB;;EAEjB,EAAG,MAAK,GACJ;AAAA,gCAAwB,eAAQ,WAAW;SACxC,EAAG,MAAK,KACX;AAAA,gCAAwB,eAAQ,WAAW;SAE3C;AAAA,gCAAwB,eAAQ,WAAW;;EAG/C,0CAAwB,eAAQ;EAAhC,UAA2C,WAAW,AAAC,AAAC,eAAS,CAAC,MAAI;EAAtE;;;;;;EAEA,OAAO,YAAO;;QAIX,WAAgB;AAAA,EACnB,eAAU;EACV,gCAAyB;EACzB,EAAG,0BAAoB,MAAM;AAAA,qCAA2B;;;QAGrD,WAAgB;AAAA,EACnB,eAAU;EACV,gCAAyB;EACzB,EAAG,0BAAoB,MAAM;AAAA,qCAA2B;;;WAG5D,aAA4B;AAAA,EAExB,EAAG,0BAAoB,MAAM;AAAA;YAAyC;GAAzC,SAAyC;GAAzC,SAAyC;GAAzC,SAAyC;GAAzC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAC7B;YAAuC;EAAvC,UAAuC;EAAvC,UAAuC;EAAvC,UAAuC;EAAvC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAEA,OAAO,WAAM;;;;;iDAuBV,4BAjBH;AAAA,CAWqB,AAXrB,WAWqB;CADG,AAVxB,cAUwB;CADF,AATtB,eASsB;CAUtB,YAAO;CAEP,aAAQ,iDAAkB;CAC1B;CACA,EAAG,SAAQ,MAAM;AAAA,qBAAY;;CAE7B,iBAAY,cAAS,aACN,aACJ,AAAC,mBAAkB,aACpB,mBAAW,EAAE,YACX,qBACK,cAAO,aACZ,cACD,cACG;CAGd,mBAAc,cAAc,UAChB,wBAAgB,iBAChB,iBACE,wBACR,OAAK,OAAK,sBAAe;CAG/B,oBAAe,cAAc,UACjB,gBACA,kBACE,wBACR,OAAK,OAAK,mBAAY,OAAK,oBAAa;CAG9C;;;;;OAIG,WAAgB;AAAA,EACnB,eAAU;EACV,8BAAuB;EACvB,6BAAsB;EACtB,2BAAoB;EACpB;;QAGG,WAAgB;AAAA,EACnB,eAAU;EACV,8BAAuB;EACvB,6BAAsB;EACtB,2BAAoB;EACpB;;aAGJ,aAA6B;AAAA,EAEzB,oBAAa,KAAK;EAElB,EAAG,EAAC,cAAc;AAAA,UAAO,aAAQ;;EAEvB,oBAAoB;EAA9B,UAAU,CAAY,KAAG,OAAf;EACV,SAAS,MAAI;EAER,GAAY,KAAI;GAArB,KAAqB;SAAhB,GAAY,KAAW;GAA5B,KAA4B;SAAX;AAAA,GAAjB,KAAiB;;EAEjB,EAAG,MAAK,GACJ;AAAA,+BAAqB;SAClB,EAAG,MAAK,MACX;AAAA,+BAAqB;SAErB;AAAA,+BAAqB;;EAGzB,SAAS,CAAC,mBAAY,KAAK;EAC3B,4BAAuB,GAAI,oBAAa;EAExC,OAAO,aAAQ;;WAInB,aAA4B;AAAA,EACxB;cAA4B;EAA5B,GAA4B,MAA5B;;;;;;;;;;EACA;WAAkC,OAAK;EAAvC,SAA0C,OAAK;EAA/C;;;;;;;;;;;;;;;;;;;;;EACA;YAAqB,OAAK,AAAC,mBAAY,IAAG;EAA1C,UAA8C,OAAK;EAAnD;;;;;;;;;;;;;;;;;;;;;EACA;EAAY;uBAAmB,oBAAY;EAA/B,qBAAkC,EAAC,oBAAa;EAAhD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAZ,YAAY;EACZ,OAAO,WAAM;;YAGjB,aAA6B;AAAA,EACzB,wBAAkB,KAAC,YAAI,OAAI,iBAAU,WAAQ,KAAG;EAChD,OAAO,YAAO;;;;;gCC9hBX,iBAJX;AAAA,CAqE0B,AArE1B,gBAqE0B;CAvDN,AAdpB,iBAcoB;CADH,AAbjB,cAaiB;CAPT,+BAAM;CAEN,cAAQ;CACR,cAAS;;;;;;SAMG,WAAkB;AAAA,EAE9B,YAAY;EAMA,4BAAU,EAAE,EAAE,EAAE,OAAO;EACzB,8BAAW,EAAE;EACZ;EACA;;;;;KAoFP;GApFO;GAuFH,WAvFG;GAwFH,WAxFG;GAyFH,WAzFG;;;;;;;;;;aAoDX;KApDW,AAoDQ,OApDR;;;;;;;IAiEX,SAjEW;;;;;;;;;;eAoDX;MApDW,AAoDQ,QApDR;;KAsEP,SAtEO;;;;;;OAyEX;KAzEW,AA0EP,QA1EO;;IA2FC,UA3FD;;;EAPX,kBAAa,cAAc,SAChB,4BACC,kBACG,cACH,WACF,aACC,aACA,sBACM,0BACH,yBACA;EAGd,8BAA0B;EAE1B;;aAMG,iBAA6C;AAAA,EAEhD,GAAO,oBAAe,WAAW,IAAjC;AAAA;;EAEA,iBAAY;;gBAIT,iBAAgD;AAAA,EAGnD,GAAO,oBAAe,WAAW,IAAjC;AAAA;;EAEA,cAAc,+BAAc;EAE5B;EAEA,OAAO;;aAIK,YAEZ;AAAA,IAAG,cAAa,MAAa,cACzB;AAAA;;;cAMR,WAAsB;AAAA,EAClB,gBAAW,CAAC;EACZ;;QAIG,aAAsB;AAAA,EACzB,UAAU;EACV,UAAS;EAAT,SAAe;EAAf;;GAAmB,OAAQ;;EAC3B,OAAO;;eAGJ;AAAA;;;EAEH,cAAc,AAAC,iBAAY,KAAM;EACjC;EAAW,GAAC,UAAU,GAAK;AAAA;;YAAK;GAAL;YAP3B;IAO2B,AAPR,OAOQ;;GAA3B,OAA2B;SAA3B;AAAA,GAA0C;;aAAK;GAAL;aAP1C;IAO0C,AAPvB,QAOuB;;GAA1C,OAA0C,OAAc;;EACxD,UAAU,gBAAW,KAAK;EAC1B,kBAAkB,aAAa;EAC/B,YAAY,AAAC,SAAQ;EACrB,cAAe,OAAI;EAEnB,SAAU,KAAE,OAAM,MAAG,MAAG,eAAO,MAAE,UAAO,MAAE,QAAK,MAAE,UAAO;EAE3C;;GAAb,aAAa;GACT,WAAW,iCAAiB;GAC5B,eAAe,gBAAW,KAAK,AAAC,MAAG;GAC1B;;aAAK,SAAO;GAAZ;aAlBb;IAkBa,AAlBM,QAkBN;;GAAT,SAAS,OAAkB,SAAI,WAAQ,MAAG,YAAU;;EAGxD;aAAc;EAAd,YAAc,aAAd;AAAA,GAAI,aAAJ,AAAc,KAAd;;GACI,QAAQ,iBAAY,MAAO,OAAQ,SAAO;;EAG9C,OAAO;;YAGJ,WAA6B;AAAA,EAEhC,cAAc;EAEV;YAAc;EAAd,WAAc,YAAd;AAAA,GAAI,aAAJ,AAAc,IAAd;;GACI,UAAU,gBAAW,KAAM,KAAE,kBAAU;GAEvC,WAAW;GACX,WAAY,KAAE,oBAAY;GAC1B,WAAY,OAAI,sBAAc;GACf;;;IAAf,eAAe;IACD,YAAY;IAAZ,cAAqB,wBAArB;;;;;aAvCtB;KAuCsB,AAvCH,OAuCG;;;oCAAqB;IAArB,+BAAqB;IAArB;yBAAqB;IAArB,AA1BtB,SA0BsB,yBAAqB,sBAArB;iCAAqB;IAArB;;gBAAqB,wCAArB;;;;;;eAvCtB;MAuCsB,AAvCH,QAuCG;;KArBlB,SAqBkB;;;eAAqB;IAArB;;OAlBtB;KAkBsB,AAjBlB,QAiBkB;;IAAV,UAAU;;;EAItB,OAAO;;WAIK,WAEZ;AAAA;EAAkB;;;;;KAjBd;GAiBc;GAdV,WAcU;GAbV,WAaU;GAZV,WAYU;;;;;;;;;;aAjDlB;KAiDkB,AAjDC,OAiDD;;;;;;;IApClB,SAoCkB;;;;;;;;;;eAjDlB;MAiDkB,AAjDC,QAiDD;;KA/Bd,SA+Bc;;;;;;OA5BlB;KA4BkB,AA3Bd,QA2Bc;;IAVN,UAUM;;;EAAlB,aAAkB;;WAIN,WAAmB;AAAA,EAE/B,EAAG,EAAC,cAAS;AAAA;;EAEb,mBAAmB;EAEnB;YAAc;EAAd,WAAc,YAAd;AAAA,GAAI,aAAJ,AAAc,IAAd;;GACI,EAAG,sBAAqB;AAAA,IACpB,eAAe;IACf,sBAAsB;;;EAI9B,EAAG,eAEC;AAAA;;;gBAQC,YAAoC;AAAA,EACzC,QAAQ;EACR,SAAS,8BAA8B;EACvC,WAAW,IAAI;EAEf,YAAY;EACZ,YAAY,uBAAsB,AAAC,cAAO;EAC1C,YAAY;EAEZ,EAAG,QAAO,GACN;AAAA,WAAQ,AAAC,QAAQ,CAAC,OAAK,AAAC,cAAO;;EAGnC,SAAS,AAAC,cAAO,IAAK;EACd,GAAY,QAAO;GAA3B,QAA2B;SAAnB,GAAY,QAAc;GAAlC,QAAkC;SAAd;AAAA,GAApB,QAAoB;;EACpB;YAAmB;EAAnB;;mBAAmB;;;;QAKP,WAAgB;AAAA,EAE5B;EACA;EACA,4BAAqB;;QAIT,WAAgB;AAAA,EAE5B;EACA,4BAAqB;;UAMzB,WAAkB;AAAA,EAEd,YAAY;EAEZ,eAAe,sBACX,wBAAwB,AAAC,cAAO,EAChC,wBAAwB,AAAC,cAAO,IAChC,yBAAyB,YACzB,yBAAyB,cAAS,AAAC,cAAO;EAG9C,WAAW,kBAAkB;EAC7B,UAAU,kBAAiB,AAAC,cAAO;EAEnC,EAAG,oBAAc,MAAM;AAAA,GACnB,wBAAiB,mBAAW,KAAM;GAClC,8BAAuB;;;iBAItB,YAAsC;AAAA;;;;;;;mDCpN7B,qBAAqD;AAAA,CAE/D,EAAG,sBAAqB,GACpB;AAAA,QAAM;;CAGV,YAA6B,SAClB,cACC,mCACK,eAAe,gBACf,iBAAiB,WACtB,eAAe;CAG3B,aAA6B,iBAAiB;CAE9C,EAAG,kBAAiB,GAChB;AAAA,QAAM;;CAGV,aAAa,OAAO;CACpB,EAAG,sCAAkB,QAAe,EAAG,MAAO,QAC1C;AAAA,QAAM;;CAGV;YAAa,eAAb;AAAA,EAAI,YAAJ,AAAa,OAAb;;EACI,cAAc,YAAY;EAC1B;cAAgB,gBAAhB;AAAA,GAAI,eAAJ,AAAgB,QAAhB;;GACI,uDAAY,SAAU,QAAS;;EAEnC,UAAU;;CAGd,SAAS;CAET,OAAO;;yDAMJ,+BAAmF;AAAA,CAGtF;CAEA,aAAa,yDAAc;CAE3B,MAAQ;MAuBJ;EAEI,YAAwB,OACf,aAAa,eAAO,SAAP,0BAAO,QAAP,SAAO,YACrB,WAAe,eAAO,QAAP,0BAAO,OAAP,SAAO,WACtB,WAAe,eAAO,QAAP,0BAAO,OAAP,SAAO,eAClB,WAAe,eAAO,YAAP,0BAAO,WAAP,SAAO,oBACrB,WAAe,eAAO,aAAP,0BAAO,YAAP,SAAO,sBACrB,WAAe,eAAO,cAAP,0BAAO,aAAP,SAAO,uBACtB,WAAe,eAAO,cAAP,0BAAO,aAAP,SAAO,wBACrB,WAAe,eAAO,eAAP,0BAAO,cAAP,SAAO,qBAC1B,aAAa,eAAO,WAAP,0BAAO,UAAP,SAAO;EAG/B,gBAAgB,SAAU;;MAlB9B;EACI,mBAAmB,aAAa,eAAO,YAAP,0BAAO,WAAP,SAAO;;MAb3C;EACI,oBAAoB,WAAe,eAAQ,iBAAR,0BAAQ,gBAAR,SAAQ;EAC3C,kBAAkB,WAAe,eAAQ,WAAR,0BAAQ,UAAR,SAAQ;;MAP7C;EACiB,SAAQ,eAAQ,WAAR,0BAAQ,UAAR,SAAQ;EAAhB;GA8EjB,KA9EiB;;EAAb,aAAa;EACb,mBAAmB,WAAe,eAAQ,WAAR,0BAAQ,UAAR,SAAQ;;MAqC9C;EAEI,aAAa,aAAa,eAAO,YAAP,0BAAO,WAAP,SAAO;EACjC,cAAc,aAAa,eAAO,aAAP,0BAAO,YAAP,SAAO;EAClC,cAAc,WAAe,eAAO,aAAP,0BAAO,YAAP,SAAO;EAEpC,WAAW,mBAAmB;EAC9B,EAAG,SAAQ,MAAM;AAAA,GACb,OAAO;GACP,mBAAmB,OAAQ;;EAG/B,OAAS,WAAS;;MAzCtB;EACI;EACS,uBAAa,eAAQ,SAAR,0BAAQ,QAAR,SAAQ;EACd,UAAQ,eAAQ,WAAR,0BAAQ,UAAR,SAAQ;EAAhB;GAkEpB,MAlEoB;;EAFhB,YAAiB,OACR,YACE,iBAAK;;;;CA6CxB,SAAS;;2DAIN,kBAAgD;AAAA,CAEnD,gBAAsC;CAElC;YAAc,gBAAd;AAAA,EAAI,aAAJ,AAAc,QAAd;;EACI,aAAa,aAAa;EAC1B,UAAe,OAAO;EAAtB,YAA0B,OAAO;EAAjC;;;;;EACA,SAAS;;CAGjB,OAAO;;kDAIG,aAA2B;AAAA,QAAO,iBAAiB;;qDACnD,aAA4B;AAAA,CACtC,EAAG,YAAY,SAAO,IAClB;AAAA,OAAK,oBAAoB,GAAI,KAAI;;CACnC,OAAO;;;;;mCCtFV,eAiBH;AAAA,QAAO;;;;;kCnI2GJ,mBAA8C;AAAA,CAEjD,GAAW,YAAX;;;CAEA,yBAAyB;CAEzB,iCAAO;CAEP,aAAQ;;;;;;SAIH,WAA4B;AAAA,EAA5B;EAEL,GAAO,cAAS,GAAhB;AAAA;;EAEA;EAEA,OAAO,qBAAY,yBAA0B;AAAA,GAEzC,iBAAQ;GAER,UAAU,yDAAuB;GAEjC,SAAS,iBAA4B;AAAA,IAEjC,eAAQ;IACR,iBAAQ;IACR,QAAQ;;GAIZ,UAAU,iBAAiB;AAAA,IAEvB,iBAAQ;IACR,OAAO;;;;SAQV,WAEL;AAAA,IAAG,eAAS,MAAM;AAAA,GACd;GACA,aAAQ;;;cAKP,WAAsB;AAAA,EAE3B,EAAG,eAAS,MAAM;AAAA,UAAO;;EAEzB,OAAO;;;;iCAUJ,mBAA6C;AAAA,CAEhD,GAAW,YAAX;;;CAEA,yBAAyB;CAEzB,iCAAO;CAEP,aAAQ;;;;;;SAIH,WAA4B;AAAA,EAA5B;EAEL,GAAO,cAAS,GAAhB;AAAA;;EAEA;EAEA,OAAO,qBAAY,yBAA0B;AAAA,GAEzC,iBAAQ;GAER,UAAU,wDAAsB;GAEhC,SAAS,iBAA2B;AAAA,IAEhC,eAAQ;IACR,iBAAQ;IACR,QAAQ;;GAIZ,UAAU,iBAAiB;AAAA,IAEvB,iBAAQ;IACR,OAAO;;;;SAQV,WAEL;AAAA,IAAG,eAAS,MAAM;AAAA,GACd;GACA,aAAQ;;;cAKP,WAAsB;AAAA,EAE3B,EAAG,eAAS,MAAM;AAAA,UAAO;;EAEzB,OAAO;;;;iCAUJ,mBAA6C;AAAA,CAEhD,GAAW,YAAX;;;CAEA,yBAAyB;CAEzB,iCAAO;CAEP,aAAQ;;;;;;SAIH,WAA4B;AAAA,EAA5B;EAEL,GAAO,cAAS,GAAhB;AAAA;;EAEA;EAEA,OAAO,qBAAY,yBAA0B;AAAA,GAEzC,iBAAQ;GAER,UAAU,wDAAsB;GAEhC,SAAS,iBAA2B;AAAA,IAEhC,eAAQ;IACR,iBAAQ;IACR,QAAQ;;GAIZ,UAAU,iBAAiB;AAAA,IAEvB,iBAAQ;IACR,OAAO;;;;SAQV,WAEL;AAAA,IAAG,eAAS,MAAM;AAAA,GACd;GACA,aAAQ;;;;;kCAcT,mBAPX;AAAA,CAK0B,AAL1B,iBAK0B;CAIlB,GAAW,YAAX;;;CAEA,yBAAyB;CAEzB,iCAAO;CAEP,aAAQ;CACI,GAAI,sBAAJ;EAAI,qBAAmB;;CAAnC,iBAAgB;CAEhB,EAAG,eAAS,MACR;AAAA,gBAAS,mCAAgB,cAAW;;;;;;;SAKnC,WAA4B;AAAA,EAA5B;EAEL,GAAO,cAAS,GAAhB;AAAA;;EAEA;EAEA,OAAO,qBAAY,yBAA0B;AAAA,GAEzC,iBAAQ;GAER,UAAU,yDAAuB,UAAI;GAErC,SAAS,iBAA4B;AAAA,IAEjC,eAAQ;IACR,gBAAS,mCAAgB,cAAW;IACpC,iBAAQ;IACR,QAAQ;;GAIZ,UAAU,iBAAiB;AAAA,IAEvB,iBAAQ;IACR,OAAO;;;;SAQV,WAAiB;AAAA,EAEtB,EAAG,eAAS,MAAM;AAAA,GACd;GACA,aAAQ;;EAGZ,EAAG,gBAAU,MAAM;AAAA,GACf;GACA,cAAS;;;;;kCoI9YV,2BAEH;AAAA,gBAAU;;;;;OAOA,WAEV;AAAA,EAAO,YAAW;EAAX;;;;;;SAKG,WAEV;AAAA,SAAO,gBAAW;;UAKR,sBAAoC;AAAA,EAE9C,YAAO,iBAAa,UAAM,KAAM;EAChC,kBAAa;;YAKV,eAGH;AAAA,SAAO,UAAK,SAAS;;QAKlB,eAEH;AAAA,SAAO,eAAW,UAAM;;QAMrB,eAEH;AAAA,SAAO,eAAU,KAAM;;UAMpB,gBAAiC;AAAA,EAEpC,YAAY,iBAAY,UAAK;EAE7B,EAAG,UAAS,MACR;AAAA,UAAO;SAEP;AAAA,UAAO;;;YAMR,WAAwB;AAAA,EAE3B,YAAY,mBAAc;EAE1B,EAAG,UAAS,MACR;AAAA,UAAO;SAEP;AAAA,UAAO;;;WAMT,WAAuB;AAAA,EAEzB,YAAY,kBAAa;EAEzB,EAAG,UAAS,MACR;AAAA,UAAO;SAEP;AAAA,UAAO;;;UAMR,eAAiC;AAAA,EAEhC;EAAC,YAAO;EAAR,IAAC,+CAAD;AAAA,GAAuB,aAAO;GAA9B,MAAsB,CAAC;SAAvB;AAAA;;EAAJ,EAAI,MACA;AAAA,qBAAa;;EAGjB,EAAG,EAAC,cAAS,OACT;AAAA,UAAO;;EAGX,YAAO,iBAAY,UAAM;EAEzB,EAAI,cAAQ,MACR;AAAA,qBAAa;;EAGjB,OAAO;;mBAKJ,WAA2B;AAAA,EAE1B;EAAC,YAAO;EAAR,IAAC,+CAAD;AAAA,GAAuB,aAAO;GAA9B,MAAsB,CAAC;SAAvB;AAAA;;EAAJ,EAAI,MACA;AAAA,qBAAa;;EAGjB,YAAO,0BAAqB;EAE5B,EAAG,cAAQ,MACP;AAAA,qBAAa;;EAGjB,OAAO;;kBAKJ,WAA0B;AAAA,EAGzB;EAAC,YAAO;EAAR,IAAC,+CAAD;AAAA,GAAuB,aAAO;GAA9B,MAAsB,CAAC;SAAvB;AAAA;;EAAJ,EAAI,MACA;AAAA,qBAAa;;EAGjB,YAAO,yBAAoB;EAE3B,EAAG,cAAQ,MACP;AAAA,qBAAa;;EAGjB,OAAO;;SAKJ,eAAmC;AAAA,EAEtC,YAAY,gBAAW,UAAM;EAE7B,EAAG,UAAS,MACR;AAAA,UAAO;;EAGX,OAAO;;QAKJ,eAAkC;AAAA,EAErC,YAAY,eAAW,UAAM;EAE7B,EAAI,UAAS,MACT;AAAA,UAAO;;EAGX,OAAO;;WAKJ,WAA8B;AAAA,EAEjC,QAAiB;EAEjB,mBAAe,UAAM,uDAAc,gBAC/B;AAAA,UAAQ;;EAGZ,OAAO;;QAKJ,WAA2B;AAAA,EAE9B,QAAiB;EAEjB,mBAAe,UAAM,uDAAc,gBAC/B;AAAA,UAAQ;;EAGZ,OAAO;;YAMJ,WAEH;AAAA,SAAO,wCAA6B;;iBAKjC,qCAEH;AAAA,IAAI,UAAS,MAET;AAAA,SAAO;QAEH;IACI,aAAa;IACb,mBAAc,WAAY,QAAS;IACnC,mBAAc,YAAa,QAAS;;QAExC;IACI,mBAAc,WAAY,QAAS;IACnC,aAAa;IACb,mBAAc,YAAa,QAAS;;QAExC;IACI,mBAAc,WAAY,QAAS;IACnC,mBAAc,YAAa,QAAS;IACpC,aAAa;;;;;aAW7B,WAEI;AAAA,SAAO,aAAQ;;cAKnB,gBAAmD;AAAA,EAE/C,EAAI,UAAS,MACT;AAAA,UAAO;;EAGX,eAAe,SACE,gBAAW,YACX,gBAAW;EAG5B,OAAO,IAAI,CAAS,WAAT;;cAKR,gBAEI;AAAA,cAAS,MAAO;AAAA;SAAI;AAAA;;;eAK/B,4BAA4F;AAAA,EAExF,EAAG,UAAS,MAER;AAAA,UAAO,oCAAyB,KAAM,OAAQ,EAAG;;EAIjD,iBAAiB,aAAQ,KAAM;EAE/B,EAAG,cAAa,GAEZ;AAAA,gBAAa,iBAAY,WAAY,KAAM;SAExC,EAAG,cAAa,GAEnB;AAAA,iBAAc,iBAAY,YAAa,KAAM;SAI7C;AAAA,iBAAc;;EAIf;eAAO;EAAP;GAAwB,aAAO;GAA/B,MAAuB,CAAC;SAAxB;AAAA;;EAAH,EAAG,MACC;AAAA,WAAQ,iBAAY;;EAGrB;eAAO;EAAP,kDAAsB;AAAA,gBAAO;GAAP,mBAAtB;AAAA,WAAsB;UAAtB;AAAA,WAAsB;;SAAtB;AAAA;;EAAH,EAAG,OACC;AAAA,WAAQ,kBAAa;;EAGtB;eAAO;EAAP,kDAAsB;AAAA,gBAAO;GAAP,mBAAtB;AAAA,WAAsB;UAAtB;AAAA,WAAsB;;SAAtB;AAAA;;EAAH,EAAG,OACC;AAAA,mBAAW;;EAGf,aAAkB;EAAlB,aAAkB;EAAlB,AAAkB,kBAAlB;EAEJ,OAAO;;qBAKJ,gBAAyD;AAAA,EAE1C,aAAW;EAAc,aAAW;EAAtD,kBAAkB,0CAAyB,0CAA0B;EAErE,OAAO;;aAKX,qBAA6D;AAAA,EAEzD,EAAG,UAAS,MACR;AAAA,UAAO;;EAGX,iBAAiB,aAAS,KAAM;EAEhC,EAAG,cAAa,GACZ;AAAA,UAAO,eAAU,WAAY;SAC1B,EAAG,cAAa,GACnB;AAAA,UAAO,eAAU,YAAa;SAE9B;AAAA,UAAO;;;aAMf,qBAA+D;AAAA,EAE3D,EAAG,UAAS,MACR;AAAA,UAAO;;EAGX,iBAAiB,aAAQ,KAAM;EAE/B,EAAG,cAAa,GACZ;AAAA,UAAO,eAAU,KAAM;SACpB,EAAG,cAAa,GACnB;AAAA,GAAW,aAAW;GAAtB,OAAO,IAAI,0CAAyB,eAAW,KAAM;SAErD;AAAA,GAAO,aAAW;GAAX;;;;;;;eAMf,sBAAqF;AAAA,EAEjF,EAAG,UAAS,MACR;AAAA,UAAO;;EAGF,aAAW;EAApB,SAAS;EAET,EAAG,MAAK,OACJ;AAAA,UAAO,iBAAY,WAAY;SAC5B,EAAG,MAAK,OACX;AAAA,UAAO,iBAAY,YAAa,QAAQ,KAAK;SAE7C;AAAA,UAAO;;;iBAMf,gBAA4E;AAAA,EAExE,EAAG,eAAc,MACb;AAAA,UAAO;;EAGX,OAAO,mBAAe;;gBAK1B,gBAEI;AAAA,IAAI,gBAAe,MACf;AAAA,UAAO;SAEP;AAAA,UAAO,kBAAa;;;cAM5B,qBAAgF;AAAA,EAE5E,EAAG,UAAS,MACR;AAAA,UAAO;;EAGX,iBAAiB,aAAQ,KAAM;EAE/B,EAAG,eAAc,GACb;AAAA,UAAO;SACJ,EAAG,cAAa,GACnB;AAAA,UAAO,gBAAW,WAAY;;EAGlC,SAAS,gBAAW,YAAa;EAEjC,EAAG,OAAM,MACL;AAAA,UAAO;SAEP;AAAA,UAAO;;;aAMf,qBAAiF;AAAA,EAE7E,EAAI,UAAS,MACT;AAAA,UAAO;;EAGX,iBAAiB,aAAQ,KAAM;EAE/B,EAAG,eAAc,GAEb;AAAA,UAAO;SAEJ,EAAG,cAAa,GAAG;AAAA,GAEtB,SAAS,eAAU,WAAY;GAE/B,EAAI,OAAM,MACN;AAAA,WAAO;UAEP;AAAA,WAAO;;;EAKf,OAAO,eAAU,YAAa;;wBAKlC,gBAAmF;AAAA,EAE/E,EAAG,eAAc,MACb;AAAA,UAAO;;EAGP;EAAC,aAAO;EAAR,IAAC,iDAAD;AAAA,GAAwB,aAAO;GAA/B,MAAuB,CAAC;SAAxB;AAAA;;EAAJ,EAAI,MACA;AAAA,GAAQ,aAAe;GAAf;;;;IA8IR,SA9IQ;;GAAR,QAAQ;;EAGZ,aAAa,0BAAqB;EAClC,aAAkB;EAAlB,aAAkB;EAAlB,AAAkB,kBAAlB;EAEO,aAAQ;EAAR;;GA4JH,SA5JG;;;;;;;;;;;;;;;GAgKH,SAhKG;;;;;;;;;;;;;;;;;;;;;;uBAKX,gBAAkF;AAAA,EAE1E,aAAO;EAAX,EAAI,gDACA;AAAA,WAAQ,kBAAa;;EAGzB,EAAI,gBAAe,MACf;AAAA,UAAO;;EAGP;EAAC,aAAO;EAAR,IAAC,iDAAD;AAAA,GAAyB,aAAO;GAAhC,MAAwB,CAAC;SAAzB;AAAA;;EAAJ,EAAI,MACA;AAAA,GAAQ,aAAe;GAAf;;;IAmIR,SAnIQ;;GAAR,QAAQ;;EAGZ,cAAc,yBAAoB;EAClC,aAAkB;EAAlB,aAAkB;EAAlB,AAAkB,kBAAlB;EAEO,aAAQ;EAAR;;GAsIH,SAtIG;;;;;;;;;;;;;;;GA0IH,SA1IG;;;;;;;;;;;;;;;;;;;;;;eAKX,qBAAkF;AAAA,EAE9E,iBAAiB,aAAS,KAAM;EAEhC,EAAI,cAAa,GAAK;AAAA,GAEd;GAAC,aAAO;GAAR,IAAC,iDAAD;AAAA,IAAwB,aAAO;IAA/B,MAAuB,CAAC;UAAxB;AAAA;;GAAJ,EAAI,MACA;AAAA,IAAQ,aAAc;IAAd;;;;KAsGZ,SAtGY;;IAAR,QAAQ;;GAGZ,aAAa,iBAAY,WAAY;SAElC;AAAA,GAEC,aAAO;GAAX,EAAI,gDACA;AAAA,YAAQ,kBAAa;;GAGzB,kBAAiB,aAAS,KAAM;GAEhC,EAAI,CAAC,eAAc,KAAM,AAAC,eAAe,MACrC;AAAA,WAAO;;GAGP;GAAC,aAAO;GAAR,IAAC,iDAAD;AAAA,IAAyB,aAAO;IAAhC,OAAwB,CAAC;UAAzB;AAAA;;GAAJ,EAAI,OACA;AAAA,IAAQ,aAAe;IAAf;;;KA+FZ,SA/FY;;IAAR,QAAQ;;GAGZ,kBAAiB,aAAS,KAAM;GAChC,EAAG,gBAAc,GAAG;AAAA,IAEhB,SAAS,mBAAc;IACnB,YAAY;IACZ,cAAc;IAElB,cAAc,0BAAqB;UAGnC;AAAA,kBAAc,iBAAY,YAAa;;;EAKxC,cAAQ;EAAR;;GAsFH,UAtFG;;;;;;;;;;;;;;;GA0FH,UA1FG;;;;;;;;;;;;;;;;;;;;;;UAIJ,gBAA8C;AAAA,EAEjD,EAAG,UAAS,MACR;AAAA,UAAO;;EAGX,OAAO,eAAe;;eAIJ,gBAAmD;AAAA,EAErE,SAAS;EAGL,WAAW;EACX,cAAc;EAEd,cAAc;EACd,UAAU;EAGV,eAAe;EACf,aAAkB;EAAlB,aAAkB;EAAlB,AAAkB,kBAAlB;EAEJ,OAAO;;gBAIW,gBAAoD;AAAA,EAEtE,SAAS;EAGL,WAAW;EACX,cAAc;EAEd,aAAa;EACb,WAAW;EAGX,eAAe;EACf,aAAkB;EAAlB,aAAkB;EAAlB,AAAkB,kBAAlB;EAEJ,OAAO;;cAIW,gBAAkD;AAAA,EAEpE,cAAc,CAAC;EACf,mBAAmB,CAAC;EACpB,oBAAoB,CAAC;;iBAIlB,gBAA4E;AAAA,EAE/E,gBAAW;EAEP,aAAO;EAAX,EAAI,gDAA2B;AAAA,GAC3B,cAAc,kBAAa;GAC3B,QAAQ,iBAAY;;EAGxB,OAAO;;kBAGJ,gBAA6E;AAAA,EAEhF,gBAAW;EAEP,aAAO;EAAX,EAAI,gDACA;AAAA,WAAQ,kBAAa;;EAGzB,OAAO;;WAGJ,gBAAsE;AAAA,EAErE,aAAO;EAAX,EAAI,gDACA;AAAA,WAAQ,iBAAY;;EAGpB;eAAO;EAAP,kDAAsB;AAAA,gBAAO;GAAP,mBAAtB;AAAA,UAAsB;UAAtB;AAAA,UAAsB;;SAAtB;AAAA;;EAAJ,EAAI,MACA;AAAA,WAAQ,kBAAa;;EAGrB;eAAO;EAAP,kDAAsB;AAAA,gBAAO;GAAP,mBAAtB;AAAA,WAAsB;UAAtB;AAAA,WAAsB;;SAAtB;AAAA;;EAAJ,EAAI,OACA;AAAA,mBAAW;;EAGf,aAAkB;EAAlB,aAAkB;EAAlB,AAAkB,kBAAlB;EAEA,OAAO;;;;;0CAcG,gBAAqC;AAAA,CAE/C,EAAG,UAAS,MAAM;AAAA;;CAClB,EAAG,eAAc,MAAM;AAAA;;CAEvB,YAAO;CACG,YAAK;CAAL,0BA+CgB,QA/ChB;CAAV,eAAU;CACC,aAAK;CAAL,4BAsDgB,SAtDhB;CAAX,gBAAW;;;;;UAID,WAAwB;AAAA,EAElC,EAAG,iBAAW,QAAQ,iBAAY,MAAM;AAAA,UAAO;;EAE/C,OAAO,kBAAa,iBAAa,sBAAiB;;QAIxC,WAAgB;AAAA,EAC1B,YAAY;EACF;;;;;6BAgCgB,QAhChB;;;;;;;;KAeE,QAfF;KAgBE,SAhBF;;KAkBE,SAlBF;;;;;;;;EAAV,eAAU;EACV,OAAO;;eAGJ,WAAuB;AAAA,EAE1B,EAAG,EAAC,sHAAW;AAAA,UAAO;;EACtB,EAAG,uBAAe,MAAM;AAAA,GAAO,YAAK;GAAL,0BAyBL,QAzBK;;;EAE3B,YAAY;EACZ,YAAY;EACZ,KAAM,UAAS,MAAf;AAAA,GAEI,YAAY,kBAAa,iBAAa;GACtC,EAAG,SAAQ,GAAG;AAAA,IACV,QAAQ;IACR,QAAQ;UACL,EAAG,SAAQ,GACd;AAAA,YAAQ;UACL;AAAA,IACH,eAAU;IACV;;;EAKZ,OAAO;;QAIJ,gBAA0C;AAAA,EAE7C,KAAM,eAAc,MAAM,QAAQ;EAElC,OAAO;;QAIJ,gBAA0C;AAAA,EAE7C,KAAM,gBAAe,MAAM,QAAQ;EAEnC,OAAO;;;;;;;sCAiCJ,yCAA+D;AAAA,CAElE,YAAO;CACP,aAAQ;CAER,WAAM;CACN,aAAQ;CAER,iBAAY;CACZ,aAAQ;;;;;;;;;;;;;;;;;uGAzGE,gBAAqC;AAAA,CAE/C,EAAG,UAAS,MAAM;AAAA;;CAClB,EAAG,eAAc,MAAM;AAAA;;CAEvB,YAAO;CACG,YAAK;CAAL,0BA+CgB,QA/ChB;CAAV,eAAU;CACC,aAAK;CAAL,4BAsDgB,SAtDhB;CAAX,gBAAW;;;;;UAID,WAAwB;AAAA,EAElC,EAAG,iBAAW,QAAQ,iBAAY,MAAM;AAAA,UAAO;;EAE/C,OAAO,kBAAa,iBAAa,sBAAiB;;QAIxC,WAAgB;AAAA,EAC1B,YAAY;EACF;;;;;6BAgCgB,QAhChB;;;;;;;;KAeE,QAfF;KAgBE,SAhBF;;KAkBE,SAlBF;;;;;;;;EAAV,eAAU;EACV,OAAO;;eAGJ,WAAuB;AAAA,EAE1B,EAAG,EAAC,sHAAW;AAAA,UAAO;;EACtB,EAAG,uBAAe,MAAM;AAAA,GAAO,YAAK;GAAL,0BAyBL,QAzBK;;;EAE3B,YAAY;EACZ,YAAY;EACZ,KAAM,UAAS,MAAf;AAAA,GAEI,YAAY,kBAAa,iBAAa;GACtC,EAAG,SAAQ,GAAG;AAAA,IACV,QAAQ;IACR,QAAQ;UACL,EAAG,SAAQ,GACd;AAAA,YAAQ;UACL;AAAA,IACH,eAAU;IACV;;;EAKZ,OAAO;;QAIJ,gBAA0C;AAAA,EAE7C,KAAM,eAAc,MAAM,QAAQ;EAElC,OAAO;;QAIJ,gBAA0C;AAAA,EAE7C,KAAM,gBAAe,MAAM,QAAQ;EAEnC,OAAO;;;;mGAiCJ,yCAA+D;AAAA,CAElE,YAAO;CACP,aAAQ;CAER,WAAM;CACN,aAAQ;CAER,iBAAY;CACZ,aAAQ;;;;;;;+FApvBL,2BAEH;AAAA,gBAAU;;;;;OAOA,WAEV;AAAA,EAAO,YAAW;EAAX;;;;;;SAKG,WAEV;AAAA,SAAO,gBAAW;;UAKR,sBAAoC;AAAA,EAE9C,YAAO,iBAAa,UAAM,KAAM;EAChC,kBAAa;;YAKV,eAGH;AAAA,SAAO,UAAK,SAAS;;QAKlB,eAEH;AAAA,SAAO,eAAW,UAAM;;QAMrB,eAEH;AAAA,SAAO,eAAU,KAAM;;UAMpB,gBAAiC;AAAA,EAEpC,YAAY,iBAAY,UAAK;EAE7B,EAAG,UAAS,MACR;AAAA,UAAO;SAEP;AAAA,UAAO;;;YAMR,WAAwB;AAAA,EAE3B,YAAY,mBAAc;EAE1B,EAAG,UAAS,MACR;AAAA,UAAO;SAEP;AAAA,UAAO;;;WAMT,WAAuB;AAAA,EAEzB,YAAY,kBAAa;EAEzB,EAAG,UAAS,MACR;AAAA,UAAO;SAEP;AAAA,UAAO;;;UAMR,eAAiC;AAAA,EAEhC;EAAC,YAAO;EAAR,IAAC,+CAAD;AAAA,GAAuB,aAAO;GAA9B,MAAsB,CAAC;SAAvB;AAAA;;EAAJ,EAAI,MACA;AAAA,qBAAa;;EAGjB,EAAG,EAAC,cAAS,OACT;AAAA,UAAO;;EAGX,YAAO,iBAAY,UAAM;EAEzB,EAAI,cAAQ,MACR;AAAA,qBAAa;;EAGjB,OAAO;;mBAKJ,WAA2B;AAAA,EAE1B;EAAC,YAAO;EAAR,IAAC,+CAAD;AAAA,GAAuB,aAAO;GAA9B,MAAsB,CAAC;SAAvB;AAAA;;EAAJ,EAAI,MACA;AAAA,qBAAa;;EAGjB,YAAO,0BAAqB;EAE5B,EAAG,cAAQ,MACP;AAAA,qBAAa;;EAGjB,OAAO;;kBAKJ,WAA0B;AAAA,EAGzB;EAAC,YAAO;EAAR,IAAC,+CAAD;AAAA,GAAuB,aAAO;GAA9B,MAAsB,CAAC;SAAvB;AAAA;;EAAJ,EAAI,MACA;AAAA,qBAAa;;EAGjB,YAAO,yBAAoB;EAE3B,EAAG,cAAQ,MACP;AAAA,qBAAa;;EAGjB,OAAO;;SAKJ,eAAmC;AAAA,EAEtC,YAAY,gBAAW,UAAM;EAE7B,EAAG,UAAS,MACR;AAAA,UAAO;;EAGX,OAAO;;QAKJ,eAAkC;AAAA,EAErC,YAAY,eAAW,UAAM;EAE7B,EAAI,UAAS,MACT;AAAA,UAAO;;EAGX,OAAO;;WAKJ,WAA8B;AAAA,EAEjC,QAAiB;EAEjB,mBAAe,UAAM,uDAAc,gBAC/B;AAAA,UAAQ;;EAGZ,OAAO;;QAKJ,WAA2B;AAAA,EAE9B,QAAiB;EAEjB,mBAAe,UAAM,uDAAc,gBAC/B;AAAA,UAAQ;;EAGZ,OAAO;;YAMJ,WAEH;AAAA,SAAO,qGAA6B;;iBAKjC,qCAEH;AAAA,IAAI,UAAS,MAET;AAAA,SAAO;QAEH;IACI,aAAa;IACb,mBAAc,WAAY,QAAS;IACnC,mBAAc,YAAa,QAAS;;QAExC;IACI,mBAAc,WAAY,QAAS;IACnC,aAAa;IACb,mBAAc,YAAa,QAAS;;QAExC;IACI,mBAAc,WAAY,QAAS;IACnC,mBAAc,YAAa,QAAS;IACpC,aAAa;;;;;aAW7B,WAEI;AAAA,SAAO,aAAQ;;cAKnB,gBAAmD;AAAA,EAE/C,EAAI,UAAS,MACT;AAAA,UAAO;;EAGX,eAAe,SACE,gBAAW,YACX,gBAAW;EAG5B,OAAO,IAAI,CAAS,WAAT;;cAKR,gBAEI;AAAA,cAAS,MAAO;AAAA;SAAI;AAAA;;;eAK/B,4BAA4F;AAAA,EAExF,EAAG,UAAS,MAER;AAAA,UAAO,iGAAyB,KAAM,OAAQ,EAAG;;EAIjD,iBAAiB,aAAQ,KAAM;EAE/B,EAAG,cAAa,GAEZ;AAAA,gBAAa,iBAAY,WAAY,KAAM;SAExC,EAAG,cAAa,GAEnB;AAAA,iBAAc,iBAAY,YAAa,KAAM;SAI7C;AAAA,iBAAc;;EAIf;eAAO;EAAP;GAAwB,aAAO;GAA/B,MAAuB,CAAC;SAAxB;AAAA;;EAAH,EAAG,MACC;AAAA,WAAQ,iBAAY;;EAGrB;eAAO;EAAP,kDAAsB;AAAA,gBAAO;GAAP,mBAAtB;AAAA,WAAsB;UAAtB;AAAA,WAAsB;;SAAtB;AAAA;;EAAH,EAAG,OACC;AAAA,WAAQ,kBAAa;;EAGtB;eAAO;EAAP,kDAAsB;AAAA,gBAAO;GAAP,mBAAtB;AAAA,WAAsB;UAAtB;AAAA,WAAsB;;SAAtB;AAAA;;EAAH,EAAG,OACC;AAAA,mBAAW;;EAGf,aAAkB;EAAlB,aAAkB;EAAlB,AAAkB,kBAAlB;EAEJ,OAAO;;qBAKJ,gBAAyD;AAAA,EAE1C,aAAW;EAAc,aAAW;EAAtD,kBAAkB,0CAAyB,0CAA0B;EAErE,OAAO;;aAKX,qBAA6D;AAAA,EAEzD,EAAG,UAAS,MACR;AAAA,UAAO;;EAGX,iBAAiB,aAAS,KAAM;EAEhC,EAAG,cAAa,GACZ;AAAA,UAAO,eAAU,WAAY;SAC1B,EAAG,cAAa,GACnB;AAAA,UAAO,eAAU,YAAa;SAE9B;AAAA,UAAO;;;aAMf,qBAA+D;AAAA,EAE3D,EAAG,UAAS,MACR;AAAA,UAAO;;EAGX,iBAAiB,aAAQ,KAAM;EAE/B,EAAG,cAAa,GACZ;AAAA,UAAO,eAAU,KAAM;SACpB,EAAG,cAAa,GACnB;AAAA,GAAW,aAAW;GAAtB,OAAO,IAAI,0CAAyB,eAAW,KAAM;SAErD;AAAA,GAAO,aAAW;GAAX;;;;;;;eAMf,sBAAqF;AAAA,EAEjF,EAAG,UAAS,MACR;AAAA,UAAO;;EAGF,aAAW;EAApB,SAAS;EAET,EAAG,MAAK,OACJ;AAAA,UAAO,iBAAY,WAAY;SAC5B,EAAG,MAAK,OACX;AAAA,UAAO,iBAAY,YAAa,QAAQ,KAAK;SAE7C;AAAA,UAAO;;;iBAMf,gBAA4E;AAAA,EAExE,EAAG,eAAc,MACb;AAAA,UAAO;;EAGX,OAAO,mBAAe;;gBAK1B,gBAEI;AAAA,IAAI,gBAAe,MACf;AAAA,UAAO;SAEP;AAAA,UAAO,kBAAa;;;cAM5B,qBAAgF;AAAA,EAE5E,EAAG,UAAS,MACR;AAAA,UAAO;;EAGX,iBAAiB,aAAQ,KAAM;EAE/B,EAAG,eAAc,GACb;AAAA,UAAO;SACJ,EAAG,cAAa,GACnB;AAAA,UAAO,gBAAW,WAAY;;EAGlC,SAAS,gBAAW,YAAa;EAEjC,EAAG,OAAM,MACL;AAAA,UAAO;SAEP;AAAA,UAAO;;;aAMf,qBAAiF;AAAA,EAE7E,EAAI,UAAS,MACT;AAAA,UAAO;;EAGX,iBAAiB,aAAQ,KAAM;EAE/B,EAAG,eAAc,GAEb;AAAA,UAAO;SAEJ,EAAG,cAAa,GAAG;AAAA,GAEtB,SAAS,eAAU,WAAY;GAE/B,EAAI,OAAM,MACN;AAAA,WAAO;UAEP;AAAA,WAAO;;;EAKf,OAAO,eAAU,YAAa;;wBAKlC,gBAAmF;AAAA,EAE/E,EAAG,eAAc,MACb;AAAA,UAAO;;EAGP;EAAC,aAAO;EAAR,IAAC,iDAAD;AAAA,GAAwB,aAAO;GAA/B,MAAuB,CAAC;SAAxB;AAAA;;EAAJ,EAAI,MACA;AAAA,GAAQ,aAAe;GAAf;;;;IA8IR,SA9IQ;;GAAR,QAAQ;;EAGZ,aAAa,0BAAqB;EAClC,aAAkB;EAAlB,aAAkB;EAAlB,AAAkB,kBAAlB;EAEO,aAAQ;EAAR;;GA4JH,SA5JG;;;;;;;;;;;;;;;GAgKH,SAhKG;;;;;;;;;;;;;;;;;;;;;;uBAKX,gBAAkF;AAAA,EAE1E,aAAO;EAAX,EAAI,gDACA;AAAA,WAAQ,kBAAa;;EAGzB,EAAI,gBAAe,MACf;AAAA,UAAO;;EAGP;EAAC,aAAO;EAAR,IAAC,iDAAD;AAAA,GAAyB,aAAO;GAAhC,MAAwB,CAAC;SAAzB;AAAA;;EAAJ,EAAI,MACA;AAAA,GAAQ,aAAe;GAAf;;;IAmIR,SAnIQ;;GAAR,QAAQ;;EAGZ,cAAc,yBAAoB;EAClC,aAAkB;EAAlB,aAAkB;EAAlB,AAAkB,kBAAlB;EAEO,aAAQ;EAAR;;GAsIH,SAtIG;;;;;;;;;;;;;;;GA0IH,SA1IG;;;;;;;;;;;;;;;;;;;;;;eAKX,qBAAkF;AAAA,EAE9E,iBAAiB,aAAS,KAAM;EAEhC,EAAI,cAAa,GAAK;AAAA,GAEd;GAAC,aAAO;GAAR,IAAC,iDAAD;AAAA,IAAwB,aAAO;IAA/B,MAAuB,CAAC;UAAxB;AAAA;;GAAJ,EAAI,MACA;AAAA,IAAQ,aAAc;IAAd;;;;KAsGZ,SAtGY;;IAAR,QAAQ;;GAGZ,aAAa,iBAAY,WAAY;SAElC;AAAA,GAEC,aAAO;GAAX,EAAI,gDACA;AAAA,YAAQ,kBAAa;;GAGzB,kBAAiB,aAAS,KAAM;GAEhC,EAAI,CAAC,eAAc,KAAM,AAAC,eAAe,MACrC;AAAA,WAAO;;GAGP;GAAC,aAAO;GAAR,IAAC,iDAAD;AAAA,IAAyB,aAAO;IAAhC,OAAwB,CAAC;UAAzB;AAAA;;GAAJ,EAAI,OACA;AAAA,IAAQ,aAAe;IAAf;;;KA+FZ,SA/FY;;IAAR,QAAQ;;GAGZ,kBAAiB,aAAS,KAAM;GAChC,EAAG,gBAAc,GAAG;AAAA,IAEhB,SAAS,mBAAc;IACnB,YAAY;IACZ,cAAc;IAElB,cAAc,0BAAqB;UAGnC;AAAA,kBAAc,iBAAY,YAAa;;;EAKxC,cAAQ;EAAR;;GAsFH,UAtFG;;;;;;;;;;;;;;;GA0FH,UA1FG;;;;;;;;;;;;;;;;;;;;;;UAIJ,gBAA8C;AAAA,EAEjD,EAAG,UAAS,MACR;AAAA,UAAO;;EAGX,OAAO,eAAe;;eAIJ,gBAAmD;AAAA,EAErE,SAAS;EAGL,WAAW;EACX,cAAc;EAEd,cAAc;EACd,UAAU;EAGV,eAAe;EACf,aAAkB;EAAlB,aAAkB;EAAlB,AAAkB,kBAAlB;EAEJ,OAAO;;gBAIW,gBAAoD;AAAA,EAEtE,SAAS;EAGL,WAAW;EACX,cAAc;EAEd,aAAa;EACb,WAAW;EAGX,eAAe;EACf,aAAkB;EAAlB,aAAkB;EAAlB,AAAkB,kBAAlB;EAEJ,OAAO;;cAIW,gBAAkD;AAAA,EAEpE,cAAc,CAAC;EACf,mBAAmB,CAAC;EACpB,oBAAoB,CAAC;;iBAIlB,gBAA4E;AAAA,EAE/E,gBAAW;EAEP,aAAO;EAAX,EAAI,gDAA2B;AAAA,GAC3B,cAAc,kBAAa;GAC3B,QAAQ,iBAAY;;EAGxB,OAAO;;kBAGJ,gBAA6E;AAAA,EAEhF,gBAAW;EAEP,aAAO;EAAX,EAAI,gDACA;AAAA,WAAQ,kBAAa;;EAGzB,OAAO;;WAGJ,gBAAsE;AAAA,EAErE,aAAO;EAAX,EAAI,gDACA;AAAA,WAAQ,iBAAY;;EAGpB;eAAO;EAAP,kDAAsB;AAAA,gBAAO;GAAP,mBAAtB;AAAA,UAAsB;UAAtB;AAAA,UAAsB;;SAAtB;AAAA;;EAAJ,EAAI,MACA;AAAA,WAAQ,kBAAa;;EAGrB;eAAO;EAAP,kDAAsB;AAAA,gBAAO;GAAP,mBAAtB;AAAA,WAAsB;UAAtB;AAAA,WAAsB;;SAAtB;AAAA;;EAAJ,EAAI,OACA;AAAA,mBAAW;;EAGf,aAAkB;EAAlB,aAAkB;EAAlB,AAAkB,kBAAlB;EAEA,OAAO;;;;;yCCroBG,eALlB;AAAA,CAGsB,AAHtB,aAGsB;CAGd,WAAM;;;;;UACI,WACV;AAAA,SAAO,aAAQ;;QACL,WACH;AAAA,0BAAS,eAAU;;;;iCAahB,eARlB;AAAA,CAGc,AAHd,WAGc;CAMP,aAAQ;CACR,WAAM;;;;;;MAGK,oBAA6B;AAAA,EACvC,EAAI,EAAC,gBAAW,MAAM;AAAA,mBAAW;;EACjC,aAAI,IAAO;;YAGD,WAAoB;AAAA,EAC9B,WAAW;EAAI,WAAW;EAAG,WAAW;EACxC;YAAS;EAAT,WAAS,YAAT;AAAA,GAAI,QAAJ,AAAS,IAAT;;GAAgB,QAAS,KAAC,gBAAC,SAAM,wBAAQ,MAAK,CAAC,SAAO,OAAK,IAAE,OAAK;;EAClE,OAAQ,MAAE,OAAI;;YAGJ,WAA6B;AAAA,SAAO,uCAA4B;;UAChE,cAAoC;AAAA,qBAAW,MAAQ;AAAA,wCAAa;SAAhC;AAAA;;;UACpC,cAAoC;AAAA,yBAAW;;OAC/C,cAAoC;AAAA,sBAAQ;;QAC5C,WAAoC;AAAA;;;;kEAtCpC,eALlB;AAAA,CAGsB,AAHtB,aAGsB;CAGd,WAAM;;;;;UACI,WACV;AAAA,SAAO,aAAQ;;QACL,WACH;AAAA,0BAAS,eAAU;;;;0DAahB,eARlB;AAAA,CAGc,AAHd,WAGc;CAMP,aAAQ;CACR,WAAM;;;;;;MAGK,oBAA6B;AAAA,EACvC,EAAI,EAAC,gBAAW,MAAM;AAAA,mBAAW;;EACjC,aAAI,IAAO;;YAGD,WAAoB;AAAA,EAC9B,WAAW;EAAI,WAAW;EAAG,WAAW;EACxC;YAAS;EAAT,WAAS,YAAT;AAAA,GAAI,QAAJ,AAAS,IAAT;;GAAgB,QAAS,KAAC,gCAAC,SAAM,wBAAQ,MAAK,CAAC,SAAO,OAAK,IAAE,OAAK;;EAClE,OAAQ,MAAE,OAAI;;YAGJ,WAA6B;AAAA,SAAO,gEAA4B;;UAChE,cAAoC;AAAA,qBAAW,MAAQ;AAAA,wCAAa;SAAhC;AAAA;;;UACpC,cAAoC;AAAA,yBAAW;;OAC/C,cAAoC;AAAA,sBAAQ;;QAC5C,WAAoC;AAAA;;;;;;;;;;2CCpB3C,qCAzBX;AAAA,CA0LmC,AA1LnC,kBA0LmC;CA/J3B,oBAAe;CACf,cAAS;CACT,gBAAW;CACX,eAAU;CACV,gBAAW;CACX,sBAAiB;CACjB,iBAAY;CACZ,eAAU;CAEV,cAAc;CACd,kBAAkB;CAClB,gBAAgB;CAEhB,aAAQ;;;;;;QAKL,WAEH;AAAA;YAAU,eAAgB;EAA1B,WAAU,YAAV;AAAA,GAAK,QAAL,AAAU,IAAV;;GAEI,EAA4B,sCAAkB,YAAQ,IAElD;AAAA,IAAkB,YAAQ,KAAG,cAAe,gBAAY;UAIxD;AAAA,wBAAqB,YAAQ,EAAG,cAAe,gBAAY;;;;eAchE,gBAA0D;AAAA,EAE7D,EAAI,UAAS,MAET;AAAA,WAAQ;;EAIZ,oBAAe;EAEf,OAAO;;cAKJ,wBAA2E;AAAA,EAE9E,EAAI,WAAU,MAEV;AAAA,YAAS;;EAsBb,OAAO,AAA4B,aAAR,OAAgB;;UAK/C,WAEI;AAAA,IAAI,mBAAa,MAEb;AAAA,gBAAY;GAAZ,aAAuB;GAAvB;IA/BA,SA+BA;;;;;YAOR;AAAA;;;EAEI,EAAI,YAAW;AAAA,GAEX;GAEA,EAAI,qBAAe,MAEf;AAAA,iBAAY;IAAZ,aAAyB;IAAzB;KA9CJ,SA8CI;;;;;EAMR,0BAAgB;;SAUb,mBAAiD;AAAA,EAEpD,cAAS;EAET,OAAO;;QAUJ,iBAAgD;AAAA,EAEnD,aAAQ;EAER,OAAO;;QAKJ,WAAsB;AAAA;aActB;AAAA;;;EACH,kBAAa;EACb,OAAO;;cASJ,6BAA0F;AAAA,EAE7F,mBAAc;EAEd,EAAI,eAAc,MAEd;AAAA,4BAAoB;SAIpB;AAAA,4BAAoB;;EAIxB,EAAI,kBAAY,GAEZ;AAAA;;EAIJ,OAAO;;YAWJ,6BAAwF;AAAA,EAE3F,iBAAY;EAEZ,EAAI,eAAc,MAEd;AAAA,0BAAkB;SAIlB;AAAA,0BAAkB;;EAItB,OAAO;;YAWJ,6BAAwF;AAAA,EAE3F,iBAAY;EAEZ,EAAI,eAAc,MAEd;AAAA,0BAAkB;SAIlB;AAAA,0BAAkB;;EAItB,OAAO;;SAKJ,WAAuB;AAAA;WAYvB,gBAAsD;AAAA,EAEzD,EAAI,UAAS,MAET;AAAA,WAAQ;;EAIZ,gBAAW;EACX,eAAU;EAEV,OAAO;;UAUJ,gBAAoD;AAAA,EAEvD,EAAI,UAAS,MAET;AAAA,WAAQ;;EAIZ,eAAU;EAEV,OAAO;;UAKJ,WAAwB;AAAA;WAYxB,gBAAsD;AAAA,EAEzD,EAAI,UAAS,MAET;AAAA,WAAQ;;EAIZ,gBAAW;EACX,eAAU;EAEV,OAAO;;iBAUJ,gBAA4D;AAAA,EAE/D,EAAI,UAAS,MAET;AAAA,WAAQ;;EAIZ,sBAAiB;EACjB,eAAU;EAEV,OAAO;;YAUJ,gBAAuD;AAAA,EAE1D,EAAI,UAAS,MAET;AAAA,WAAQ;;EAIZ,iBAAY;EACZ,eAAU;EAEV,OAAO;;QAKJ,wCAAuE;AAAA;;;0CC3WvE,qCAzBX;AAAA,CAuB0C,AAvB1C,gCAuB0C;CAIlC,cAAS;CACT,uBAAkB;CAClB,kBAAa;CACb,cAAS;CACT,oBAAe;CACf,mBAAc;CACd,kBAAa;CACb,qBAAgB;CAEJ;CAAZ,iBAAY;CAEZ,+CAAO,OAAQ,SAAU;CAEzB,EAAI,EAAC,gDAAY;AAAA,EAEb,iDAAa;EACb,QAAQ,EAAmB;;;;;yDAyY5B,YAAsC;AAAA,CAEzC,oDAAgB;CACD;CAAf,mDAAe;CAEf,kBAAkB;CAElB;CAEA,QAAY;CACZ,cAAc;CAEd,UAAU;CAAV,SAAc;CAAd;;EAEI,WAAW,8CAAU;EAErB,EAAI,aAAY,QAAQ,iBAAiB;AAAA,GAEvB,wBAAsB;AAAA,IAApC,cAAoC;UAAe;AAAA,IAAnD,cAAmD;;GAEnD,EAAG,wBAAuB,CAAC,mCAAmC;AAAA,IAC1D,oCAAoC;IACpC,qBAAqB;IACrB,sBAAsB;;GAG1B,EAAG,eAAc,qBACb;AAAA,oBAAiB;;GAGrB;SAEG;AAAA,GAEH,qDAAkB,EAAG;GACrB,EAAE;;;;;;cAlaE,gBAA0D;AAAA,EAEtE,EAAI,UAAS,MAET;AAAA,WAAQ;;EAIZ,oBAAe;EAEf,EAAI,EAAC,OAAO;AAAA,GAER,qBAAgB;GAEhB,EAAI,kBAEA;AAAA,iBAAU;IAAV,aAA6B;IAA7B,+CAAkB,YAAlB;AAAA,YAAkB,aAAlB;;gCAAkB,UAAlB;;;;EAMR,OAAO;;SAQK,mBAAiD;AAAA,EAE7D,cAAS;EACT,kBAAa,iBAAY;EAEzB,OAAO;;YAKJ,8BAAgE;AAAA,EAGnE,YAAY;EAEZ,EAAI,sCAAkB,OAAQ,eAE1B;AAAA,WAAQ,cAAe,OAAQ;SAI/B;AAAA,WAAQ,oBAAqB,OAAQ;;EAIzC,OAAO;;cAKX,WAA4B;AAAA,EAExB;EACA;EAEA;YAAU,eAAgB;EAA1B,WAAU,YAAV;AAAA,GAAK,QAAL,AAAU,IAAV;;GAEI,cAAc;GAEd,EAAK,sCAAkB,YAAQ,MACZ,CAAC,CAAC,8BAAiC,CAAC,2BAAsB,SAAS,KAGlF;AAAA,YAAQ,cAAe,YAAQ;UAE5B;AAAA,IAEH,UAAU;IACV,QAAQ,oBAAqB,YAAQ;;GAKzC,EAAI,QAAQ,UAAR,UAAuB;AAAA,IAEQ;IAAkB,aAAU;IAAV;mDAAsB,IAAtB;AAAA,KAtCrD,QAsCqD,qBAAsB;WAAtB;AAAA,KAlCrD,QAkCqD,2BAAsB;;IAAvE,UAAU,yCAAqB,SAAQ,EAAG,MAAO,QAA2B,MAAO;IACvF,0BAAsB;;;EAM1B,qBAAgB;EAChB,mBAAc;;QAKF,WAAsB;AAAA,EAElC,qBAAgB,AAAC,qCAAkB,gBAAY,YAAY,qCAAkB,gBAAY;EAErF;2BAAiB,yBAAoB,GAArC;AAAA,GAA2C,aAAU;GAAV;kDAAkB,YAAlB;AAAA,IAvD3C,QAuD2C,qBAAkB;UAAlB;AAAA,IAnD3C,QAmD2C,2BAAkB;;GAA7D,MAA0C,CAAC;SAA3C;AAAA;;EAAJ,EAAI,MAAyE;AAAA,GAEzE,kBAAa;GACE,cAAU;GAAV;mDAAkB,YAAlB;AAAA,IA1Df,SA0De,sBAAkB;UAAlB;AAAA,IAtDf,SAsDe,4BAAkB;;GAAjC,oBAAe;GACf,cAAU;GAAV,gDAAkB,YAAlB;AAAA,YAAkB,aAAW;UAA7B;AAAA,gCAAkB,UAAW;;;EAIjC,kBAAa;EACb,mDAAgB;EAChB,EAAE;;YAQU,6BAAwF;AAAA,EAEpG,iBAAY;EAEZ,EAAI,eAAc,MAEd;AAAA,0BAAkB;SAItB;AAAA,0BAAkB;;EAIlB,kBAAa;EAEb,OAAO;;SAKK,WAAuB;AAAA,EAEnC,cAAS;EAET,iBAAY,kBAAa,mDAAe;;UAK5B,WAEZ;AAAA,IAAI,cAAQ;AAAA,GAER,cAAS;GAET,mBAAc,AAAE,CAAC,kBAAa,mDAAe,oDAAgB;;;YAQ9D,oCAEH;AAAA,IAAI,sCAAkB,OAAQ,eAE1B;AAAA,GAAkB,OAAQ,gBAAc;SAIxC;AAAA,uBAAqB,OAAQ,aAAc;;;eAO5C,wBAEH;AAAA,IAAI,kBAEA;AAAA,uBAAqB,eAAgB,qBAAsB;SAI3D;AAAA,uBAAqB,eAAgB,qBAAsB;;;QAOnD,wCAEZ;AAAA,IAAI,cAAQ;AAAA,GAER,EAAI,eAAc,MAAM;AAAA,IAEpB,cAAS;IAET,EAAI,WAEA;AAAA;;IAIJ,cAAe;IACf;;GAIJ;aAAU,eAAgB;GAA1B,WAAU,YAAV;AAAA,IAAK,QAAL,AAAU,IAAV;;IAEI,EAAI,sCAAkB,gBAAiB,IAAI;AAAA,KAEvC,cAAS;KAET,EAAI,WAEA;AAAA;;KAIJ,cAAe;KACf;;;;;UAUhB,sBAGI;AAAA,IAAI,EAAC,aAAQ;AAAA,GAET;GACA;GACA;GAEA,oBAA0B,CAAC,cAAc,mBAAc;GAEvD,EAAI,iBAAgB,GAEhB;AAAA,oBAAgB;;GAIpB,EAAI,EAAC,kBAED;AAAA;;GAIJ,EAAI,EAAC,cAAS;AAAA,IAEV,SAAS,qBAAiB;IAE1B,UAAU;IAAV,SAAc;IAAd;;KAEI,UAAU,qBAAgB;KAC1B,YAAsB,gBAAgB,AAAC,iBAAiB;KAAxD,GAAa,iBAAb;AAAA,0BAAa,eAAb,AAAa,qBAAb;;0BAAa,eAAb,AAAa,qBAAb;;;UAID;AAAA,IAEH,EAAI,EAAC,eAED;AAAA,cAAS,qBAAiB;WAI1B;AAAA,cAAS,qBAAiB,IAAI;;IAIlC;IAEA,WAAU;IAAV,UAAc;IAAd;;KAEI,UAAU,qBAAgB;KAE1B,EAAI,wBAAkB,CAAC,wBAAwB,cAAc,wBAAwB,eAAe,wBAAwB,eAAe,wBAAwB,cAAc;AAAA,MAE7K,eAAqB,iBAAiB;MAEtC,EAAI,YAAW,KAEX;AAAA,mBAAY;aAET,EAAI,YAAW,MAElB;AAAA,mBAAY;;MAIhB,WAAW,gBAAgB,WAAW;YAItC;AAAA,iBAAW,gBAAgB,AAAC,iBAAiB;;KAIjD,EAAI,EAAC,gBAED;AAAA,SAAa,iBAAb;AAAA,2BAAa,eAAb,AAAa,qBAAS;aAAtB;AAAA,2BAAa,eAAb,AAAa,qBAAS;;YAItB;AAAA,mBAAsB,WAAY;MAAlC,GAAa,iBAAb;AAAA,2BAAa,eAAb,AAAa,qBAAb;;2BAAa,eAAb,AAAa,qBAAb;;;;;GAQZ,EAAI,kBAAiB,GAEjB;AAAA,MAAI,iBAAW,GAAG;AAAA,KAEd,cAAS;KAEL;;MAAiB,aAAU;MAAV;qDAAkB,UAAlB;AAAA,OA3R7B,SA2R6B,qBAAkB;aAAlB;AAAA,OAvR7B,SAuR6B,2BAAkB;;MAAnC,MAAiB,UAA8B;YAA/C;AAAA;;KAAJ,EAAI,MAEA;AAAA,oBAAU;MAAV,gDAAkB,YAAlB;AAAA,eAAkB,aAAW;aAA7B;AAAA,mCAAkB,UAAW;;;KAIjC,cAAU;KACV;WAEG;AAAA,KAEH,EAAI,mBAAa,MAEb;AAAA,mBAAY;MAAZ,aAAuB;MAAvB;ODvTZ,SCuTY;;;;KAIJ,EAAI,gBAEA;AAAA,sBAAW,CAAC;;KAIhB,iBAAY;KACZ,kBAAa,iBAAY;KAEzB,EAAI,gBAAU,GAEV;AAAA;;;;GAQZ,EAAI,kBAEA;AAAA;;;;;;;;;;oCCpaL,WAEH;AAAA,QAAO;;uCAKJ,WAEH;AAAA,QAAO;;qCAKJ,WAEH;AAAA,QAAO;;;;;;;;oCAuEJ,WAAgB;AAAA;;;;;YAOhB,YAEH;AAAA,SAAO,CAAC,IAAI,CAAC,IAAI;;QAKd,kBAEH;AAAA,SAAO,CAAC,IAAI,CAAC,KAAK,KAAK,CAAC,IAAI,KAAK;;;;;;;2BC5FvB,2CAAoH;AAAA,CAE9H,wBAAM,OAAQ;CAEd,EAAI,mBAAkB,MAElB;AAAA,mBAAiB;;CAIrB,eAAe,oBAAqB,eAAgB,CAAE,OAAQ,EAAG;CACjE;CAEA,OAAO;;gCAKJ;AAAA;;;CAEH,EAAI,CAAC,8CAAwB,kBAAxB,QAAmC,eAEpC;AAAA,yCAAqB,OAAQ;;CAI1B,4CAAqB;;gCAalB;AAAA;;;CAEV,OAAO,yBAAO,OAAQ,SAAU,WAAY,UAAW;;2BAU7C,iBAEV;AAAA,GAAI,sBAAQ,OAAQ,uCAEhB;AAAA,kBAAM;QAEH;AAAA,EAEH,cAAsC,8BAAY,OAAQ;EAE1D,EAAI,YAAW,MAEf;AAAA;cAAiB,gBAAjB;AAAA,IAAK,eAAL,AAAiB,QAAjB;;IAEI;;;;;8BAWE,WAEV;AAAA,CAAgB;;EAAhB,eAAgB;EAEZ;aAAiB,iBAAjB;AAAA,GAAK,eAAL,AAAiB,SAAjB;;GAEI;;;;2BAYE,WAAuB;AAAA,CAEjB;;EAAhB,eAAgB;EAEZ,QAAQ,kBAAiB;EACzB,KAAO,MAAK,GAAZ;AAAA,GACI,SAAQ,QAAS,KAAM,MAAO;GAC9B;;;CAKR,qCAAkB;;4BASR,iBAEV;AAAA,GAAI,sBAAQ,OAAQ,uCAEhB;AAAA,kBAAM;QAEH;AAAA,EAEH,cAAsC,8BAAY,OAAQ;EAE1D,EAAI,YAAW,MAEf;AAAA;cAAiB,gBAAjB;AAAA,IAAK,eAAL,AAAiB,QAAjB;;IAEI;;;;;+BAWE,WAEV;AAAA,CAAgB;;EAAhB,eAAgB;EAEZ;aAAiB,iBAAjB;AAAA,GAAK,eAAL,AAAiB,SAAjB;;GAEI;;;;0BAgBE;AAAA;;;;;;CAEV,EAAI,WAAU,MAEV;AAAA,IAAI,sBAAQ,OAAQ,uCAEhB;AAAA,mBAAM,qDAA+B,KAAM,SAAU;SAElD;AAAA,GAEH,cAAsC,8BAAY,OAAQ;GAE1D,EAAI,YAAW,MAAM;AAAA,IAErB,EAAI,QAAQ,eAAR,UAA6B;AAAA,KAE7B,WAAW;KACX,AAAkB,KAAM,cAAY;KACpC,aAAa;WAEV,EAAI,EAAQ,sBAAY,UAApB,AAAQ,uBAAR,MAA4B;AAAA,KAEnC,YAAW;KAEX;eAAiB,eAAM;KAAvB,WAAiB,YAAjB;AAAA,MAAK,eAAL,AAAiB,IAAjB;;MAEI,AAAkB,MAAM,YAAU;;KAItC,aAAa;;IAIjB,QAAQ,iBAAiB;IACzB,KAAO,MAAK,GAAZ;AAAA,KACI,QAAQ,QAAS,WAAY,SAAU;KACvC;;;;;;2BAmBF,kCAEV;AAAA,QAAO,yBAAO,oCAAgB,GAAI,SAAU,oCAAgB,GAAI,MAAO;;2BAgB7D;AAAA;;;CAEV,EAAI,WAAU,MAEV;AAAA,IAAI,YAAW,GAAG;AAAA,GAEd,EAAI,mBAAkB,MAElB;AAAA,qBAAiB;;GAIrB,eAAe,oBAAqB,eAAgB,CAAE,OAAQ,SAAU;GACxE,cAAc,8BAAY;GAE1B,EAAI,YAAW;AAAA,IAEX,QAAQ,iBAAiB;IAEzB,KAAO,MAAK,GAAZ;AAAA,KACI,QAAQ,QAAS,oBAAqB,MAAO;KAC7C;;IAGJ,UAAU,8BAAY;;GAI1B,aAAc;GACd;GAeA,OAAO;SAIP;AAAA,UAAO,yBAAO,OAAQ,WAAY;;;CAM1C,OAAO;;4BAKG,mBAAgD;AAAA,CAE1D,aAAa;CAEb,EAAI,+CAAwB,kBAAxB,MAAiC;AAAA,EAEjC,wDAAqB,eAAgB;EAErC,EAAI,sCAAqB,yBAAkB,GAEvC;AAAA,6CAAwB;;;;4BAmBtB;AAAA;;;CAEV,iBAAyB,UAAS,aAAY;CAE9C,OAAO,yBAAO,OAAQ,SAAU,WAAY,UAAW;;sCAgBpD,mBAEH;AAAA,iBAAgB;;;;;;;4BCpWb,WAAgB;AAAA,CAEnB,UAAK;CACL,UAAK;CAEL,iBAAY;;;;;SAcT;AAAA;;;EAEH,gBAAY,0BAAgB,EAAG,SAAU;EACzC,gBAAY,0BAAgB,EAAG,SAAU;EAEzC,OAAO;;QAYJ;AAAA;;;EAEH,gBAAY,0BAAgB,EAAG;EAC/B,gBAAY,0BAAgB,EAAG;EAE/B,OAAO;;gBAYX,WAAsC;AAAA,EAElC,EAAI,mBAAa,MAEb;AAAA,oBAAY,4BAAkB,QAAI;;EAItC,OAAO;;SAKX,WAEI;AAAA,SAAO;;SAKX,WAEI;AAAA,SAAO;;;;;;;;;;;;+BAkBJ,WAAgB;AAAA,CAEnB,aAAQ;CACR,aAAQ;CACR,qBAAgB;;;;;;UAKb,eAAwC;AAAA,EAE3C,gBAAY;EACZ,sBAAiB;;aAKd,YAAmC;AAAA,EAEtC,EAAI,sBAAgB,GAEhB;AAAA,UAAO,WAAM,aAAc,WAAO;SAE/B;AAAA,GAEH,YAAY,IAAI;GAChB,cAAc;GAEd;aAAa;GAAb,WAAa,YAAb;AAAA,IAAK,WAAL,AAAa,IAAb;;IAEI,EAAI,SAAQ,eAAe;AAAA,KAEvB,SAAS;KACT,UAAU;WAIV;AAAA,YAAO,eAAgB,QAAS,QAAQ;;;;EAQpD,OAAO;;WAWX,WAEI;AAAA,IAAI,qBAAe,GAAG;AAAA,GAElB,WAAW,WAAM,oBAAe;GAChC,OAAO;SAIP;AAAA,UAAO;;;;;;4BA8BR,+BAAwD;AAAA,CAE3D,WAAW;CACX,eAAe;CACf,gBAAgB;;;;;YAKb,kBAEH;AAAA,SAAO,CAAC,IAAI,KAAK,CAAC,IAAI,KAAK,QAAQ,IAAI,CAAC,IAAI,KAAK,IAAI,eAAU,IAAI,IAAI;;;;4BAWpE,uBAEH;AAAA,iCAAO,IAAK,EAAG;;;;;;YAKH,kBAEZ;AAAA,SAAO,QAAQ,IAAI,CAAC,WAAM;;;;8BAoBvB,cAZX;AAAA,CAOe,AAPf,YAOe;CAOP,UAAK;CACL,UAAK;CAEL,cAAS;CAET,aAAQ,eAAW;;;;;;YAKhB,YAAmC;AAAA,EAEtC,SAAS,kBAAc,KAAK,kBAAc,IAAI;EAC9C,SAAS,kBAAc,KAAK,kBAAc,IAAI;EAE9C,YAAY,WAAW,GAAI,MAAM,CAAC,MAAM;EACxC,QAAQ,CAAC,QAAQ,eAAU;EAE3B,OAAO;;WAYJ,WAEH;AAAA,SAAO,eAAW;;;;;0CCtRf,qCAAkE;AAAA,CAErE,yBAAoB;CACpB,uBAAkB;CAElB,8CAAO,OAAQ,SAAU;CAEzB,EAAI,EAAC,qCAAkB,WAAY,UAE/B;AAAA,0BAAwB;;CAI5B,EAAI,EAAC,qCAAkB,WAAY,QAE/B;AAAA,wBAAsB;;CAI1B,UAAU;CAAV,SAAc;CAAd;;EAEI,4BAAwB;;;;;;;QAOhB,WAEZ;AAAA,eAAY;EAAZ,aAAoB;EAApB;GL0DI,SK1DJ;;;;YAKK;AAAA;;;EAEL,UAAU;EAAV,SAAc;EAAd;;GAEI,uBAAkB,KAAK,cAAe,qBAAiB,UAAU;;EAIrE,aAAY;EAAZ,aAAoB;EAApB;GL6CI,SK7CJ;;;EAEA,iEAAgB;;cAKX,WAA4B;AAAA,EAEjC;EACA;EACA;EAEA,UAAU;EAAV,SAAc;EAAd;;GAEI,eAAe,UAAU;GACzB,QAAQ,sBAAiB;GAEzB,AAAkB,qBAAiB,gBAAc;GAEjD,EAAI,QAAQ,UAAR,YAAyB,OAAQ,UAAR,cAAQ,QAAR,OAAQ,QAAa;AAAA,IAE9C,UAAU,yCAAqB,qBAAiB,aAAc,MAAO,oBAAe,KAAK;IACzF,0BAAsB;;;EAM9B,qBAAgB;EAChB,mBAAc;;UAKT,sBAAyC;AAAA,EAE9C,+DAAc;EAEd,EAAI,cAAQ;AAAA,GAER,UAAU;GAAV,SAAc;GAAd;;IAEI,uBAAkB,KAAK,cAAe,qBAAiB,UAAU;;GAIrE,aAAY;GAAZ,aAAoB;GAApB;ILFA,SKEA;;;;;;;8CC5FD,qCAEH;AAAA,+CAAO,OAAQ,SAAU;;;;;;QAKb,WAEZ;AAAA;YAAqB,eAAgB;EAArC,WAAqB,YAArB;AAAA,GAAK,mBAAL,AAAqB,IAArB;;GAEI,EAA4B,sCAAkB,YAAQ,eAElD;AAAA,IAAkB,YAAQ,gBAA1B,AAAwC,gBAAM,cAAe,gBAAY;UAIzE;AAAA,wBAAqB,YAAQ,aAAc,gBAAM,cAAe,gBAAY;;;;cAS/E,WAA4B;AAAA,EAEjC;EACA;EAEA;YAAqB,eAAgB;EAArC,WAAqB,YAArB;AAAA,GAAK,mBAAL,AAAqB,IAArB;;GAEI,OAAO,eAAM,cAAe,gBAAY;GAExC,EAAI,SAAQ,MAAM;AAAA,IAEd,cAAc;IAEd,EAA4B,sCAAkB,YAAQ,eAElD;AAAA,kBAAa,cAAe,YAAQ;WAEjC;AAAA,KAEH,UAAU;KACV,aAAa,oBAAqB,YAAQ;;IAK9C,UAAU,6CAAyB,YAAQ,aAAc,KAAM;IAC/D,0BAAsB;;;EAM9B,qBAAgB;EAChB,mBAAc;;UAKT,sBAEL;AAAA,IAAI,EAAC,aAAQ;AAAA,GAET;GACA;GAEA,oBAAoB,CAAC,cAAc,mBAAc;GAEjD,EAAI,iBAAgB,GAEhB;AAAA,oBAAgB;;GAIpB,EAAI,EAAC,kBAED;AAAA;;GAIJ,EAAI,EAAC,cAAS;AAAA,IAEV,SAAS,qBAAiB;IAE1B;cAAgB;IAAhB,WAAgB,YAAhB;AAAA,KAAK,eAAL,AAAgB,IAAhB;;KAEI,EAAI,mBAEA;AAAA,MAAkB,gBAAgB,yBAAlC,AAAwD,gBAAM,qEAA8C;YAI5G;AAAA,0BAAqB,gBAAgB,sBAAsB,gBAAM,qEAA8C;;;UAMpH;AAAA,IAEH,EAAI,EAAC,eAED;AAAA,cAAS,qBAAiB;WAI1B;AAAA,cAAS,qBAAiB,IAAI;;IAIlC;IAEA;eAAgB;IAAhB,YAAgB,aAAhB;AAAA,KAAK,eAAL,AAAgB,KAAhB;;KAEI,EAAI,EAAC,gBAED;AAAA,QAAI,mBAEA;AAAA,OAAkB,gBAAgB,yBAAlC,AAAwD,gBAAM,qEAA8C;aAI5G;AAAA,2BAAqB,gBAAgB,sBAAsB,gBAAM,qEAA8C;;YAMnH,EAAI,mBAEA;AAAA,MAAkB,gBAAgB,yBAAlC,AAAwD,WAAY,gBAAM,qEAA8C;YAIxH;AAAA,0BAAqB,gBAAgB,sBAAsB,WAAY,gBAAM,qEAA8C;;;;GAW3I,EAAI,kBAAiB,GAEjB;AAAA,MAAI,iBAAW,GAAG;AAAA,KAEd,cAAS;KAEL;;MAAiB,aAAU;MAAV;qDAAkB,UAAlB;AAAA,OLnD7B,QKmD6B,qBAAkB;aAAlB;AAAA,OL/C7B,QK+C6B,2BAAkB;;MAAnC,MAAiB,SAA8B;YAA/C;AAAA;;KAAJ,EAAI,MAEA;AAAA,oBAAU;MAAV,gDAAkB,YAAlB;AAAA,eAAkB,aAAW;aAA7B;AAAA,mCAAkB,UAAW;;;KAIjC,cAAU;KACV;WAEG;AAAA,KAEH,EAAI,gBAEA;AAAA,sBAAW,CAAC;;KAIhB,iBAAY;KACZ,kBAAa,iBAAY;KAEzB,EAAI,gBAAU,GAEV;AAAA;;;;GAQZ,EAAI,kBAEA;AAAA;;;;;;2CCtLL;AAAA;;;CAEH,cAAc;CACd,oBAAoB;CACpB,aAAa;CACb,cAAc;CACd,eAAe;;;;;;;+CDuMZ;AAAA;;;CAEH,+CAAO,OAAQ,aAAc,EAAG,EAAG;CAEnC,YAAY;;;;;;;;mCJtLT,WAAgB;AAAA;;;;;YAOhB,YAEH;AAAA,SAAO,IAAI;;QAKR,kBAEH;AAAA,SAAO,IAAI,CAAC,KAAK,KAAK,IAAI;;;;sCAWvB,WAAgB;AAAA;;;;;YAOhB,YAAmC;AAAA,EAEtC,EAAI,EAAC,KAAK,KAAK,GACX;AAAA,UAAO,MAAQ,IAAI;;EAEvB,OAAO,OAAS,CAAC,CAAC,IAAI,KAAK,CAAC,IAAI,KAAK;;QAKlC,kBAAyD;AAAA,EAE5D,EAAI,EAAC,KAAK,IAAI,KAAK,GACf;AAAA,UAAO,IAAI,IAAI,IAAI,IAAI;;EAE3B,OAAO,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC,IAAI,KAAK,KAAK;;;;+BMlF9C,WACI;AAAA,iBAAW;;;;;6BAGR;AAAA;;;EAEI,OAAQ,UAAU,UAAW,WAA7B;;+BAIJ,WAAgD;AAAA,EAGnD,SAAe,UAAW;EAI1B,SAAe,CAAC,KAAK,AAAC,IAAI,iBAAkB;EAG5C,OAAO,mBAAY,KAAG,SAAS,IAAK,KAAG,SAAS;;oBAI7C,gCAAuF;AAAA,EAE1F,GAAI,WAAJ;GAAI,UAAS;;EAEb,QAAe;EACf,YAAkB;EAClB,QAAc,QAAQ;EAEtB,UAAS;EAAT,SAAe;EAAf;;GAEI,EAAI,CAAC,AAAE,AAAC,OAAO,OAAK,YAAa,YAAa,AAAC,AAAC,OAAO,OAAK,YAAa,YACtE,AAAC,WAAW,CAAE,AAAC,OAAO,OAAK,YAAa,CAAC,OAAO,OAAK,cAAc,CAAC,WAAW,CAAC,OAAO,OAAK,cACxF,CAAE,AAAC,OAAO,OAAK,YAAa,CAAC,OAAO,OAAK,cAAc,CAAC,OAAO,OAAK,YACvE;AAAA,QAAI,CAAC;;GAGT,IAAI;;EAGR,OAAO;;qBAQJ,2BAAuE;AAAA,EAE1E,QAAQ;EACR,YAAY;EACZ,QAAQ,QAAQ;EAEhB,UAAU;EACV,UAAU;EAEV,UAAS;EAAT,SAAe;EAAf;;GAEI,cAAc,mBAAmB;GACjC,cAAc,mBAAmB;GAEjC;YAAgB;GAAhB,SAA2B;GAA3B;;;;;;;;;;;;;;;;;;;;;GACA;GAAmB;;;;;;;;;GAAnB;;;WAAmB;GAAnB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAEA,gBAAgB;GAChB,gBAAgB;GAEhB;aAAgB;GAAhB,UAA2B;GAA3B;;;;;;;;;;;;;;;;;;;;;GACA;GAAmB;;;;;;;;;GAAnB;;;YAAmB;GAAnB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAEA,gBAAgB;GAChB,gBAAgB;GAEhB,EAAI,CAAC,AAAE,YAAc,YAAa,AAAC,YAAc,YAC9C,AAAC,WAAW,CAAE,YAAc,aAAe,CAAC,WAAW,aACnD,CAAE,YAAc,aAAe,WAClC;AAAA,QAAI,CAAC;;GAGT,IAAI;;EAIR,OAAO;;uBAMJ,yDAAuH;AAAA,EAM9G;;;;;;;;;EAAmB,SAAgB,iBAAhB,AAA8B;EAA9B,SAAgB,iBAAhB,AAA8B;EAA9B,SAAgB,iBAAhB,AAA8B;EAA9B;;;;;;;;;;;;;;;;;;;;;;;;;;;EAA/B,YAAY;EACZ,YAAY,kBAAmB,aAAnB,kBAAmB,aAAnB,kBAAmB;EAE/B,QAAQ,QAAQ;EAET;;;;;;;;;EAAuB,UAAgB,aAAU;EAA1B,UAAgB,aAAU;EAA1B,UAAgB,aAAU;EAA1B;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAvB,0BAAW,eAAX,IAAW,eAAX,IAAW,eAAX;;;;uBC9GX,WAAe;AAAA;;;yBAEM,0BAA6C;AAAA,CAE9D,QAAQ,SAAU,GAAI;CACtB,OAAO,AAAE,CAAQ,QAAQ,IAAhB,KAAqB;;wBAIb,yBAAoD;AAAA,CAEjE,GAAM,IAAG;EAAb,IAAa;QAAT,GAAM,IAAM;EAAhB,IAAgB;QAAN;AAAA,EAAV,IAAU;;CAEV,OAAO,AAAC,QAAQ,IAAI,CAAC,SAAS;;gCAIb,gCAAmE;AAAA,CAGpF,EAAI,aAAY,GAAM;AAAA,aAAW;;CAEjC,OAAO,CAAC,AAAC,QAAQ,CAAC,WAAW,KAAM,UAAU;;yBAI5B,oBACV;AAAA,IAAE,QAAQ,GAAM;AAAA;QAAI,EAAE,CAAE,QAAQ,GAAM;AAAA;QAAI;AAAA;;;0BAGhC,oBACV;AAAA,IAAE,QAAQ,GAAM;AAAA;QAAI,EAAE,CAAE,QAAQ,GAAM;AAAA;QAAI;AAAA;;;gCAGhC,kBACV;AAAA,YAAQ,GAAI;AAAA;QAAI;AAAA;;;gCAGN,sCACV;AAAA,aAAS,aAAe;AAAA,kBAAS;QAAjC;AAAA;;;8BAGU,8BAA+D;AAAA,CAEhF,eAAqB,AAAQ,UAAR;CACrB,gBAAsB,QAAQ;CAC9B,aAAmB,WAAW,CAAC,UAAU,SAAS;CAElD,OAAO,UAAU,AAAC,SAAS;;wCAIV,iBAA0C;AAAA,CAE3D;CACA,UAAU,UAAU;CACpB,UAAU,UAAU;CACpB,UAAU,UAAU;CACpB,UAAU,UAAU;CACpB,UAAU,UAAU;CAGb,OAFP;;8BAMiB,4BACjB;AAAA,QAAO,KAAK,CAAE,QAAQ,MAAO,CAAE,KAAK,MAAO,CAAE,KAAK;;8BAGjC,oBAA6D;AAAA,CAE9E,EAAI,MAAK,KACL;AAAA,SAAO;;CAGX,EAAI,MAAK,KACL;AAAA,SAAO;;CAGX,IAAI,CAAE,IAAI,OAAQ,CAAE,MAAM;CAE1B,OAAO,IAAI,IAAI,CAAE,IAAI,IAAI;;gCAIR,oBAA+D;AAAA,CAEhF,EAAI,MAAK,KACL;AAAA,SAAO;;CAGX,EAAI,MAAK,KACL;AAAA,SAAO;;CAGX,IAAI,CAAE,IAAI,OAAQ,CAAE,MAAM;CAE1B,OAAO,IAAI,IAAI,IAAI,CAAE,IAAI,CAAE,IAAI,IAAI,MAAO;;wBAKzB,YACV;AAAA,IAAC,KAAK,GAAK;AAAA;QAAI;AAAA;;;yBAIL,YACV;AAAA,IAAC,IAAI,GAAK;AAAA;QAAK,EAAC,CAAC,IAAI,GAAK;AAAA;QAAI;AAAA;;;2BAIpB,kBACjB;AAAA,QAAO,UAAU;;2BAIA,kBACjB;AAAA,QAAO,UAAU;;gCAIA,cACjB;AAAA,QAAO,IAAI,IAAI,IAAI;;8BAIF,cACjB;AAAA,QAAO,UAAU,AAAa,QAAb,AAAe;;iCAIf,2BAA8D;AAAA,CAC/E,EAAG,WAAU,GAAG;AAAA,SAAO;;CAChB,aAAa;CAApB,OAAO;;2BAIU,4BACjB;AAAA,QAAO,IAAI,SAAS,IAAI;;;;;wBClIrB,wBAAoC;AAAA,CAGnC,IACI,iBAAgB,IADpB;AAAA,gF9IkMkB,CAAC,Q8IhMd,+H9IgMgC;;C8I5LlC,2BAAU;CAAjB,YAAO;;;;;MAOG,WACV;AAAA,SAAO,CAAC,YAAO,AAAC,YAAO,QAAS,cAAY,aAAW;;WAK7C,kBAA2D;AAAA,EACrE,EAAG,QAAO,MAAM;AAAA,GAAE,MAAM;GAAK,MAAM;;EACnC,OAAO,+EAAQ,CAAE,MAAM,OAAQ;;SAKrB,kBAAuD;AAAA,EACjE,EAAG,QAAO,MAAM;AAAA,GAAE,MAAM;GAAK,MAAI;;EACd,WAAM;EAAN,WAAU;EAAV;GARD,OAQC;GARU,OAQV;;EAAnB,OAAO,WAAY;;QAKT;AAAA;;;EACV,OAAO,AAAC,6EAAQ;;QAKN;AAAA;;;EACH,GAAC,6EAAQ,QAAU;AAAA;SAAI;AAAA;;;OAKpB;AAAA;;;EACH,GAAC,6EAAQ,QAAU;AAAA;SAAI;AAAA;;;SAIpB,WAAiB;AAAA,EAC3B,QAAQ;EACR,2BAAU;;eAQH,mBAAyC;AAAA,EAC5C,eAAU,YAAO;EACjB,OAAO;;;;;uBChEf,gBAA6B;AAAA,CAGzB,YAAO;CAEP,gBAAW;CACX,cAAS,sBAAsB,gBAAc;CAE7C,oBAAe,CAAE,QAAS,KAAM,KAAM,KAAM;;;;;WAKzC,cACH;AAAA,SAAQ,KAAE,eAAa,MAAG,iBAAe,OAAI,gBAAc,MAAG,iBAAe;;YAK1E,cAA2C;AAAA,EAI9C,EAAG,QAAO,MACN;AAAA,SAAM,WAAW;;EAGrB,8BACI;AAAA,KAAI,SAAQ,GAAG;AAAA,IACX,YAAY,AAAC,KAAK,CAAC,QAAQ;IAC3B,EAAI,SAAQ,IAAM;AAAA,cAAS;;IAC3B,OAAO,oBAAoB;UACxB;AAAA,WAAO,AAAW,6CAAc;;;EAG3C,QAAQ,AAAQ,MAAM,KAAd;EACR,QAAQ,AAAQ,MAAM,KAAd;EACR,EAAI,KAAI,GAAG;AAAA,UAAO,cAAS,KAAK,QAAQ;SACnC;AAAA,UAAO,WAAW,QAAQ;;;cAO5B,WACH;AAAA,SAAO,UAAM;;QAKV,iBACH;AAAA,SAAO,cAAU;;YAKd,iBAAwC;AAAA,EAG3C,YAAkB;EAClB,UAAS;EAAT,SAAa;EAAb;;GACI,QAAQ,AAAC,CAAC,SAAS,KAAK,QAAS,uBAAkB;;EAGvD,OAAO;;aAKJ,WAEH;AAAA,EAAyC;EAAzC,OAAO,uBAAuB,WAAW,8EAAU;;cAKhD;AAAA;;;EAEH,aAAc;EAEV,YAAY;EAEZ;EACA;EAEA,YAAkB,AAAQ,SAAS,aAAc,UAA/B;EAElB,UAAS;EAAT,SAAe;EAAf;;GACI,gBAA2C,MAAM;GAE1C,gBAAM;GAAN,aACH;IAAsB,WADnB;IACa,WADb;IACU,QADV;IAEC,EAAO;gBACH;MAAuB,aADpB;MACS,gBADT;MAEC,UAAW,WAAO,OAAI,MAAE,OAAI,OAAG,YAAS,MAAE;;;;GAM1D,EAAG,MAAK,QAAQ,GACZ;AAAA,cAAW;;;EAIvB,OAAO;;oBAKJ,gBAEI;AAAA,kBAAa,MAAM,OACnB,aAAa,MAAM,OACnB,cAAc,UAAU,MACxB,cAAc,SAAS,IAEzB;AAAA,OAAE,eAAc,SAAS,MACvB,cAAc,QAAQ,cAAc,OACpC;AAAA,yBAAc,QAAQ,cAAc;UAFtC;AAAA;;SALE;AAAA;;;wBAWJ;AAAA;;;;;;EAEH,aAA6B;EAEzB,qBAAqB;EACrB,qBAA4B;EAG5B,aAAa,QAAQ,SAAS;EAC9B,gBAAuB,SAAS,AAAC,MAAG,QAAO,aAAc;EACzD,aAAa,QAAS,MAAK,SAAS;EACpC,gBAAwB,SAAS,AAAC,MAAG,QAAO,cAAe;EAC3D,aAAa,QAAS,MAAK,SAAS;EACpC,gBAAwB,SAAS,AAAC,MAAG,QAAO,cAAe;EAG3D,EAAG,6BAAmB,SAAS;AAAA,GAC3B,iBAAiB;GACjB,iBAAiB;SACd,EAAG,6BAAmB,SAAS;AAAA,GAClC,iBAAiB;GACjB,iBAAiB;SACd,EAAG,6BAAmB,SAAS;AAAA,GAClC,iBAAiB;GACjB,iBAAiB;SAEjB;AAAA,kBAAM,6BAA6B,QAAQ,gCAAgC,SAAS,WAAW,SAAS,WAAW,SAAS,IAA5H;;EAGR,EAAG,mBAAkB,IAAI;AAAA,GACP;;;IAAd,cAAc;IAIV,EAAG,sBAAqB,aACpB;AAAA,iBAAa;;;GAIrB,YAAY,cAAiC;AAAA,IAEzC,EAAG,MAAK,GAAG;AAAA,YAAO;;IAElB,qBAAqB;IACrB,eAAe,aAAa,uBAAuB;IAEnD,qBAAqB;IACrB,eAAe,aAAa,uBAAuB;IAEnD,EAAG,YAAW,UAAU;AAAA,YAAO;;IAE/B,OAAO;;;EAMf,OAAO;;gCAMJ;AAAA;;;EAEH,aAAa;EA0Bb,YAAY;EACZ,cAAc;EACA;OAAE,KAAK;EAArB,cAAc;EACd,YAAY;EAEZ,QAAW;EAAX;;GAAoB,WAApB;GAxBQ,IAwBR;;KAAoB,gBAApB;GAAoB,WAAT;;EACX,UAAU,YAAa;AAAA,gBAAa;;EAEpC,QAAQ;EAER,UAAU;EAAV,UAAgB,IAAE;EAAlB;;GAEI,WAAW;GACX,QAAQ;GAER;IAAO;;eAAiB,IAAjB;cAAoB;IAApB;cAzBP;KAyBO,AAzBuB,SAyBvB,AAAQ,QAAR;;gBAAoB,IAAH,IAAjB,MAA0B,SAA1B;AAAA,WAAqC,IAAI;WAAzC;AAAA;;IAAP,EAAO,OAAP;AAAA;;IACuB;eAAiB,IAAjB;cAAoB;IAApB;cA1BvB;KA0BuB,AA1BO,UA0BP,AAAQ,QAAR;;IAAnB,QAAQ,AAAC,UAAU,WAAoB,IAAH,IAAjB;IACnB,OAAM,AAAQ,SAAS,EAAE,KAAK,UAAQ,IAAI,KAApC,KAA4C;IAClD;;GAGK;cAAO;GAAP;;;KAzBgC,MAyBhC;;;GAAT,SAAS;GACT,UAAQ,KAAK;GACb,QAAW,OAAK;GAAhB,QAAM,KAAN;;EAIJ,WAAW;EACX,KAAM,KAAI,GAAV;AAAA,GACI,eAAgB,YAAY,QAAM,KAAG,EAAG,QAAS;GACjD,IAAI,QAAM,KAAK;GACf;;EAGJ,EAAG,kBAAiB,GAAG;AAAA,eAAY;;EACnC,OAAO;;oBAMJ;AAAA;;;;;;EAMU,yBAAU,UAAO,UAAQ,sBAAkB,UAAQ,KAAnD,AAAyD,aAAzD;EAAb,aAAa,AAAwE,cAAxE,QAAgF,SAAM;EAEnG,OAAO,kBAAkB;;mBAKtB;AAAA;;;EAEH,YAAY,SAAS,IAAI,IAAI,WAAW,SAAS,SAAS,SAAS;EACnE,kBAAkB,QAAQ,SAAS,KAAM;EACvB,oBAAoC;EAApC,AAAd,cAAc,CAAuB,cAAvB;EAElB,OAAO,cAAe,MAAK,kBAAa;;kBAKrC,gBAAwD;AAAA,EAE3D,EAAI,UAAS,MAAM;AAAA,UAAO;;EAC1B,YAA0B,kCAAoB;EAC9C,UAAU;EAAV,SAAgB;EAAhB;;GAA8B,QAAU,KAAV,AAAa,MAAM,KAAnB;;EAE9B,OAAO;;qBAOJ,kBAA8D;AAAA,EAEjE,YAAY;EACZ,WAAW,QAAQ;EACnB,YAAY;EAEZ,KAAM,SAAQ,OAAd;AAAA,GAEI,QAAQ,QAAQ;GAChB,QAAQ,QAAQ,QAAM;GACtB,QAAQ,QAAQ,QAAM;GACtB,QAAQ,QAAQ,QAAM,KAAK;GAE3B,QAAQ,SAAW,AAAQ,IAAE,IAAV;GACnB,QAAQ,QAAM,KAAK,AAAQ,IAAE,IAAV;GACnB,QAAQ,QAAM,KAAK,AAAQ,IAAE,IAAV;GAEnB,SAAS;;EAIb,OAAO;;gCAOJ,kBAAyE;AAAA,EAE5E,YAAY;EACZ,WAAW,QAAQ;EACnB,YAAY;EAEZ,KAAM,SAAQ,OAAd;AAAA,GAEI,QAAQ,QAAQ;GAChB,QAAQ,QAAQ,QAAM;GACtB,QAAQ,QAAQ,QAAM;GACtB,QAAQ,QAAQ,QAAM;GAEtB,QAAQ,SAAW,IAAI;GACvB,QAAQ,QAAM,KAAK,IAAI;GACvB,QAAQ,QAAM,KAAK,IAAI;GAEvB,SAAS;;EAIb,OAAO;;;;;;;wDClWU,cACjB;AAAA,CAAO;;;;;;;;;;CAAP,OAAO,QAAe;;wDAGL,cACjB;AAAA,CAAW;;;;;;;;;;CAAX,OAAO,IAAI;;0DAGM,cACjB;AAAA,QAAO,AAAK,AAAC,IAAY;;uDAGR,cACjB;AAAA,QAAO,AAAC,IAAa,AAAC;;0DAGL,cACjB;AAAA,QAAO,AAAK,AAAC,IAAY;;wDASf;AAAA;CACV,EAAI,EAAC,MAAiB,QAAjB,AAAiB,QAAjB,sBAAiB,QAAjB,AAAiB,QAAjB,qBAAiB,QAAjB,AAAiB,QAAjB,SACD;AAAA,QAAM,sEAA2B;;CAErC,QAAO;CAJG;;4DAOA,gBACV;AAAA,CAAO;IAA+B,SAA/B;kCAA+B;EAA/B;;;mCAA+B,SAA/B,mCAA+B,QAA/B;;;;;;yDAEG,gBACV;AAAA,QAAO;;uCClCG,YANlB;AAAA,CAgBS,AAhBT,SAgBS;CATP,cAAS;CACT,aAAQ;CACR,gBAAW;;;;;UAGK,WAChB;AAAA,SAAO,aAAQ;;QAIC,WAA4B;AAAA,EAC5C,SAAI;EACJ;;EAAS,YAAkC;EAAlC;2BAA0C;EAAnD,mBAAS;EACG,YAA6B;EAA7B;EAAZ,OAAO,AAAK,2DAAqC;;;;;;;;;;;2DCDjC,WAMV;AAAA,QAAO;;iDAOU,kBACvB;AAAA,CAAO,YAAgB;CAAhB;yBAA8B;;kDAOd,kBACvB;AAAA,CAAO,YAAgB;CAAhB;CAAP,OAAO,2DAA+B;;6CAOf,kBACvB;AAAA,CAAO,YAAgB;CAAhB;;0BAA0B;CAA1B,qCAA0B,MAA1B;;;;qDAOgB,gCACvB;AAAA,CAAO,YAAgB;CAAhB;CAAP,OAAO,8DAAkC,WAAY;;uDAO9B,kBACvB;AAAA,CAAO,YAAgB;CAAhB;0BAAoC;CAApC;;;;;;2DAOgB,kBACvB;AAAA,CAAO,YAAgB;CAAhB;0BAAwC,QAAxC;;;;;;;yDAOgB,kCACvB;AAAA,CAAO,YAAgB;CAAhB;;IAA6C,mBAA7C;eAAsC;EAAtC;;YAA6C,mBAA7C;;GCgEG,UDhEH;KCiEK;;EDjEL;;eAAsC;EAAtC;iBAA6C,mBAA7C;;GCyEG,UDzEH;KC0EK;;ED1EL;;;iEAQgB,kCACvB;AAAA,CAAO,YAAgB;CAAhB;;wBAA6C,CAAC;CAA9C;eAAsC;EAAtC;;;;GCuDG,UDvDH;KCwDK;;EDxDL;;eAAsC;EAAtC;;;GCgEG,UDhEH;KCiEK;;EDjEL;;;oDAMgB,oBACjB;AAAA,CAAO;IAAmB,aAAnB;kCAAmB;EAAnB;;;mCAAmB,aAAnB,mCAAmB,YAAnB;;;;;;qDAMU,qBACjB;AAAA,CAAO;;mBAAoB;CAApB;;;;;;;;;;+CASU,YACvB;AAAA,aAAgB;CAAhB;;;oDAMgB,YACV;AAAA,KAAI;AAAA,EACA,YAAS;EAAT;;EACA,OAAO;;;6BAEP;KAAQ,SACR;IAA6B,YADrB;IAEJ,OAAO;UAEP;AAAA,UAAM;;;;;8CE3HJ,gCANlB;AAAA,CAgBS,AAhBT,SAgBS;CATD,cAAS;CACT,aAAa;CACb,gBAAgB;;;;;UAGN,WACV;AAAA,SAAO,aAAQ;;QAIL,WAAsB;AAAA,EACtC,SAAI;EACE;;EAAS,YAAkC;EAAlC;2BAA0C;EAAnD,mBAAS;EACT,OAAO;;;;;;;6CCXU,gBACjB;AAAA,QAAO,AAAC,KAAK,SAAU,KAAM,AAAC,KAAK;;iDAElB,YACjB;AAAA,QAAO,CAAC,KAAK,MAAM;;gDAEF,YACjB;AAAA,QAAO,AAAC,IAAI,OAAS;;sCAEJ,eACV;AAAA,SAAgB,QAAQ,QAAQ,WAAgB,CAAC,UAAgB,QAAhB,AAAgB,QAAhB,QAAyB;AAAA,UAAC,UAAe,QAAf,AAAe,QAAf;QAA3E;AAAA;;;6CAGU,eACV;AAAA,aAAoB,MAAQ;AAAA,iBAAQ;QAApC;AAAA;;;4CAGU,eACV;AAAA,aAAmB,MAAQ;AAAA,iBAAQ;QAAnC;AAAA;;;;;;qCCjBU,YACjB;AAAA,CAAO,YAAgC;CAAhC;sEAAmC,EAAG;;qCAK5B,kBAAmD;AAAA,CAI5D,YAAoC;CAApC;;CAAR;CAAQ,GAA0C,SAA1C;eAAuC;EAAvC;;aAA0C,SAA1C;;GH6HJ,UG7HI;KH8HF;;EG9HN,IAAQ;;eAAuC;EAAvC;iBAA0C,SAA1C;;GHsIJ,UGtII;KHuIF;;EGvIN,IAAQ;;CACD,YAAwB;CAAxB;;2BAA2B;CAA3B,qCAA2B,EAA3B;;;;yCAOU,kBAAoD;AAAA,CAI7D,YAAoC;CAApC;;CAAR;CAAQ,GAA0C,SAA1C;eAAuC;EAAvC;;aAA0C,SAA1C;;GHiHJ,UGjHI;KHkHF;;EGlHN,IAAQ;;eAAuC;EAAvC;iBAA0C,SAA1C;;GH0HJ,UG1HI;KH2HF;;EG3HN,IAAQ;;CACD,YAA6B;CAA7B;CAAP,OAAO,2DAAgC;;0CAOtB,kBACjB;AAAA,CAAY,YAAY;CAAZ;;;IAAe,SAAf;;;;aAAe,SAAf;;GHwGR,UGxGQ;KHyGN;;EGzGM;;;;iBAAe,SAAf;;GHiHR,UGjHQ;KHkHN;;EGlHM;;aAAY;CAAZ;CAAZ,OAAO,AAAK;;sCAQK;AAAA;;;CACY,YAAoC;CAApC;;;IAA0C,cAA1C;eAAuC;EAAvC;;YAA0C,cAA1C;;GH+FzB,UG/FyB;KHgGvB;;EGhGuB;;eAAuC;EAAvC;iBAA0C,cAA1C;;GHwGzB,UGxGyB;KHyGvB;;EGzGuB;;CAA7B,aAAY,UAAU,MAAO;CACtB,EAAI,WAAS,GAAG;AAAA,cAAgC;EAAhC;uEAAmC,EAAG;QAAY;AAAA;;;0CAQxD,6BAAqE;AAAA,CACtF,EAAI,eAAc,MACd;AAAA,eAAa,WAAW;;CACK,YAAoC;CAApC;;;IAA0C,cAA1C;eAAuC;EAAvC;;YAA0C,cAA1C;;GHmF7B,UGnF6B;KHoF3B;;EGpF2B;;eAAuC;EAAvC;iBAA0C,cAA1C;;GH4F7B,UG5F6B;KH6F3B;;EG7F2B;;CAAjC,aAAY,cAAc,MAAO;CAC1B,EAAI,WAAS,GAAG;AAAA,cAAgC;EAAhC;uEAAmC,EAAG;QAAY;AAAA;;;oCAM/D,sBACH;AAAA,GAAI,qBAAoB,GAC3B;AAAA,WAAqD;EAApD;;;;EAAU;eAAyB;EAAzB,YAA4B;EAA5B,eAA+B;EAAzC;;;;;;;GAAoD,YAAwB;GAAxB;;6BAA2B;GAA3B,qCAA2B,EAA3B;;;;EAArD;QAEA;AAAA,iBAAQ;;;qCASK,8BAAuE;AAAA,CAC/E,YACL,AAAI,cAAc,IAAG,IAAO;CADvB,YAAoC;CAApC;;CAAT;CAAS,GAEL,cAFK;;;;YAEL,cAFK;;GH8DL,UG9DK;KH+DH;;EG/DN,KAAS;;;;iBAEL,cAFK;;GHuEL,UGvEK;KHwEH;;EGxEN,KAAS;;CAGT;CAAS,EAAI,WAAU,MAAvB;AAAA,OAA6B;QACpB,EAAI,UAAS,GADtB;AAAA,OACyB;QAChB;AAAA,cAAoC;EAApC;;KAA2C,UAA3C;gBAAuC;GAAvC;;cAA2C,UAA3C;;IHyDL,UGzDK;MH0DH;;GG5DN,KAES;;gBAAuC;GAAvC;mBAA2C,UAA3C;;IHkEL,UGlEK;MHmEH;;GGrEN,KAES;;;CACT,OAAO,YAAY,GAAI;;wCAQN,gCAA4E;AAAA,CAC7F;CAAS,EAAI,cAAa,GAA1B;AAAA,OAA6B;QACpB;AAAA,cAAoC;EAApC;;KAA0C,cAA1C;eAAuC;GAAvC;;aAA0C,cAA1C;;IH8CL,SG9CK;MH+CH;;GGhDN,KACS;;gBAAuC;GAAvC;kBAA0C,cAA1C;;IHuDL,UGvDK;MHwDH;;GGzDN,KACS;;;CACT;CAAS,EAAI,aAAY,MAAzB;AAAA,OAA+B;QACtB,EAAI,YAAW,GADxB;AAAA,OAC2B;QAClB;AAAA,cAAoC;EAApC;;KAA0C,YAA1C;gBAAuC;GAAvC;;cAA0C,YAA1C;;IH2CL,UG3CK;MH4CH;;GG9CN,KAES;;gBAAuC;GAAvC;mBAA0C,YAA1C;;IHoDL,UGpDK;MHqDH;;GGvDN,KAES;;;CACT,OAAO,YAAY,GAAI;;uCAMT,YACd;AAAA,QAAO,qCAAkB;;sCAMf,cAAgD;AAAA,CAC1D;;;;CAAY;gBAAyB;CAAzB,cAA4B;CAA5B,iBAA+B;CAC3C;;;;CAAY;gBAAyB;CAAzB,cAA4B;CAA5B,iBAA+B;CAC3C,KAAO,iCAAmB,8BAA1B;AAAA,EACgD;;;;;EAAhC,YAA6B;EAA7B;EAAZ,YAAY,2DAAgC;EACA;;;;;EAAhC,YAA6B;EAA7B;EAAZ,YAAY,2DAAgC;EAC5C,EAAI,SAAQ,OACR;AAAA,UAAO;;EACX,EAAI,SAAQ,OACR;AAAA,UAAO;;;CAEf,EAAI,+BACA;AAAA,SAAO;;CACX,EAAI,+BACA;AAAA,SAAO;;CACX,OAAO;;uCAMU,qBACjB;AAAA,CAAO;;mBAAgC,AAAK;CAArC;;;;;;;;;;;;;;yDHrIU,oBACvB;AAAA,GAAI,cAAa,OAChB;AAAA,EAAiB,gCAAuB;EAAjC,YAAU;EAAV;QAEP;AAAA,EAAiB,gCAChB,CAA4B,aAA5B,eADgB,oBAEhB,AAA2B,YAA3B;EAFM,YAAU;EAAV;;;0DASe,qBAA4D;AAAA,CACnE;CAAV,UAAU;CACA;;EAAV,SAAU;EACN,uDAA4B,YAAa;AAAA,gCAAY;IAAI;;CAE5C;CAAV,YAAU;CAAV;;sDAGU,YACjB;AAAA,CAAiB,YAAqB;CAA/B,YAAU;CAAV;;qDAGU,YACjB;AAAA,CAAiB;;YAAoB,UAApB;AAAA,UAAoB,EAApB;IAoNjB;EApNiB;;;CAAV,YAAU;CAAV;;sDAQG,sBAChB;AAAA,QAAO,iBAAgB;;uDAOd,sBACT;AAAA,QAAO,uDAA4B,aAAQ,YAAY;AAAA,SAAO,iBAAW;GAAI;;kDAO7D,sBAChB;AAAA,CAAoC,yBAAiB;CAApC,qCAAY,MAAO;CAA7B,YAAU;CAAV;;0DAOE,oCAAgE;AAAA,CACnE,YAAY;CACZ,QAAQ;CACR,KAAO,SAAQ,UAAf;AAAA,EACa,yBAAiB;EAA1B,SAAS;EACT,EAAE;;CAEN,OAAO;;4DAOG,sBAA6C;AAAA,CACvD,QAAQ,iBAAW;CACZ,cAA2B,KAA3B,AAA2B,KAA3B;;;;;;gEAOG,sBAChB;AAAA,CAAO,QAAkD,iBAAlD,AAAiE,QAAjE;;;;;;;8DAOS,sCACH;AAAA,GAAI,oBAAmB,GAC1B;AAAA,eAA8B;EAA9B;;YAAqC,mBAArC;;GAiDA,UAjDA;KAkDE;;EAlDF;QAEA;AAAA,eAA+B;EAA/B;gBAAsC,CAAC,mBAAvC;;GAwDA,UAxDA;KAyDE;;EAzDF;;;kDAOM,0BAChB;AAAA,CAAiB,qCAAY,MAAO;CAA7B,YAAU;CAAV;;oDASE,gBAA2B;AAAA,CACpC,UAAU;CACV,eAAe,YAAY;AAAA,SAAO,iBAAW;;CACvC,SAAQ;CACR,KAAQ,MAAI,KAAZ;AAAA,EACI,uDAA4B,IAAK,SAAU;EACtC,yBAAiB;EAAtB,MAAK;;;oDAIC,gBAChB;AAAA,QAAO;;mDAGS,gBAChB;AAAA,CAAO;;;yCAwIoD;CAxIpD;;gDAGE;AAAA,aACF;CADE;;sDAIA,gBACT;AAAA,QAAO;;yEAGE,sCAAiF;AAAA,CAC1F,UAAU;CACJ,QAAQ;CACR,KAAO,KAAI,mBAAmB,QAAQ,KAAtC;AAAA,EACa,yBAAiB;EAA1B,SAAS;EACT,EAAE;;CAEN,OAAO;;0EAGJ,sCAAkF;AAAA,CACrF,YAAY;CACZ,KAAO,SAAQ,mBAAmB,IAAI,OAAtC;AAAA,EACa,yBAAqB,QAArB;EAAT,SAAS;EACT,EAAE;;CAEN,OAAO;;;;;wDAOU,YACV;AAAA,KAAE,UAAwB,KAAxB,AAAwB,KAAxB,QAA8B;AAAA;QAAI;AAAA;;;4DAG1B,yBAAwE;AAAA,CACzF,QAAQ,SAAS,QAAQ;CAClB,IAAE,UAAuB,KAAvB,AAAuB,KAAvB,QAA6B;AAAA;QAAI;AAAA;;;yDAGhC,4BACV;AAAA,GAAI,cAAa,OACb;AAAA,UAAQ;QACL;AAAA,EACH,QAAQ,CAA4B,aAA5B;EACR,QAAQ,AAA2B,YAA3B;;;yDAIF,6BAAgF;AAAA,CAC1F,EAAI,SAAQ,KAAK,OAAO,OACpB;AAAA,QAAM,6EAAkC;;CAC5C,SAAS,SAAS;CAClB,EAAI,UAAwB,MAAxB,AAAwB,MAAxB,OAA6B;AAAA,EAC7B,EAAI,SAAQ,IAAI,KAAK,OAAO,QAAQ,GAChC;AAAA,SAAM,6EAAkC;;EAE5C,SAAS,SAAS,QAAQ;EAC1B,EAAI,UAAuB,MAAvB,AAAuB,MAAvB,OACA;AAAA,UAAO,AAAwB,KAAxB,cAA4B,KAA5B;SAEP;AAAA,SAAM,6EAAkC;;QAEzC,EAAI,UAAuB,MAAvB,AAAuB,MAAvB,OACP;AAAA,QAAM,6EAAkC;QAExC;AAAA,SAAO;;;;;;0DAUD;AAAA,aACH;CADG;;6DAIA,qBACV;AAAA,gCAAa;;kEAGH,gBACV;AAAA,CAAO,YAAqB;CAArB;;;;;;0DAOU,YACjB;AAAA,CAAO,YAAc;CAAd;;4DAGO,YACpB;AAAA,CAAO,YAAc,oBAAoB;CAAlC;;gEAGa,gBACpB;AAAA,CAAO,YAAc,oBAAoB,MAAM,oBAAoB;CAA5D;;uDAGgB,YACjB;AAAA,CAAO;;YAAU,UAAV;AAAA,UAAU,EAAV;IAKP;EALO;;;;;yDAGU,YAA+C;AAAA,CAChE,YAAU;CACV;YAAU,UAAV;AAAA,EAAK,QAAL,AAAU,EAAV;;EACI,6BAAY;;CAET,YAAc;CAAd;;0DAKmB,sBAC1B;AAAA,QAAO,iBAA6B;;sDAG1B,0BACV;AAAA,CAAO,YAAc,yBAAY,MAAO;CAAjC;;wDAGG,gBACV;AAAA,QAAO;;uDAGG,gBAAgC;AAAA,CAC1C,QAAQ;CACR,UAAU;CACH,SAAiB;CAAhB,KAAO,KAAI,KAAK,yBAA6B;CAA9C;;oDAGJ;AAAA,aACI;CADJ;;0DAIA,gBACH;AAAA,QAAO;;yBIvPJ,aAnBX;AAAA,CAiB4B,AAjB5B,WAiB4B;CAGpB,eAAU;CACV,kBAAa;CACb,uBAAkB;;;;;gBAGR,WACV;AAAA,IAAG,2BAAqB,MACpB;AAAA,UAAO;SAEP,EAAG,4BAAsB,MACrB;AAAA,UAAO;SAEP;AAAA,UAAO;;;YAKL,kBAAmC;AAAA,EAG7C,EAAG,wBAAkB;AAAA,GAEjB,EAAG,4BAAsB,MAErB;AAAA,MAAG,yBAAmB,4BAAsB;AAAA,KAExC,uBAAkB;KAClB,EAAG,oCAA8B,MAC7B;AAAA;;;UAKL;AAAA,IAEH,kCAAkC;IAClC,uBAAkB;;GAItB,cAAc,kBAAkB,OAAO,yBAAoB;GAE3D,EAAG,YAAW,MAGV;AAAA,MAAG,4BAAsB,MACrB;AAAA,eAAU;WAEV;AAAA,eAAU;;;GAKlB,EAAG,wBAAkB,iBAAiB;AAAA,IAClC,IAA+B,6BAA/B;AAAA;iBAA+B;KAA/B,iEAA+B,gBAA/B;;;;;MjJ2KJ,WiJ3KI;;;;;kBAA+B;KAA/B,kEAA+B,gBAA/B;;;;;MjJ2KJ,YiJ3KI;;;;;IACA;;;IACA,sBAAiB;;GAGrB,kBAAkB,2BAAsB;GACtB,iBAAe;AAAA,IAA7B,cAA6B,AAAC,4BAAuB;UAAvC;AAAA,IAAd,cAAc;;GACA,iBAAe;AAAA,IAA7B,cAA6B,AAAC,6BAAwB;UAAxC;AAAA,IAAd,cAAc;;GACA,iBAAe;AAAA,IAA7B,cAA6B,AAAC,4BAAuB;UAAvC;AAAA,IAAd,cAAc;;GACA,iBAAe;AAAA,IAA7B,cAA6B,AAAC,8BAAyB;UAAzC;AAAA,IAAd,cAAc;;GAElB,EAAG,gBAAe,CAAC,8BAAyB;AAAA,IAExC,2BAAsB;IACtB,6BACI;AAAA,oCAA+B;WAC/B;AAAA,mCAA8B;;IAElC,0BAAqB;IACrB,4BAAuB;IACvB,2BAAsB;IACtB,6BAAwB;IACxB,gDACI,wBACA,yBACA,0BACA;;;EASR,EAAG,uBAAgB;AAAA,GAEf,EAAI,EAAC,kBAAa;AAAA,IACd,qCAAW;IACX,mBAAc;;GAIlB,EAAG,mBAAa,MAEZ;AAAA,MAAG,EAAC,qBAAgB,sBAGhB;AAAA,oCAA+B,iBAAa,iBAAa,iBAAa;;;SAQ9E,EAAI,mBAAa;AAAA,GACb,sCAAY;GACZ,mBAAc;;EAM1B;;cAIG,kBAAqC;AAAA,EAGxC,EAAG,yBAAmB,MAClB;AAAA,wCAAqC;;EAKzC,kCAAkC;EAGlC,EAAG,mBAAa;AAAA,yCAAW;;EAG3B,8BAA8B;EAC9B,wCAAa,IAAc;EAC3B,4CAAiB;;UAId,eAAwC;AAAA,EAE3C;eAAsB;EAAtB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EACA;cAAkB;EAAlB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAEA,EAAG,uBAAgB;AAAA,GACf,sBAAiB;GACjB,iBAAY;;EAGT,2BAAoB;AAAA,UAAC,uBAAkB;SAAvC;AAAA;;;OAMJ,WAAe;AAAA,EAElB,EAAG,EAAC,UAAK;AAAA;;EAET,eAAO,uBAAP;EACI,eAAM,iBAAe,2BAArB;EACA,eAAM,mBAAmB,CAAC,AAAE,gCAA2B,OAAS,SAAS,iCAAzE;EACA,EAAG,iCAA2B,MAC1B;AAAA,kBAAM,YAAY,iDAAlB;;EAEJ,eAAM,kBAAkB,CAAC,AAAE,+BAA0B,OAAS,SAAS,gCAAvE;EACA,eAAM,0BAAwB,oCAA9B;EACA,eAAM,gBAAc,sCAApB;EACJ,eAAO,sBAAP;EAEA,eAAO,uBAAP;EACI,eAAM,iBAAe,sBAArB;EACA,eAAM,mBAAmB,CAAC,AAAE,2BAAsB,OAAS,SAAS,4BAApE;EACA,EAAG,4BAAsB,MACrB;AAAA,kBAAM,YAAY,4CAAlB;;EAEJ,eAAM,kBAAkB,CAAC,AAAE,0BAAqB,OAAS,SAAS,2BAAlE;EACA,eAAM,0BAAwB,+BAA9B;EACA,eAAM,gBAAc,iCAApB;EACJ,eAAO,uBAAP;;;;sBCtJG,8BAhDX;AAAA,CAgDW;;;;;;CALoB,AA3C/B,qBA2C+B;CADA,AA1C/B,oBA0C+B;CADA,AAzC/B,qBAyC+B;CADD,AAxC9B,kBAwC8B;CAFL,AAtCzB,gBAsCyB;CALuB,AAjChD,kBAiCgD;CAFjB,AA/B/B,YA+B+B;CADH,AA9B5B,WA8B4B;CAFS,AA5BrC,qBA4BqC;CADO,AA3B5C,4BA2B4C;CADC,AA1B7C,6BA0B6C;CADX,AAzBlC,kBAyBkC;CARA,AAjBlC,kBAiBkC;CADA,AAhBlC,kBAgBkC;CADD,AAfjC,iBAeiC;CAPI,AARrC,oBAQqC;CAJe,AAJpD,aAIoD;CADpB,AAHhC,eAGgC;CA+CxB,UAAK;CACL,gBAAW;CACX,gBAAW,EAAE;CAEb,gBAAW,6FAAuC;CAClD,eAAU;CAEV,iBAAY;CAEZ,kBAAa,iBAAY;CAGd,6BAAkB;CAA7B,gBAAW;CACG,6BAAkB;CAAhC,mBAAc;CACD,6BAAkB;CAA/B,kBAAa;CAOb,YAAO;CAEP,sDAA4B;CAC5B,sDAA4B;CAC5B,sDAA4B;CAO5B,EAAG,iBAAgB,GACf;AAAA,cAAO;QAEP;AAAA,cAAO;;CAGX,gBAAW;CAEX;CACA,yBAAS;;;;;KAMN,wBACH;AAAA,kBAAW,MAAO;;OAIf,wBACH;AAAA,SAAO,iBAAY,MAAO;;OAGvB;AAAA;;;EAMH,EAAI,oBAAc,cAAc,QAAQ,YAAa;AAAA,GAGjD,EAAI,EAAC,WAAW,eAAgB,OAC5B;AAAA,wBAAoB;;GAIxB;6CAAiB,UAAW;GAA5B;GAGA,cAAc;GAGd,oBAAe;;;SAYhB;AAAA;;;EAEH,EAAG,QACC;AAAA,YAAY;GAAZ;;;;;;;+BtBikBsB,QsBjkBtB;;;;;;;;OtBgjBQ,QsBhjBR;OtBijBQ,SsBjjBR;;OtBmjBQ,SsBnjBR;;;;;;;;;;IACI,UAAU;IACV,OAAO;;SAGX;AAAA,aAAY;GAAZ;;;;;;;gCtB4jBsB,SsB5jBtB;;;;;;;;OtB2iBQ,SsB3iBR;OtB4iBQ,SsB5iBR;;OtB8iBQ,SsB9iBR;;;;;;;;;;IACI,qBAAgB;;;;WAWrB;AAAA;;;EAEH,WAAM;EAEN,2BAAsB;EACtB;EAEA,eAAU;EACV,gBAAW;EACX,gBAAW;EACX,mBAAc;EACd,kBAAa;EACb,mBAAc;EAEd,iBAAY;EACZ,kBAAa;EACb,kBAAa;EAEb,gBAAW;EACX,YAAO;EAEP,uCAAW;;UAIR;AAAA;;;EAEH,EAAG,gCAA+B;AAAA,GAC9B,kCAAsB;GACtB,EAAG,0BAAyB,GACxB;AAAA,kBAAc;;;EAIJ;EAAlB,kBAAkB;EAElB,qBAAiB;EAEA;EAAjB,iBAAiB;EAEd,yBAAe;EAKlB,oBAAe;;SASZ;AAAA;;;EAGH,6BAAwB;EACxB,4BAAuB;EACvB,qBAAgB;EAEhB,kBAAa;EACb,qBAAgB;EAChB,oBAAe;EACf,qBAAgB;EAGhB,aAAQ,uBAAuB;EAE/B,WAAsB;EAGtB,SAAa;EAAb;;;;;;;8BtBwe0B,QsBxe1B;;;;;;;;MtBudY,QsBvdZ;MtBwdY,SsBxdZ;;MtB0dY,SsB1dZ;;;;;;;;;;GAGI,OAAO;GAGP,EAAI,SAAQ,QAAQ,CAAC,cAAe;AAAA,IAGhC,EAAI,mBAAa,OAIb;AAAA,gBAA4B;KAA5B;;;;;;;;;MAoSZ,OApSY;MAqSZ,WArSY;MAsSZ,UAtSY;MAuSZ,WAvSY;;;;;;;IAKJ;;;;;;;;;;;;;mBAAe,eAAf,iCAAe;KAAf;;OD3LI,UC2LJ,AAAe;aAAf;AAAA,ODzLI,UCyLJ,AAAe;;;KAAf;;oBAAe;OAAf;;;;;;QlJRJ,WkJQI;;;;qBAAe;OAAf;;;;;;QlJRJ,YkJQI;;;;;;;;;;;;MD7KA,cC6KA;;MD7KA,cC6KA;;;MD5KA,cC4KA;;MD5KA,cC4KA;;;MD3KA,cC2KA;;MD3KA,cC2KA;;;MD1KA,cC0KA;;MD1KA,cC0KA;;;;;OAAe,4BAAf;;OAAe,2BAAf;;;;;;;;;;;;;;;;OAAe,4BAAf;;;;;;;;IAEA,EAAG,eAAc;AAAA,KAGb;KAGA,EAAG,oBAAmB;AAAA,MAClB;MACA;;KAIJ,EAAG,cAAa;AAAA,MAGZ,YAA4B;MAA5B;;;;;;;;;OA8QhB,QA9QgB;OA+QhB,YA/QgB;OAgRhB,WAhRgB;OAiRhB,YAjRgB;;;;;;MAEA,cAAwB;MAAxB;sBAAwB;OAAxB;uDAAwB;QAAxB;uDAAwB,gBAAxB,AAAwB;QAAxB,+CAAwB;QAAxB;uDAAwB,oBAAxB,AAAwB;QAAxB,+CAAwB;QAAxB;uDAAwB,mBAAxB,AAAwB;cAAxB;AAAA,uDAAwB;QAAxB;uDAAwB;QAAxB;uDAAwB;QAAxB;;gDAAwB,0BAAxB,EAAwB,yBAAxB;;;OAAwB,eAAxB;;MACA,mBAAc;YAIb,EAAI,8BAAuB,KACvB,6BAAuB,KACvB,6BAAuB,KACvB,6BAAuB,GAA6B;AAAA,MAIrD,GAAe,uBAAf;OAAe,gBAAf;OAAe,mBAAf;iHAAe,UAAf,+DAAe,uBAAf;;;0BAAe,uBAAf;;oBAAe;QAAf;;;;;;;;;SAgQpB,QAhQoB;SAiQpB,YAjQoB;SAkQpB,WAlQoB;SAmQpB,YAnQoB;;;;;;;;;;;;;;;oBAAe;OAAf;;;;;;;;;;oBAAe;OAAf;;gBAAe,cAAf;;;;;;;;;;;QC6ChB,cD7CgB;;;;;;QCsDhB,gBDtDgB;;;;;QC6DhB,eD7DgB;QCuEhB,gBDvEgB;UC0EhB;;OD1EgB,eAAe,uBAAf;;;;;;MAEA,YAA4B;MAA5B;;;;;;;;;OA8PpB,QA9PoB;OA+PpB,YA/PoB;OAgQpB,WAhQoB;OAiQpB,YAjQoB;;;;;;MAEA,mBAAc;YAKjB;AAAA,MAED,GAAgB,uBAAhB;OAAgB,gBAAhB;OAAgB,mBAAhB;iHAAgB,UAAhB,+DAAgB,uBAAhB;;;2BAAgB,uBAAhB;;oBAAgB;QAAhB;;;;;;;;;SAqPhB,QArPgB;SAsPhB,YAtPgB;SAuPhB,WAvPgB;SAwPhB,YAxPgB;;;;;;;;;;;;;;;oBAAgB;OAAhB;;;;;;;;;;qBAAgB;OAAhB;;iBAAgB,cAAhB;;;;;;;;;;;QCkCZ,eDlCY;;;;;;QC2CZ,iBD3CY;;;;;QCkDZ,gBDlDY;QC4DZ,iBD5DY;UC+DZ;;OD/DY,eAAgB,uBAAhB;;;;;;MAGA;MACA,mBAAc;;KAOlB,EAAI,EAAC,qBAAqB,gBAAiB;AAAA,MAEvC,eAAe;MAEf,mBAAc;;;;;EAU9B,EAAG,mBAAa,KAAK,QAAQ,MAAM;AAAA,GAG/B,kBAAa;GAEb;;;;;;;;;;;;;mBAAgB,eAAhB,kCAAgB;IAAhB;;MDnQQ,WCmQR,AAAgB;YAAhB;AAAA,MDjQQ,WCiQR,AAAgB;;;IAAhB;;oBAAgB;MAAhB;;;;;;OlJhFA,YkJgFA;;;;oBAAgB;MAAhB;;;;;;OlJhFA,YkJgFA;;;;;;;;;;;;KDrPI,eCqPJ;;KDrPI,eCqPJ;;;KDpPI,eCoPJ;;KDpPI,eCoPJ;;;KDnPI,eCmPJ;;KDnPI,eCmPJ;;;KDlPI,eCkPJ;;KDlPI,eCkPJ;;;;;MAAgB,4BAAhB;;MAAgB,2BAAhB;;;;;;;;;;;;;;;;MAAgB,4BAAhB;;;;;;;;GAEA,YAA4B;GAA5B;;;;;;;;;IAqNJ,QArNI;IAsNJ,YAtNI;IAuNJ,WAvNI;IAwNJ,YAxNI;;;;;;;EAKJ,sBAAiB;EAEjB,aAAQ;EAER;;;;;MAQI;IARJ;IAUQ,QAVR;;;;;;SAIG,WAGH;AAAA,IAAG,wBAAkB,GAAG;AAAA,GACpB;aAAY;GAAZ,WAAY,YAAZ;AAAA,IAAI,WAAJ,AAAY,IAAZ;;IACI;IACA,OAAO;;GAEX,gBAAW;GACX,gBAAW;;;QAMZ;AAAA;;;EAKH,kBAAa;EACb,kBAAa;EAEb,kBAAa,EAA4B;EAEzC;;EAEA,WAAO;EAEP,kBAAa,EAA6B;EAE1C,aAAa;EACgB;EAAzB,yBAAyB,wCAAkB;EAC3C,gCAAgC,6BAAwB;EACxD,+BAA+B,4BAAuB;EACtD,wBAAwB,qBAAgB;EACxC,qBAAqB,kBAAa;EAClC,qBAAqB,kBAAa;;eAQ1C,WAAuB;AAAA,EAGnB;EAKA,6BAAwB,qBAAiB,qBAAiB,qBAAiB;;0BAMxE,kBACH;AAAA,IAAG,EAAC,6BAA6B;AAAA,GAC7B,aAA4C;GAA5C;oFAAyB;GAAzB,qCAAyB;GAAzB;;;IlJ5JA,WkJ4JA,+DAAyB,mBAAzB;0BAAyB,mBAAzB;;;GACA,cAA2C;GAA3C;qFAAyB;GAAzB,uCAAyB;GAAzB;;;IlJ7JA,YkJ6JA,+DAAyB,kBAAzB;2BAAyB,kBAAzB;;;;;mBAQD,wBAA4D;AAAA,EAE/D,IAAO,oBAAP;AAAA,kFxJjNsB,CAAC,QwJiNK,yDxJjNa;;EwJmNzC,EAAG,EAAC,eAAe;AAAA;;EACnB,EAAG,YAAW,MAAM;AAAA,aAAU;;EAC9B,EAAG,gBAAU,MAAM;AAAA,aAAU;;EAE7B;;;EACA,IAAuB,6BAAvB;AAAA;eAAuB;GAAvB,iEAAuB,gBAAvB;;;;;IlJ9KI,WkJ8KJ;;;;;gBAAuB;GAAvB,kEAAuB,gBAAvB;;;;;IlJ9KI,YkJ8KJ;;;;;EACA;EAEA,cAAc;EACd,eAAe,UAAU;EACzB,eAAe;EAEf,EAAG,WACC;AAAA;;;;;;;;;SAEA;AAAA;;;;;;;EAGJ;EAEA,aAAa;EACb;EACA;EACA;EACA,qBAAqB;;kBAMlB,8CAAmI;AAAA,EAEtI,SAAS;EACT,SAAS;EACT,SAAS;EAKT,yCAAc,MAAiB;EAC/B,kDAAwB,EAAgB,EAAG,KAAU,MAAO,EAAG;EAC/D,yCAAe,MAAkB,KAAM;EAEvC,yCAAc,MAAiB;EAC/B,kDAAwB,EAAkB,EAAG,KAAU,MAAO,EAAG;EACjE,yCAAe,MAAkB,SAAU;EAE3C,yCAAc,MAAiB;EAC/B,kDAAwB,EAAiB,EAAG,KAAU,MAAO,EAAG;EAChE,yCAAe,MAAkB,QAAS;EAS1C,yCAAe,KAAM,EAAG,AAAQ,cAAY,IAApB;EAExB,2CAAgB;EAChB,2CAAgB;EAChB,2CAAgB;EAKhB;;0BAMG,eAAwD;AAAA,EAE3D,cAAc;EAEd,EAAI,YAAW,GACX;AAAA,UAAO;;EAGX,eAAe;EAEf,EAAG,WACC;AAAA;;;;;;;;;SAEA;AAAA;;;;;;;EAGJ;EAGA;EACA;EAGA,eAAa;EAEb,OAAO;;8BAMJ,eAAmE;AAAA,EAEtE,EAAI,oBAAc,GACd;AAAA,UAAO;;EAGX,EAAI,mBAAa,iBACb;AAAA,SAAM;;EAIV,WAAW,iBAAwB,qBAAiB,EAAzC,AAA4C,kBAAW,IAAvD;EACX,eAAe,iBAAwB,wBAAoB,EAA5C,AAA+C,qBAAc,IAA7D;EACf,cAAc,iBAAwB,uBAAmB,EAA3C,AAA8C,oBAAa,IAA3D;EACd,eAA4B;EAM5B,oBAAe,KAAM,KAAM,SAAU,QAAS;EAE9C,OAAO;EACP,WAAW;EACX,UAAU;EACV,WAAW;EAEX,kBAAa;EACb,qBAAgB;EAChB,oBAAe;EACf,qBAAgB;EAEhB,OAAO;;kBAOX,eAAyC;AAAA,EAErC,EAAG,wBAAuB,gBAAW;AAAA,GACjC,gBAAc;GACd,mBAAmB;GACnB,oCAAc,uBAAkB,YAAI,mCAAgC,UAAQ,+DAA4D,uBAAqB,gBAAY,iBAAS,KAAlL;GACA,oCAAc,0FAAd;GACA;;EAIJ,mBAAmB,uBAAqB,AAAC,kBAAW;EAGpD,EAAG,gBAAe,gBACd;AAAA,cAA4B;GAA5B;;;;;;;;;IAhCJ,OAgCI;IA/BJ,WA+BI;IA9BJ,UA8BI;IA7BJ,WA6BI;;;;;;;EAGJ,iBACI;EADJ,mBACoB;EADpB,kBACoC;EADpC,mBACoD;EADpD,eAEI;EAFJ,iBAEoB;EAFpB,gBAEoC;EAFpC,iBAEoD;EAFpD;;;;;;;;;;;;;;;;;;;;;;;;;GCtPI,cDsPJ;;;;;;GC7OI,gBD6OJ;;;;;GCtOI,eDsOJ;GC5NI,gBD4NJ;KCzNI;;ED8NJ,cAAc,uBAAuB;EAErC,mBAAoB;EACpB,sBAAoB;EACpB,qBAAoB;EACpB,sBAAoB;;aAOjB,iBAAuC;AAAA,EAG1C,aAAQ;EAER,4BAAwB;EAGxB,OAAO;;YAKX,WACI;AAAA,SAAO,aAAa,YAAO;;WAK/B,gBAAgC;AAAA,EAE5B,EAAG,eAAS,aAAa;AAAA,UAAO;;EAChC,EAAG,cAAQ,aAAa;AAAA,UAAO;;EAE/B,OAAO;;0BAIX,YACW;AAAA,QAAO;OAEV;GAAQ;OACR;GAAQ;OACR;GAAQ;OAER;GAAQ;OACR;GAAQ;OACR;GAAQ;OACR;GAAQ;OAER;GAAQ;OACR;GAAQ;OACR;GAAQ;OACR;GAAS;OAET;GAAS;OACT;GAAS;OACT;GAAS;OACT;GAAS;OACT;GAAS;OACT;GAAS;OACT;GAAS;OACT;GAAS;OACT;GAAS;OACT;GAAS;;GACA;;;gBAMjB,cAA4D;AAAA,EAExD,EAAG,WAAU,QACP;AAAA,UAAO;;EAGb,EAAI,WAAU,SACR;AAAA,UAAO;;EACb,EAAI,WAAU,SACR;AAAA,UAAO;;EAKb,EAAG,aAAY,QAAQ,YAAY,MAAM;AAAA,GAGrC,EAAG,eAAc,aACX;AAAA,WAAO;;GACb,EAAG,eAAc,aACX;AAAA,WAAO;;SAGb,EAAG,aAAY,QAAQ,YAAY,MAC/B;AAAA,UAAO;SAEX,EAAG,aAAY,QAAQ,YAAY,MAC/B;AAAA,UAAO;;EAIf,EAAG,cAAa,QAAQ,aAAa,MAAM;AAAA,GAGvC,EAAG,gBAAe,cACZ;AAAA,WAAO;;GACb,EAAG,gBAAe,cACZ;AAAA,WAAO;;SAGb,EAAG,cAAa,QAAQ,aAAa,MACjC;AAAA,UAAO;SAEX,EAAG,cAAa,QAAQ,aAAa,MACjC;AAAA,UAAO;;EAMf,wBAA8B;EAC9B,wBAA8B;EAE9B,EAAI,qBAAoB,mBAClB;AAAA,UAAO;;EACb,EAAI,qBAAoB,mBAClB;AAAA,UAAO;;EAGb,EAAG,WAAU,QAET;AAAA,KAAG,WAAU,SAAS,UAAU,MAC5B;AAAA,WAAO;UAGX,EAAG,WAAU,QAAQ,UAAU,OAC3B;AAAA,WAAO;;;EAQf,EAAI,eAAc,aACZ;AAAA,UAAO;;EACb,EAAI,eAAc,aACZ;AAAA,UAAO;;EACb,EAAI,gBAAe,aACb;AAAA,UAAO;;EAEb,EAAI,cAAa,YACX;AAAA,UAAO;;EACb,EAAI,cAAa,YACX;AAAA,UAAO;;EAGb,OAAO;;oBAIX,cAAgE;AAAA,EAY5D,EAAG,WAAU,QACP;AAAA,UAAO;;EAGb,EAAI,WAAU,SACR;AAAA,UAAO;;EACb,EAAI,WAAU,SACR;AAAA,UAAO;;EAIb,EAAG,aAAY,QAAQ,YAAY,MAAM;AAAA,GAGrC,EAAG,eAAc,aACX;AAAA,WAAO;;GACb,EAAG,eAAc,aACX;AAAA,WAAO;;SAGb,EAAG,aAAY,QAAQ,YAAY,MAC/B;AAAA,UAAO;SAEX,EAAG,aAAY,QAAQ,YAAY,MAC/B;AAAA,UAAO;;EAIf,EAAG,cAAa,QAAQ,aAAa,MAAM;AAAA,GAGvC,EAAG,gBAAe,cACZ;AAAA,WAAO;;GACb,EAAG,gBAAe,cACZ;AAAA,WAAO;;SAGb,EAAG,cAAa,QAAQ,aAAa,MACjC;AAAA,UAAO;SAEX,EAAG,cAAa,QAAQ,aAAa,MACjC;AAAA,UAAO;;EAKf,wBAA8B;EAC9B,wBAA8B;EAE9B,EAAI,qBAAoB,mBAClB;AAAA,UAAO;;EACb,EAAI,qBAAoB,mBAClB;AAAA,UAAO;;EAGb,EAAG,WAAU,QAET;AAAA,KAAG,WAAU,SAAS,UAAU,MAC5B;AAAA,WAAO;UAGX,EAAG,WAAU,QAAQ,UAAU,OAC3B;AAAA,WAAO;;;EAQf,EAAI,eAAc,aACZ;AAAA,UAAO;;EACb,EAAI,eAAc,aACZ;AAAA,UAAO;;EACb,EAAI,cAAa,YACX;AAAA,UAAO;;EACb,EAAI,cAAa,YACX;AAAA,UAAO;;EAGb,OAAO;;iBAIX,WACI;AAAA,WAAY;EAAZ;;;;;;;8BtBtH0B,QsBsH1B;;;;;;;;MtBvIY,QsBuIZ;MtBtIY,SsBsIZ;;MtBpIY,SsBoIZ;;;;;;;;;;;;kBAMJ,iBAAoC;AAAA,EAChC,EAAG,WAAU,GACT;AAAA;SAEA;AAAA;;EAEJ,OAAO,kBAAa;;;;;yBElzBjB,mBAA2C;AAAA,CAE9C,GAAW,YAAX;;;CAEA,yBAAyB;CAEzB,iCAAO;CAEP,EAAG,0BAAyB,MACxB;AAAA,sBAAe;QAEf;AAAA,sBAAe,uBAAuB;;CAG1C,aAAQ;CAER,EAAG,mBAAkB,MAAM;AAAA,KAAW,sBAAX;gG1JwKL,CAAC,Q0JxKoC,4E1JwKlB;;;C0JvKzC,EAAG,uBAAsB,MAAM;AAAA,EAE3B,GAAW,kBAAX;4F1JqKkB,CAAC,Q0JrKS,4E1JqKS;;E0JnKrC,cAAO,iDAAuB;EAC9B,iBAAY;;;;;;;UAWN,yBAA0C;AAAA,EAEpD,WAAW,qBAAkB;EAE7B,EAAG,SAAQ,QAAQ,sBAAY,UAC3B;AAAA,UAAO,OAAS;;EAGpB,OAAO;;yBAMJ;AAAA;;;;;;;EAEH,EAAG,YAAW,MACV;AAAA,UAAO;;EAGX,aAAa;EAAK,WAAW;EAC7B,iBAAiB;EAMH;;iDAAQ,IAAR;;;;KAuGd;GAvGc;GA2GV,SA3GU;;;;;EAAd,cAAc;EAYV,eAAe,cAAe;EAC9B,aAAa;EAEb;cAAY,iBAAZ;AAAA,GAAI,WAAJ,AAAY,SAAZ;;GACO;;;;;;;;IP0BP,SO1BO;MP2BL;;GO3BK,0BAAe,KAAf;;;;;;;;;GAAH,EAAG,QAAuB,IAAI;AAAA,IAC1B,EAAG,SAAQ,IAAI;AAAA,YAAQ;;IACd;;oDAAO,KAAP;;;;OAqFrB;KArFqB;KAyFjB,UAzFiB;;;;;IAAT,SAAS;IAAT;KAdJ,SAcI;KAbJ,cAaI;;IAVR,UAUQ;IATR,cAS+B;UACpB;AAAA,IACH,YAAY;IACZ,aAAa,WAAY;IACzB;iBAAa,eAAb;AAAA,KAAI,YAAJ,AAAa,OAAb;;KAEI,EAAG,UAAS,IACR;AAAA,MAAS;;sDAAO,MAAP;;;;SA8E7B;OA9E6B;OAkFzB,UAlFyB;;;;;MAAT,UAAS;MAAT;OArBZ,SAqBY;OApBZ,cAoBY;;MAjBhB,UAiBgB;MAhBhB,cAgBwC;YAExB;AAAA,eAAS;;KAGb,EAAG,SAAQ,gBAAc,GAAG;AAAA,MACxB,cAAe;MACf,SAAS;;KAGb;;;GAKR,EAAG,QAAO,SAAO,GAAG;AAAA,IAChB,cAAe;IACf,UAAU,UAAU;;GAGxB;;EAIR,OAAO;;iBAKJ;AAAA;;;;;;EAGH,aAAa;EAEb,aAAa;EAEb,aAAa,cAAc;EAE3B,QAAQ;EACG;;EAAX,WAAW;EAEX;;;;EAAgB;;;;EAAhB;;;;;;;;;GAEI,aAAa;GACb,YAAY,kBAAe;GAC3B,EAAG,UAAS,MAAM;AAAA,YAAQ;;GAI1B,UAAU,CAAC,gBAAgB,SAAS,YAAa,mBAAmB;GACpE,UAAU,SAAS,AAAC,gBAAgB;GAEpC,eAAe;GACf,EAAI,KAAI,OAAK,GAAI;AAAA,IACK,YAAoB,IAAE;IAAtB;;;;;;;;;;MPrCtB,UOqCsB;QPpCpB;;KOoCoB;;;;;;MP5BtB,UO4BsB;QP3BpB;;KO2BoB;;;;IAAlB,kBAAkB;IACN,kCAAS;IAArB,YAAY,sCAAiB,eAAjB,OAAiB,eAAjB;IACZ,EAAG,gBAAe,IAAM;AAAA,iBAAY;;;GAGxC,UAAU,WAAW;GACrB,SAAS,SAAS,OAAQ,MAAI;GAE9B,EAAE;;EAGN,OAAO;;YAMG;AAAA;;;;;;EAGV,aAAa;EACb,mBAAmB,AAAC,gBAAgB;EACpC,aAAa,0CAAgB;EAE7B;aAAa,eAAb;AAAA,GAAI,YAAJ,AAAa,OAAb;;GAEI,aAAa,mBAAc,MAAO,YAAa;GAE/C,SAAS,SAAU,OAAQ;GAE3B,EAAG,eACC;AAAA,sBAAkB;;;EAM1B,OAAO;;aAKG;AAAA;;;EAEH,aAAgB,cAAe;EAA/B,aAAqC,cAArC;mDAAkD,aAAlD;;iBAMG;AAAA;;;;;;EAEG;;iDAAS,QAAT;;;;KA5Bb;GA4Ba,sCAAkB,YAAa;GAA/B,AAxBT,SAwBS;;;;;EAAb,aAAa;EACC,cAAU,cAAV;eAAmB,cAAnB;EAAd,cAAc,2CAAgC,aAAhC;EAEP;;YAAc;EAAd;;mBAAc;;;EAAd,UAAsB;EAAtB;;mBAAsB;;;EAAtB;;;;;;;;;mBAKG;AAAA;;;EAEV,aAAa,cAAc;EAE3B,OAAO,gBAAgB,CAAC,CAAC,wBAAmB,aAAa;;6BAM/C;AAAA;;;EAEV,OAAO,gBAAgB,CAAE,uBAAkB,CAAE,wBAAmB;;SAM3D,WAAiB;AAAA,EAEtB,cAAO;EACP,SAAS;EACM;;GAAf,eAAe;GACX,YAAY,aAAU;GACtB;GACA,kBAAa;GACb,QAAQ;;;UAKA,WAAkB;AAAA,EAAlB;EAEZ,GAAO,cAAS,GAAhB;AAAA;;EAEA;EAEA,OAAO,qBAAY,yBAA0B;AAAA,GAEzC,iBAAQ;GAGR,gBAAgB,wDAAsB;GAEtC,eAAe,iBAA2B;AAAA,IAG/B,2DAAwB;IAA/B,gBAAO;IACP;IACA,SAAS;IAET,GAAW,eAAX;;;IAEA,eAAe;IAEf;cAAa;IAAb,WAAa,YAAb;AAAA,KAAI,YAAJ,AAAa,IAAb;;KAEI,YAAY,kBAAkB,CAAE,oBAAc;KAC9C,aAAa,wBAAe;KAE5B,EAAG,WAAU,MACT;AAAA,oBAAe;YAEf;AAAA,oBAAe,2BAAoB;;;IAK3C,qBAAY,eAAe,iBAA+B;AAAA,KAEtD,mBAAY;KAEZ,iBAAQ;KACR,QAAQ;aAEH,iBAAgB;AAAA,KAErB,iBAAQ;KACR,OAAO;;YAIN,kBAAgB;AAAA,IAErB,iBAAQ;IACR,OAAO;;;;eAUnB,iBAA4C;AAAA,EAExC,cAAoB;EAEpB;aAAa,eAAb;AAAA,GAAI,YAAJ,AAAa,OAAb;;GACI,aAAa;GACb,aAAU,WAAS;GACnB,EAAE;;;YAKV,gBAAwC;AAAA,EAEpC,YAAO;EAEP,EAAG,cAAQ,MACP;AAAA,qBAAa,kBAAe;;EAGhC,OAAO;;YAIF,WACL;AAAA,SAAO,gBAAgB,UAAK;;;;;;;;;;;;;;;qBC1RzB,mBAzDX;AAAA,CAwe8B,AAxe9B,oBAwe8B;CA9RR,AA1MtB,WA0MsB,mBAAW,EAAE,EAAE;CApJb,AAtDxB,cAsDwB;CAFO,AApD/B,qBAoD+B;CAFG,AAlDlC,wBAkDkC;CAFD,AAhDjC,uBAgDiC;CArBI,AA3BrC,oBA2BqC;CAFH,AAzBlC,kBAyBkC;CADI,AAxBtC,sBAwBsC;CAXkB,AAbxD,cAawD;CADE,AAZ1D,gBAY0D;CADF,AAXxD,WAWwD;CAFA,AATxD,WASwD;CADA,AARxD,YAQwD;CAFA,AANxD,YAMwD;CAJxB,AAFhC,YAEgC;CAyDxB,iBAAY;CACZ,yBAAoB;CACpB,mBAAc;CACd,2BAAsB;CACtB,sBAAiB;CAGjB,GAAI,YAAJ;EAAI,WAAU;;CACD,GAAI,uBAAJ;EAAI,sBAAqB;;CAAtC,kBAAiB;CACjB,gBAAS,mBAAW,2BAAc,EAAG,2BAAc;CACnD,aAAM;CAEK,GAAI,qBAAJ;EAAI,oBAAmB,sBAAc,EAAG,EAAG,yBAAe;;CAArE,kBAAe;CAEf,EAAG,yBAAwB,MACvB;AAAA,cAAO;;CAGX;;;;4BAAiB;CAET;;MAEJ;EACI,eAAW;;MACf;EACI,qBAAiB;;MACrB;;;CAIJ;CAEA,cAAS;;;;;YAQN,mBAA6C;AAAA,EAEhD,kBAAa;EAEb;;;;;;;;;;;;;KAAgB,mBAAhB;;iBAAgB;GAAhB;;;;;;;;;KAAgB,gBAAhB;;cAAgB;;EAAhB,GAAgB,gBAAhB;eAAgB;GAAhB;;;;;;;;KAAgB,iBAAhB;;eAAgB;;EAAhB,GAAgB,qBAAhB;qBAAgB;;EAAhB,GAAgB,2BAAhB;yBAAgB;;EAAhB,GAAgB,uBAAhB;qBAAgB;;EAAhB,GAAgB,qBAAhB;mBAAgB;GAAhB;;;;;;;;;;;;;;;;;;;;mBAIG,mBAAmD;AAAA,EAEtD,kBAAa;EAEb;;;;;;;;;;;;;KAAgB,mBAAhB;;iBAAgB;GAAhB;;;;;;;;;KAAgB,gBAAhB;;cAAgB;;EAAhB,GAAgB,gBAAhB;eAAgB;GAAhB;;;;;;;;KAAgB,iBAAhB;;eAAgB;;EAAhB,GAAgB,qBAAhB;qBAAgB;;EAAhB,GAAgB,2BAAhB;yBAAgB;;EAAhB,GAAgB,uBAAhB;qBAAgB;;EAAhB,GAAgB,qBAAhB;mBAAgB;GAAhB;;;;;;;;;;;;;;;;;;;EAEA;;;YAAyB;EAAzB;;mBAAyB;;;EAAzB,UAA2B;EAA3B;;mBAA2B;;;EAA3B,UAA6B;EAA7B;;mBAA6B;;;EAA7B;;;;;;;;;;;WAIG,kBAAmC;AAAA,EAEtC;;;;;EAEiB;WAA+B;EAA/B,SAAkD;EAAlD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAjB,iBAAiB;EACV;UAAiC;EAAjC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;aAIJ,kBAAqC;AAAA,EAExC;;;;;EAEgB;WAA+B;EAA/B,SAAkD;EAAlD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAhB,gBAAgB;EACT;EAAiC;WAAqB;EAArB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAjC;EAAiC;;;;;;;;;;;;;;;;;;;GAAjC,IAAiC;;;;;;;;;;;;;;;;;;;;GAAjC,IAAiC;;EAAjC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uBAIJ,kBAEH;AAAA,SAAO,gBAAS,QAAS;;yBAItB,kBAA0D;AAAA,EAE7D,EAAI,oBAAc,8BACd;AAAA,GAAO;;;;;kCAAsB,UAAtB,AAAsB,UAAtB,AAAsB,UAAtB,AAAsB;GAAtB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SACJ,EAAI,oBAAc,oCACrB;AAAA,UAAO,yBAAqB;;EAIzB;;;;;kCAAsB,UAAtB,AAAsB,UAAtB,AAAsB,UAAtB,AAAsB;EAAtB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;yBAIJ,4BAAqF;AAAA,EAExF,EAAI,oBAAc,8BACd;AAAA,GAAO;;;;;kCAAuB,UAAvB,AAAuB,UAAvB,AAAuB,UAAvB,AAAuB;GAAvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SACJ,EAAI,oBAAc,oCACrB;AAAA,GAAO,iBAAsC;GAAtC;IAkLP,aAlLO;;iCAA6B;GAA7B;;;;EAIJ;;;;;kCAAuB,UAAvB,AAAuB,UAAvB,AAAuB,UAAvB,AAAuB;EAAvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;WAQJ,WAAmB;AAAA,EAEtB;;;;;EAGA,EAA0B,sBAA1B;AAAA,8BAAY;SAAZ;AAAA,+BAAY;;EACZ,EAA2B,kBAA3B;AAAA,8BAAY;SAAZ;AAAA,+BAAY;;;mBAMT,WAA2B;AAAA,EAI9B,EAAG,gBAAU,MAAM;AAAA;;EAGnB;EACA;;wBAKG,YAEH;AAAA,yBAAkB;;kBAKtB,WAEI;AAAA,IAAG,uBAAiB,eAAU,MAAM;AAAA,GAEhC;cAAuB;GAAvB,cAA+B;GAA/B,UAAoC;GAApC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GCiLJ,KDjLI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GCuLJ,KDvLI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IC2LI,KD3LJ;;GC8LJ,KD9LI;;;;;;;;;;GAEA,oDAAgC;;;sBAMxC,WAA8B;AAAA,EAEZ;;;;;;;;;EAAd,mBAAc;EAEd,EAAG,EAAC,sBACA;AAAA;;EAGkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAtB,2BAAsB;EACH;;;;KCpGb;;EDoGN,wBAAmB;EAEnB,uBAAkB;;4BAItB,WAAoC;AAAA,EAEhC,EAAG,EAAC,uBACA;AAAA;;EAGG;;OAQH;GAEI,SAAS;GACT,SAAS;GACT,SAAS;GACT,SAAS;GAET,EAAG,oBAAgB,MAAM;AAAA,SAAK;;GAC9B,EAAG,qBAAgB,MAAM;AAAA,SAAK;;GAC9B,EAAG,mBAAgB,MAAM;AAAA,SAAK;;GAC9B,EAAG,sBAAgB,MAAM;AAAA,SAAK;;GAE9B;eAAmD;GAAnD,WAAyD;GAAzD;WAAuC,KAAJ;GAAnC,QAA2C,KAAI;GAA/C;aAAuC,KAAJ,MAAnC;aAA2C,KAAI,MAA/C;;;;;;;;;;;;;;;;;;;OAfJ;GACI;iBAA0C;GAA1C,aAAkD;GAAlD,YAAwD;GAAxD,6BAAmC,aAAnC;;;;;;;;;;;;;;;;;;;;;;;;;;;;OAJJ;;;EAsBO;;;;KCxIL;;EDwIN,gBAAW;EAEX,wBAAmB;;eAQhB,sBAEH;AAAA,IAAG,QACC;AAAA,8BAA2B;SAE3B;AAAA,+BAA4B;;;gCAK7B,WAEH;AAAA,EAAQ;;OAEJ;GAEI,sBAAiB;GACjB,kBAAa;;OAIjB;GAEI,sBAAiB;GACjB,kBAAa;;OAIjB;;;;0BAMD,WAEH;AAAA,SAAO,eACU,2CACA,wBACI,cACV,YACF;;yBAQN,kBAA0D;AAAA,EAE7D;;;;;EAEO;;;;UAA0B;EAA1B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;yBAIJ,kBAA0D;AAAA,EAE7D;;;;;EAEO;;;;UAA2B;EAA3B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gCAIJ,4BAAmF;AAAA,EAEtF,GAAI,aAAJ;GAAI,YAAW;;EAEf,iBAAiB,aAAS;EAE1B,iBAAiB,cAAY;EAC7B,kBAAkB,cAAY;EAE9B,OAAO,mBACF,AAAE,eAAe,aAAe,WACjC,CAAC,CAAE,eAAe,eAAgB;;cAQnC,kBAA+C;AAAA,EAElD,EAAG,YAAW,MACV;AAAA,wBAAgB;;EAGpB,OAAO,cAAS;;WAIb,eAAuC;AAAA,EAE1C,wBAAmB;EAEnB,EAAI,kBAAY,4BACZ;AAAA,gBAAQ,wCAAoB,OAApB,4BAA0B;SAElC;AAAA,gBAAQ;;EAGZ,OAAO,WAAM;;gBAIV,oBAAmD;AAAA,EAEtD,gBAAW;EAEX,WAAQ;EAAR;;;;;;;EAEA,OAAO;;cAIJ,kBAA6C;AAAA,EAEhD,wBAAmB;EAEnB,cAAS;EAKT,WAAQ;EAAR;;;;;;;EAEA,OAAO;;YAIJ,gBAAyC;AAAA,EAE5C,wBAAmB;EAEnB,OAAO,YAAO;;WAIX,eAAuC;AAAA,EAE1C,wBAAmB;EAEnB,OAAO,WAAM;;kBAIV,eAA0D;AAAA,EAE7D,wBAAmB;EAEnB,OAAO,kBAAa;;mBAIjB,eAA2D;AAAA,EAE9D,wBAAmB;EAEnB,OAAO,mBAAc;;iBAIlB,eAAyD;AAAA,EAE5D,wBAAmB;EAEnB,OAAO,iBAAY;;oBAIhB,eAA4D;AAAA,EAE/D,wBAAmB;EAEnB,OAAO,oBAAe;;YAK1B,aAAsC;AAAA,EAElC,gBAAgB;EAIhB,EAAG,aAAY,mBACX;AAAA,eAAY;;EAGT;;OAEH;GAGI;YAAoB,IAAE;GAAtB;;;;;;GACA;YAAoB,IAAE;GAAtB;;;;;;GACA;aAAoB,IAAE;GAAtB;;;;;;;OAEJ;;OAMA;;;EAOJ,OAAO,YAAO;;cAKlB,aAA0C;AAAA,EAEtC,cAAS;EAEF;;OAEH;GAEI,EAAG,EAAC,qBAAgB,CAAC,aAAQ;AAAA,IAGzB,4BAAuB;IACnB;aAAQ,OAAO,AAAC,kBAAW;IAA3B;;;;;;IACA;aAAQ,OAAO,AAAC,kBAAW;IAA3B;;;;;;IACJ,4BAAuB;IAEvB;cAAwB;IAAxB,UAAwB;IAAxB,SAAwB;IAAxB,SAAwB;IAAxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;OAIR;;OAEA;;;EAIJ,SAAc;EAAd,eAAsB;EAAtB;;;EAEA,OAAO;;cAIJ,WAEH;AAAA,SAAO;;WAIJ,WAEH;AAAA,SAAO;;gBAIJ,WAEI;AAAA;;aAIJ,WAEI;AAAA;;gBAIJ,WAEH;AAAA,SAAO;;gBAIX,aAAgD;AAAA,EAE5C,wBAAmB;EAEnB,gBAAW;EAEJ;;OAEH;GAGI;WAAmB,mBAAY,OAAK,EAAG,OAAK;GAA5C;;;;;;O9JtOR;K8JsOQ;;;;;;;;;;;;O9JtMR;K8JsMQ;;;;;GAEA,aAAQ;;OAEZ;;OAEA;;;EAKJ,OAAO;;gBAIJ,aAEH;AAAA,EAAO;mBAAqB;EAArB,GAAqB,MAArB;;;;;;;;;;;;;aAIJ,aAEH;AAAA,EAAO;gBAAkB;EAAlB,GAAkB,MAAlB;;;;;;;;;;;;WAIX,aAAuC;AAAA,EAEnC,WAAM;EAEC;;OAEH;GAEA,UAAU;GACV,UAAU;GAEV,EAAG,kBAAY,MAAM;AAAA,IACjB,MAAM,OAAO,AAAC,kBAAW;IACzB,MAAM,OAAO,AAAC,kBAAW;;GAGzB,oBAAe;GACX,+BAA0B;GACtB;aAAW;GAAX;;oBAAW;;;GACX;cAAW;GAAX;;qBAAW;;;GACf,+BAA0B;GAC9B,oBAAe;GAEf;cAAkB;GAAlB;;qBAAkB;;;GAClB;cAAkB;GAAlB;;qBAAkB;;;;OAEtB;GAEI,YAAgB;GAAhB;;;;;;;;;;;;;OAEJ;;;EAIJ,UAAc;EAAd,gBAAmB;EAAnB;;;EAEA,OAAO;;kBAIJ,aAA4C;AAAA,EAG/C;;;;;;;;;;;;;EAEA,EAAG,cAAa,MAAM;AAAA;iBAAS;GAAT;;;;;;;;;EACtB,EAAG,WAAa,MAAM;AAAA;cAAS;;EAC/B,EAAG,WAAa,MAAM;AAAA,eAAS;GAAT;;;;;;;;EACtB,EAAG,YAAa,MAAM;AAAA;eAAS;;EAE/B,EAAG,gBAAqB,MAAM;AAAA,qBAAiB;;EAC/C,EAAG,sBAAqB,MAAM;AAAA,yBAAiB;;EAC/C,EAAG,kBAAqB,MAAM;AAAA,qBAAiB;;EAG/C,EAAI,gBAAe,MACf;AAAA,mBAAW;GAAX;;;;;;;;SAEA;AAAA,mBAAW;GAAX;;;;;;;;;;gBAKD,YAEH;AAAA,eAAQ;;mBAIL,YAEH;AAAA,kBAAW;;;;;;;;;;;;uB9B/XR,sBAtBX;AAAA,CAsBW;;;;;;;;;;;;CAlBsC,AAJjD,SAIiD;CADA,AAHjD,SAGiD;CADA,AAFjD,SAEiD;CAsBzC;CAEA,cAAS;CAET,WAAI;CACJ,WAAI;CACJ,WAAI;CACJ,SAAI;CAEJ;;;;;;QA3BJ,aAAyB;AAAA,EACrB,SAAI;EACJ;EACA,OAAO;;SAEX,aAAyB;AAAA,EACrB,SAAI;EACJ;EACA,OAAO;;SAEX,aAAyB;AAAA,EACrB,SAAI;EACJ;EACA,OAAO;;OAkBK,sBAA8E;AAAA,EAE1F,YAAY;EACZ,YAAY;EACZ,YAAY;EACZ,YAAY;EAGZ,EAAG,OAAM,MAAM;AAAA,WAAQ;;EACvB,EAAG,OAAM,MAAM;AAAA,WAAQ;;EACvB,EAAG,OAAM,MAAM;AAAA,WAAQ;;EACvB,EAAG,OAAM,MAAM;AAAA,WAAQ;;EAEnB,WAAI;EACJ,WAAI;EACJ,WAAI;EACJ,SAAI;EAER;EAEA,OAAO;;SAIK;AAAA;;;;;;EAEZ,wCAAY,iBAAkB,MAAO;EAErC,EAAG,UAAS,MAAM;AAAA,GAEd,cAAc;GACd,cAAc;GACd,cAAc;GACd,cAAc;GAEd,gBAAgB;GAChB,gBAAgB;GAChB,gBAAgB;GAChB,gBAAgB;GAEhB,EAAG,sBAAO,MAAO,mBAAW;AAAA,IAExB,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IAEV,YAAY;IACZ,YAAY;IACZ,YAAY;IACZ,YAAY;UAET;AAAA,IAEH,EAAG,YAAW,MAAM;AAAA,KAAE,UAAU;KAAS,YAAY;;IACrD,EAAG,YAAW,MAAM;AAAA,KAAE,UAAU;KAAS,YAAY;;IACrD,EAAG,YAAW,MAAM;AAAA,KAAE,UAAU;KAAS,YAAY;;IACrD,EAAG,YAAW,MAAM;AAAA,KAAE,UAAU;KAAS,YAAY;;;GAIzD,kBAA4B;GAE5B,EAAG,YAAW;AAAA,oBAAgB;;GAC9B,EAAG,YAAW;AAAA,oBAAgB;;GAC9B,EAAG,YAAW;AAAA,oBAAgB;;GAC9B,EAAG,YAAW;AAAA,oBAAgB;;GAE9B,OAAO,yBAAe,KAAM,iBAAkB,YAAa;SAG3D;AAAA,SAAM;;;YAKP,WAA+B;AAAA,EAElC,kBAAa;EACT,+CAAmB;EACvB,kBAAa;EAEb,OAAO;;SAGK,WACZ;AAAA,SAAO,qBAAa,OAAE,OAAE,OAAE;;WAGvB,WACH;AAAA,SAAO,AAAK;;aAGT,iBAA8C;AAAA,EAEjD,UAAgB;EAChB,UAAgB;EAChB,UAAgB,MAAM;EACtB,UAAgB,MAAM;EAEtB,SAAe;EACf,EAAI,QAAO,KACP;AAAA,QAAK;SACF,EAAI,QAAO,UACd;AAAA,QAAK,AAAC,CAAC,KAAK,CAAC,WAAW,YAAY,MAAM,OAAO;SAC9C,EAAI,QAAO,UACd;AAAA,QAAK,AAAC,KAAK,CAAC,WAAW,YAAY,MAAM;SACtC,EAAI,QAAO,UACd;AAAA,QAAK,AAAC,KAAK,CAAC,WAAW,YAAY,MAAM;;EAG7C,SAAe,MAAM;EAErB,SAAe,AAAI,OAAO,MACtB,IACG,AAAI,UAAK,MACZ,MAAM,MAEN,MAAM,CAAC,IAAI;EAGX,WAAI;EACJ,WAAI;EACJ,WAAI;EACJ,SAAI;EAER,OAAO;;YAIK,WACZ;AAAA,SAAO,SAAO,SAAE,UAAQ,SAAE,UAAQ,SAAE,UAAQ,SAAE;;;;;uBA6B3C,sBAtBX;AAAA,CAsBW;;;;;;;;;;;;CAlBsC,AAJjD,SAIiD;CADA,AAHjD,SAGiD;CADA,AAFjD,SAEiD;CAsBzC;CAEA,cAAS;CAET,WAAI;CACJ,WAAI;CACJ,WAAI;CACJ,SAAI;CAEJ;;;;;;QA3BJ,aAAyB;AAAA,EACrB,SAAI;EACJ;EACA,OAAO;;SAEX,aAAyB;AAAA,EACrB,SAAI;EACJ;EACA,OAAO;;SAEX,aAAyB;AAAA,EACrB,SAAI;EACJ;EACA,OAAO;;OAkBK,sBAA2E;AAAA,EAEvF,YAAY;EACZ,YAAY;EACZ,YAAY;EACZ,YAAY;EAGZ,EAAG,OAAM,MAAM;AAAA,WAAQ;;EACvB,EAAG,OAAM,MAAM;AAAA,WAAQ;;EACvB,EAAG,OAAM,MAAM;AAAA,WAAQ;;EACvB,EAAG,OAAM,MAAM;AAAA,WAAQ;;EAEnB,WAAI;EACJ,WAAI;EACJ,WAAI;EACJ,SAAI;EAGR;EAEA,OAAO;;SAIK;AAAA;;;;;;EAEZ,wCAAY,iBAAkB,MAAO;EAErC,EAAG,UAAS,MAAM;AAAA,GAEd,cAAc;GACd,cAAc;GACd,cAAc;GACd,cAAc;GAEd,gBAAgB;GAChB,gBAAgB;GAChB,gBAAgB;GAChB,gBAAgB;GAEhB,EAAG,sBAAO,MAAO,mBAAW;AAAA,IAExB,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IAEV,YAAY;IACZ,YAAY;IACZ,YAAY;IACZ,YAAY;UAET;AAAA,IAEH,EAAG,YAAW,MAAM;AAAA,KAAE,UAAU;KAAS,YAAY;;IACrD,EAAG,YAAW,MAAM;AAAA,KAAE,UAAU;KAAS,YAAY;;IACrD,EAAG,YAAW,MAAM;AAAA,KAAE,UAAU;KAAS,YAAY;;IACrD,EAAG,YAAW,MAAM;AAAA,KAAE,UAAU;KAAS,YAAY;;;GAIzD,kBAA4B;GAE5B,EAAG,YAAW;AAAA,oBAAgB;;GAC9B,EAAG,YAAW;AAAA,oBAAgB;;GAC9B,EAAG,YAAW;AAAA,oBAAgB;;GAC9B,EAAG,YAAW;AAAA,oBAAgB;;GAE9B,OAAO,yBAAe,KAAM,iBAAkB,YAAa;SAG3D;AAAA,SAAM;;;YAKP,WAAoB;AAAA,EAEvB,kBAAa;EACT,+CAAmB;EACvB,kBAAa;EAEb,OAAO;;SAGK,WACZ;AAAA,SAAO,qBAAa,OAAE,OAAE,OAAE;;WAGvB,WAEH;AAAA,SAAO,AAAK;;cAGA,WAAiC;AAAA,EAC7C;EACA,OAAO;;gBAGK,qBAAwD;AAAA,EAEpE;EACA,OAAO,eAAW,AAAK;;aAGpB,iBAA8C;AAAA,EAEjD,UAAgB;EAChB,UAAgB;EAChB,UAAgB,MAAM;EACtB,UAAgB,MAAM;EAEtB,SAAe;EAEf,EAAI,QAAO,KACP;AAAA,QAAK;SACF,EAAI,QAAO,UACd;AAAA,QAAK,CAAC,KAAK,CAAC,WAAW,YAAY,MAAM,OAAO;SAC7C,EAAI,QAAO,UACd;AAAA,QAAK,KAAK,CAAC,WAAW,YAAY,MAAM;SACrC,EAAI,QAAO,UACd;AAAA,QAAK,KAAK,CAAC,WAAW,YAAY,MAAM;;EAG5C,SAAe,AAAI,OAAO,IACtB,IAEA,IAAI,MAAM;EAGd,WAAI;EACJ,WAAI;EACJ,WAAI;EACJ,SAAI;EAEJ,OAAO;;YAIK,WACZ;AAAA,SAAO,SAAO,SAAE,UAAQ,SAAE,UAAQ,SAAE,UAAQ,SAAE;;;;;8B+B1mBpC,gBAAsB;AAAA,CAChC,WAAM;CACN,gBAAW;CACX,aAAQ;;;;;UAGL,WAAmB;AAAA,EACtB,WAAM;EAAM,gBAAW;EAAM,aAAQ;;;;qBA8B3B;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAMV,gBAAW;CAEX,QAAQ;CACR,KAAO,OAAM,IACT,mBAAc;CAGlB;QACI;CADJ,OACS;CADT,OACc;CADd,QACmB;CADnB,OAEI;CAFJ,OAES;CAFT,OAEc;CAFd,QAEmB;CAFnB,OAGI;CAHJ,OAGS;CAHT,QAGc;CAHd,QAGmB;CAHnB,OAII;CAJJ,OAIS;CAJT,QAIc;CAJd,QAImB;CAGnB,qBAAgB,iBAAwB;;;;;MAK9B,0EAKd;AAAA,EAEI,QAAQ;EAEJ,EAAE,KAAK;EAAK,EAAE,KAAK;EAAK,EAAE,KAAM;EAAK,EAAE,MAAM;EAC7C,EAAE,KAAK;EAAK,EAAE,KAAK;EAAK,EAAE,KAAM;EAAK,EAAE,MAAM;EAC7C,EAAE,KAAK;EAAK,EAAE,KAAK;EAAK,EAAE,MAAM;EAAK,EAAE,MAAM;EAC7C,EAAE,KAAK;EAAK,EAAE,KAAK;EAAK,EAAE,MAAM;EAAK,EAAE,MAAM;EAEjD,OAAO;;YAGJ,WAAoB;AAAA,EACvB,QAAQ;EACY,oBAAkB;EAAe,qBAAkB;EAAgB,qBAAmB;EAAgB,qBAAmB;EACzH,qBAAkB;EAAe,qBAAkB;EAAgB,qBAAmB;EAAgB,qBAAmB;EACzH,qBAAkB;EAAe,qBAAkB;EAAgB,sBAAmB;EAAgB,sBAAmB;EACzH,sBAAkB;EAAe,sBAAkB;EAAgB,sBAAmB;EAAgB,sBAAmB;EAH7I,UAAU,AAAC,UAAS,CAAY,EAAE,KAAd,aAAwB,UAAS,CAAY,EAAE,KAAd,eAAyB,UAAS,CAAY,EAAG,KAAf,eAA0B,UAAS,CAAY,EAAE,MAAd,eAAyB,SACxI,UAAS,CAAY,EAAE,KAAd,eAAwB,UAAS,CAAY,EAAE,KAAd,eAAyB,UAAS,CAAY,EAAG,KAAf,eAA0B,UAAS,CAAY,EAAE,MAAd,eAAyB,SACxI,UAAS,CAAY,EAAE,KAAd,eAAwB,UAAS,CAAY,EAAE,KAAd,eAAyB,UAAS,CAAY,EAAE,MAAd,iBAA0B,UAAS,CAAY,EAAE,MAAd,iBAAyB,SACxI,UAAS,CAAY,EAAE,KAAd,iBAAwB,UAAS,CAAY,EAAE,KAAd,iBAAyB,UAAS,CAAY,EAAE,MAAd,iBAA0B,UAAS,CAAY,EAAE,MAAd,iBAAyB;EACnJ,OAAO;;WAGJ,WAA6B;AAAA,SAAO,cAAS;;WAC7C,WAA6B;AAAA,SAAO,cAAS;;WAC7C,WAA6B;AAAA,SAAO,cAAS;;WAC7C,WAA6B;AAAA,SAAO,cAAS;;WAE7C,WAA6B;AAAA,SAAO,cAAS;;WAC7C,WAA6B;AAAA,SAAO,cAAS;;WAC7C,WAA6B;AAAA,SAAO,cAAS;;WAC7C,WAA6B;AAAA,SAAO,cAAS;;WAE7C,WAA6B;AAAA,SAAO,cAAS;;WAC7C,WAA6B;AAAA,SAAO,cAAS;;WAC7C,WAA6B;AAAA,SAAO,cAAS;;WAC7C,WAA6B;AAAA,SAAO,cAAS;;WAE7C,WAA6B;AAAA,SAAO,cAAS;;WAC7C,WAA6B;AAAA,SAAO,cAAS;;WAC7C,WAA6B;AAAA,SAAO,cAAS;;WAC7C,WAA6B;AAAA,SAAO,cAAS;;WAE7C,aAAmC;AAAA,EAAE,cAAS,KAAK;EAAI,OAAO;;WAC9D,aAAmC;AAAA,EAAE,cAAS,KAAK;EAAI,OAAO;;WAC9D,aAAmC;AAAA,EAAE,cAAS,KAAK;EAAI,OAAO;;WAC9D,aAAmC;AAAA,EAAE,cAAS,KAAK;EAAI,OAAO;;WAE9D,aAAmC;AAAA,EAAE,cAAS,KAAK;EAAI,OAAO;;WAC9D,aAAmC;AAAA,EAAE,cAAS,KAAK;EAAI,OAAO;;WAC9D,aAAmC;AAAA,EAAE,cAAS,KAAK;EAAI,OAAO;;WAC9D,aAAmC;AAAA,EAAE,cAAS,KAAK;EAAI,OAAO;;WAE9D,aAAmC;AAAA,EAAE,cAAS,KAAK;EAAI,OAAO;;WAC9D,aAAmC;AAAA,EAAE,cAAS,KAAK;EAAI,OAAO;;WAC9D,aAAmC;AAAA,EAAE,cAAS,MAAM;EAAI,OAAO;;WAC/D,aAAmC;AAAA,EAAE,cAAS,MAAM;EAAI,OAAO;;WAE/D,aAAmC;AAAA,EAAE,cAAS,MAAM;EAAI,OAAO;;WAC/D,aAAmC;AAAA,EAAE,cAAS,MAAM;EAAI,OAAO;;WAC/D,aAAmC;AAAA,EAAE,cAAS,MAAM;EAAI,OAAO;;WAC/D,aAAmC;AAAA,EAAE,cAAS,MAAM;EAAI,OAAO;;gBAExD,WAAwD;AAAA,EAElE,QAAQ;EAER,KAAM,KAAI,IAAV;AAAA,GACI,mBAAc,KAAK,cAAS;GAC5B,EAAE;;EAGN,OAAO;;YAIG,WAA8B;AAAA,EAEpC;SACI;EADJ,OACO;EADP,OACU;EADV,QACa;EADb,OAEI;EAFJ,OAEO;EAFP,OAEU;EAFV,QAEa;EAFb,OAGI;EAHJ,OAGO;EAHP,QAGU;EAHV,QAGa;EAHb,OAII;EAJJ,OAIO;EAJP,QAIU;EAJV,QAIa;EAGjB,OAAO;;QAKG,YAAmC;AAAA,EAE7C,SAAS;EAEL;SACI,GAAG;EADP,OACW,GAAG;EADd,OACkB,GAAG;EADrB,QAC0B,GAAG;EAD7B,OAEI,GAAG;EAFP,OAEW,GAAG;EAFd,OAEkB,GAAG;EAFrB,QAE0B,GAAG;EAF7B,OAGI,GAAG;EAHP,OAGW,GAAG;EAHd,QAGkB,GAAG;EAHrB,QAG0B,GAAG;EAH7B,OAII,GAAG;EAJP,OAIW,GAAG;EAJd,QAIkB,GAAG;EAJrB,QAI0B,GAAG;EAGjC,OAAO;;UAGG;AAAA;;;;;;EAEV,YAAY,AAAc,YAAd;EACZ,QAAQ,SAAS;EACjB,QAAQ,SAAS;EAEjB;SACK,IAAI;EADT,OACkB,IAAG;EADrB,OAC8B;EAD9B,QACkC;EADlC,OAEI,CAAC,IAAI;EAFT,OAEkB,IAAG;EAFrB,OAE8B;EAF9B,QAEkC;EAFlC,OAGc;EAHd,OAG0B;EAH1B,QAG8B;EAH9B,QAGmC;EAHnC,OAIc;EAJd,OAI0B;EAJ1B,QAI8B;EAJ9B,QAImC;EAGnC,OAAO;;gBAIG,YAA2C;AAAA,EAErD,cAAS,MAAM,WAAW;EAC1B,cAAS,MAAM,WAAW;EAC1B,cAAS,MAAM,WAAW;EAE1B,OAAO;;eAIG,WACV;AAAA,SAAO,mBAAW,cAAS,IAAK,cAAS,IAAK,cAAS,IAAI;;mBAGjD,YAA8C;AAAA,EAExD,YAAY;EACZ,SAAS;EAEU,SAAe,GAAG;EAAlB,SAAsB,GAAG;EAAzB,SAA6B,GAAG;EAAhC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAnB,eAAe,IAAI;EACA,UAAe,GAAG;EAAlB,UAAsB,GAAG;EAAzB,UAA6B,GAAG;EAAhC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAnB,eAAe,IAAI;EACA,UAAe,GAAG;EAAlB,UAAsB,GAAG;EAAzB,UAA6B,GAAG;EAAhC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAnB,eAAe,IAAI;EAEnB,cAAS,KAAM,GAAG,KAAM;EACxB,cAAS,KAAM,GAAG,KAAM;EACxB,cAAS,KAAM,GAAG,KAAM;EAExB,cAAS,KAAM,GAAG,KAAM;EACxB,cAAS,KAAM,GAAG,KAAM;EACxB,cAAS,KAAM,GAAG,KAAM;EAExB,cAAS,KAAM,GAAG,KAAM;EACxB,cAAS,KAAM,GAAG,KAAM;EACxB,cAAS,MAAM,GAAG,MAAM;EAExB,OAAO;;yBAGG;AAAA;;;EAEV,SAAS;EAET,QAAQ;EACR,QAAQ;EACR,QAAQ;EAER,QAAQ,SAAU;EAAlB,QAA2B,SAAU;EACrC,QAAQ,SAAU;EAAlB,QAA2B,SAAU;EACrC,QAAQ,SAAU;EAAlB,QAA2B,SAAU;EAErC,EAAK,WAAU,GAAM;AAAA,GAEjB,SAAS,IAAI;GAAb,SAAqB,IAAI;GAAzB,SAAiC,IAAI;GAArC,SAA6C,IAAI;GAEjD,GAAG,KAAK,IAAI;GACZ,GAAG,KAAK,CAAE,IAAI;GACd,GAAG,KAAK;GAER,GAAG,KAAK,KAAK,KAAK;GAClB,GAAG,KAAK,KAAK,KAAK;GAClB,GAAG,KAAK,CAAE,IAAI;GAEd,GAAG,KAAK,KAAK,KAAK;GAClB,GAAG,KAAK,KAAK,KAAK;GAClB,GAAG,MAAM,IAAI;SAEV,EAAK,WAAU,GAAM;AAAA,GAExB,SAAS,IAAI;GAAb,SAAqB,IAAI;GAAzB,SAAiC,IAAI;GAArC,SAA6C,IAAI;GAEjD,GAAG,KAAK,KAAK,KAAK;GAClB,GAAG,KAAK,KAAK,IAAI;GACjB,GAAG,KAAK,IAAI;GAEZ,GAAG,KAAK,IAAI;GACZ,GAAG,KAAK,IAAI;GACZ,GAAG,KAAK,CAAE;GAEV,GAAG,KAAK,KAAK,IAAI;GACjB,GAAG,KAAK,KAAK,KAAK;GAClB,GAAG,MAAM,IAAI;SAEV,EAAK,WAAU,GAAM;AAAA,GAExB,UAAS,IAAI;GAAb,UAAqB,IAAI;GAAzB,UAAiC,IAAI;GAArC,UAA6C,IAAI;GAEjD,GAAG,KAAK,MAAK,MAAK;GAClB,GAAG,KAAK,CAAE,IAAI;GACd,GAAG,KAAK,MAAK,MAAK;GAElB,GAAG,KAAK,MAAK,MAAK;GAClB,GAAG,KAAK,IAAI;GACZ,GAAG,KAAK,MAAK,MAAK;GAElB,GAAG,KAAK,CAAE,IAAI;GACd,GAAG,KAAK;GACR,GAAG,MAAM,IAAI;SAEV,EAAK,WAAU,GAAM;AAAA,GAExB,UAAS,IAAI;GAAb,UAAqB,IAAI;GAAzB,UAAiC,IAAI;GAArC,UAA6C,IAAI;GAEjD,GAAG,KAAK,IAAI;GACZ,GAAG,KAAK,MAAK,IAAI;GACjB,GAAG,KAAK,MAAK,IAAI;GAEjB,GAAG,KAAK,IAAI;GACZ,GAAG,KAAK,MAAK,IAAI;GACjB,GAAG,KAAK,MAAK,IAAI;GAEjB,GAAG,KAAK,CAAE;GACV,GAAG,KAAK,IAAI;GACZ,GAAG,MAAM,IAAI;SAEV,EAAK,WAAU,GAAM;AAAA,GAExB,SAAS,IAAI;GAAb,SAAqB,IAAI;GAAzB,SAAiC,IAAI;GAArC,SAA6C,IAAI;GAEjD,GAAG,KAAK,IAAI;GACZ,GAAG,KAAK,KAAK,KAAK;GAClB,GAAG,KAAK,KAAK,IAAI;GAEjB,GAAG,KAAK;GACR,GAAG,KAAK,IAAI;GACZ,GAAG,KAAK,CAAE,IAAI;GAEd,GAAG,KAAK,CAAE,IAAI;GACd,GAAG,KAAK,KAAK,IAAI;GACjB,GAAG,MAAM,KAAK,KAAK;SAEhB,EAAK,WAAU,GAAM;AAAA,GAExB,UAAS,IAAI;GAAb,UAAqB,IAAI;GAAzB,UAAiC,IAAI;GAArC,UAA6C,IAAI;GAEjD,GAAG,KAAK,IAAI;GACZ,GAAG,KAAK,CAAE;GACV,GAAG,KAAK,IAAI;GAEZ,GAAG,KAAK,MAAK,IAAI;GACjB,GAAG,KAAK,IAAI;GACZ,GAAG,KAAK,MAAK,IAAI;GAEjB,GAAG,KAAK,MAAK,IAAI;GACjB,GAAG,KAAK,IAAI;GACZ,GAAG,MAAM,MAAK,IAAI;;EAKtB,GAAG,KAAK;EACR,GAAG,KAAK;EACR,GAAG,MAAM;EAGT,GAAG,MAAM;EACT,GAAG,MAAM;EACT,GAAG,MAAM;EACT,GAAG,MAAM;EAET,OAAO;;8BAIG,YAA6D;AAAA,EAEvE,SAAS;EAET,SAAS,MAAM;EAAf,SAAyB,MAAM;EAA/B,SAAyC,MAAM;EAC/C,SAAS,MAAM;EAAf,SAAyB,MAAM;EAA/B,SAAyC,MAAM;EAC/C,SAAS,MAAM;EAAf,SAAyB,MAAM;EAA/B,SAAyC,MAAM;EAC/C,SAAS,MAAM;EAAf,SAAyB,MAAM;EAA/B,SAAyC,MAAM;EAE/C,GAAG,KAAK,IAAI,CAAE,KAAK;EACnB,GAAG,KAAK,KAAK;EACb,GAAG,KAAK,KAAK;EAEb,GAAG,KAAK,KAAK;EACb,GAAG,KAAK,IAAI,CAAE,KAAK;EACnB,GAAG,KAAK,KAAK;EAEb,GAAG,KAAK,KAAK;EACb,GAAG,KAAK,KAAK;EACb,GAAG,MAAM,IAAI,CAAE,KAAK;EAGpB,GAAG,KAAK;EACR,GAAG,KAAK;EACR,GAAG,MAAM;EAGT,GAAG,MAAM;EACT,GAAG,MAAM;EACT,GAAG,MAAM;EACT,GAAG,MAAM;EAET,OAAO;;UAKG,2BAAoE;AAAA,EAE9E,SAAS;EACT,SAAS;EACT,SAAS;EAET,SAAS;EAEJ;;;;;;;;;YAAiB,YAAjB,AAA0B;EAA1B,UAAiB,YAAjB,AAA0B;EAA1B,UAAiB,YAAjB,AAA0B;EAA1B;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAL,KAAK;EAED,EAAK,uDAAa,GACd;AAAA,UAAO;GAAP;;iBAAO;;;;EAGV;;;;;;;;;YAAc,QAAd,AAAmB,OAAnB,AAAc,QAAd,AAAmB;EAAnB,UAAc,QAAd,AAAmB,OAAnB,AAAc,QAAd,AAAmB;EAAnB,UAAc,QAAd,AAAmB,OAAnB,AAAc,QAAd,AAAmB;EAAnB;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAL,KAAK;EAED,EAAK,uDAAa,GAAI;AAAA,GAClB;oBAAQ;GAAR;;;;;;GACK;;;;;;;;;aAAc,QAAd,AAAmB,OAAnB,AAAc,QAAd,AAAmB;GAAnB,UAAc,QAAd,AAAmB,OAAnB,AAAc,QAAd,AAAmB;GAAnB,UAAc,QAAd,AAAmB,OAAnB,AAAc,QAAd,AAAmB;GAAnB;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAAL,KAAK;;EAGb,KAAK,mBAAc,OAAd,AAAkB,OAAlB,AAAc,OAAd,AAAkB,KAAlB,AAAc,OAAd,AAAkB,OAAlB,AAAc,OAAd,AAAkB,KAAlB,AAAc,OAAd,AAAkB,OAAlB,AAAc,OAAd,AAAkB;EAEvB,GAAG,KAAK;EAAM,GAAG,KAAK;EAAM,GAAG,KAAM;EACrC,GAAG,KAAK;EAAM,GAAG,KAAK;EAAM,GAAG,KAAM;EACrC,GAAG,KAAK;EAAM,GAAG,KAAK;EAAM,GAAG,MAAM;EAErC,OAAO;;YAKG,aAEV;AAAA,EAAO,SAAiB;EAAjB,SAAuB;EAAvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oBAKG,gBAA2D;AAAA,EAErE,SAAS;EACT,SAAS;EACT,SAAS;EAET,UAAU,GAAG;EAAb,UAAuB,GAAG;EAA1B,UAAoC,GAAG;EAAvC,UAAkD,GAAG;EACrD,UAAU,GAAG;EAAb,UAAuB,GAAG;EAA1B,UAAoC,GAAG;EAAvC,UAAkD,GAAG;EACrD,UAAU,GAAG;EAAb,UAAuB,GAAG;EAA1B,UAAoC,GAAG;EAAvC,UAAkD,GAAG;EACrD,UAAU,GAAG;EAAb,UAAuB,GAAG;EAA1B,UAAoC,GAAG;EAAvC,UAAkD,GAAG;EAErD,UAAU,GAAG;EAAb,UAAuB,GAAG;EAA1B,UAAoC,GAAG;EAAvC,UAAkD,GAAG;EACrD,UAAU,GAAG;EAAb,UAAuB,GAAG;EAA1B,UAAoC,GAAG;EAAvC,UAAkD,GAAG;EACrD,UAAU,GAAG;EAAb,UAAuB,GAAG;EAA1B,UAAoC,GAAG;EAAvC,UAAkD,GAAG;EACrD,UAAU,GAAG;EAAb,UAAuB,GAAG;EAA1B,UAAoC,GAAG;EAAvC,UAAkD,GAAG;EAEjD,GAAG,KAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM;EACnD,GAAG,KAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM;EACnD,GAAG,KAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM;EACnD,GAAG,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM;EAEnD,GAAG,KAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM;EACnD,GAAG,KAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM;EACnD,GAAG,KAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM;EACnD,GAAG,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM;EAEnD,GAAG,KAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM;EACnD,GAAG,KAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM;EACnD,GAAG,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM;EACnD,GAAG,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM;EAEnD,GAAG,KAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM;EACnD,GAAG,KAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM;EACnD,GAAG,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM;EACnD,GAAG,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM;EAEvD,OAAO;;mBAKG,mBAA2E;AAAA,EAErF,SAAS;EAEL,SAAiB;EAAjB,SAAqB;EAArB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAEA,GAAG,KAAM,GAAG;EAAM,GAAG,KAAM,GAAG;EAAM,GAAG,KAAM,GAAG;EAAK,GAAG,KAAM,GAAG;EACjE,GAAG,KAAM,GAAG;EAAM,GAAG,KAAM,GAAG;EAAM,GAAG,KAAM,GAAG;EAAK,GAAG,KAAM,GAAG;EACjE,GAAG,KAAM,GAAG;EAAM,GAAG,KAAM,GAAG;EAAM,GAAG,MAAM,GAAG;EAAK,GAAG,MAAM,GAAG;EACjE,GAAG,MAAM,GAAG;EAAM,GAAG,MAAM,GAAG;EAAM,GAAG,MAAM,GAAG;EAAK,GAAG,MAAM,GAAG;EAErE,OAAO;;kBAKG,aAA6C;AAAA,EAEvD,SAAS;EAEL,GAAG,MAAM;EAAI,GAAG,MAAM;EAAI,GAAG,MAAO;EAAI,GAAG,OAAO;EAClD,GAAG,MAAM;EAAI,GAAG,MAAM;EAAI,GAAG,MAAO;EAAI,GAAG,OAAO;EAClD,GAAG,MAAM;EAAI,GAAG,MAAM;EAAI,GAAG,OAAO;EAAI,GAAG,OAAO;EAClD,GAAG,MAAM;EAAI,GAAG,MAAM;EAAI,GAAG,OAAO;EAAI,GAAG,OAAO;EAEtD,OAAO;;wBAKG,aAAgE;AAAA,EAE1E,SAAS;EACT,QAAQ;EACR,SAAS;EAET,KAAO,KAAI,IAAX;AAAA,GAEI,SAAO,GAAG;GAAV;;;;;;GACA,SAAO,GAAG,IAAI;GAAd;;;;;;GACA,SAAO,GAAG,IAAI;GAAd;;;;;;GAEA,QAAoB;GAApB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAEA,GAAG,KAAS;GACZ,GAAG,IAAI,KAAK;GACZ,GAAG,IAAI,KAAK;GAEZ,KAAK;;EAIT,OAAO;;eAIG,WAA+B;AAAA,EAEzC,SAAS;EAET,UAAU,GAAG;EAAb,UAAuB,GAAG;EAA1B,UAAoC,GAAG;EAAvC,UAAkD,GAAG;EACrD,UAAU,GAAG;EAAb,UAAuB,GAAG;EAA1B,UAAoC,GAAG;EAAvC,UAAkD,GAAG;EACrD,UAAU,GAAG;EAAb,UAAuB,GAAG;EAA1B,UAAoC,GAAG;EAAvC,UAAkD,GAAG;EACrD,UAAU,GAAG;EAAb,UAAuB,GAAG;EAA1B,UAAoC,GAAG;EAAvC,UAAkD,GAAG;EAErD,OAAO,AACH,MAAM,CACD,MAAM,MAAM,MACZ,MAAM,MAAM,MACZ,MAAM,MAAM,MACZ,MAAM,MAAM,MACZ,MAAM,MAAM,MACZ,MAAM,MAAM,OAEjB,MAAM,CACD,MAAM,MAAM,MACZ,MAAM,MAAM,MACZ,MAAM,MAAM,MACZ,MAAM,MAAM,MACZ,MAAM,MAAM,MACZ,MAAM,MAAM,OAEjB,MAAM,CACD,MAAM,MAAM,MACZ,MAAM,MAAM,MACZ,MAAM,MAAM,MACZ,MAAM,MAAM,MACZ,MAAM,MAAM,MACZ,MAAM,MAAM,OAEjB,MAAM,CACF,CAAC,MAAM,MAAM,MACZ,MAAM,MAAM,MACZ,MAAM,MAAM,MACZ,MAAM,MAAM,MACZ,MAAM,MAAM,MACZ,MAAM,MAAM;;aAKX,WAA8B;AAAA,EAExC,SAAS;EACT,UAEM,GAAG;EAAI,GAAG,KAAK,GAAG;EAAI,GAAG,KAAK;EACpC,MAAM,GAAG;EAAI,GAAG,KAAK,GAAG;EAAI,GAAG,KAAK;EACpC,MAAM,GAAG;EAAI,GAAG,KAAK,GAAG;EAAI,GAAG,KAAK;EAEpC,MAAM,GAAG;EAAK,GAAG,KAAM,GAAG;EAAK,GAAG,MAAM;EACxC,MAAM,GAAG;EAAK,GAAG,KAAM,GAAG;EAAK,GAAG,MAAM;EACxC,MAAM,GAAG;EAAK,GAAG,MAAM,GAAG;EAAK,GAAG,MAAM;EAExC,OAAO;;kBAIG,gBAAoE;AAAA,EAE9E,EAAI,UAAS,MAAM;AAAA,GACf,QAAQ;GACR,SAAS;GAAT,WAAe,IAAf;AAAA;IAAmB,WAAY;;;EAGnC,SAAS;EAEL,MAAO,KAAO,GAAG;EAAK,MAAO,KAAO,GAAG;EAAK,MAAO,KAAO,GAAG;EAAK,MAAO,KAAO,GAAG;EACnF,MAAO,KAAO,GAAG;EAAK,MAAO,KAAO,GAAG;EAAK,MAAO,KAAO,GAAG;EAAK,MAAO,KAAO,GAAG;EACnF,MAAO,KAAO,GAAG;EAAK,MAAO,KAAO,GAAG;EAAK,MAAO,MAAO,GAAG;EAAK,MAAO,MAAO,GAAG;EACnF,MAAO,MAAO,GAAG;EAAK,MAAO,MAAO,GAAG;EAAK,MAAO,MAAO,GAAG;EAAK,MAAO,MAAO,GAAG;EAEvF,OAAO;;wBAKG,wBAAgF;AAAA,EAE1F,SAAS;EAEL,MAAO,WAAiB,GAAG;EAC3B,MAAO,UAAU,KAAO,GAAG;EAC3B,MAAO,UAAU,KAAO,GAAG;EAC3B,MAAO,UAAU,KAAO,GAAG;EAE3B,MAAO,UAAU,KAAO,GAAG;EAC3B,MAAO,UAAU,KAAO,GAAG;EAC3B,MAAO,UAAU,KAAO,GAAG;EAC3B,MAAO,UAAU,KAAO,GAAG;EAE3B,MAAO,UAAU,KAAO,GAAG;EAC3B,MAAO,UAAU,KAAO,GAAG;EAC3B,MAAO,UAAU,MAAO,GAAG;EAC3B,MAAO,UAAU,MAAO,GAAG;EAE3B,MAAO,UAAU,MAAO,GAAG;EAC3B,MAAO,UAAU,MAAO,GAAG;EAC3B,MAAO,UAAU,MAAO,GAAG;EAC3B,MAAO,UAAU,MAAO,GAAG;EAE/B,OAAO;;eAKG,aAA2C;AAAA,EAErD,SAAS;EAEL,GAAG,MAAM;EACT,GAAG,MAAM;EACT,GAAG,MAAM;EAEb,OAAO;;WAIG,WACV;AAAA,EAAO;;;WAAmB;EAAnB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;cAGG,aAA0C;AAAA,EAIpD,SAAS;EACT,SAAS;EAET,UAAU,GAAG;EAAb,UAAuB,GAAG;EAA1B,UAAoC,GAAG;EAAvC,UAAkD,GAAG;EACrD,UAAU,GAAG;EAAb,UAAuB,GAAG;EAA1B,UAAoC,GAAG;EAAvC,UAAkD,GAAG;EACrD,UAAU,GAAG;EAAb,UAAuB,GAAG;EAA1B,UAAoC,GAAG;EAAvC,UAAkD,GAAG;EACrD,UAAU,GAAG;EAAb,UAAuB,GAAG;EAA1B,UAAoC,GAAG;EAAvC,UAAkD,GAAG;EAEjD,GAAG,KAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI;EACvF,GAAG,KAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI;EACvF,GAAG,KAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI;EACvF,GAAG,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI;EACvF,GAAG,KAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI;EACvF,GAAG,KAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI;EACvF,GAAG,KAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI;EACvF,GAAG,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI;EACvF,GAAG,KAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI;EACvF,GAAG,KAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI;EACvF,GAAG,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI;EACvF,GAAG,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI;EACvF,GAAG,KAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI;EACvF,GAAG,KAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI;EACvF,GAAG,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI;EACvF,GAAG,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI,MAAM,MAAI,MAAI;EAE3F,UAAU,GAAI,KAAM,GAAI,KAAM,GAAI,KAAM,GAAI,KAAM,GAAI,KAAM,GAAI,KAAM,GAAI,KAAM,GAAI;EAEpF,EAAI,QAAO,GAAG;AAAA,GAEV,eAAO,0DAAP;GAEA;;;;;;;;;;;;;;;;;GAEA,OAAO;;EAIX,SAAgB,IAAI;EAApB;;;;;;;;;;;;;;;;;EAEA,OAAO;;SAKG,aAAqC;AAAA,EAE/C,SAAS;EAEL,SAAS;EACT,SAAS;EACT,SAAS;EAET,GAAG,MAAM;EAAI,GAAG,MAAM;EAAI,GAAG,MAAO;EACpC,GAAG,MAAM;EAAI,GAAG,MAAM;EAAI,GAAG,MAAO;EACpC,GAAG,MAAM;EAAI,GAAG,MAAM;EAAI,GAAG,OAAO;EACpC,GAAG,MAAM;EAAI,GAAG,MAAM;EAAI,GAAG,OAAO;EAExC,OAAO;;qBAKG,WAAqC;AAAA,EAE/C,SAAS;EAEL,gBAAgB,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAM,GAAG;EAC5D,gBAAgB,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAM,GAAG;EAC5D,gBAAgB,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,MAAM,GAAG;EAEhE,OAAO,UAAW,SAAU,UAAW,SAAU,UAAW;;mBAKlD,mBAAkE;AAAA,EAE5E;SACI;EADJ,OACO;EADP,OACU;EADV,QACa;EADb,OAEI;EAFJ,OAEO;EAFP,OAEU;EAFV,QAEa;EAFb,OAGI;EAHJ,OAGO;EAHP,QAGU;EAHV,QAGa;EAHb,OAII;EAJJ,OAIO;EAJP,QAIU;EAJV,QAIa;EAGb,OAAO;;iBAKG,iBAAgD;AAAA,EAE1D,SAAS,SAAS;EAClB,SAAS,SAAS;EAEd;SACI;EADJ,OACQ;EADR,OACa;EADb,QACiB;EADjB,OAEI;EAFJ,OAEO;EAFP,OAEW,CAAC;EAFZ,QAEiB;EAFjB,OAGI;EAHJ,OAGO;EAHP,QAGY;EAHZ,QAGiB;EAHjB,OAII;EAJJ,OAIQ;EAJR,QAIa;EAJb,QAIiB;EAGrB,OAAO;;iBAKG,iBAA8C;AAAA,EAExD,SAAS,SAAS;EAClB,SAAS,SAAS;EAEd;SACK;EADL,OACU;EADV,OACa;EADb,QACkB;EADlB,OAEM;EAFN,OAEU;EAFV,OAEc;EAFd,QAEkB;EAFlB,OAGI,CAAC;EAHL,OAGU;EAHV,QAGa;EAHb,QAGkB;EAHlB,OAIM;EAJN,OAIU;EAJV,QAIc;EAJd,QAIkB;EAGtB,OAAO;;iBAKG,iBAA8C;AAAA,EAExD,SAAS,SAAS;EAClB,SAAS,SAAS;EAEd;SACI;EADJ,OACQ,CAAC;EADT,OACc;EADd,QACkB;EADlB,OAEI;EAFJ,OAES;EAFT,OAEc;EAFd,QAEkB;EAFlB,OAGK;EAHL,OAGU;EAHV,QAGc;EAHd,QAGkB;EAHlB,OAIK;EAJL,OAIU;EAJV,QAIc;EAJd,QAIkB;EAGtB,OAAO;;oBAKG,uBAAiE;AAAA,EAE3E,SAAS,SAAU;EACnB,SAAS,SAAU;EACnB,SAAS,IAAI;EAEb,UAAU;EACV,UAAU;EACV,UAAU;EAEV,UAAU,KAAK;EACf,UAAU,KAAK;EAEX;SACI,MAAM,MAAM;EADhB,OAC4B,MAAM,MAAM,KAAK;EAD7C,OACoD,MAAM,MAAM,KAAM;EADtE,QAC4E;EAD5E,OAEI,MAAM,MAAM,KAAK;EAFrB,OAE4B,MAAM,MAAM;EAFxC,OAEoD,MAAM,MAAM,KAAM;EAFtE,QAE4E;EAF5E,OAGI,MAAM,MAAM,KAAK;EAHrB,OAG4B,MAAM,MAAM,KAAK;EAH7C,QAGoD,KAAM,MAAM,MAAM;EAHtE,QAG4E;EAH5E,OAII;EAJJ,OAIO;EAJP,QAIU;EAJV,QAIa;EAGjB,OAAO;;aAKG,mBAA2D;AAAA,EAEjE;SACI;EADJ,OACS;EADT,OACa;EADb,QACiB;EADjB,OAEK;EAFL,OAEQ;EAFR,OAEa;EAFb,QAEiB;EAFjB,OAGK;EAHL,OAGS;EAHT,QAGY;EAHZ,QAGiB;EAHjB,OAIK;EAJL,OAIS;EAJT,QAIa;EAJb,QAIiB;EAGrB,OAAO;;uBAKG,+CAAiH;AAAA,EAM3H;;;;UAAgB;EAAhB;;;UAA2B;EAA3B;;;UAAsC;EAAtC;;;;EAEA;WAAM;EAAN,SAAM;EAAN,SAAM;EAAN;;;;;;;;;;;;EAEU;;WAAwC,gBAAxC,AAAwC;EAAxC,SAAwC,gBAAxC,AAAwC;EAAxC,SAAwC,gBAAxC,AAAwC;EAAxC,SAAwC,gBAAxC;WAAwC,gBAAxC;WAAwC,gBAAxC;WAAwC,gBAAxC;WAAwC,gBAAxC;WAAwC,gBAAxC;WAAwC,gBAAxC;WAAwC,gBAAxC;WAAwC,gBAAxC;;;;;;;;;;;;;;;;;EAAV;WAAU;EAAV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAEU;;;;;WAA6B,CAAC;EAA9B;;;WAAyC,CAAC;EAA1C;;;WAAqD,CAAC;EAAtD;;;;EAAV;YAAU;EAAV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAEU;;;;;WAA6B;EAA7B;;;WAA0C;EAA1C;;;WAAuD;EAAvD;;;;EAAV;YAAU;EAAV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAEA,OAAO;;WAIG,uCAAqF;AAAA,EAE3F;WAA4B,gBAA5B,AAA4B;EAA5B,SAA4B,gBAA5B,AAA4B;EAA5B,SAA4B,gBAA5B,AAA4B;EAA5B,SAA4B,gBAA5B;WAA4B,gBAA5B;WAA4B,gBAA5B;WAA4B,gBAA5B;WAA4B,gBAA5B;WAA4B,gBAA5B;WAA4B,gBAA5B;WAA4B,gBAA5B;WAA4B,gBAA5B;;;;;;;;;;;;;;;;;EACA;WAAO;EAAP,SAAO;EAAP,SAAO;EAAP;;;;;;;;;;;;EACA;YAAa;EAAb,UAAa;EAAb,UAAa;EAEjB,OAAO;;aAMG,uCAAqH;AAAA,EAE/H,SAAS;EACT,aAAa;EAEb,YAAY,GAAG;EAAI,YAAY,GAAG;EAAI,YAAY,GAAG;EACrD,YAAY,GAAG;EAAI,YAAY,GAAG;EAAI,YAAY,GAAG;EACrD,YAAY,GAAG;EAAI,YAAY,GAAG;EAAI,YAAY,GAAG;EAErD,iBAAiB,UAAW,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ;EACpE,iBAAiB,UAAW,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ;EACpE,iBAAiB,UAAW,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ;EAGpE,EAAI,gBAAe,MACf;AAAA,iBAAc;;EAGlB,EAAI,cAAa,MACb;AAAA,eAAY,mBAAW,GAAG,IAAK,GAAG,IAAK,GAAG;SACvC;AAAA,GACH,SAAc,GAAG;GAAjB;;;;;;GACA,SAAc,GAAG;GAAjB;;;;;;GACA,SAAc,GAAG;GAAjB;;;;;;;EAGJ,EAAI,WAAU,MACV;AAAA,YAAS,mBAAW,WAAW,WAAW;SACvC;AAAA,GACH,WAAW;GAAX;;qBAAW;;;GACX,WAAW;GAAX;;qBAAW;;;GACX,WAAW;GAAX;;qBAAW;;;;EAIX,kBAAkB,qBAAgB;EAElC,SAAS;EAEL,GAAG,MAAO;EACV,GAAG,MAAO;EACV,GAAG,MAAO;EAEV,GAAG,MAAO;EACV,GAAG,MAAO;EACV,GAAG,MAAO;EAEV,GAAG,MAAO;EACV,GAAG,MAAO;EACV,GAAG,OAAO;EAEd,kCAAmC;EAGvC,EAAG,oBAAc,MACb;AAAA,qBAAa,4BAAoB,UAAW,YAAa;SACtD;AAAA,GACH,sBAAiB;GACjB,2BAAsB;GACtB,wBAAmB;;EAGvB,OAAO;;eAKG,+CAA+G;AAAA,EAEzH,SAAS;EAET,SAAS,IAAI,QAAQ,CAAC,SAAS;EAC/B,SAAS,IAAI,QAAQ,CAAC,OAAO;EAE7B,QAAS,CAAC,SAAS,SAAS,CAAC,SAAS;EACtC,QAAS,CAAC,OAAO,WAAW,CAAC,OAAO;EACpC,QAAQ,CAAC,CAAC,OAAO,SAAW,CAAC,OAAO;EACpC,QAAQ,KAAK,OAAO,QAAQ,CAAC,OAAO;EAEhC,GAAG,KAAK;EAAQ,GAAG,KAAK;EAAQ,GAAG,KAAM;EAAO,GAAG,MAAM;EACzD,GAAG,KAAK;EAAQ,GAAG,KAAK;EAAQ,GAAG,KAAM;EAAO,GAAG,MAAM;EACzD,GAAG,KAAK;EAAQ,GAAG,KAAK;EAAQ,GAAG,MAAM;EAAO,GAAG,MAAM;EACzD,GAAG,KAAK;EAAQ,GAAG,KAAK;EAAQ,GAAG,MAAM;EAAO,GAAG,MAAM;EAE7D,OAAO;;mBAKG,kCAAwF;AAAA,EAElG,WAAW,QAAQ,SAAU,AAAc,OAAO,MAArB;EAC7B,WAAW,CAAC;EACZ,WAAW,OAAO;EAClB,WAAW,OAAO;EAEX;eAAqC,QAArC,CAAmB,OAAN;EAAb,aAAqC,QAArC,CAA+B,OAAN;EAAzB,SAAmB,OAAN,QAAb,CAAmB,OAAN;EAAb,SAA+B,OAAN,QAAzB,CAA+B,OAAN;EAAzB,UAA4C,OAAP,SAArC,CAA4C,OAAP;EAArC,aAA4C,OAAP,QAArC,CAA4C,OAAP;EAArC;;;;;;;;;;;;;;;;;;oBAKG,+CAAoH;AAAA,EAE9H,SAAS;EAET,QAAQ,SAAS;EACjB,QAAQ,OAAO;EACf,QAAQ,OAAO;EAEf,SAAS,CAAE,SAAS,SAAY;EAChC,SAAS,CAAE,OAAS,WAAY;EAChC,SAAS,CAAE,OAAS,SAAY;EAE5B,GAAG,KAAK,IAAI;EAAI,GAAG,KAAK;EAAQ,GAAG,KAAK;EAAS,GAAG,MAAM,CAAC;EAC3D,GAAG,KAAK;EAAQ,GAAG,KAAK,IAAI;EAAI,GAAG,KAAK;EAAS,GAAG,MAAM,CAAC;EAC3D,GAAG,KAAK;EAAQ,GAAG,KAAK;EAAQ,GAAG,MAAM,KAAK;EAAG,GAAG,MAAM,CAAC;EAC3D,GAAG,KAAK;EAAQ,GAAG,KAAK;EAAQ,GAAG,MAAM;EAAQ,GAAG,MAAM;EAE9D,OAAO;;aAIG,gBAEV;AAAA,kBAAW,aAAa;;WAId,WAAkC;AAAA,EAE5C,SAAS;EAEL,OAAO,CACH,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAClC,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAClC,GAAI,GAAM,GAAI,GAAM,GAAI,IAAM,GAAI,IAClC,GAAI,IAAM,GAAI,IAAM,GAAI,IAAM,GAAI;;SAKhC,WAA0B;AAAA,EAEpC,SAAS;EAEL,OAAO,mBACH,GAAG,GAAI,GAAG,GAAI,GAAG,GAAK,GAAG,IACzB,GAAG,GAAI,GAAG,GAAI,GAAG,GAAK,GAAG,IACzB,GAAG,GAAI,GAAG,GAAI,GAAG,IAAK,GAAG,IACzB,GAAG,GAAI,GAAG,GAAI,GAAG,IAAK,GAAG;;MAKvB,WACV;AAAA,SAAO,mBAAY,cAAS,GAAI,cAAS,GAAI,cAAS;;QAG5C,WACV;AAAA,EAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAGG,WACV;AAAA,EAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SAGG,WACV;AAAA,SAAO,mBAAY,cAAS,GAAI,cAAS,GAAI,cAAS;;YAG5C,WACV;AAAA,SAAO,mBAAY,cAAS,GAAI,cAAS,GAAI,cAAS;;WAG5C,WACV;AAAA,EAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;yBCrgCJ,sBAlBX;AAAA,CAkBW;;;;;;;;;;;;CAuaY,AAzbvB,oBAybuB;CAzaF,AAhBrB,kBAgBqB;CAPoB,AATzC,wBASyC;CAJO,AALhD,SAKgD;CADA,AAJhD,SAIgD;CADA,AAHhD,SAGgD;CADA,AAFhD,SAEgD;CAkBxC,kBAAa;CAET,SAAI;CAAJ;;;;;;;;;;;I7CwwBA,M6CxwBA;;I7CywBA,M6CzwBA;I7C0wBA,M6C1wBA;;;I7C4wBA,M6C5wBA;I7C6wBA,M6C7wBA;I7C8wBA,M6C9wBA;;;I7CgxBA,M6ChxBA;I7CixBA,M6CjxBA;I7CkxBA,M6ClxBA;;I7CoxBA,M6CpxBA;;I7CqxBA,M6CrxBA;I7CsxBA,M6CtxBA;;I7CwxBA,M6CxxBA;I7CyxBA,M6CzxBA;;I7C0xBA,M6C1xBA;;I7C4xBA,M6C5xBA;I7C6xBA,M6C7xBA;;I7C8xBA,M6C9xBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACA,SAAI;CAAJ;;;;;;;;;;;I7CuwBA,M6CvwBA;;I7CwwBA,M6CxwBA;I7CywBA,M6CzwBA;;;I7C2wBA,M6C3wBA;I7C4wBA,M6C5wBA;I7C6wBA,M6C7wBA;;;I7C+wBA,M6C/wBA;I7CgxBA,M6ChxBA;I7CixBA,M6CjxBA;;I7CmxBA,M6CnxBA;;I7CoxBA,M6CpxBA;I7CqxBA,M6CrxBA;;I7CuxBA,M6CvxBA;I7CwxBA,M6CxxBA;;I7CyxBA,M6CzxBA;;I7C2xBA,M6C3xBA;I7C4xBA,M6C5xBA;;I7C6xBA,M6C7xBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACA,SAAI;CAAJ;;;;;;;;;;;I7CswBA,M6CtwBA;;I7CuwBA,M6CvwBA;I7CwwBA,M6CxwBA;;;I7C0wBA,M6C1wBA;I7C2wBA,M6C3wBA;I7C4wBA,M6C5wBA;;;I7C8wBA,M6C9wBA;I7C+wBA,M6C/wBA;I7CgxBA,M6ChxBA;;I7CkxBA,M6ClxBA;;I7CmxBA,M6CnxBA;I7CoxBA,M6CpxBA;;I7CsxBA,M6CtxBA;I7CuxBA,M6CvxBA;;I7CwxBA,M6CxxBA;;I7C0xBA,M6C1xBA;I7C2xBA,M6C3xBA;;I7C4xBA,M6C5xBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACA,SAAI;CAAJ;;;;;;;;;;;I7CqwBA,M6CrwBA;;I7CswBA,M6CtwBA;I7CuwBA,M6CvwBA;;;I7CywBA,M6CzwBA;I7C0wBA,M6C1wBA;I7C2wBA,M6C3wBA;;;I7C6wBA,M6C7wBA;I7C8wBA,M6C9wBA;I7C+wBA,M6C/wBA;;I7CixBA,M6CjxBA;;I7CkxBA,M6ClxBA;I7CmxBA,M6CnxBA;;I7CqxBA,M6CrxBA;I7CsxBA,M6CtxBA;;I7CuxBA,M6CvxBA;;I7CyxBA,M6CzxBA;I7C0xBA,M6C1xBA;;I7C2xBA,M6C3xBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAEJ,aAAQ;CAER,kBAAa;;;;yBA8OH,gBACV;AAAA,QAAO,eAAe;;8BAGZ,gBACV;AAAA,QAAO,oBAAoB;;oCAGjB,8BACV;AAAA,QAAO,mCAAmC;;2BAiJhC,yBAEV;AAAA,QAAO,SAAU,WAAa,IAAK;;yBAIzB,gBACV;AAAA,QAAO,uBAAe,KAAK,KAAK,KAAK,UAAU;;4BA6G9B,sBAA6C;AAAA,CAE9D,cAAc;CACd,cAAc;CACd,cAAc;CACd,cAAc;;;WA7flB,WAEI;AAAA,SAAO,SAAO,SAAI,SAAS,SAAI,SAAS,SAAK,SAAS,SAAM;;OAIzD,sBAAoE;AAAA,EAEvE;WAAS;EAAT;;;;;;;;;;;K7CqvBI,M6CrvBJ;;K7CsvBI,M6CtvBJ;K7CuvBI,M6CvvBJ;;;K7CyvBI,M6CzvBJ;K7C0vBI,M6C1vBJ;K7C2vBI,M6C3vBJ;;;K7C6vBI,M6C7vBJ;K7C8vBI,M6C9vBJ;K7C+vBI,M6C/vBJ;;K7CiwBI,M6CjwBJ;;K7CkwBI,M6ClwBJ;K7CmwBI,M6CnwBJ;;K7CqwBI,M6CrwBJ;K7CswBI,M6CtwBJ;;K7CuwBI,M6CvwBJ;;K7CywBI,M6CzwBJ;K7C0wBI,M6C1wBJ;;K7C2wBI,M6C3wBJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;WAAa;EAAb;;;;;;;;;;;K7CqvBI,M6CrvBJ;;K7CsvBI,M6CtvBJ;K7CuvBI,M6CvvBJ;;;K7CyvBI,M6CzvBJ;K7C0vBI,M6C1vBJ;K7C2vBI,M6C3vBJ;;;K7C6vBI,M6C7vBJ;K7C8vBI,M6C9vBJ;K7C+vBI,M6C/vBJ;;K7CiwBI,M6CjwBJ;;K7CkwBI,M6ClwBJ;K7CmwBI,M6CnwBJ;;K7CqwBI,M6CrwBJ;K7CswBI,M6CtwBJ;;K7CuwBI,M6CvwBJ;;K7CywBI,M6CzwBJ;K7C0wBI,M6C1wBJ;;K7C2wBI,M6C3wBJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;WAAiB;EAAjB;;;;;;;;;;;K7CqvBI,M6CrvBJ;;K7CsvBI,M6CtvBJ;K7CuvBI,M6CvvBJ;;;K7CyvBI,M6CzvBJ;K7C0vBI,M6C1vBJ;K7C2vBI,M6C3vBJ;;;K7C6vBI,M6C7vBJ;K7C8vBI,M6C9vBJ;K7C+vBI,M6C/vBJ;;K7CiwBI,M6CjwBJ;;K7CkwBI,M6ClwBJ;K7CmwBI,M6CnwBJ;;K7CqwBI,M6CrwBJ;K7CswBI,M6CtwBJ;;K7CuwBI,M6CvwBJ;;K7CywBI,M6CzwBJ;K7C0wBI,M6C1wBJ;;K7C2wBI,M6C3wBJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;WAAqB;EAArB;;;;;;;;;;;K7CqvBI,M6CrvBJ;;K7CsvBI,M6CtvBJ;K7CuvBI,M6CvvBJ;;;K7CyvBI,M6CzvBJ;K7C0vBI,M6C1vBJ;K7C2vBI,M6C3vBJ;;;K7C6vBI,M6C7vBJ;K7C8vBI,M6C9vBJ;K7C+vBI,M6C/vBJ;;K7CiwBI,M6CjwBJ;;K7CkwBI,M6ClwBJ;K7CmwBI,M6CnwBJ;;K7CqwBI,M6CrwBJ;K7CswBI,M6CtwBJ;;K7CuwBI,M6CvwBJ;;K7CywBI,M6CzwBJ;K7C0wBI,M6C1wBJ;;K7C2wBI,M6C3wBJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;I7CqvBI,M6CrvBJ;;I7CsvBI,M6CtvBJ;I7CuvBI,M6CvvBJ;;;I7CyvBI,M6CzvBJ;I7C0vBI,M6C1vBJ;I7C2vBI,M6C3vBJ;;;I7C6vBI,M6C7vBJ;I7C8vBI,M6C9vBJ;I7C+vBI,M6C/vBJ;;I7CiwBI,M6CjwBJ;;I7CkwBI,M6ClwBJ;I7CmwBI,M6CnwBJ;;I7CqwBI,M6CrwBJ;I7CswBI,M6CtwBJ;;I7CuwBI,M6CvwBJ;;I7CywBI,M6CzwBJ;I7C0wBI,M6C1wBJ;;I7C2wBI,M6C3wBJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAEA,OAAO;;QAKJ,sBAAsD;AAAA,EAErD,SACU;EADV,SAEU;EAFV,SAGU;EAHV;WAAU;EAAV;;;;;;;;;;;K7C4uBA,K6C5uBA;;K7C6uBA,M6C7uBA;K7C8uBA,M6C9uBA;;;K7CgvBA,K6ChvBA;K7CivBA,M6CjvBA;K7CkvBA,M6ClvBA;;;K7CovBA,K6CpvBA;K7CqvBA,M6CrvBA;K7CsvBA,M6CtvBA;;K7CwvBA,K6CxvBA;;K7CyvBA,M6CzvBA;K7C0vBA,M6C1vBA;;K7C4vBA,K6C5vBA;K7C6vBA,M6C7vBA;;K7C8vBA,M6C9vBA;;K7CgwBA,K6ChwBA;K7CiwBA,M6CjwBA;;K7CkwBA,M6ClwBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;K7C4uBA,M6C5uBA;;K7C6uBA,M6C7uBA;K7C8uBA,M6C9uBA;;;K7CgvBA,M6ChvBA;K7CivBA,M6CjvBA;K7CkvBA,M6ClvBA;;;K7CovBA,M6CpvBA;K7CqvBA,M6CrvBA;K7CsvBA,M6CtvBA;;K7CwvBA,M6CxvBA;;K7CyvBA,M6CzvBA;K7C0vBA,M6C1vBA;;K7C4vBA,M6C5vBA;K7C6vBA,M6C7vBA;;K7C8vBA,M6C9vBA;;K7CgwBA,M6ChwBA;K7CiwBA,M6CjwBA;;K7CkwBA,M6ClwBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;K7C4uBA,M6C5uBA;;K7C6uBA,M6C7uBA;K7C8uBA,M6C9uBA;;;K7CgvBA,M6ChvBA;K7CivBA,M6CjvBA;K7CkvBA,M6ClvBA;;;K7CovBA,M6CpvBA;K7CqvBA,M6CrvBA;K7CsvBA,M6CtvBA;;K7CwvBA,M6CxvBA;;K7CyvBA,M6CzvBA;K7C0vBA,M6C1vBA;;K7C4vBA,M6C5vBA;K7C6vBA,M6C7vBA;;K7C8vBA,M6C9vBA;;K7CgwBA,M6ChwBA;K7CiwBA,M6CjwBA;;K7CkwBA,M6ClwBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;K7C4uBA,M6C5uBA;;K7C6uBA,M6C7uBA;K7C8uBA,M6C9uBA;;;K7CgvBA,M6ChvBA;K7CivBA,M6CjvBA;K7CkvBA,M6ClvBA;;;K7CovBA,M6CpvBA;K7CqvBA,M6CrvBA;K7CsvBA,M6CtvBA;;K7CwvBA,M6CxvBA;;K7CyvBA,M6CzvBA;K7C0vBA,M6C1vBA;;K7C4v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7CorBI,M6CprBJ;;K7CqrBI,M6CrrBJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;WAAiB;EAAjB;;;;;;;;;;;K7C+pBI,M6C/pBJ;;K7CgqBI,M6ChqBJ;K7CiqBI,M6CjqBJ;;;K7CmqBI,M6CnqBJ;K7CoqBI,M6CpqBJ;K7CqqBI,M6CrqBJ;;;K7CuqBI,M6CvqBJ;K7CwqBI,M6CxqBJ;K7CyqBI,M6CzqBJ;;K7C2qBI,M6C3qBJ;;K7C4qBI,M6C5qBJ;K7C6qBI,M6C7qBJ;;K7C+qBI,M6C/qBJ;K7CgrBI,M6ChrBJ;;K7CirBI,M6CjrBJ;;K7CmrBI,M6CnrBJ;K7CorBI,M6CprBJ;;K7CqrBI,M6CrrBJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;WAAqB;EAArB;;;;;;;;;;;K7C+pBI,M6C/pBJ;;K7CgqBI,M6ChqBJ;K7CiqBI,M6CjqBJ;;;K7CmqBI,M6CnqBJ;K7CoqBI,M6CpqBJ;K7CqqBI,M6CrqBJ;;;K7CuqBI,M6CvqBJ;K7CwqBI,M6CxqBJ;K7CyqBI,M6CzqBJ;;K7C2qBI,M6C3qBJ;;K7C4qBI,M6C5qBJ;K7C6qBI,M6C7qBJ;;K7C+qBI,M6C/qBJ;K7CgrBI,M6ChrBJ;;K7CirBI,M6CjrBJ;;K7CmrBI,M6CnrBJ;K7CorBI,M6CprBJ;;K7CqrBI,M6CrrBJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;I7C+pBI,M6C/pBJ;;I7CgqBI,M6ChqBJ;I7CiqBI,M6CjqBJ;;;I7CmqBI,M6CnqBJ;I7CoqBI,M6CpqBJ;I7CqqBI,M6CrqBJ;;;I7CuqBI,M6CvqBJ;I7CwqBI,M6CxqBJ;I7CyqBI,M6CzqBJ;;I7C2qBI,M6C3qBJ;;I7C4qBI,M6C5qBJ;I7C6qBI,M6C7qBJ;;I7C+qBI,M6C/qBJ;I7CgrBI,M6ChrBJ;;I7CirBI,M6CjrBJ;;I7CmrBI,M6CnrBJ;I7CorBI,M6CprBJ;;I7CqrBI,M6CrrBJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAEA,OAAO;;oBAKJ,uBAAqE;AAAA,EAKxE,iBAAiB,SAAS;EAC1B,SAAS,SAAU;EAEf,SACU,UAAU;EADpB,SAEU,UAAU;EAFpB,SAGU,SAAU;EAHpB;WAAU,UAAU;EAApB;;;;;;;;;;;K7CgpBA,K6ChpBA;;K7CipBA,M6CjpBA;K7CkpBA,M6ClpBA;;;K7CopBA,K6CppBA;K7CqpBA,M6CrpBA;K7CspBA,M6CtpBA;;;K7CwpBA,K6CxpBA;K7CypBA,M6CzpBA;K7C0pBA,M6C1pBA;;K7C4pBA,K6C5pBA;;K7C6pBA,M6C7pBA;K7C8pBA,M6C9pBA;;K7CgqBA,K6ChqBA;K7CiqBA,M6CjqBA;;K7CkqBA,M6ClqBA;;K7CoqBA,K6CpqBA;K7CqqBA,M6CrqBA;;K7CsqBA,M6CtqBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;K7CgpBA,M6ChpBA;;K7CipBA,M6CjpBA;K7CkpBA,M6ClpBA;;;K7CopBA,M6CppBA;K7CqpBA,M6CrpBA;K7CspBA,M6CtpBA;;;K7CwpBA,M6CxpBA;K7CypBA,M6CzpBA;K7C0pBA,M6C1pBA;;K7C4pBA,M6C5pBA;;K7C6pBA,M6C7pBA;K7C8pBA,M6C9pBA;;K7CgqBA,M6ChqBA;K7CiqBA,M6CjqBA;;K7CkqBA,M6ClqBA;;K7CoqBA,M6CpqBA;K7CqqBA,M6CrqBA;;K7CsqBA,M6CtqBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;K7CgpBA,M6ChpBA;;K7CipBA,M6CjpBA;K7CkpBA,M6ClpBA;;;K7CopBA,M6CppBA;K7CqpBA,M6CrpBA;K7CspBA,M6CtpBA;;;K7CwpBA,M6CxpBA;K7CypBA,M6CzpBA;K7C0pBA,M6C1pBA;;K7C4pBA,M6C5pBA;;K7C6pBA,M6C7pBA;K7C8pBA,M6C9pBA;;K7CgqBA,M6ChqBA;K7CiqBA,M6CjqBA;;K7CkqBA,M6ClqBA;;K7CoqBA,M6CpqBA;K7CqqBA,M6CrqBA;;K7CsqBA,M6CtqBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;K7CgpBA,M6ChpBA;;K7CipBA,M6CjpBA;K7CkpBA,M6ClpBA;;;K7CopBA,M6CppBA;K7CqpBA,M6CrpBA;K7CspBA,M6CtpBA;;;K7CwpBA,M6CxpBA;K7CypBA,M6CzpBA;K7C0pBA,M6C1pBA;;K7C4pBA,M6C5pBA;;K7C6pBA,M6C7pBA;K7C8pBA,M6C9pBA;;K7CgqBA,M6ChqBA;K7CiqBA,M6CjqBA;;K7CkqBA,M6ClqBA;;K7CoqBA,M6CpqBA;K7CqqBA,M6CrqBA;;K7CsqBA,M6CtqBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;I7CgpBA,M6ChpBA;;I7CipBA,M6CjpBA;I7CkpBA,M6ClpBA;;;I7CopBA,M6CppBA;I7CqpBA,M6CrpBA;I7CspBA,M6CtpBA;;;I7CwpBA,M6CxpBA;I7CypBA,M6CzpBA;I7C0pBA,M6C1pBA;;I7C4pBA,M6C5pBA;;I7C6pBA,M6C7pBA;I7C8pBA,M6C9pBA;;I7CgqBA,M6ChqBA;I7CiqBA,M6CjqBA;;I7CkqBA,M6ClqBA;;I7CoqBA,M6CpqBA;I7CqqBA,M6CrqBA;;I7CsqBA,M6CtqBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAKJ,OAAO;;yBAKJ,aAAyD;AAAA,EAK5D,SAAS;EAET,UAAU,GAAG;EAAb,UAAuB,GAAG;EAA1B,UAAoC,GAAG;EACvC,UAAU,GAAG;EAAb,UAAuB,GAAG;EAA1B,UAAoC,GAAG;EACvC,UAAU,GAAG;EAAb,UAAuB,GAAG;EAA1B,UAAoC,GAAG;EAEvC,SAAS;EACT,SAAS;EACT,SAAS;EACT,SAAS;EAET,SAAS,MAAM,MAAM;EAErB;EAEI,EAAI,MAAK,GAAG;AAAA,GAER,IAAI,MAAM,UAAW,KAAK;GAE1B,KAAK,OAAO;GACZ,KAAK,CAAC,MAAM,OAAO;GACnB,KAAK,CAAC,MAAM,OAAO;GACnB,KAAK,CAAC,MAAM,OAAO;SAEhB,EAAI,OAAM,OAAO,MAAM,KAAK;AAAA,GAE/B,IAAI,MAAM,UAAU,MAAM,MAAM,MAAM;GAEtC,KAAK,CAAC,MAAM,OAAO;GACnB,KAAK,OAAO;GACZ,KAAK,CAAC,MAAM,OAAO;GACnB,KAAK,CAAC,MAAM,OAAO;SAEhB,EAAI,OAAM,KAAK;AAAA,GAElB,IAAI,MAAM,UAAU,MAAM,MAAM,MAAM;GAEtC,KAAK,CAAC,MAAM,OAAO;GACnB,KAAK,CAAC,MAAM,OAAO;GACnB,KAAK,OAAO;GACZ,KAAK,CAAC,MAAM,OAAO;SAEhB;AAAA,GAEH,IAAI,MAAM,UAAU,MAAM,MAAM,MAAM;GAEtC,KAAK,CAAC,MAAM,OAAO;GACnB,KAAK,CAAC,MAAM,OAAO;GACnB,KAAK,CAAC,MAAM,OAAO;GACnB,KAAK,OAAO;;EAIpB;WAAS;EAAT;;;;;;;;;;;K7C4kBI,M6C5kBJ;;K7C6kBI,M6C7kBJ;K7C8kBI,M6C9kBJ;;;K7CglBI,M6ChlBJ;K7CilBI,M6CjlBJ;K7CklBI,M6CllBJ;;;K7ColBI,M6CplBJ;K7CqlBI,M6CrlBJ;K7CslBI,M6CtlBJ;;K7CwlBI,M6CxlBJ;;K7CylBI,M6CzlBJ;K7C0lBI,M6C1lBJ;;K7C4lBI,M6C5lBJ;K7C6lBI,M6C7lBJ;;K7C8lBI,M6C9lBJ;;K7CgmBI,M6ChmBJ;K7CimBI,M6CjmBJ;;K7CkmBI,M6ClmBJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;WAAa;EAAb;;;;;;;;;;;K7C4kBI,M6C5kBJ;;K7C6kBI,M6C7kBJ;K7C8kBI,M6C9kBJ;;;K7CglBI,M6ChlBJ;K7CilBI,M6CjlBJ;K7CklBI,M6CllBJ;;;K7ColBI,M6CplBJ;K7CqlBI,M6CrlBJ;K7CslBI,M6CtlBJ;;K7CwlBI,M6CxlBJ;;K7CylBI,M6CzlBJ;K7C0lBI,M6C1lBJ;;K7C4lBI,M6C5lBJ;K7C6lBI,M6C7lBJ;;K7C8lBI,M6C9lBJ;;K7CgmBI,M6ChmBJ;K7CimBI,M6CjmBJ;;K7CkmBI,M6ClmBJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;WAAiB;EAAjB;;;;;;;;;;;K7C4kBI,M6C5kBJ;;K7C6kBI,M6C7kBJ;K7C8kBI,M6C9kBJ;;;K7CglBI,M6ChlBJ;K7CilBI,M6CjlBJ;K7CklBI,M6CllBJ;;;K7ColBI,M6CplBJ;K7CqlBI,M6CrlBJ;K7CslBI,M6CtlBJ;;K7CwlBI,M6CxlBJ;;K7CylBI,M6CzlBJ;K7C0lBI,M6C1lBJ;;K7C4lBI,M6C5lBJ;K7C6lBI,M6C7lBJ;;K7C8lBI,M6C9lBJ;;K7CgmBI,M6ChmBJ;K7CimBI,M6CjmBJ;;K7CkmBI,M6ClmBJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;WAAqB;EAArB;;;;;;;;;;;K7C4kBI,M6C5kBJ;;K7C6kBI,M6C7kBJ;K7C8kBI,M6C9kBJ;;;K7CglBI,M6ChlBJ;K7CilBI,M6CjlBJ;K7CklBI,M6CllBJ;;;K7ColBI,M6CplBJ;K7CqlBI,M6CrlBJ;K7CslBI,M6CtlBJ;;K7CwlBI,M6CxlBJ;;K7CylBI,M6CzlBJ;K7C0lBI,M6C1lBJ;;K7C4lBI,M6C5lBJ;K7C6lBI,M6C7lBJ;;K7C8lBI,M6C9lBJ;;K7CgmBI,M6ChmBJ;K7CimBI,M6CjmBJ;;K7CkmBI,M6ClmBJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;I7C4kBI,M6C5kBJ;;I7C6kBI,M6C7kBJ;I7C8kBI,M6C9kBJ;;;I7CglBI,M6ChlBJ;I7CilBI,M6CjlBJ;I7CklBI,M6CllBJ;;;I7ColBI,M6CplBJ;I7CqlBI,M6CrlBJ;I7CslBI,M6CtlBJ;;I7CwlBI,M6CxlBJ;;I7CylBI,M6CzlBJ;I7C0lBI,M6C1lBJ;;I7C4lBI,M6C5lBJ;I7C6lBI,M6C7lBJ;;I7C8lBI,M6C9lBJ;;I7CgmBI,M6ChmBJ;I7CimBI,M6CjmBJ;;I7CkmBI,M6ClmBJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAEA,OAAO;;WAKJ,WAEH;AAAA,SAAO;;aAKJ,WAAkC;AAAA,EAErC,SAAiB,SAAI;EAArB,SAAyB,SAAI;EAA7B;WAAS,SAAI;EAAb;;;;;;;;;;;K7C4jBI,K6C5jBJ;;K7C6jBI,M6C7jBJ;K7C8jBI,M6C9jBJ;;;K7CgkBI,K6ChkBJ;K7CikBI,M6CjkBJ;K7CkkBI,M6ClkBJ;;;K7CokBI,K6CpkBJ;K7CqkBI,M6CrkBJ;K7CskBI,M6CtkBJ;;K7CwkBI,K6CxkBJ;;K7CykBI,M6CzkBJ;K7C0kBI,M6C1kBJ;;K7C4kBI,K6C5kBJ;K7C6kBI,M6C7kBJ;;K7C8kBI,M6C9kBJ;;K7CglBI,K6ChlBJ;K7CilBI,M6CjlBJ;;K7CklBI,M6CllBJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;K7C4jBI,M6C5jBJ;;K7C6jBI,M6C7jBJ;K7C8jBI,M6C9jBJ;;;K7CgkBI,M6ChkBJ;K7CikBI,M6CjkBJ;K7CkkBI,M6ClkBJ;;;K7CokBI,M6CpkBJ;K7CqkBI,M6CrkBJ;K7CskBI,M6CtkBJ;;K7CwkBI,M6CxkBJ;;K7CykBI,M6CzkBJ;K7C0kBI,M6C1kBJ;;K7C4kBI,M6C5kBJ;K7C6kBI,M6C7kBJ;;K7C8kBI,M6C9kBJ;;K7CglBI,M6ChlBJ;K7CilBI,M6CjlBJ;;K7CklBI,M6CllBJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;K7C4jBI,M6C5jBJ;;K7C6jBI,M6C7jBJ;K7C8jBI,M6C9jBJ;;;K7CgkBI,M6ChkBJ;K7CikBI,M6CjkBJ;K7CkkBI,M6ClkBJ;;;K7CokBI,M6CpkBJ;K7CqkBI,M6CrkBJ;K7CskBI,M6CtkBJ;;K7CwkBI,M6CxkBJ;;K7CykBI,M6CzkBJ;K7C0kBI,M6C1kBJ;;K7C4kBI,M6C5kBJ;K7C6kBI,M6C7kBJ;;K7C8kBI,M6C9kBJ;;K7CglBI,M6ChlBJ;K7CilBI,M6CjlBJ;;K7CklBI,M6CllBJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;I7C4jBI,M6C5jBJ;;I7C6jBI,M6C7jBJ;I7C8jBI,M6C9jBJ;;;I7CgkBI,M6ChkBJ;I7CikBI,M6CjkBJ;I7CkkBI,M6ClkBJ;;;I7CokBI,M6CpkBJ;I7CqkBI,M6CrkBJ;I7CskBI,M6CtkBJ;;I7CwkBI,M6CxkBJ;;I7CykBI,M6CzkBJ;I7C0kBI,M6C1kBJ;;I7C4kBI,M6C5kBJ;I7C6kBI,M6C7kBJ;;I7C8kBI,M6C9kBJ;;I7CglBI,M6ChlBJ;I7CilBI,M6CjlBJ;;I7CklBI,M6CllBJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAEA,OAAO;;YAKJ,WAEH;AAAA,SAAO,SAAI,SAAI,SAAI,SAAI,SAAI,SAAI,SAAI;;UAKhC,WAEH;AAAA,SAAO,UAAU,SAAI,SAAI,SAAI,SAAI,SAAI,SAAI,SAAI;;aAK1C,WAAkC;AAAA,EAErC,QAAQ;EAEJ,EAAI,MAAK,GAEL;AAAA;YAAS;GAAT;;;;;;;;;;;M7CiiBJ,K6CjiBI;;M7CkiBJ,K6CliBI;M7CmiBJ,K6CniBI;;;M7CqiBJ,K6CriBI;M7CsiBJ,K6CtiBI;M7CuiBJ,K6CviBI;;;M7CyiBJ,K6CziBI;M7C0iBJ,K6C1iBI;M7C2iBJ,K6C3iBI;;M7C6iBJ,K6C7iBI;;M7C8iBJ,K6C9iBI;M7C+iBJ,K6C/iBI;;M7CijBJ,K6CjjBI;M7CkjBJ,K6CljBI;;M7CmjBJ,K6CnjBI;;M7CqjBJ,K6CrjBI;M7CsjBJ,K6CtjBI;;M7CujBJ,K6CvjBI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAAW;GAAX;;;;;;;;;;;M7CiiBJ,M6CjiBI;;M7CkiBJ,M6CliBI;M7CmiBJ,M6CniBI;;;M7CqiBJ,M6CriBI;M7CsiBJ,M6CtiBI;M7CuiBJ,M6CviBI;;;M7CyiBJ,M6CziBI;M7C0iBJ,M6C1iBI;M7C2iBJ,M6C3iBI;;M7C6iBJ,M6C7iBI;;M7C8iBJ,M6C9iBI;M7C+iBJ,M6C/iBI;;M7CijBJ,M6CjjBI;M7CkjBJ,M6CljBI;;M7CmjBJ,M6CnjBI;;M7CqjBJ,M6CrjBI;M7CsjBJ,M6CtjBI;;M7CujBJ,M6CvjBI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAAa;GAAb;;;;;;;;;;;M7CiiBJ,M6CjiBI;;M7CkiBJ,M6CliBI;M7CmiBJ,M6CniBI;;;M7CqiBJ,M6CriBI;M7CsiBJ,M6CtiBI;M7CuiBJ,M6CviBI;;;M7CyiBJ,M6CziBI;M7C0iBJ,M6C1iBI;M7C2iBJ,M6C3iBI;;M7C6iBJ,M6C7iBI;;M7C8iBJ,M6C9iBI;M7C+iBJ,M6C/iBI;;M7CijBJ,M6CjjBI;M7CkjBJ,M6CljBI;;M7CmjBJ,M6CnjBI;;M7CqjBJ,M6CrjBI;M7CsjBJ,M6CtjBI;;M7CujBJ,M6CvjBI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAAe;GAAf;;;;;;;;;;;M7CiiBJ,M6CjiBI;;M7CkiBJ,M6CliBI;M7CmiBJ,M6CniBI;;;M7CqiBJ,M6CriBI;M7CsiBJ,M6CtiBI;M7CuiBJ,M6CviBI;;;M7CyiBJ,M6CziBI;M7C0iBJ,M6C1iBI;M7C2iBJ,M6C3iBI;;M7C6iBJ,M6C7iBI;;M7C8iBJ,M6C9iBI;M7C+iBJ,M6C/iBI;;M7CijBJ,M6CjjBI;M7CkjBJ,M6CljBI;;M7CmjBJ,M6CnjBI;;M7CqjBJ,M6CrjBI;M7CsjBJ,M6CtjBI;;M7CujBJ,M6CvjBI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;K7CiiBJ,M6CjiBI;;K7CkiBJ,M6CliBI;K7CmiBJ,M6CniBI;;;K7CqiBJ,M6CriBI;K7CsiBJ,M6CtiBI;K7CuiBJ,M6CviBI;;;K7CyiBJ,M6CziBI;K7C0iBJ,M6C1iBI;K7C2iBJ,M6C3iBI;;K7C6iBJ,M6C7iBI;;K7C8iBJ,M6C9iBI;K7C+iBJ,M6C/iBI;;K7CijBJ,M6CjjBI;K7CkjBJ,M6CljBI;;K7CmjBJ,M6CnjBI;;K7CqjBJ,M6CrjBI;K7CsjBJ,M6CtjBI;;K7CujBJ,M6CvjBI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SAEG;AAAA,GAEH,IAAI,IAAI;GAER,UAAe,SAAE;GAAjB,UAAoB,SAAE;GAAtB,SAAyB,SAAE;GAA3B;YAAU,SAAE;GAAZ;;;;;;;;;;;M7C2hBJ,M6C3hBI;;M7C4hBJ,M6C5hBI;M7C6hBJ,M6C7hBI;;;M7C+hBJ,M6C/hBI;M7CgiBJ,M6ChiBI;M7CiiBJ,M6CjiBI;;;M7CmiBJ,M6CniBI;M7CoiBJ,M6CpiBI;M7CqiBJ,M6CriBI;;M7CuiBJ,M6CviBI;;M7CwiBJ,M6CxiBI;M7CyiBJ,M6CziBI;;M7C2iBJ,M6C3iBI;M7C4iBJ,M6C5iBI;;M7C6iBJ,M6C7iBI;;M7C+iBJ,M6C/iBI;M7CgjBJ,M6ChjBI;;M7CijBJ,M6CjjBI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;M7C2hBJ,M6C3hBI;;M7C4hBJ,M6C5hBI;M7C6hBJ,M6C7hBI;;;M7C+hBJ,M6C/hBI;M7CgiBJ,M6ChiBI;M7CiiBJ,M6CjiBI;;;M7CmiBJ,M6CniBI;M7CoiBJ,M6CpiBI;M7CqiBJ,M6CriBI;;M7CuiBJ,M6CviBI;;M7CwiBJ,M6CxiBI;M7CyiBJ,M6CziBI;;M7C2iBJ,M6C3iBI;M7C4iBJ,M6C5iBI;;M7C6iBJ,M6C7iBI;;M7C+iBJ,M6C/iBI;M7CgjBJ,M6ChjBI;;M7CijBJ,M6CjjBI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;M7C2hBJ,M6C3hBI;;M7C4hBJ,M6C5hBI;M7C6hBJ,M6C7hBI;;;M7C+hBJ,M6C/hBI;M7CgiBJ,M6ChiBI;M7CiiBJ,M6CjiBI;;;M7CmiBJ,M6CniBI;M7CoiBJ,M6CpiBI;M7CqiBJ,M6CriBI;;M7CuiBJ,M6CviBI;;M7CwiBJ,M6CxiBI;M7CyiBJ,M6CziBI;;M7C2iBJ,M6C3iBI;M7C4iBJ,M6C5iBI;;M7C6iBJ,M6C7iBI;;M7C+iBJ,M6C/iBI;M7CgjBJ,M6ChjBI;;M7CijBJ,M6CjjBI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;M7C2hBJ,M6C3hBI;;M7C4hBJ,M6C5hBI;M7C6hBJ,M6C7hBI;;;M7C+hBJ,M6C/hBI;M7CgiBJ,M6ChiBI;M7CiiBJ,M6CjiBI;;;M7CmiBJ,M6CniBI;M7CoiBJ,M6CpiBI;M7CqiBJ,M6CriBI;;M7CuiBJ,M6CviBI;;M7CwiBJ,M6CxiBI;M7CyiBJ,M6CziBI;;M7C2iBJ,M6C3iBI;M7C4iBJ,M6C5iBI;;M7C6iBJ,M6C7iBI;;M7C+iBJ,M6C/iBI;M7CgjBJ,M6ChjBI;;M7CijBJ,M6CjjBI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;K7C2hBJ,M6C3hBI;;K7C4hBJ,O6C5hBI;K7C6hBJ,O6C7hBI;;;K7C+hBJ,M6C/hBI;K7CgiBJ,O6ChiBI;K7CiiBJ,O6CjiBI;;;K7CmiBJ,M6CniBI;K7CoiBJ,O6CpiBI;K7CqiBJ,O6CriBI;;K7CuiBJ,M6CviBI;;K7CwiBJ,O6CxiBI;K7CyiBJ,O6CziBI;;K7C2iBJ,M6C3iBI;K7C4iBJ,O6C5iBI;;K7C6iBJ,O6C7iBI;;K7C+iBJ,M6C/iBI;K7CgjBJ,O6ChjBI;;K7CijBJ,O6CjjBI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAIR,OAAO;;YAgBJ,sBAEH;AAAA,SAAO,yBAAqB,KAAM;;OAI/B,sBAEH;AAAA,SAAO,oBAAgB,KAAM;;kBAI1B,gBAAwD;AAAA,EAEvD,SAAI,OAAO;EAAX;;;;;;;;;;;K7CyfA,K6CzfA;;K7C0fA,K6C1fA;K7C2fA,K6C3fA;;;K7C6fA,K6C7fA;K7C8fA,K6C9fA;K7C+fA,K6C/fA;;;K7CigBA,K6CjgBA;K7CkgBA,K6ClgBA;K7CmgBA,K6CngBA;;K7CqgBA,K6CrgBA;;K7CsgBA,K6CtgBA;K7CugBA,K6CvgBA;;K7CygBA,K6CzgBA;K7C0gBA,K6C1gBA;;K7C2gBA,K6C3gBA;;K7C6gBA,K6C7gBA;K7C8gBA,K6C9gBA;;K7C+gBA,K6C/gBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EACA,SAAI,OAAO;EAAX;;;;;;;;;;;K7CwfA,M6CxfA;;K7CyfA,M6CzfA;K7C0fA,M6C1fA;;;K7C4fA,M6C5fA;K7C6fA,M6C7fA;K7C8fA,M6C9fA;;;K7CggBA,M6ChgBA;K7CigBA,M6CjgBA;K7CkgBA,M6ClgBA;;K7CogBA,M6CpgBA;;K7CqgBA,M6CrgBA;K7CsgBA,M6CtgBA;;K7CwgBA,M6CxgBA;K7CygBA,M6CzgBA;;K7C0gBA,M6C1gBA;;K7C4gBA,M6C5gBA;K7C6gBA,M6C7gBA;;K7C8gBA,M6C9gBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EACA,SAAI,OAAO;EAAX;;;;;;;;;;;K7CufA,M6CvfA;;K7CwfA,M6CxfA;K7CyfA,M6CzfA;;;K7C2fA,M6C3fA;K7C4fA,M6C5fA;K7C6fA,M6C7fA;;;K7C+fA,M6C/fA;K7CggBA,M6ChgBA;K7CigBA,M6CjgBA;;K7CmgBA,M6CngBA;;K7CogBA,M6CpgBA;K7CqgBA,M6CrgBA;;K7CugBA,M6CvgBA;K7CwgBA,M6CxgBA;;K7CygBA,M6CzgBA;;K7C2gBA,M6C3gBA;K7C4gBA,M6C5gBA;;K7C6gBA,M6C7gBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EACA,SAAI,OAAO;EAAX;;;;;;;;;;;K7CsfA,M6CtfA;;K7CufA,M6CvfA;K7CwfA,M6CxfA;;;K7C0fA,M6C1fA;K7C2fA,M6C3fA;K7C4fA,M6C5fA;;;K7C8fA,M6C9fA;K7C+fA,M6C/fA;K7CggBA,M6ChgBA;;K7CkgBA,M6ClgBA;;K7CmgBA,M6CngBA;K7CogBA,M6CpgBA;;K7CsgBA,M6CtgBA;K7CugBA,M6CvgBA;;K7CwgBA,M6CxgBA;;K7C0gBA,M6C1gBA;K7C2gBA,M6C3gBA;;K7C4gBA,M6C5gBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAEJ,OAAO;;kBAIJ,kBAAsD;AAAA,EAErD;UAAK;EAAL;;;;;;;;;;;K7C8eA,K6C9eA;;K7C+eA,K6C/eA;K7CgfA,K6ChfA;;;K7CkfA,K6ClfA;K7CmfA,K6CnfA;K7CofA,K6CpfA;;;K7CsfA,K6CtfA;K7CufA,K6CvfA;K7CwfA,K6CxfA;;K7C0fA,K6C1fA;;K7C2fA,K6C3fA;K7C4fA,K6C5fA;;K7C8fA,K6C9fA;K7C+fA,K6C/fA;;K7CggBA,K6ChgBA;;K7CkgBA,K6ClgBA;K7CmgBA,K6CngBA;;K7CogBA,K6CpgBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EACA;WAAK;EAAL;;;;;;;;;;;K7C6eA,M6C7eA;;K7C8eA,M6C9eA;K7C+eA,M6C/eA;;;K7CifA,M6CjfA;K7CkfA,M6ClfA;K7CmfA,M6CnfA;;;K7CqfA,M6CrfA;K7CsfA,M6CtfA;K7CufA,M6CvfA;;K7CyfA,M6CzfA;;K7C0fA,M6C1fA;K7C2fA,M6C3fA;;K7C6fA,M6C7fA;K7C8fA,M6C9fA;;K7C+fA,M6C/fA;;K7CigBA,M6CjgBA;K7CkgBA,M6ClgBA;;K7CmgBA,M6CngBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EACA;WAAK;EAAL;;;;;;;;;;;K7C4eA,M6C5eA;;K7C6eA,M6C7eA;K7C8eA,M6C9eA;;;K7CgfA,M6ChfA;K7CifA,M6CjfA;K7CkfA,M6ClfA;;;K7CofA,M6CpfA;K7CqfA,M6CrfA;K7CsfA,M6CtfA;;K7CwfA,M6CxfA;;K7CyfA,M6CzfA;K7C0fA,M6C1fA;;K7C4fA,M6C5fA;K7C6fA,M6C7fA;;K7C8fA,M6C9fA;;K7CggBA,M6ChgBA;K7CigBA,M6CjgBA;;K7CkgBA,M6ClgBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EACA;WAAK;EAAL;;;;;;;;;;;K7C2eA,M6C3eA;;K7C4eA,M6C5eA;K7C6eA,M6C7eA;;;K7C+eA,M6C/eA;K7CgfA,M6ChfA;K7CifA,M6CjfA;;;K7CmfA,M6CnfA;K7CofA,M6CpfA;K7CqfA,M6CrfA;;K7CufA,M6CvfA;;K7CwfA,M6CxfA;K7CyfA,M6CzfA;;K7C2fA,M6C3fA;K7C4fA,M6C5fA;;K7C6fA,M6C7fA;;K7C+fA,M6C/fA;K7CggBA,M6ChgBA;;K7CigBA,M6CjgBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAEJ,OAAO;;uBAIJ,gBAA0E;AAAA,EAE7E,UAAU;EAAV,UAAsB;EAAtB,UAAkC;EAAlC,UAA8C;EAC9C,UAAU;EAAV,UAAsB;EAAtB,UAAkC;EAAlC,UAA8C;EAE1C;WAAU,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM;EAApD;;;;;;;;;;;K7CgeA,K6CheA;;K7CieA,K6CjeA;K7CkeA,K6CleA;;;K7CoeA,K6CpeA;K7CqeA,K6CreA;K7CseA,K6CteA;;;K7CweA,K6CxeA;K7CyeA,K6CzeA;K7C0eA,K6C1eA;;K7C4eA,K6C5eA;;K7C6eA,K6C7eA;K7C8eA,K6C9eA;;K7CgfA,K6ChfA;K7CifA,K6CjfA;;K7CkfA,K6ClfA;;K7CofA,K6CpfA;K7CqfA,K6CrfA;;K7CsfA,K6CtfA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;WACU,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM;EADpD;;;;;;;;;;;K7CgeA,M6CheA;;K7CieA,M6CjeA;K7CkeA,M6CleA;;;K7CoeA,M6CpeA;K7CqeA,M6CreA;K7CseA,M6CteA;;;K7CweA,M6CxeA;K7CyeA,M6CzeA;K7C0eA,M6C1eA;;K7C4eA,M6C5eA;;K7C6eA,M6C7eA;K7C8eA,M6C9eA;;K7CgfA,M6ChfA;K7CifA,M6CjfA;;K7CkfA,M6ClfA;;K7CofA,M6CpfA;K7CqfA,M6CrfA;;K7CsfA,M6CtfA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;WAEU,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM;EAFpD;;;;;;;;;;;K7CgeA,M6CheA;;K7CieA,M6CjeA;K7CkeA,M6CleA;;;K7CoeA,M6CpeA;K7CqeA,M6CreA;K7CseA,M6CteA;;;K7CweA,M6CxeA;K7CyeA,M6CzeA;K7C0eA,M6C1eA;;K7C4eA,M6C5eA;;K7C6eA,M6C7eA;K7C8eA,M6C9eA;;K7CgfA,M6ChfA;K7CifA,M6CjfA;;K7CkfA,M6ClfA;;K7CofA,M6CpfA;K7CqfA,M6CrfA;;K7CsfA,M6CtfA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;WAGU,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM;EAHpD;;;;;;;;;;;K7CgeA,M6CheA;;K7CieA,M6CjeA;K7CkeA,M6CleA;;;K7CoeA,M6CpeA;K7CqeA,M6CreA;K7CseA,M6CteA;;;K7CweA,M6CxeA;K7CyeA,M6CzeA;K7C0eA,M6C1eA;;K7C4eA,M6C5eA;;K7C6eA,M6C7eA;K7C8eA,M6C9eA;;K7CgfA,M6ChfA;K7CifA,M6CjfA;;K7CkfA,M6ClfA;;K7CofA,M6CpfA;K7CqfA,M6CrfA;;K7CsfA,M6CtfA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;I7CgeA,M6CheA;;I7CieA,M6CjeA;I7CkeA,M6CleA;;;I7CoeA,M6CpeA;I7CqeA,M6CreA;I7CseA,M6CteA;;;I7CweA,M6CxeA;I7CyeA,M6CzeA;I7C0eA,M6C1eA;;I7C4eA,M6C5eA;;I7C6eA,M6C7eA;I7C8eA,M6C9eA;;I7CgfA,M6ChfA;I7CifA,M6CjfA;;I7CkfA,M6ClfA;;I7CofA,M6CpfA;I7CqfA,M6CrfA;;I7CsfA,M6CtfA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAKJ,OAAO;;SAKJ,iBAAwD;AAAA,EAE3D,SAAS;EACT,SAAS;EACT,SAAS;EACT,SAAS;EAIT,mBAAmB,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK;EAE/D,EAAK,gBAAe,GAAI;AAAA,GAEhB,SAAI,CAAC;GAAL;;;;;;;;;;;M7CycJ,M6CzcI;;M7C0cJ,M6C1cI;M7C2cJ,M6C3cI;;;M7C6cJ,M6C7cI;M7C8cJ,M6C9cI;M7C+cJ,M6C/cI;;;M7CidJ,M6CjdI;M7CkdJ,M6CldI;M7CmdJ,M6CndI;;M7CqdJ,M6CrdI;;M7CsdJ,M6CtdI;M7CudJ,M6CvdI;;M7CydJ,M6CzdI;M7C0dJ,M6C1dI;;M7C2dJ,M6C3dI;;M7C6dJ,M6C7dI;M7C8dJ,M6C9dI;;M7C+dJ,M6C/dI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GACA,SAAI,CAAC;GAAL;;;;;;;;;;;M7CwcJ,M6CxcI;;M7CycJ,M6CzcI;M7C0cJ,M6C1cI;;;M7C4cJ,M6C5cI;M7C6cJ,M6C7cI;M7C8cJ,M6C9cI;;;M7CgdJ,M6ChdI;M7CidJ,M6CjdI;M7CkdJ,M6CldI;;M7CodJ,M6CpdI;;M7CqdJ,M6CrdI;M7CsdJ,M6CtdI;;M7CwdJ,M6CxdI;M7CydJ,M6CzdI;;M7C0dJ,M6C1dI;;M7C4dJ,M6C5dI;M7C6dJ,M6C7dI;;M7C8dJ,M6C9dI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GACA,SAAI,CAAC;GAAL;;;;;;;;;;;M7CucJ,M6CvcI;;M7CwcJ,M6CxcI;M7CycJ,M6CzcI;;;M7C2cJ,M6C3cI;M7C4cJ,M6C5cI;M7C6cJ,M6C7cI;;;M7C+cJ,M6C/cI;M7CgdJ,M6ChdI;M7CidJ,M6CjdI;;M7CmdJ,M6CndI;;M7CodJ,M6CpdI;M7CqdJ,M6CrdI;;M7CudJ,M6CvdI;M7CwdJ,M6CxdI;;M7CydJ,M6CzdI;;M7C2dJ,M6C3dI;M7C4dJ,M6C5dI;;M7C6dJ,M6C7dI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GACA,SAAI,CAAC;GAAL;;;;;;;;;;;M7CscJ,M6CtcI;;M7CucJ,M6CvcI;M7CwcJ,M6CxcI;;;M7C0cJ,M6C1cI;M7C2cJ,M6C3cI;M7C4cJ,M6C5cI;;;M7C8cJ,M6C9cI;M7C+cJ,M6C/cI;M7CgdJ,M6ChdI;;M7CkdJ,M6CldI;;M7CmdJ,M6CndI;M7CodJ,M6CpdI;;M7CsdJ,M6CtdI;M7CudJ,M6CvdI;;M7CwdJ,M6CxdI;;M7C0dJ,M6C1dI;M7C2dJ,M6C3dI;;M7C4dJ,M6C5dI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAEA,eAAe,CAAC;SAIpB;AAAA,aAAW;;EAIf,EAAK,iBAAgB,KAAM;AAAA,GAEvB;YAAS;GAAT;;;;;;;;;;;M7C0bA,M6C1bA;;M7C2bA,M6C3bA;M7C4bA,M6C5bA;;;M7C8bA,M6C9bA;M7C+bA,M6C/bA;M7CgcA,M6ChcA;;;M7CkcA,M6ClcA;M7CmcA,M6CncA;M7CocA,M6CpcA;;M7CscA,M6CtcA;;M7CucA,M6CvcA;M7CwcA,M6CxcA;;M7C0cA,M6C1cA;M7C2cA,M6C3cA;;M7C4cA,M6C5cA;;M7C8cA,M6C9cA;M7C+cA,M6C/cA;;M7CgdA,M6ChdA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAAa;GAAb;;;;;;;;;;;M7C0bA,M6C1bA;;M7C2bA,M6C3bA;M7C4bA,M6C5bA;;;M7C8bA,M6C9bA;M7C+bA,M6C/bA;M7CgcA,M6ChcA;;;M7CkcA,M6ClcA;M7CmcA,M6CncA;M7CocA,M6CpcA;;M7CscA,M6CtcA;;M7CucA,M6CvcA;M7CwcA,M6CxcA;;M7C0cA,M6C1cA;M7C2cA,M6C3cA;;M7C4cA,M6C5cA;;M7C8cA,M6C9cA;M7C+cA,M6C/cA;;M7CgdA,M6ChdA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAAiB;GAAjB;;;;;;;;;;;M7C0bA,M6C1bA;;M7C2bA,M6C3bA;M7C4bA,M6C5bA;;;M7C8bA,M6C9bA;M7C+bA,M6C/bA;M7CgcA,M6ChcA;;;M7CkcA,M6ClcA;M7CmcA,M6CncA;M7CocA,M6CpcA;;M7CscA,M6CtcA;;M7CucA,M6CvcA;M7CwcA,M6CxcA;;M7C0cA,M6C1cA;M7C2cA,M6C3cA;;M7C4cA,M6C5cA;;M7C8cA,M6C9cA;M7C+cA,M6C/cA;;M7CgdA,M6ChdA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAAqB;GAArB;;;;;;;;;;;M7C0bA,M6C1bA;;M7C2bA,M6C3bA;M7C4bA,M6C5bA;;;M7C8bA,M6C9bA;M7C+bA,M6C/bA;M7CgcA,M6ChcA;;;M7CkcA,M6ClcA;M7CmcA,M6CncA;M7CocA,M6CpcA;;M7CscA,M6CtcA;;M7CucA,M6CvcA;M7CwcA,M6CxcA;;M7C0cA,M6C1cA;M7C2cA,M6C3cA;;M7C4cA,M6C5cA;;M7C8cA,M6C9cA;M7C+cA,M6C/cA;;M7CgdA,M6ChdA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;K7C0bA,M6C1bA;;K7C2bA,M6C3bA;K7C4bA,M6C5bA;;;K7C8bA,M6C9bA;K7C+bA,M6C/bA;K7CgcA,M6ChcA;;;K7CkcA,M6ClcA;K7CmcA,M6CncA;K7CocA,M6CpcA;;K7CscA,M6CtcA;;K7CucA,M6CvcA;K7CwcA,M6CxcA;;K7C0cA,M6C1cA;K7C2cA,M6C3cA;;K7C4cA,M6C5cA;;K7C8cA,M6C9cA;K7C+cA,M6C/cA;;K7CgdA,M6ChdA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAEA,OAAO;;EAIX,gBAAgB,UAAW;EAC3B,mBAAmB,UAAW,MAAM,eAAe;EAEnD,EAAK,UAAU,gBAAiB,OAAQ;AAAA,GAEpC,WACU,MAAM,CAAE,KAAK;GADvB,WAEU,MAAM,CAAE,KAAK;GAFvB,UAGU,MAAM,CAAE,KAAK;GAHvB;YAAU,MAAM,CAAE,KAAK;GAAvB;;;;;;;;;;;M7C+aA,O6C/aA;;M7CgbA,O6ChbA;M7CibA,O6CjbA;;;M7CmbA,O6CnbA;M7CobA,O6CpbA;M7CqbA,O6CrbA;;;M7CubA,O6CvbA;M7CwbA,O6CxbA;M7CybA,O6CzbA;;M7C2bA,O6C3bA;;M7C4bA,O6C5bA;M7C6bA,O6C7bA;;M7C+bA,O6C/bA;M7CgcA,O6ChcA;;M7CicA,O6CjcA;;M7CmcA,O6CncA;M7CocA,O6CpcA;;M7CqcA,O6CrcA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;M7C+aA,O6C/aA;;M7CgbA,O6ChbA;M7CibA,O6CjbA;;;M7CmbA,O6CnbA;M7CobA,O6CpbA;M7CqbA,O6CrbA;;;M7CubA,O6CvbA;M7CwbA,O6CxbA;M7CybA,O6CzbA;;M7C2bA,O6C3bA;;M7C4bA,O6C5bA;M7C6bA,O6C7bA;;M7C+bA,O6C/bA;M7CgcA,O6ChcA;;M7CicA,O6CjcA;;M7CmcA,O6CncA;M7CocA,O6CpcA;;M7CqcA,O6CrcA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;M7C+aA,O6C/aA;;M7CgbA,O6ChbA;M7CibA,O6CjbA;;;M7CmbA,O6CnbA;M7CobA,O6CpbA;M7CqbA,O6CrbA;;;M7CubA,O6CvbA;M7CwbA,O6CxbA;M7CybA,O6CzbA;;M7C2bA,O6C3bA;;M7C4bA,O6C5bA;M7C6bA,O6C7bA;;M7C+bA,O6C/bA;M7CgcA,O6ChcA;;M7CicA,O6CjcA;;M7CmcA,O6CncA;M7CocA,O6CpcA;;M7CqcA,O6CrcA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;M7C+aA,O6C/aA;;M7CgbA,O6ChbA;M7CibA,O6CjbA;;;M7CmbA,O6CnbA;M7CobA,O6CpbA;M7CqbA,O6CrbA;;;M7CubA,O6CvbA;M7CwbA,O6CxbA;M7CybA,O6CzbA;;M7C2bA,O6C3bA;;M7C4bA,O6C5bA;M7C6bA,O6C7bA;;M7C+bA,O6C/bA;M7CgcA,O6ChcA;;M7CicA,O6CjcA;;M7CmcA,O6CncA;M7CocA,O6CpcA;;M7CqcA,O6CrcA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;K7C+aA,O6C/aA;;K7CgbA,O6ChbA;K7CibA,O6CjbA;;;K7CmbA,O6CnbA;K7CobA,O6CpbA;K7CqbA,O6CrbA;;;K7CubA,O6CvbA;K7CwbA,O6CxbA;K7CybA,O6CzbA;;K7C2bA,O6C3bA;;K7C4bA,O6C5bA;K7C6bA,O6C7bA;;K7C+bA,O6C/bA;K7CgcA,O6ChcA;;K7CicA,O6CjcA;;K7CmcA,O6CncA;K7CocA,O6CpcA;;K7CqcA,O6CrcA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAKA,OAAO;;EAIX,aAAa,SAAU,CAAE,IAAI,MAAO,aAAc;EAAlD,aACS,SAAU,KAAK,aAAc;EAElC,WACU,KAAK,SAAS,SAAI;EAD5B,WAEU,KAAK,SAAS,SAAI;EAF5B,UAGU,KAAK,SAAS,SAAI;EAH5B;WAAU,KAAK,SAAS,SAAI;EAA5B;;;;;;;;;;;K7CmaA,O6CnaA;;K7CoaA,O6CpaA;K7CqaA,O6CraA;;;K7CuaA,O6CvaA;K7CwaA,O6CxaA;K7CyaA,O6CzaA;;;K7C2aA,O6C3aA;K7C4aA,O6C5aA;K7C6aA,O6C7aA;;K7C+aA,O6C/aA;;K7CgbA,O6ChbA;K7CibA,O6CjbA;;K7CmbA,O6CnbA;K7CobA,O6CpbA;;K7CqbA,O6CrbA;;K7CubA,O6CvbA;K7CwbA,O6CxbA;;K7CybA,O6CzbA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;K7CmaA,O6CnaA;;K7CoaA,O6CpaA;K7CqaA,O6CraA;;;K7CuaA,O6CvaA;K7CwaA,O6CxaA;K7CyaA,O6CzaA;;;K7C2aA,O6C3aA;K7C4aA,O6C5aA;K7C6aA,O6C7aA;;K7C+aA,O6C/aA;;K7CgbA,O6ChbA;K7CibA,O6CjbA;;K7CmbA,O6CnbA;K7CobA,O6CpbA;;K7CqbA,O6CrbA;;K7CubA,O6CvbA;K7CwbA,O6CxbA;;K7CybA,O6CzbA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;K7CmaA,O6CnaA;;K7CoaA,O6CpaA;K7CqaA,O6CraA;;;K7CuaA,O6CvaA;K7CwaA,O6CxaA;K7CyaA,O6CzaA;;;K7C2aA,O6C3aA;K7C4aA,O6C5aA;K7C6aA,O6C7aA;;K7C+aA,O6C/aA;;K7CgbA,O6ChbA;K7CibA,O6CjbA;;K7CmbA,O6CnbA;K7CobA,O6CpbA;;K7CqbA,O6CrbA;;K7CubA,O6CvbA;K7CwbA,O6CxbA;;K7CybA,O6CzbA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;K7CmaA,O6CnaA;;K7CoaA,O6CpaA;K7CqaA,O6CraA;;;K7CuaA,O6CvaA;K7CwaA,O6CxaA;K7CyaA,O6CzaA;;;K7C2aA,O6C3aA;K7C4aA,O6C5aA;K7C6aA,O6C7aA;;K7C+aA,O6C/aA;;K7CgbA,O6ChbA;K7CibA,O6CjbA;;K7CmbA,O6CnbA;K7CobA,O6CpbA;;K7CqbA,O6CrbA;;K7CubA,O6CvbA;K7CwbA,O6CxbA;;K7CybA,O6CzbA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;I7CmaA,O6CnaA;;I7CoaA,O6CpaA;I7CqaA,O6CraA;;;I7CuaA,O6CvaA;I7CwaA,O6CxaA;I7CyaA,O6CzaA;;;I7C2aA,O6C3aA;I7C4aA,O6C5aA;I7C6aA,O6C7aA;;I7C+aA,O6C/aA;;I7CgbA,O6ChbA;I7CibA,O6CjbA;;I7CmbA,O6CnbA;I7CobA,O6CpbA;;I7CqbA,O6CrbA;;I7CubA,O6CvbA;I7CwbA,O6CxbA;;I7CybA,O6CzbA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAKJ,OAAO;;UAKJ,aAEI;AAAA,IAAE,CAAC,QAAQ,UAAM,AAAC,QAAQ,UAAM,AAAC,QAAQ,QAAM;AAAA,UAAC,QAAQ;SAAxD;AAAA;;;aAKJ,aAAmD;AAAA,EAEtD;WAAS,GAAG;EAAZ;;;;;;;;;;;K7CgZI,K6ChZJ;;K7CiZI,K6CjZJ;K7CkZI,K6ClZJ;;;K7CoZI,K6CpZJ;K7CqZI,K6CrZJ;K7CsZI,K6CtZJ;;;K7CwZI,K6CxZJ;K7CyZI,K6CzZJ;K7C0ZI,K6C1ZJ;;K7C4ZI,K6C5ZJ;;K7C6ZI,K6C7ZJ;K7C8ZI,K6C9ZJ;;K7CgaI,K6ChaJ;K7CiaI,K6CjaJ;;K7CkaI,K6ClaJ;;K7CoaI,K6CpaJ;K7CqaI,K6CraJ;;K7CsaI,K6CtaJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;WAAgB,GAAG;EAAnB;;;;;;;;;;;K7CgZI,M6ChZJ;;K7CiZI,M6CjZJ;K7CkZI,M6ClZJ;;;K7CoZI,M6CpZJ;K7CqZI,M6CrZJ;K7CsZI,M6CtZJ;;;K7CwZI,M6CxZJ;K7CyZI,M6CzZJ;K7C0ZI,M6C1ZJ;;K7C4ZI,M6C5ZJ;;K7C6ZI,M6C7ZJ;K7C8ZI,M6C9ZJ;;K7CgaI,M6ChaJ;K7CiaI,M6CjaJ;;K7CkaI,M6ClaJ;;K7CoaI,M6CpaJ;K7CqaI,M6CraJ;;K7CsaI,M6CtaJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;WAAuB,GAAG;EAA1B;;;;;;;;;;;K7CgZI,M6ChZJ;;K7CiZI,M6CjZJ;K7CkZI,M6ClZJ;;;K7CoZI,M6CpZJ;K7CqZI,M6CrZJ;K7CsZI,M6CtZJ;;;K7CwZI,M6CxZJ;K7CyZI,M6CzZJ;K7C0ZI,M6C1ZJ;;K7C4ZI,M6C5ZJ;;K7C6ZI,M6C7ZJ;K7C8ZI,M6C9ZJ;;K7CgaI,M6ChaJ;K7CiaI,M6CjaJ;;K7CkaI,M6ClaJ;;K7CoaI,M6CpaJ;K7CqaI,M6CraJ;;K7CsaI,M6CtaJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;WAA8B,GAAG;EAAjC;;;;;;;;;;;K7CgZI,M6ChZJ;;K7CiZI,M6CjZJ;K7CkZI,M6ClZJ;;;K7CoZI,M6CpZJ;K7CqZI,M6CrZJ;K7CsZI,M6CtZJ;;;K7CwZI,M6CxZJ;K7CyZI,M6CzZJ;K7C0ZI,M6C1ZJ;;K7C4ZI,M6C5ZJ;;K7C6ZI,M6C7ZJ;K7C8ZI,M6C9ZJ;;K7CgaI,M6ChaJ;K7CiaI,M6CjaJ;;K7CkaI,M6ClaJ;;K7CoaI,M6CpaJ;K7CqaI,M6CraJ;;K7CsaI,M6CtaJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;I7CgZI,M6ChZJ;;I7CiZI,M6CjZJ;I7CkZI,M6ClZJ;;;I7CoZI,M6CpZJ;I7CqZI,M6CrZJ;I7CsZI,M6CtZJ;;;I7CwZI,M6CxZJ;I7CyZI,M6CzZJ;I7C0ZI,M6C1ZJ;;I7C4ZI,M6C5ZJ;;I7C6ZI,M6C7ZJ;I7C8ZI,M6C9ZJ;;I7CgaI,M6ChaJ;I7CiaI,M6CjaJ;;I7CkaI,M6ClaJ;;I7CoaI,M6CpaJ;I7CqaI,M6CraJ;;I7CsaI,M6CtaJ;;;;;;;;;;;;;;;;;;;;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,SAA9B,AAA8B,SAA9B,AAA8B,QAA9B;G7C0XI,K6C1XJ,gBAA8B,SAA9B,AAA8B,SAA9B,AAA8B,SAA9B,AAA8B,QAA9B;qBAA8B,SAA9B,AAA8B,SAA9B,AAA8B,SAA9B,AAA8B;GAA9B,A7C2XI,K6C3XJ;;G7C6XI,K6C7XJ,gBAA8B,SAA9B,AAA8B,SAA9B,AAA8B,SAA9B,AAA8B,QAA9B;G7C8XI,K6C9XJ,gBAA8B,SAA9B,AAA8B,SAA9B,AAA8B,SAA9B,AAA8B,QAA9B;qBAA8B,SAA9B,AAA8B,SAA9B,AAA8B,SAA9B,AAA8B;GAA9B,A7C+XI,K6C/XJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAMU,sBAA0D;AAAA,EAEpE,oBAAe;EAEX,SAAI;EAAJ;;;;;;;;;;;K7C+VA,M6C/VA;;K7CgWA,M6ChWA;K7CiWA,M6CjWA;;;K7CmWA,M6CnWA;K7CoWA,M6CpWA;K7CqWA,M6CrWA;;;K7CuWA,M6CvWA;K7CwWA,M6CxWA;K7CyWA,M6CzWA;;K7C2WA,M6C3WA;;K7C4WA,M6C5WA;K7C6WA,M6C7WA;;K7C+WA,M6C/WA;K7CgXA,M6ChXA;;K7CiXA,M6CjXA;;K7CmXA,M6CnXA;K7CoXA,M6CpXA;;K7CqXA,M6CrXA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EACA,SAAI;EAAJ;;;;;;;;;;;K7C8VA,M6C9VA;;K7C+VA,M6C/VA;K7CgWA,M6ChWA;;;K7CkWA,M6ClWA;K7CmWA,M6CnWA;K7CoWA,M6CpWA;;;K7CsWA,M6CtWA;K7CuWA,M6CvWA;K7CwWA,M6CxWA;;K7C0WA,M6C1WA;;K7C2WA,M6C3WA;K7C4WA,M6C5WA;;K7C8WA,M6C9WA;K7C+WA,M6C/WA;;K7CgXA,M6ChXA;;K7CkXA,M6ClXA;K7CmXA,M6CnXA;;K7CoXA,M6CpXA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EACA,SAAI;EAAJ;;;;;;;;;;;K7C6VA,M6C7VA;;K7C8VA,M6C9VA;K7C+VA,M6C/VA;;;K7CiWA,M6CjWA;K7CkWA,M6ClWA;K7CmWA,M6CnWA;;;K7CqWA,M6CrWA;K7CsWA,M6CtWA;K7CuWA,M6CvWA;;K7CyWA,M6CzWA;;K7C0WA,M6C1WA;K7C2WA,M6C3WA;;K7C6WA,M6C7WA;K7C8WA,M6C9WA;;K7C+WA,M6C/WA;;K7CiXA,M6CjXA;K7CkXA,M6ClXA;;K7CmXA,M6CnXA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EACA,SAAI;EAAJ;;;;;;;;;;;K7C4VA,M6C5VA;;K7C6VA,M6C7VA;K7C8VA,M6C9VA;;;K7CgWA,M6ChWA;K7CiWA,M6CjWA;K7CkWA,M6ClWA;;;K7CoWA,M6CpWA;K7CqWA,M6CrWA;K7CsWA,M6CtWA;;K7CwWA,M6CxWA;;K7CyWA,M6CzWA;K7C0WA,M6C1WA;;K7C4WA,M6C5WA;K7C6WA,M6C7WA;;K7C8WA,M6C9WA;;K7CgXA,M6ChXA;K7CiXA,M6CjXA;;K7CkXA,M6ClXA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAEJ,oBAAe;EAEf;;;;;;;;;;I7CwVI,M6CxVJ;;I7CyVI,M6CzVJ;I7C0VI,M6C1VJ;;;I7C4VI,M6C5VJ;I7C6VI,M6C7VJ;I7C8VI,M6C9VJ;;;I7CgWI,M6ChWJ;I7CiWI,M6CjWJ;I7CkWI,M6ClWJ;;I7CoWI,M6CpWJ;;I7CqWI,M6CrWJ;I7CsWI,M6CtWJ;;I7CwWI,M6CxWJ;I7CyWI,M6CzWJ;;I7C0WI,M6C1WJ;;I7C4WI,M6C5WJ;I7C6WI,M6C7WJ;;I7C8WI,M6C9WJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAEA,EAAG,kBAAY,QAAQ,CAAC,uBAAkB;AAAA,iBAAS;;EACnD,EAAG,kBAAY,QAAQ,CAAC,uBAAkB;AAAA,iBAAS;;EACnD,EAAG,kBAAY,QAAQ,CAAC,uBAAkB;AAAA,iBAAS;;EACnD,EAAG,kBAAY,QAAQ,CAAC,uBAAkB;AAAA,iBAAS;;;WAIzC,mBAA+C;AAAA,EAEzD,oBAAe;EAEX,SAAI;EAAJ;;;;;;;;;;;K7C2UA,M6C3UA;;K7C4UA,M6C5UA;K7C6UA,M6C7UA;;;K7C+UA,M6C/UA;K7CgVA,M6ChVA;K7CiVA,M6CjVA;;;K7CmVA,M6CnVA;K7CoVA,M6CpVA;K7CqVA,M6CrVA;;K7CuVA,M6CvVA;;K7CwVA,M6CxVA;K7CyVA,M6CzVA;;K7C2VA,M6C3VA;K7C4VA,M6C5VA;;K7C6VA,M6C7VA;;K7C+VA,M6C/VA;K7CgWA,M6ChWA;;K7CiWA,M6CjWA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EACA,SAAI;EAAJ;;;;;;;;;;;K7C0UA,M6C1UA;;K7C2UA,M6C3UA;K7C4UA,M6C5UA;;;K7C8UA,M6C9UA;K7C+UA,M6C/UA;K7CgVA,M6ChVA;;;K7CkVA,M6ClVA;K7CmVA,M6CnVA;K7CoVA,M6CpVA;;K7CsVA,M6CtVA;;K7CuVA,M6CvVA;K7CwVA,M6CxVA;;K7C0VA,M6C1VA;K7C2VA,M6C3VA;;K7C4VA,M6C5VA;;K7C8VA,M6C9VA;K7C+VA,M6C/VA;;K7CgWA,M6ChWA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EACA,SAAI;EAAJ;;;;;;;;;;;K7CyUA,M6CzUA;;K7C0UA,M6C1UA;K7C2UA,M6C3UA;;;K7C6UA,M6C7UA;K7C8UA,M6C9UA;K7C+UA,M6C/UA;;;K7CiVA,M6CjVA;K7CkVA,M6ClVA;K7CmVA,M6CnVA;;K7CqVA,M6CrVA;;K7CsVA,M6CtVA;K7CuVA,M6CvVA;;K7CyVA,M6CzVA;K7C0VA,M6C1VA;;K7C2VA,M6C3VA;;K7C6VA,M6C7VA;K7C8VA,M6C9VA;;K7C+VA,M6C/VA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAEJ,oBAAe;EAEf;;;;;;;;;;I7CqUI,M6CrUJ;;I7CsUI,M6CtUJ;I7CuUI,M6CvUJ;;;I7CyUI,M6CzUJ;I7C0UI,M6C1UJ;I7C2UI,M6C3UJ;;;I7C6UI,M6C7UJ;I7C8UI,M6C9UJ;I7C+UI,M6C/UJ;;I7CiVI,M6CjVJ;;I7CkVI,M6ClVJ;I7CmVI,M6CnVJ;;I7CqVI,M6CrVJ;I7CsVI,M6CtVJ;;I7CuVI,M6CvVJ;;I7CyVI,M6CzVJ;I7C0VI,M6C1VJ;;I7C2VI,M6C3VJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAEA,EAAG,kBAAY,QAAQ,CAAC,uBAAkB;AAAA,iBAAS;;EACnD,EAAG,kBAAY,QAAQ,CAAC,uBAAkB;AAAA,iBAAS;;EACnD,EAAG,kBAAY,QAAQ,CAAC,uBAAkB;AAAA,iBAAS;;;SAIhD,aAA2B;AAAA,EAE9B,SAAI;EAEJ,EAAG,kBAAY;AAAA,UAAO;;EAEtB;;;;;;;;;;I7CuTI,K6CvTJ;;I7CwTI,K6CxTJ;I7CyTI,K6CzTJ;;;I7C2TI,K6C3TJ;I7C4TI,K6C5TJ;I7C6TI,K6C7TJ;;;I7C+TI,K6C/TJ;I7CgUI,K6ChUJ;I7CiUI,K6CjUJ;;I7CmUI,K6CnUJ;;I7CoUI,K6CpUJ;I7CqUI,K6CrUJ;;I7CuUI,K6CvUJ;I7CwUI,K6CxUJ;;I7CyUI,K6CzUJ;;I7C2UI,K6C3UJ;I7C4UI,K6C5UJ;;I7C6UI,K6C7UJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAEA,EAAG,kBAAY,QAAQ,CAAC,uBAAkB;AAAA,iBAAS;;EAEnD,OAAO;;SAIJ,aAA2B;AAAA,EAE9B,SAAI;EAEJ,EAAG,kBAAY;AAAA,UAAO;;EAEtB;;;;;;;;;;I7CySI,K6CzSJ;;I7C0SI,K6C1SJ;I7C2SI,K6C3SJ;;;I7C6SI,K6C7SJ;I7C8SI,K6C9SJ;I7C+SI,K6C/SJ;;;I7CiTI,K6CjTJ;I7CkTI,K6ClTJ;I7CmTI,K6CnTJ;;I7CqTI,K6CrTJ;;I7CsTI,K6CtTJ;I7CuTI,K6CvTJ;;I7CyTI,K6CzTJ;I7C0TI,K6C1TJ;;I7C2TI,K6C3TJ;;I7C6TI,K6C7TJ;I7C8TI,K6C9TJ;;I7C+TI,K6C/TJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAEA,EAAG,kBAAY,QAAQ,CAAC,uBAAkB;AAAA,iBAAS;;EAEnD,OAAO;;SAIJ,aAA2B;AAAA,EAE9B,SAAI;EAEJ,EAAG,kBAAY;AAAA,UAAO;;EAEtB;;;;;;;;;;I7C2RI,K6C3RJ;;I7C4RI,K6C5RJ;I7C6RI,K6C7RJ;;;I7C+RI,K6C/RJ;I7CgSI,K6ChSJ;I7CiSI,K6CjSJ;;;I7CmSI,K6CnSJ;I7CoSI,K6CpSJ;I7CqSI,K6CrSJ;;I7CuSI,K6CvSJ;;I7CwSI,K6CxSJ;I7CySI,K6CzSJ;;I7C2SI,K6C3SJ;I7C4SI,K6C5SJ;;I7C6SI,K6C7SJ;;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/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAE/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAE/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAG/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAG/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAzB/B;EAAwB,OAAO;MA2B/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB,OAAO;MAC/B;EAAwB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A;uBACA;uBACA;uBACA;uBACA;uBACA;uBACA;uBACA;4BACA;8BAEA;wBACA;4BACA;sBACA;sBACA;sBACA;sBACA;sBACA;sBACA;sBACA;sBACA;sBACA;sBACA;sBACA;sBACA;0BACA;uBACA;uBACA;yBACA;uBACA;wBACA;uBACA;sBACA;uBACA;wBACA;uBACA;uBACA;2BACA;6BACA;2BACA;iCACA;2BAEA;yBACA;yBACA;wBACA;wBACA;0BACA;4BACA;sBACA;uBACA;6BACA;wBACA;wBACA;wBAEA;yBACA;qCACA;mCACA;+BACA;kCACA;+BACA;gCACA;+BACA;gCACA;yBACA;+BACA;uBACA;uBACA;uBACA;uBACA;uBACA;uBACA;yBACA;2BACA;6BACA;0BACA;6BACA;+BACA;kCACA;iCACA;oCACA;2BACA;0BACA;2BACA;wBACA;4BACA;8BACA;+BACA;8BACA;4BACA;iCACA;iCACA;+BACA;+BACA;2BACA;gCACA;4BACA;2BACA;6BACA;iCACA;wBAEA;yBACA;uBACA;wBACA;wBACA;yBACA;uBACA;wBACA;uBAEA;4BAEA;4BACA;4BACA;4BACA;4BACA;8BACA;sBACA;uBACA;6BACA;2BACA;4BACA;0BACA;0BACA;6BACA;0BACA;6BACA;+BACA;iCAEA;+BACA;gCACA;iCACA;+BACA;6BACA;wBACA;wBACA;sBEnaxD;wBCGA;wBCHA,qBADC,CAAS,2BAA0B,uBACpC,uBAMK,qBANL,aAYK,iBAZL,aAcK;sBAdL;uBAEyB;yBAEE;yBCE3B;6BAIgC;+BCNhC;oCCwB6B;wBCXgC;2BAEF;yBAKA;yBACA;yBACA;yBACA;yBACA;yBACA;yBACA;yBACA;yBACA;yBACA;yBACA;yBACA;yBACA;yBACA;yBACA;yBACA;yBACA;yBACA;yBACA;yBACA;yBACA;yBACA;yBACA;yBACA;yBACA;yBACA;yBAEA;yBACA;yBACA;yBACA;yBACA;yBACA;yBACA;yBACA;yBACA;yBACA;yBAEA;0BACA;6BACA;uBACA;yBACA;yBAEA;0BACA;+BACA;gCACA;6BAgBA;6BAcL;6BACA;8BACA;yBAmBA;yBACA;0BACA;yBACA;4BAEA;sBAEA;sBACA;sBACA;sBACA;sBACA;sBACA;sBACA;sBACA;sBACA;uBACA;uBACA;uBACA;+BAEA;8BACA;yBACA;0BAGA;wBACA;0BACA;0BACA;uBACA;4BACA;yBACA;wBACA;wBACA;sBACA;gCAGA;6BACA;+BACA;4BACA;2BACA;4BACA;wBACA;wBACA;wBACA;wBACA;wBACA;wBACA;wBACA;wBACA;wBACA;wBACA;6BACA;kCAaA;+BAGA;yBAKA;6BACA;uBACA;uBACA;uBACA;uBACA;uBACA;uBACA;uBACA;uBACA;uBACA;uBACA;uBACA;uBACA;2BACA;wBACA;wBACA;0BACA;wBACA;yBAGA;wBACA;uBACA;wBACA;yBACA;wBACA;wBACA;4BACA;8BACA;4BAOA;kCACA;kCAGA;kCACA;kCAGA;kCACA;kCACA;kCACA;kCACA;kCACA;kCACA;yBAEA;yBAEA;yBAEA;yBAEA;yBAEA;yBAEA;yBAEA;yBAEA;yBAEA;4BAEA;0BACA;0BACA;yBACA;yBACA;2BACA;6BACA;uBACA;wBACA;8BACA;yBACA;yBACA;yBAEA;0BACA;sCACA;oCACA;gCACA;mCACA;gCACA;iCACA;gCACA;iCACA;0BACA;gCACA;wBACA;wBACA;wBACA;wBACA;wBACA;wBACA;0BACA;4BACA;8BACA;2BACA;8BACA;gCACA;mCACA;kCACA;qCACA;4BACA;2BACA;4BACA;yBACA;6BACA;+BACA;gCACA;+BACA;6BACA;kCACA;kCACA;gCACA;gCACA;4BACA;iCACA;6BACA;4BACA;8BACA;kCACA;yBAEA;0BACA;wBAEA;yBAEA;yBACA;0BACA;wBAEA;yBAEA;wBAKA;6BAMA;6BACA;6BACA;6BACA;6BACA;+BACA;uBACA;wBACA;8BACA;4BACA;6BACA;2BACA;2BACA;8BACA;2BACA;8BACA;gCACA;kCAKA;gCACA;iCAGA;kCAEA;gCACA;8BACA;yBACA;yBACA;wBAEA;wBACA;iCAET,CACrC,KAAM,KAAM,KAAM,KAClB,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,QACA,SACA,YACA,MACA,QACA,IACA,IACA,IACA,IACA,KACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,WACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,MACA,MACA,cACA,aACA,QACA,SACA,OACA,SACA,SACA,MACA,WACA,QACA,OACA,OACA,KACA,UACA,WACA,WACA,WACA,WACA,eACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,KACA,cACA,QACA,WACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,UACA,OACA,OACA,SACA,OACA,QACA,OACA,MACA,OACA,QACA,OACA,OACA,WACA,aACA,KAAM,KAAM,KACZ,WACA,mBACA,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAClE,KAAM,KAAM,KAAM,KAAM,KAAM,KAC9B,WACA,SACA,SACA,QACA,QACA,QACA,YACA,MACA,OACA,gBACA,QACA,QACA,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAC5D,YACA,aACA,qBACA,mBACA,eACA,kBACA,WACA,WACA,WACA,WACA,aACA,mBACA,WACA,WACA,WACA,WACA,WACA,WACA,aACA,WACA,WACA,WACA,WACA,WACA,YACA,WACA,YACA,WACA,WACA,eACA,WACA,WACA,kBACA,mBACA,kBACA,gBACA,qBACA,qBACA,mBACA,aACA,eACA,oBACA,gBACA,eACA,iBACA,qBACA,KAAM,KACN,YACA,aACA,WACA,YACA,aACA,cACA,YACA,aACA,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAClE,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAClE,KACA,aACA,YACA,YACA,YACA,YACA,YACA,cACA,MACA,OACA,aACA,WACA,YACA,UACA,UACA,aACA,UACA,aACA,eACA,iBACA,eACA,gBACA,iBACA,eACA,aACA,QACA;0BCnmBR,wDA8EK;wBA9EL;4BCHA,oDAQK,gCARL,eAaK,iCAbL,eAmBK,8BAnBL,eAsBK,2BAtBL,eAyBK;wBCjBL;6BCFA;uBEHA;4BCDA;wBEKA,qBADC,CAAS,iBAAgB,kBAC1B,uBAEK,iBAFL,aAgBK,CAAS,cAAa,qBAhB3B,aAyBK,oBAzBL,aAkCK,uBAlCL,aA2CK,cA3CL,aAoDK,eApDL,aAgFK;sBAhFL;2BCLA;0BCAgD;qBACpB;oBAIM;4BQ6CH;iCAYK;yBAEf;qCCNgC;2BAEhC;2BGpCoB;2BACA,uBAAuB;0BKF5C;0BO4EE;AAAA;AAAA,CACpB,QAAQ;CACR,kBAAM,SAAN;gBAAM,KAAM;QAAZ;AAAA,MAAM,QAAM;;CACZ,kBAAM,SAAN;gBAAM,KAAM;QAAZ;AAAA,MAAM,QAAM;;CACZ,kBAAM,UAAN;gBAAM,MAAO;QAAb;AAAA,MAAM,SAAO;;CACb,kBAAM,WAAN;gBAAM,OAAS;QAAf;AAAA,MAAM,UAAS;;CACf,kBAAM,WAAN;gBAAM,OAAQ;QAAd;AAAA,MAAM,UAAQ;;CACd;;;kBE0H4B;gDG3ME;8CCAA;6BQoKG;6BAqB4C;uBAE7C;qBACF;kBGkhBD;gBACA;uBACA;kBACA;iBACA;mBACA;kBACA;iBACA;iBACA;iBACA;iBACA;kB3GxuBD;sBAGI;2BmH8DK;yCW9DG,wBAAgB;2CACd,wBAAgB;4CACf,wBAAgB;iCGFxB;8CCguBF;gDACE;gDG3tBa;sDACb;iDACJ;mDA2aK;mDACA;qCEpb0B;iCACpB;qCAC0B;kCKT/B;gCC+IW;gCAEA;0CQtJA;0CACA;8CACI;8CACA;6CACD;6CACA;gCG2ChB;sBASA;iCAqyBiB;mCACA;kCACA;mCACA;0CCnvBjB;0CiBHC,SAAU,KAAK;uBIuYD;wBACC;wBC1evB;4BAGI;0BEmZK;2BACe;gCC5ZL;yECEU;qECDA;qECAA;sCEYrB;wCAqBG;0CA2eF,CAAC,EAAe;4CA+kBZ;2CACA;0CACA;+CACA;6CAEA;+CACA;0CACA;2CACA;2CACA;yCACA;4CACA;2CACA;+CACA;6CACA;6CACA;4CAEA;4CACA;2CAEA;2CACA;2CACA;2CACA;2CACA;2CACA;2CACA;2CACA;2CACA;2CACA;kDACA;8CACA;+CACA;iDACA;gDACA;iDACA;yCAEA;yCACA;yCACA;yCACA;yCACA;yCACA;yCACA;yCACA;yCACA;0CACA;0CACA;0CACA;0CACA;0CACA;0CACA;0CACA;0CACA;0CACA;0CACA;0CACA;0CACA;0CACA;0CACA;0CACA;4CAEA;8CACA;+CACA;2CACA;6CACA;8CACA;gDACA;iDACA;gDACA;iDACA;+CACA;2CACA;2CACA;4CACA;gDACA;iDACA;4CACA;gDAEA;iDACA;+CACA;4CAEA;6CACA;4CACA;gDACA;kDACA;mDACA;gDACA;4CACA;2CACA;kCCt9BlB;8CEoOqC;gDACA;8CACA;oCAGA;mCACA;uCACA;wCACA;uCACA;4CACA;0CACA;kCAaA;iCACA;uCACA;iDACA;uCACA;iDACA;uCACA;iDACA;uCAKA;iDACA;gDACA;sCAOA;4CACA;gDACA;kDACA;2CAGA;mDACA;2CAGA;2CACA;6CACA;6CACA;4CACA;sDACA;4CACA;sDACA;yCACA;0CAGA;kDACA;kDACA;0DACA;yCAEA;yCACA;0CACA;yCAEA;0CACA;mDAEA;mCAGA;kCACA;4CACA;uCAcA;mCACA;oCACA;0CACA;wCACA;0CACA;iDACA;sDACA;6CACA;sCAGA;0CACA;2CACA;+CACA;2CACA;gCAGA;iCACA;wCAGA;sDACA;sDACA;4CACA;wCACA;yCACA;6CACA;+CACA;wCACA;iDACA;0CACA;0CACA;qDACA;qDACA;yCACA;gDACA;+CACA;+CACA;+CACA;0DACA;0DACA;8CACA;qDACA;oDACA;sCACA;yCACA;+CAEA;6CACA;8CACA;4CACA;8CACA;+CACA;2CACA;sCACA;wCACA;uCACA;wCACA;wCACA;0CACA;kDACA;mDAEA;gDACA;4CACA;qCACA;mDACA;oDACA;wDAQA;uCAGA;qCACA;oCACA;kDAGC;kCAGD;2CACA;mCACA;4CACA;iCACA;0CACA;mCACA;6CAGA;mCACA;iCACA;kCACA;uCACA;6CACA;oDAIA;oDACA;kDACA;6CAGE;2CACA;gDACA;wDACA;iDACA;8DACA;4DACA;qDACA;0DACA;yCACA;2CACA;yCACA;6CACA;8CACA;6CACA;+CACA;sDACA;6CACA;mCAGF;kCACA;mCACA;oCACA;qCACA;sCACA;oCACA;oCACA;kCAIA;qCACA;kCACA;kCACA;oCACA;uCACA;uCACA;oCAGA;sCACA;qCACA;qCAGA;oCACA;oDAKA;mDACA;mDACA;kDACA;gDAGA;gDACA;4CACA;4CACA;wCAGA;qCACA;8CAEA;sDACA;yDACA;yDACA;yDACA;yDACA;yDACA;yDACA;uDACA;sCAGA;sCACA;sCACA;sCACA;sCACA;sCACA;sCACA;sCACA;sCACA;sCACA;uCACA;uCACA;uCACA;uCACA;uCACA;uCACA;uCACA;uCACA;uCACA;uCACA;uCACA;uCACA;uCACA;uCACA;uCACA;uCACA;uCACA;uCACA;uCACA;uCACA;uCACA;uCACA;4CACA;oCAGA;2CACA;6CACA;wCAGA;wCACA;wCACA;sCACA;sCACA;sCACA;kCACA;uCACA;uCACA;uCACA;wCACA;wCACA;wCACA;wCACA;0CACA;yDAGI;sDACA;wDACA;sDACA;4DACA;yDACA;gEACA;uDAGH;0CACA;4CAGD;uCAGA;0CACA;wCACA;qCACA;wCACA;sCACA;yCAGA;0CACA;mCAEA;qCACA;oCACA;+CACA;2CACA;4CACA;2CACA;gDAEA;iDACA;0DACA;mDACA;qDACA;oDACA;qDACA;qDACA;uDACA;gEAEc;gEACA;kEACA;0EACA;+CAEd;8CACA;gDACA;sDACA;kCAEA;kDAEW;+DACA;uEACA;+DACA;qDACA;iDAEX;kDACA;mDACA;2DAEA;iDAGA;4DACA;gDACA;gEACI;mDACJ;sCCp0BtB;sCQqGkB;oCAEA;qCACA;wCACA;kCACA;oCACA;sCACA;uCACA;mCACA;sCACA;qCACA;wCACA;oCACA;wCACA;yCACA;uCACA;mCACA;oCACA;oCACA;qCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;wCACA;mCACA;qCACA;sCACA;uCACA;iCACA;0CAIA;wCACA;2CACA;oCACA;yCACA;wCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;uCAEA;iCAEA;iCACA;iCACA;iCACA;iCACA;iCACA;iCACA;iCACA;iCACA;kCACA;kCACA;kCACA;0CAEA;yCACA;oCACA;qCACA;mCACA;qCACA;wCACA;kCACA;uCACA;oCACA;mCACA;mCACA;iCACA;2CAEA;wCACA;0CACA;uCACA;sCACA;uCACA;mCACA;mCACA;mCACA;mCACA;mCACA;mCACA;mCACA;mCACA;mCACA;mCACA;wCACA;0CAEA;oCACA;wCACA;kCACA;kCACA;kCACA;kCACA;kCACA;kCACA;kCACA;kCACA;kCACA;kCACA;kCACA;kCACA;sCACA;mCACA;mCACA;qCACA;mCACA;oCACA;mCACA;kCACA;mCACA;oCACA;mCACA;mCACA;uCACA;yCACA;uCACA;6CACA;uCAEA;qCACA;qCACA;oCACA;oCACA;sCACA;wCACA;kCACA;mCACA;yCACA;oCACA;oCACA;oCAEA;qCACA;iDACA;+CACA;2CACA;8CACA;2CACA;4CACA;2CACA;4CACA;qCACA;2CACA;mCACA;mCACA;mCACA;mCACA;mCACA;mCACA;qCACA;uCACA;yCACA;sCACA;yCACA;2CACA;8CACA;6CACA;gDACA;uCACA;sCACA;uCACA;oCACA;wCACA;0CACA;2CACA;0CACA;wCACA;6CACA;6CACA;2CACA;2CACA;uCACA;4CACA;wCACA;uCACA;yCACA;6CACA;oCAEA;qCACA;mCACA;oCACA;oCACA;qCACA;mCACA;oCACA;mCAEA;wCAEA;wCACA;wCACA;wCACA;wCACA;0CACA;kCACA;mCACA;yCACA;uCACA;wCACA;sCACA;sCACA;yCACA;sCACA;yCACA;2CACA;6CAEA;2CACA;4CACA;6CACA;2CACA;yCACA;oCACA;oCACA;oCAuBG;uCAEA;qCAKA;qCACA;qCACA;qCACA;qCACA;qCACA;qCACA;qCACA;qCACA;qCACA;qCACA;qCACA;qCACA;qCACA;qCACA;qCACA;qCACA;qCACA;qCACA;qCACA;qCACA;qCACA;qCACA;qCACA;qCACA;qCACA;qCAEA;qCACA;qCACA;qCACA;qCACA;qCACA;qCACA;qCACA;qCACA;qCACA;qCAEA;sCACA;yCACA;mCACA;qCACA;qCAEA;sCACA;2CACA;4CACA;yCAgBA;yCAcL;yCACA;0CACA;qCAmBA;qCACA;sCACA;qCACA;wCAEA;kCAEA;kCACA;kCACA;kCACA;kCACA;kCACA;kCACA;kCACA;kCACA;mCACA;mCACA;mCACA;2CAEA;0CACA;qCACA;sCAGA;oCACA;sCACA;yCACA;mCACA;wCACA;qCACA;oCACA;oCACA;kCACA;4CAGA;yCACA;2CACA;wCACA;uCACA;wCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;yCACA;8CAaA;2CAGA;qCAKA;yCACA;mCACA;mCACA;mCACA;mCACA;mCACA;mCACA;mCACA;mCACA;mCACA;mCACA;mCACA;mCACA;uCACA;oCACA;oCACA;sCACA;oCACA;qCAGA;oCACA;mCACA;oCACA;qCACA;oCACA;oCACA;wCACA;0CACA;wCAOA;8CACA;8CAGA;8CACA;8CAGA;8CACA;8CACA;8CACA;8CACA;8CACA;8CACA;qCAEA;qCAEA;qCAEA;qCAEA;qCAEA;qCAEA;qCAEA;qCAEA;qCAEA;wCAEA;sCACA;sCACA;qCACA;qCACA;uCACA;yCACA;mCACA;oCACA;0CACA;qCACA;qCACA;qCAEA;sCACA;kDACA;gDACA;4CACA;+CACA;4CACA;6CACA;4CACA;6CACA;sCACA;4CACA;oCACA;oCACA;oCACA;oCACA;oCACA;oCACA;sCACA;wCACA;0CACA;uCACA;0CACA;4CACA;+CACA;8CACA;iDACA;wCACA;uCACA;wCACA;qCACA;yCACA;2CACA;4CACA;2CACA;yCACA;8CACA;8CACA;4CACA;4CACA;wCACA;6CACA;yCACA;wCACA;0CACA;8CACA;qCAEA;sCACA;oCAEA;qCAEA;qCACA;sCACA;oCAEA;qCAEA;oCAKA;yCAMA;yCACA;yCACA;yCACA;yCACA;2CACA;mCACA;oCACA;0CACA;wCACA;yCACA;uCACA;uCACA;0CACA;uCACA;0CACA;4CACA;8CAKA;4CACA;6CAGA;8CAEA;4CACA;0CACA;qCACA;qCACA;oCAEA;oCACA;8CAEV,CACtC,KAAM,KAAM,KAAM,KAClB,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,QACA,SACA,YACA,MACA,QACA,IACA,IACA,IACA,IACA,KACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,WACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,MACA,MACA,cACA,aACA,QACA,SACA,OACA,SACA,SACA,MACA,WACA,QACA,OACA,OACA,KACA,UACA,WACA,WACA,WACA,WACA,eACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,KACA,cACA,QACA,WACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,UACA,OACA,OACA,SACA,OACA,QACA,OACA,MACA,OACA,QACA,OACA,OACA,WACA,aACA,KAAM,KAAM,KACZ,WACA,mBACA,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAClE,KAAM,KAAM,KAAM,KAAM,KAAM,KAC9B,WACA,SACA,SACA,QACA,QACA,QACA,YACA,MACA,OACA,gBACA,QACA,QACA,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAC5D,YACA,aACA,qBACA,mBACA,eACA,kBACA,WACA,WACA,WACA,WACA,aACA,mBACA,WACA,WACA,WACA,WACA,WACA,WACA,aACA,WACA,WACA,WACA,WACA,WACA,YACA,WACA,YACA,WACA,WACA,eACA,WACA,WACA,kBACA,mBACA,kBACA,gBACA,qBACA,qBACA,mBACA,aACA,eACA,oBACA,gBACA,eACA,iBACA,qBACA,KAAM,KACN,YACA,aACA,WACA,YACA,aACA,cACA,YACA,aACA,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAClE,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAClE,KACA,aACA,YACA,YACA,YACA,YACA,YACA,cACA,MACA,OACA,aACA,WACA,YACA,UACA,UACA,aACA,UACA,aACA,eACA,iBACA,eACA,gBACA,iBACA,eACA,aACA,QACA;gCYz9BwD;+BACD;8BACD;6BACD;kCAES;iCACD;8BACH;+BAEC;kDnB0E1C;gDAEA;+CAEA;+CAEA;gDAEA;gDAEA;wDAyGC;uDAEA;oDAEA;oDAEA;oDAEA;+CAoBL;qDAEM;4DAEO;mDAiBR;kDAEA;mDAEA;mDAEA;yDAqKE;gDAET;gDAEA;qDAieO;kDAEA;gDAEA;uDAiBA;oDAEA;oDAEA;kDAEA;qDAEA;uDAmBA;oDAEA;oDAEA;kDAEA;yDAkBA;sDAEA;sDAEA;oDAEA;wDAEA;sDAmBE;mDAEH;oDAEA;+DAiBY;oEAEA;sEAEA;uEAEA;wDAiBK;qDAEA;sDAEA;qDAEA;uDAEA;yDAEA;wDAEA;yDAEA;uDAEA;sDAEA;qDAKE;gEAEA;8DAEA;wEAEA;uEAEA;wEAEA;uEAEA;wDA8BV;sDAEA;uDAEA;wDAEA;sDAEA;wDAEA;6DAEA;0DAEA;0DAEA;yDAEA;sDAEA;sDAEA;6DAEA;2DAEA;sDAEA;uDA4BF;mDAEA;oDAEA;qDAEA;qDAEA;uDAEA;wDAEA;+BclrCe;+BACA;mCACI;mCACA;kCACD;kCACA;;;;"
}